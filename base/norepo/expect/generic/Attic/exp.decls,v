head	1.1;
access;
symbols
	win32-jump-point-1:1.1.4.7
	telco-tec-win32-take2-branch:1.1.0.4
	telco-tec-win32-branch:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2001.10.28.09.00.51;	author davygrvy;	state dead;
branches
	1.1.2.1
	1.1.4.1;
next	;

1.1.2.1
date	2001.10.28.09.00.51;	author davygrvy;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2001.10.29.06.40.29;	author davygrvy;	state Exp;
branches;
next	1.1.2.3;

1.1.2.3
date	2001.10.29.20.54.09;	author davygrvy;	state Exp;
branches;
next	1.1.2.4;

1.1.2.4
date	2001.11.07.10.06.30;	author davygrvy;	state Exp;
branches;
next	1.1.2.5;

1.1.2.5
date	2001.11.15.08.23.05;	author davygrvy;	state Exp;
branches;
next	;

1.1.4.1
date	2002.02.10.02.58.03;	author davygrvy;	state Exp;
branches;
next	1.1.4.2;

1.1.4.2
date	2002.02.10.10.17.04;	author davygrvy;	state Exp;
branches;
next	1.1.4.3;

1.1.4.3
date	2002.02.10.12.04.21;	author davygrvy;	state Exp;
branches;
next	1.1.4.4;

1.1.4.4
date	2002.02.10.13.40.47;	author davygrvy;	state Exp;
branches;
next	1.1.4.5;

1.1.4.5
date	2002.02.13.02.39.41;	author davygrvy;	state Exp;
branches;
next	1.1.4.6;

1.1.4.6
date	2002.03.07.02.49.36;	author davygrvy;	state Exp;
branches;
next	1.1.4.7;

1.1.4.7
date	2002.03.11.06.52.53;	author davygrvy;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file exp.decls was initially added on branch telco-tec-win32-branch.
@
text
@@


1.1.4.1
log
@moved all header files over to a more core style with the beginnings of a
Stubs table.  This work is far from complete.
@
text
@a0 447
# exp.decls --
#
#	This file contains the declarations for all supported public
#	functions that are exported by the Expect library via the stubs table.
#	This file is used to generate the expDecls.h, expPlatDecls.h,
#	expIntDecls.h, and expStub.c files.
#
# RCS: @@(#) $Id: exp.decls,v 1.1.2.5 2001/11/15 08:23:05 davygrvy Exp $

library exp

# Define the tcl interface with several sub interfaces:
#     expPlat	 - platform specific public
#     expInt	 - generic private
#     expIntPlat - platform specific private

interface exp
hooks {expPlat expInt expIntPlat}

# Declare each of the functions in the public Expect interface.  Note that
# the an index should never be reused for a different function in order
# to preserve backwards compatibility.

declare 0 generic {
    int Expect_Init (Tcl_Interp *interp)
}
#declare 1 generic {
#    int Expect_SafeInit (Tcl_Interp *interp)
#}

### The command procs.
###
### I'm not sure _exactly_ why, but I think they should be in the Stubs table as
### they are functions.

#declare 2 generic {
#    int Exp_CloseObjCmd (ClientData clientData, Tcl_Interp *interp,
#	int argc, char *argv[])
#}
declare 3 generic {
    int Exp_ExpInternalCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
#declare 4 generic {
#    int Exp_DisconnectCmd (ClientData clientData, Tcl_Interp *interp,
#	int argc, char *argv[])
#}
declare 5 generic {
    int Exp_ExitCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 6 generic {
    int Exp_ExpContinueCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
#declare 7 generic {
#    int Exp_ForkCmd (ClientData clientData, Tcl_Interp *interp,
#	int argc, char *argv[])
#}
declare 8 generic {
    int Exp_ExpPidCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 9 generic {
    int Exp_GetpidDeprecatedCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
#declare 10 generic {
#    int Exp_InterpreterObjCmd (ClientData clientData,
#	Tcl_Interp *interp, int objc, struct Tcl_Obj * CONST objv[])
#}
declare 11 generic {
    int Exp_LogFileCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 12 generic {
    int Exp_LogUserCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 13 generic {
    int Exp_OpenCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
#declare 14 generic {
#    int Exp_OverlayCmd (ClientData clientData, Tcl_Interp *interp,
#	int argc, char *argv[])
#}
#declare 15 generic {
#    int Exp_InterReturnObjCmd (ClientData clientData,
#	Tcl_Interp *interp, int objc, struct Tcl_Obj * CONST objv[])
#}
#declare 16 generic {
#    int Exp_SendObjCmd (ClientData clientData,
#	Tcl_Interp *interp, int objc, struct Tcl_Obj * CONST objv[])
#}
declare 17 generic {
    int Exp_SendLogCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 18 generic {
    int Exp_SleepCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 19 generic {
    int Exp_SpawnCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 20 generic {
    int Exp_StraceCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 21 generic {
    int Exp_WaitCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 22 generic {
    int Exp_ExpVersionCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 23 generic {
    int Exp_Prompt1Cmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 24 generic {
    int Exp_Prompt2Cmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 25 generic {
    int Exp_TrapCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 26 generic {
    int Exp_SttyCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 27 generic {
    int Exp_SystemCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 28 generic {
    int Exp_ExpectCmd (ClientData clientData, Tcl_Interp *interp,
	int objc, Tcl_Obj *CONST objv[])
}
declare 29 generic {
    int Exp_ExpectGlobalCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, Tcl_Obj *CONST objv[])
}
declare 30 generic {
    int Exp_MatchMaxCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 31 generic {
    int Exp_RemoveNullsCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 32 generic {
    int Exp_ParityCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 33 generic {
    int Exp_TimestampCmd  (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 34 generic {
    int Exp_CloseCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 35 generic {
    int Exp_InterpreterCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 36 generic {
    int Exp_SendCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 37 generic {
    int Exp_KillCmd (ClientData clientData,Tcl_Interp *interp,
	int argc, char *argv[])
}

### From the old exp_printify.h
declare 40 generic {
    char *exp_printify (char *s)
}

### From the old exp_log.h
declare 50 generic {
    void exp_errorlog (char *fmt, ...)
}
declare 51 generic {
    void exp_log (int force_stdout, ...)
}
declare 52 generic {
    void exp_debuglog (char *fmt, ...)
}
declare 53 generic {
    void exp_nflog (char *buf, int force_stdout)
}
declare 54 generic {
    void exp_nferrorlog (char *buf, int force_stdout)
}
declare 55 generic {
    void exp_error (Tcl_Interp *interp, ...)
}


## all below are NOT final ->
declare 60 generic {
    void exp_parse_argv (Tcl_Interp *interp, int argc, char **argv)
}
declare 61 generic {
    int exp_interpreter (Tcl_Interp *interp)
}
declare 62 generic {
    int exp_interpret_cmdfile (Tcl_Interp *interp, Tcl_Channel cmdfile)
}
declare 63 generic {
    int exp_interpret_cmdfilename (Tcl_Interp *interp, char *filename)
}
declare 64 generic {
    void exp_interpret_rcfiles (Tcl_Interp *interp, int my_rc, int sys_rc)
}
declare 65 generic {
    char *exp_cook (CONST char *s, int *len)
}
#declare 66 generic {
#    void expCloseOnExec (int fd)
#}
declare 67 generic {
    int exp_getpidproc (void)
}
declare 68 generic {
    Tcl_Channel ExpCreateSpawnChannel (Tcl_Interp *interp, Tcl_Channel chan)
}
declare 69 generic {
    int ExpPlatformSpawnOutput (ClientData instanceData, CONST char *bufPtr,
	int toWrite, int *errorPtr)
}
declare 70 generic {
    void exp_create_commands (Tcl_Interp *interp, struct exp_cmd_data *c)
}
declare 71 generic {
    void exp_init_main_cmds (Tcl_Interp *interp)
}
declare 72 generic {
    void exp_init_expect_cmds (Tcl_Interp *interp)
}
declare 73 generic {
    void exp_init_most_cmds (Tcl_Interp *interp)
}
declare 74 generic {
    void exp_init_trap_cmds (Tcl_Interp *interp)
}
declare 75 generic {
    void exp_init_interact_cmds (Tcl_Interp *interp)
}
declare 76 generic {
    int exp_init_tty_cmds (Tcl_Interp *interp)
}
#declare 77 generic {
#    int exp_getpidproc (void)
#}
#declare 78 generic {
#    void exp_busy (int fd)
#}
declare 79 generic {
    int exp_exact_write (struct exp_f * f, char *buffer, int rembytes)
}
#declare 80 generic {
#    void exp_sys_close (int fd, struct exp_f *f)
#}
declare 81 generic {
    struct exp_f * exp_f_find (Tcl_Interp *interp, char *spawnId)
}
declare 82 generic {
    struct exp_f * exp_f_new (Tcl_Interp *interp, Tcl_Channel chan,
	char *spawnId, int pid)
}
declare 83 generic {
    int exp_f_new_platform (struct exp_f *f)
}
declare 84 generic {
    void exp_f_free (struct exp_f *f)
}
declare 85 generic {
    void exp_f_free_platform (struct exp_f *f)
}
declare 86 generic {
    Tcl_Channel ExpCreatePairChannel (Tcl_Interp *interp, CONST char *chanInId,
	CONST char *chanOutId, CONST char *chanName)
}
declare 87 generic {
    int ExpSpawnOpen (Tcl_Interp *interp, char *chanId, int leaveopen)
}
declare 88 generic {
    struct exp_f * exp_update_master (Tcl_Interp *interp ,int opened,
	int adjust)
}
declare 89 generic {
    CONST char * exp_get_var (Tcl_Interp *interp, char *var)
}
declare 90 generic {
    void exp_exit (Tcl_Interp *interp, int status)
}

### From exp_event.h
declare 91 generic {
    int exp_get_next_event (Tcl_Interp *interp, struct exp_f **masters, int n,
	struct exp_f **master_out, int timeout, int key)
}
declare 92 generic {
    int exp_get_next_event_info (Tcl_Interp *interp, struct exp_f *fd, int ready_mask)
}
declare 93 generic {
    int exp_dsleep (Tcl_Interp *interp, double sec)
}
declare 94 generic {
    void exp_init_event (void)
}
#declare 95 generic {
#    void exp_event_exit (Tcl_Interp *interp)
#}
declare 96 generic {
    void exp_event_disarm (struct exp_f *f)
}
declare 97 generic {
    void exp_arm_background_filehandler (struct exp_f *f)
}
declare 98 generic {
    void exp_disarm_background_filehandler (struct exp_f *f)
}
declare 99 generic {
    void exp_disarm_background_filehandler_force (struct exp_f *f)
}
declare 100 generic {
    void exp_unblock_background_filehandler (struct exp_f *f)
}
declare 101 generic {
    void exp_block_background_filehandler (struct exp_f *f)
}
declare 102 generic {
    void exp_background_filehandler (ClientData clientData, int mask)
}
declare 103 generic {
    void exp_exit_handlers (ClientData clientData)
}
declare 104 generic {
    void exp_close_on_exec (int fd)
}
declare 105 generic {
    int exp_flageq_code (char *flag, char *string, int minlen)
}
declare 106 generic {
    void exp_tty_break (Tcl_Interp *interp, struct exp_f *f)
}
declare 107 generic {
    void exp_close_tcl_files (void)
}
declare 108 generic {
    void exp_lowmemcpy (char *dest, CONST char *src, int n)
}
declare 109 generic {
    void exp_timestamp (Tcl_Interp *interp, time_t *timeval, char *array)
}

interface expPlat

interface expInt

declare 1 generic {
    int Exp_StringMatch (CONST char *string, CONST char *pattern, int *offset)
}
declare 2 generic {
    int Exp_StringMatch2 (CONST char *string, CONST char *pattern)
}
#declare 3 generic {
#    void exp_console_set (void)
#}
declare 4 generic {
    struct exp_i *exp_new_i_complex (Tcl_Interp *interp, char *arg,
	int duration, Tcl_VarTraceProc *updateproc, char *msg)
}
declare 5 generic {
    struct exp_i *exp_new_i_simple (struct exp_f *fd, int duration)
}
declare 6 generic {
    struct exp_fs_list *exp_new_fs (struct exp_f *f)
}
declare 7 generic {
    void exp_free_i (Tcl_Interp *interp ,struct exp_i *i,
	Tcl_VarTraceProc *updateproc)
}
declare 8 generic {
    void exp_free_fs (struct exp_fs_list *fs_first)
}
declare 9 generic {
    void exp_free_fs_single (struct exp_fs_list *fs)
}
declare 10 generic {
    void exp_i_update (Tcl_Interp *interp, struct exp_i *i)
}

interface expIntPlat

#====================================================================================
# UNIX specific publics.


#====================================================================================
# WIN32 specific privates.
declare 0 win {
    DWORD ExpWinApplicationType(const char *originalName,
	Tcl_DString *fullPath)
}
declare 1 win {
    DWORD ExpWinCreateProcess (int argc, char **argv, HANDLE inputHandle,
	HANDLE outputHandle, HANDLE errorHandle, int allocConsole,
	int hideConsole, int debug, int newProcessGroup, Tcl_Pid *pidPtr,
	PDWORD globalPidPtr)
}
declare 2 win {
    void ExpSyslog (char *fmt, ...)
}
#declare 3 win {
#    char *ExpSyslogGetSysMsg (DWORD errId)
#}
declare 4 win {
    Tcl_Pid Exp_WaitPid (Tcl_Pid pid, int *statPtr, int options)
}
declare 5 win {
    void Exp_KillProcess (Tcl_Pid pid)
}
declare 6 win {
    void ExpWinInit (void)
}
declare 7 win {
    void BuildCommandLine (CONST char *executable, int argc, char **argv,
	Tcl_DString *linePtr)
}


#====================================================================================
# MAC specific publics.

### We aren't doing Mac... sorry..


@


1.1.4.2
log
@More rounds of edits getting the new Stubs table more towards perfection.
@
text
@d8 1
a8 1
# RCS: @@(#) $Id: exp.decls,v 1.1.4.1 2002/02/10 02:58:03 davygrvy Exp $
a400 52
}
declare 11 generic {
    void exp_pty_exit (void)
}
declare 12 generic {
    void exp_init_spawn_ids (Tcl_Interp *interp)
}
declare 13 generic {
    void exp_init_pty (Tcl_Interp *interp)
}
declare 14 generic {
    void exp_init_tty (Tcl_Interp *interp)
}
declare 15 generic {
    void exp_init_stdio (void)
}
declare 16 generic {
    void exp_init_sig (void)
}
declare 17 generic {
    void exp_init_trap (void)
}
declare 18 generic {
    void exp_init_unit_random (void)
}
declare 19 generic {
    void exp_init_spawn_id_vars (Tcl_Interp *interp)
}
declare 20 generic {
    void exp_adjust (struct exp_f *f)
}
declare 21 generic {
    void exp_ecmd_remove_f_direct_and_indirect (Tcl_Interp *interp,
	struct exp_f *f)
}
declare 22 generic {
    void exp_rearm_sigchld (Tcl_Interp *interp)
}
declare 23 generic {
    struct exp_f * exp_chan2f (Tcl_Interp *interp, CONST char *chan,
	int opened, int adjust, CONST char *msg)
}
declare 24 generic {
    int exp_fcheck (Tcl_Interp *interp, struct exp_f *f, int opened,
	int adjust, CONST char *msg)
}
declare 25 generic {
    int exp_close (Tcl_Interp *interp, struct exp_f *f)
}
declare 26 generic {
    void exp_strftime (char *format, const struct tm *timeptr,
	Tcl_DString *dstring)
@


1.1.4.3
log
@All file comments have the same form.
@
text
@a0 1
# ----------------------------------------------------------------------------
d6 1
a6 1
#	expIntDecls.h, and expStubLib.c files.
d8 1
a8 21
# ----------------------------------------------------------------------------
#
# Written by: Don Libes, libes@@cme.nist.gov, NIST, 12/3/90
# 
# Design and implementation of this program was paid for by U.S. tax
# dollars.  Therefore it is public domain.  However, the author and NIST
# would appreciate credit if this program or parts of it are used.
# 
# Copyright (c) 1997 Mitel Corporation
#	work by Gordon Chaffee <chaffee@@bmrc.berkeley.edu> for the WinNT port.
#
# Copyright (c) 2001-2002 Telindustrie, LLC
#	work by David Gravereaux <davygrvy@@pobox.com> for any Win32 OS.
#
# ----------------------------------------------------------------------------
# URLs:    http://expect.nist.gov/
#	   http://expect.sf.net/
#	   http://bmrc.berkeley.edu/people/chaffee/expectnt.html
# ----------------------------------------------------------------------------
# RCS: @@(#) $Id: exp.h,v 1.1.4.4 2002/02/10 10:17:04 davygrvy Exp $
# ----------------------------------------------------------------------------
@


1.1.4.4
log
@More modifications have been done to support providing a Stubs table.
This isn't complete, but close.
@
text
@d28 1
a28 1
# RCS: @@(#) $Id: exp.decls,v 1.1.4.3 2002/02/10 12:04:21 davygrvy Exp $
d261 3
d266 1
a266 1
declare 71 generic {
d269 1
a269 1
declare 72 generic {
d272 1
a272 1
declare 73 generic {
d275 1
a275 1
declare 74 generic {
d278 1
a278 1
declare 75 generic {
d281 1
a281 1
#declare 76 generic {
d284 1
a284 1
#declare 77 generic {
d287 23
a309 1
declare 78 generic {
d313 1
a313 1
declare 79 generic {
d316 1
a316 1
declare 80 generic {
d320 1
a320 1
declare 81 generic {
d323 1
a323 1
declare 82 generic {
d328 8
a335 1
declare 83 generic {
d338 1
a338 1
declare 84 generic {
d341 1
a341 1
#declare 85 generic {
d344 19
a362 1
declare 86 generic {
d365 1
a365 1
declare 87 generic {
d368 1
a368 1
declare 88 generic {
d371 1
a371 1
declare 89 generic {
d374 4
a377 1
declare 90 generic {
d380 1
a380 1
declare 91 generic {
d383 1
a383 1
declare 92 generic {
a474 55
declare 27 generic {
    void exp_create_commands (Tcl_Interp *interp, struct exp_cmd_data *c)
}
declare 28 generic {
    void exp_tty_break (Tcl_Interp *interp, struct exp_f *f)
}
declare 29 generic {
    void exp_event_disarm (struct exp_f *f)
}
declare 30 generic {
    void exp_arm_background_filehandler (struct exp_f *f)
}
declare 31 generic {
    void exp_disarm_background_filehandler (struct exp_f *f)
}
declare 32 generic {
    void exp_disarm_background_filehandler_force (struct exp_f *f)
}
declare 33 generic {
    void exp_unblock_background_filehandler (struct exp_f *f)
}
declare 34 generic {
    void exp_block_background_filehandler (struct exp_f *f)
}
declare 35 generic {
    int exp_get_next_event (Tcl_Interp *interp, struct exp_f **masters, int n,
	struct exp_f **master_out, int timeout, int key)
}
declare 36 generic {
    int exp_get_next_event_info (Tcl_Interp *interp, struct exp_f *fd, int ready_mask)
}
declare 37 generic {
    struct exp_f * exp_f_find (Tcl_Interp *interp, char *spawnId)
}
declare 38 generic {
    struct exp_f * exp_f_new (Tcl_Interp *interp, Tcl_Channel chan,
	char *spawnId, int pid)
}
declare 39 generic {
    int exp_f_new_platform (struct exp_f *f)
}
declare 40 generic {
    void exp_f_free (struct exp_f *f)
}
declare 41 generic {
    void exp_f_free_platform (struct exp_f *f)
}
declare 42 generic {
    int exp_exact_write (struct exp_f * f, char *buffer, int rembytes)
}
#declare 43 generic {
#    void exp_sys_close (int fd, struct exp_f *f)
#}


@


1.1.4.5
log
@Changed a few functions to be CONST char* and some general reformatting
to improve readability.
@
text
@d28 1
a28 1
# RCS: @@(#) $Id: exp.decls,v 1.1.4.4 2002/02/10 13:40:47 davygrvy Exp $
d349 1
a349 1
	int duration, Tcl_VarTraceProc *updateproc, CONST char *msg)
@


1.1.4.6
log
@changed some win protos.
@
text
@d28 1
a28 1
# RCS: @@(#) $Id: exp.decls,v 1.1.4.5 2002/02/13 02:39:41 davygrvy Exp $
d491 1
a491 1
    DWORD ExpWinCreateProcess (int argc, char *const *argv, HANDLE inputHandle,
d493 1
a493 1
	int hideConsole, int debug, int newProcessGroup, HANDLE *processPtr,
d512 1
a512 1
    void BuildCommandLine (CONST char *executable, int argc, char *const *argv,
@


1.1.4.7
log
@added ExpSyslogGetSysMsg()
@
text
@d28 1
a28 1
# RCS: @@(#) $Id: exp.decls,v 1.1.4.6 2002/03/07 02:49:36 davygrvy Exp $
d497 1
a497 4
    void ExpWinSyslog (DWORD errId, ...)
}
declare 3 win {
    char *ExpSyslogGetSysMsg (DWORD errId)
d499 3
@


1.1.2.1
log
@(new) Stubs table
@
text
@a0 47
# exp.decls --
#
#	This file contains the declarations for all supported public
#	functions that are exported by the Expect library via the stubs table.
#	This file is used to generate the expDecls.h, expPlatDecls.h,
#	expIntDecls.h, and expStub.c files.
#
# RCS: @@(#) $Id: tcl.decls,v 1.63 2001/09/28 01:21:53 dgp Exp $

library exp

# Define the tcl interface with several sub interfaces:
#     expPlat	 - platform specific public
#     expInt	 - generic private
#     expPlatInt - platform specific private

interface exp
hooks {expPlat expInt expIntPlat}

# Declare each of the functions in the public Expect interface.  Note that
# the an index should never be reused for a different function in order
# to preserve backwards compatibility.

declare 0 generic {
	int Expect_Init (Tcl_Interp *interp)
}
declare 1 generic {
	int Expect_SafeInit (Tcl_Interp *interp)
}

interface expPlat

#====================================================================================
# UNIX specific publics.

declare 0 unix {
}

#====================================================================================
# WIN32 specific publics.



#====================================================================================
# MAC specific publics.

### You nutts!!  can't do Mac... sorry..
@


1.1.2.2
log
@expStubInit.c now hooked in.  Nothing inside exp.decl except some test
code to buzz the lines.
@
text
@d8 1
a8 1
# RCS: @@(#) $Id: exp.decls,v 1.1.2.1 2001/10/28 09:00:51 davygrvy Exp $
a29 21
declare 2 generic {
	void exp_parse_argv (Tcl_Interp *interp, int argc, char **argv)
}
declare 3 generic {
	int exp_interpreter (Tcl_Interp *interp, Tcl_Obj *eofObj)
}
declare 4 generic {
	int exp_interpret_cmdfile (Tcl_Interp *interp, Tcl_Channel file)
}
declare 5 generic {
	int exp_interpret_cmdfilename (Tcl_Interp *interp, char *filename)
}
declare 6 generic {
	void exp_interpret_rcfiles (Tcl_Interp *interp, int my_rc, int sys_rc)
}
declare 7 generic {
	char *exp_cook (char *s, int *len)
}
declare 8 generic {
	void expCloseOnExec (int fd)
}
d36 2
d43 1
a47 5


interface expInt

interface expIntPlat
@


1.1.2.3
log
@Stubs play.
@
text
@d8 1
a8 1
# RCS: @@(#) $Id: exp.decls,v 1.1.2.2 2001/10/29 06:40:29 davygrvy Exp $
d15 1
a15 1
#     expIntPlat - platform specific private
a50 6
declare 9 generic {
	int exp_getpidproc (void)
}
declare 10 generic {
	Tcl_Channel ExpCreateSpawnChannel (Tcl_Interp *interp, Tcl_Channel chan)
}
a53 4
interface expInt

interface expIntPlat

a59 21
declare 0 win {
	DWORD ExpWinApplicationType (const char *originalName, char *fullPath)
}
declare 1 win {
	DWORD ExpWinCreateProcess (int argc, char **argv, HANDLE inputHandle,
	    HANDLE outputHandle, HANDLE errorHandle, int allocConsole,
	    int hideConsole, int debug, int newProcessGroup, Tcl_Pid *pidPtr,
	    PDWORD globalPidPtr)
}
declare 2 win {
	void ExpWinSyslog (DWORD errId, ...)
}
declare 3 win {
	TCHAR* ExpSyslogGetSysMsg (DWORD errId)
}
declare 4 win {
	Tcl_Pid	Exp_WaitPid (Tcl_Pid pid, int *statPtr, int options)
}
declare 5 win {
	void Exp_KillProcess (Tcl_Pid pid)
}
d68 3
@


1.1.2.4
log
@Massive restructuring done to the header files.
Closely emulates the core.
@
text
@d8 1
a8 1
# RCS: @@(#) $Id: exp.decls,v 1.1.2.3 2001/10/29 20:54:09 davygrvy Exp $
d25 1
a25 1
    int Expect_Init (Tcl_Interp *interp)
d28 1
a28 1
    int Expect_SafeInit (Tcl_Interp *interp)
a29 6

### The command procs.
###
### I'm not sure _exactly_ why, but I think they should be in the Stubs table as
### they are functions.

d31 1
a31 2
    int Exp_CloseObjCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
d34 1
a34 2
    int Exp_ExpInternalCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
d37 1
a37 2
    int Exp_DisconnectCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
d40 1
a40 2
    int Exp_ExitCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
d43 1
a43 2
    int Exp_ExpContinueCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
d46 1
a46 2
    int Exp_ForkCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
d49 1
a49 2
    int Exp_ExpPidCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
d52 1
a52 2
    int Exp_GetpidDeprecatedCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
a54 97
    int Exp_InterpreterObjCmd (ClientData clientData,
	Tcl_Interp *interp, int objc, struct Tcl_Obj * CONST objv[])
}
declare 11 generic {
    int Exp_LogFileCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 12 generic {
    int Exp_LogUserCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 13 generic {
    int Exp_OpenCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 14 generic {
    int Exp_OverlayCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 15 generic {
    int Exp_InterReturnObjCmd (ClientData clientData,
	Tcl_Interp *interp, int objc, struct Tcl_Obj * CONST objv[])
}
declare 16 generic {
    int Exp_SendObjCmd (ClientData clientData,
	Tcl_Interp *interp, int objc, struct Tcl_Obj * CONST objv[])
}
declare 17 generic {
    int Exp_SendLogCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 18 generic {
    int Exp_SleepCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 19 generic {
    int Exp_SpawnCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 20 generic {
    int Exp_StraceCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 21 generic {
    int Exp_WaitCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 22 generic {
    int Exp_ExpVersionCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 23 generic {
    int Exp_Prompt1Cmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 24 generic {
    int Exp_Prompt2Cmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}
declare 25 generic {
    int Exp_TrapCmd (ClientData clientData, Tcl_Interp *interp,
	int argc, char *argv[])
}


### From exp_printify.c
declare 26 generic {
    char *exp_printify (char *s)
}


## all below are NOT final ->
declare 32 generic {
	void exp_parse_argv (Tcl_Interp *interp, int argc, char **argv)
}
declare 33 generic {
	int exp_interpreter (Tcl_Interp *interp, Tcl_Obj *eofObj)
}
declare 34 generic {
	int exp_interpret_cmdfile (Tcl_Interp *interp, Tcl_Channel file)
}
declare 35 generic {
	int exp_interpret_cmdfilename (Tcl_Interp *interp, char *filename)
}
declare 36 generic {
	void exp_interpret_rcfiles (Tcl_Interp *interp, int my_rc, int sys_rc)
}
declare 37 generic {
	char *exp_cook (char *s, int *len)
}
declare 38 generic {
	void expCloseOnExec (int fd)
}
declare 39 generic {
	int exp_getpidproc (void)
}
declare 40 generic {
d69 1
a69 1
# WIN32 specific privates.
a89 3
}
declare 6 win {
	void ExpWinInit (void)
@


1.1.2.5
log
@unfinished work committed anyway.
@
text
@d8 1
a8 1
# RCS: @@(#) $Id: exp.decls,v 1.1.2.4 2001/11/07 10:06:30 davygrvy Exp $
d194 1
a194 1
	char *ExpSyslogGetSysMsg (DWORD errId)
@


