head	5.30;
access;
symbols
	expect_5_45:5.30
	expect_6_branch:5.30.0.2
	expect_5_44_1_15:5.30
	activestate_win32_port_start:5.29
	telco-tec-win32-take2-branch:5.29.0.6
	telco-tec-win32-branch:5.29.0.4
	expect-sf418892-sf439042-branch:5.29.0.2
	tclpro-1-5-0:5.29
	tclpro-1-4-1:5.29
	tclpro-1-4-0:5.29
	expect-5-32-2:5.29
	expect-5-32-0:5.29
	ajuba-ajuba2-2-0:5.28.1.1.2.2
	scriptics-sc-2-0-b5:5.28.1.1.2.2
	scriptics-sc-2-0-fixed:5.28.1.1.2.2
	scriptics-sc-2-0-b2:5.28.1.1.2.2
	scriptics-sc-2-0-b1:5.28.1.1.2.2
	scriptics-sc-1-1:5.28.1.1.2.2
	scriptics-sc-1-1-b1:5.28.1.1.2.2
	scriptics-sc-1-1-branch:5.28.1.1.2.2.0.4
	scriptics-sc-1-1-base:5.28.1.1.2.2
	scriptics-sc-1-0:5.28.1.1.2.2
	scriptics-sc-1-0-branch:5.28.1.1.2.2.0.2
	scriptics-sc-1-0-base:5.28.1.1.2.2
	expect-5-31-3:5.28.1.1.2.2
	scriptics-bc-1-0-b1:5.28.1.1.2.2
	scriptics-tclpro-1-3-0:5.28.1.1.2.2
	scriptics-tclpro-1-3-b4:5.28.1.1.2.2
	scriptics-tclpro-1-3-b3:5.28.1.1.2.2
	expect-5-31:5.28.1.1.2.2
	expect-5-31-branch:5.28.1.1.0.2
	expect-5-31-base:5.28.1.1
	scriptics-tclpro-1-2:5.28.1.1
	scriptics-tclpro-1-2-b2:5.28.1.1
	scriptics-tclpro-1-2-b1:5.28.1.1
	scriptics-tclpro-1-2-a1:5.28.1.1
	expect-5-28-1:5.28.1.1
	expect:5.28.1;
locks; strict;
comment	@# @;


5.30
date	2007.06.28.19.23.38;	author andreas_kupries;	state Exp;
branches;
next	5.29;

5.29
date	2000.01.06.23.22.05;	author wart;	state Exp;
branches
	5.29.6.1;
next	5.28;

5.28
date	98.10.14.22.53.22;	author cvsadmin;	state Exp;
branches
	5.28.1.1;
next	;

5.28.1.1
date	98.10.14.22.53.22;	author cvsadmin;	state Exp;
branches
	5.28.1.1.2.1;
next	;

5.28.1.1.2.1
date	99.06.16.03.02.42;	author don;	state Exp;
branches;
next	5.28.1.1.2.2;

5.28.1.1.2.2
date	99.06.28.06.29.27;	author libes;	state Exp;
branches;
next	5.28.1.1.2.3;

5.28.1.1.2.3
date	99.12.04.06.18.25;	author libes;	state Exp;
branches;
next	;

5.29.6.1
date	2001.11.22.08.50.37;	author davygrvy;	state dead;
branches;
next	;


desc
@@


5.30
log
@
	* Merged changes from the official version 5.44.1 of expect into
	  the SF sources. See the details below.

	  --------------------
	  Marius Schamsula <marius173@@mchsi.xcom> reported tclconfig
	  missing, evidentally for new TEA.

	  Lots of massaging to fix TEAification of Makefile and configure
	  including that version numbers will now be full three part.

	  Daniel Wong <danielwong@@berkeley.xedu> noted the home page
	  should note that Wikipedia has a very readable entry for Expect.

	  Andre Alves <aalves@@escloyalty.xcom> noted passmass needed some
	  fixes to handle Solaris 9 passwd prompt changes.

	  Andreas fixed several things: changes to better support TEA, fix
	  debugger interaction with nonblocking mode, and probably other
	  things I'm overlooking.

	  Martin Dietze <di@@fh-wedel.xde> noted that autoconf 2.59 is
	  confused by C comment after undefs in expect_cf.h.in.

	  Added additional code to unbuffer -p so that if a process
	  earlier in the pipeline exits, unbuffer attempts to recover any
	  remaining output from the spawned proc before unbuffer itself
	  exits.

	  Jeffrey Hobbs noted that once stty was called, a bg'd script
	  would be suspended at exit.  Turned out to be overaggressive
	  code in stty that recorded what 'damage' the user might have
	  caused when calling stty in the first place.

	  Jens Petersen provided patch to make setpgrp configure better on
	  some Linux systems.

	  Added example/getpassck script to test for getpass bug.

	  multixterm had debugging stuff leftover ("hello").
	  --------------------
@
text
@/*
 * Check for headers
 */
#ifndef __EXPECT_CF_H__
#define __EXPECT_CF_H__

#undef NO_STDLIB_H
#undef NO_UNION_WAIT
#undef HAVE_STDARG_H
#undef HAVE_VARARGS_H
#undef HAVE_STROPTS_H
#undef HAVE_SYSCONF_H
#undef HAVE_SYS_FCNTL_H
#undef HAVE_SYS_WAIT_H
#undef HAVE_SYS_BSDTYPES_H
#undef HAVE_SYS_SELECT_H
#undef HAVE_SYS_TIME_H
#undef HAVE_SYS_PTEM_H
#undef HAVE_STRREDIR_H

/* old-style Dynix ptys need this */
#undef HAVE_STRPTY_H

#undef HAVE_UNISTD_H
#undef HAVE_SYSMACROS_H
#undef HAVE_INTTYPES_H
#undef HAVE_TIOCGWINSZ_IN_TERMIOS_H
#undef HAVE_TCGETS_OR_TCGETA_IN_TERMIOS_H

#undef pid_t
#undef RETSIGTYPE

/* ok to include both time.h and sys/time.h */
#undef TIME_WITH_SYS_TIME

/* if setpgrp takes 0 args */
#undef SETPGRP_VOID

/*
 * This section is for compile macros needed by
 * everything else.
 */

/*
 * Check for functions
 */
#undef HAVE_MEMCPY
#undef HAVE_SYSCONF
#undef SIMPLE_EVENT
#undef HAVE_STRFTIME
#undef HAVE_MEMMOVE

/* timezone() a la Pyramid */
#undef HAVE_TIMEZONE

#undef HAVE_SIGLONGJMP
#undef HAVE_STRCHR

#ifndef HAVE_STRCHR
#define strchr(s,c) index(s,c)
#endif /* HAVE_STRCHR */

/*
 * timezone
 */
#undef HAVE_SV_TIMEZONE

/*
 * wait status type
 */
#undef NO_UNION_WAIT

#undef WNOHANG_REQUIRES_POSIX_SOURCE

/*
 * Signal stuff. Setup the return type
 * and if signals need to be re-armed.
 */
/*#ifndef RETSIGTYPE*/
/*#define RETSIGTYPE void*/
/*#endif*/
#undef REARM_SIG

/*
 * Generate correct type for select mask
 */
#ifndef SELECT_MASK_TYPE
#define SELECT_MASK_TYPE fd_set
#endif

/*
 * Check how stty works
 */
#undef STTY_READS_STDOUT

/*
 * Check for tty/pty functions and structures
 */
#undef POSIX
#undef HAVE_TCSETATTR
#undef HAVE_TERMIO
#undef HAVE_TERMIOS
#undef HAVE_SGTTYB
#undef HAVE__GETPTY
#undef HAVE_GETPTY
#undef HAVE_OPENPTY
#undef HAVE_PTC
#undef HAVE_PTC_PTS
#undef HAVE_PTYM
#undef HAVE_PTYTRAP
#undef HAVE_PTMX
#undef HAVE_PTMX_BSD
#undef HAVE_SCO_CLIST_PTYS

/*
 * Special hacks
 */
#undef CONVEX
#undef SOLARIS

#ifdef SOLARIS
#define __EXTENSIONS__
#endif /* SOLARIS */

#undef WNOHANG_BACKUP_VALUE

#endif	/* __EXPECT_CF_H__ */
@


5.29
log
@Merge of expect5-31-branch to mainline
@
text
@d7 1
a7 1
#undef NO_STDLIB_H		/* Tcl requires this name */
d15 9
a23 6
#undef HAVE_SYS_BSDTYPES_H	/* nice ISC special */
#undef HAVE_SYS_SELECT_H	/* nice ISC special */
#undef HAVE_SYS_TIME_H		/* nice ISC special */
#undef HAVE_SYS_PTEM_H		/* SCO needs this for window size */
#undef HAVE_STRREDIR_H		/* Solaris needs this for console redir */
#undef HAVE_STRPTY_H		/* old-style Dynix ptys need this */
d32 6
a37 2
#undef TIME_WITH_SYS_TIME	/* ok to include both time.h and sys/time.h */
#undef SETPGRP_VOID		/* if setpgrp takes 0 args */
d52 4
a55 1
#undef HAVE_TIMEZONE		/* timezone() a la Pyramid */
@


5.29.6.1
log
@A working set of code against Tcl8.4!
@
text
@@


5.28
log
@Initial revision
@
text
@d8 1
d30 1
d46 1
@


5.28.1.1
log
@Import of Expect v. 5.28.1
@
text
@@


5.28.1.1.2.1
log
@compiled!
@
text
@a7 1
#undef NO_UNION_WAIT
@


5.28.1.1.2.2
log
@fixes throughout code but all tests and examples finally run
see NEWS file for summary
@
text
@a29 1
#undef SETPGRP_VOID		/* if setpgrp takes 0 args */
@


5.28.1.1.2.3
log
@Fixes to library.
Testing new fix to system command.
@
text
@a45 1
#undef HAVE_SIGLONGJMP
@


