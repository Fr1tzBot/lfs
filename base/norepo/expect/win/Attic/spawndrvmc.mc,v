head	1.1;
access;
symbols
	telco-tec-win32-branch:1.1.0.2;
locks; strict;
comment	@# @;
expand	@b@;


1.1
date	2001.10.12.01.26.09;	author davygrvy;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2001.10.12.01.26.09;	author davygrvy;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2001.10.12.01.32.32;	author davygrvy;	state Exp;
branches;
next	1.1.2.3;

1.1.2.3
date	2001.10.12.19.59.09;	author davygrvy;	state Exp;
branches;
next	1.1.2.4;

1.1.2.4
date	2001.10.14.22.13.43;	author davygrvy;	state Exp;
branches;
next	1.1.2.5;

1.1.2.5
date	2001.10.26.09.34.34;	author davygrvy;	state Exp;
branches;
next	1.1.2.6;

1.1.2.6
date	2001.10.26.11.49.18;	author davygrvy;	state Exp;
branches;
next	1.1.2.7;

1.1.2.7
date	2001.11.07.10.04.57;	author davygrvy;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file spawndrvmc.mc was initially added on branch telco-tec-win32-branch.
@
text
@@


1.1.2.1
log
@spawndrv.exe needed a resource script and a message catalog.
@
text
@a0 87
;========================================================================
;  spawndrv.mc --
;
;	This file contains the message catalog for use with error
;	reporting.
;
;========================================================================
; RCS: @@(#) $Id: spawndrv.mc,v 1.1.2.1 2001/10/12 00:43:44 davygrvy Exp $
;========================================================================

MessageIdTypedef=DWORD

SeverityNames=(Success=0x0:STATUS_SEVERITY_SUCCESS
               Informational=0x1:STATUS_SEVERITY_INFORMATIONAL
               Warning=0x2:STATUS_SEVERITY_WARNING
               Error=0x3:STATUS_SEVERITY_ERROR
              )

FacilityNames=(System=0x0:FACILITY_SYSTEM
               Runtime=0x2:FACILITY_RUNTIME
               Stubs=0x3:FACILITY_STUBS
               Io=0x4:FACILITY_IO_ERROR_CODE
              )

LanguageNames=(English=0x409:MSG00409)
LanguageNames=(Japanese=0x411:MSG00411)


// Message definitions


MessageId=0x1
Severity=Error
Facility=Runtime
SymbolicName=MSG_BAD_COMMAND
Language=English
You have chosen an incorrect command.
.
Language=Japanese
∑sê≥Ç»ÉRÉ}É"ÉhÇ™'I'Ç≥ÇÍÇ‹ÇµÇΩ.
.

MessageId=0x2
Severity=Warning
Facility=Io
SymbolicName=MSG_BAD_PARM1
Language=English
Cannot reconnect to the server.
.
Language=Japanese
ÉTÅ[ÉoÅ[Ç÷çƒê⁄'±Ç≈Ç´Ç‹ÇπÇÒ.
.

MessageId=0x3
Severity=Success
Facility=System
SymbolicName=MSG_STRIKE_ANY_KEY
Language=English
Press any key to continue . . . %0
.
Language=Japanese
'±ÇØÇÈÇ…ÇÕâΩÇ©ÉLÅ[ÇâüÇµÇƒÇ≠ÇæÇ≥Ç¢ . . . %0
.

MessageId=0x4
Severity=Error
Facility=System
SymbolicName=MSG_CMD_DELETE
Language=English
File %1 contains %2 which is in error
.
Language=Japanese
ÉtÉ@@ÉCÉã %1 'ÜÇ…ä‹Ç‹ÇÍÇÈ %2 ÇÕÉGÉâÅ[Ç≈Ç∑
.

MessageId=0x5
Severity=Success
Facility=System
SymbolicName=MSG_RETRYS
Language=English
There have been %1!d! retrys with %2!d!%% success%! Disconnect from% 
the server and retry later.
.
Language=Japanese
%1!d! âÒê⁄'±ÇééÇ›Ç‹ÇµÇΩÇ™ %2!d!%% ÇÃê¨å˜óÇ≈ÇµÇΩ%!.
ÉTÅ[ÉoÅ[Ç∆êÿ'fÇµÇΩå„ÅAçƒê⁄'±ÇµÇƒÇ≠ÇæÇ≥Ç¢.
.
@


1.1.2.2
log
@corrected title block text.
@
text
@d2 1
a2 1
;  spawndrvmc.mc --
d4 2
a5 2
;	This file contains the message catalog for use with Win32 error
;	reporting through ReportEvent() and FormatMessage().
d7 2
a8 6
; Copyright (c) 2001 Telindustrie, LLC
;
; Authors: David Gravereaux <davygrvy@@pobox.com>
;
; See the file "license.terms" for information on usage and redistribution
; of this file, and for a DISCLAIMER OF ALL WARRANTIES.
@


1.1.2.3
log
@getting closer to building the message catalog.
@
text
@d1 27
a27 36
;/* ----------------------------------------------------------------------------
; * spawndrvmc.mc --
; *
; *	This file contains the message catalog for use with Win32 error
; *	reporting through ReportEvent() and FormatMessage().
; *
; * Copyright (c) 2001 Telindustrie, LLC
; *
; * Authors: David Gravereaux <davygrvy@@pobox.com>
; *
; * See the file "license.terms" for information on usage and redistribution
; * of this file, and for a DISCLAIMER OF ALL WARRANTIES.
; * ----------------------------------------------------------------------------
; */

;//MessageIdTypedef = DWORD
OutputBase = 16

;// 2 bits max!
SeverityNames = (
    Success=0x0:STATUS_SEVERITY_SUCCESS
    Informational=0x1:STATUS_SEVERITY_INFORMATIONAL
    Warning=0x2:STATUS_SEVERITY_WARNING
    Error=0x3:STATUS_SEVERITY_ERROR
)

;// 12 bits max!
FacilityNames = (
    System=0x0:FACILITY_SYSTEM
    Stubs=0x1:FACILITY_STUBS
    Io=0x2:FACILITY_IO
    Mailbox=0x3:FACILITY_MAILBOX
    NamedPipe=0x3:FACILITY_NAMEDPIPE
    WinSock=0x4:FACILITY_WINSOCK
    DbgTrap=0x5:FACILITY_DBGTRAP
)
d30 1
a30 1
;//LanguageNames=(Japanese=0x411:MSG00411)
d33 1
a33 1
;// Message definitions
d38 1
a38 1
Facility=WinSock
d43 3
d54 3
d65 3
d76 3
d87 4
@


1.1.2.4
log
@Added #define RESOURCE_INCLUDED because tcl.h doesn't
use RC_INVOKED.  Which it should, but doesn't.
@
text
@d47 2
a48 2
Facility=Stubs
SymbolicName=STUBS_TCLDLL_CANTFIND
d50 1
a50 3
Tcl is not available.  The Tcl Dll as specified in the envar EXP_TCLDLL as
"%1" could not be loaded by LoadLibrary().  Ensure EXP_TCLDLL has the correct
core and is the fullpath.
@


1.1.2.5
log
@ExpSyslog() is finally doing what I want.  More work to do, but the
groundwork is now set.
@
text
@d16 1
a16 1
MessageIdTypedef = DWORD
d19 1
d24 1
a24 1
    Fatal=0x3:STATUS_SEVERITY_FATAL
d27 1
a28 1
    Catagories=0x0
d33 3
a35 4
    NamedPipe=0x4:FACILITY_NAMEDPIPE
    WinSock=0x5:FACILITY_WINSOCK
    DbgTrap=0x6:FACILITY_DBGTRAP
    MasterSlave_Protocol=0x7:FACILITY_MSPROTO
d39 1
a40 56
MessageId=0x1
Severity=Success
Facility=Catagories
Language=English
Stubs
.

MessageId=0x2
Severity=Success
Facility=Catagories
Language=English
I/O (General)
.

MessageId=0x3
Severity=Success
Facility=Catagories
Language=English
MailBoxing IPC
.

MessageId=0x4
Severity=Success
Facility=Catagories
Language=English
NamedPipe IPC
.

MessageId=0x5
Severity=Success
Facility=Catagories
Language=English
WinSock IPC
.

MessageId=0x6
Severity=Success
Facility=Catagories
Language=English
Console API traps
.

MessageId=0x7
Severity=Success
Facility=Catagories
Language=English
Master/Slave protocol
.

MessageId=0x1
Severity=Error
Facility=System
SymbolicName=MSG_BYPASS
Language=English
%1
.
d42 1
d47 2
a48 2
Facility=Io
SymbolicName=MSG_IO_ARGSWRONG
d50 3
a52 1
%1 : %2 (%3,%4): No commandline arguements to slavedrv.exe.  No work to do.
d58 1
a58 1
SymbolicName=MSG_IO_BADSHUTDOWN
d60 1
a60 28
%1 : %2 (%3,%4): Unclean shutdown: %5
.

MessageId=0x2
Severity=Error
Facility=Io
SymbolicName=MSG_IO_UNEXPECTED
Language=English
%1 : %2 (%3,%4): Unexpected error: %5
.




MessageId=0x1
Severity=Fatal
Facility=Stubs
SymbolicName=MSG_STUBS_TCLDLLCANTFIND
Language=English
%1 : %2 (%3,%4): Tcl is not available.  The Tcl Dll as specified in the environment variable EXP_TCLDLL as "%5" could not be loaded by LoadLibrary().  Check that EXP_TCLDLL has the correct filename and is the fullpath. ex: "C:\Program Files\Tcl\bin\tcl84.dll"
.

MessageId=0x2
Severity=Fatal
Facility=Stubs
SymbolicName=MSG_STUBS_NOCREATEINTERP
Language=English
%1 : %2 (%3,%4): Tcl API function, Tcl_CreateInterp(), not found in "%5".
d64 3
a66 3
Severity=Fatal
Facility=Stubs
SymbolicName=MSG_STUBS_ENVARNOTSET
d68 1
a68 1
%1 : %2 (%3,%4): EXP_TCLDLL was not found in the environment.  It is required for slavedrv.exe to know where the Tcl DLL is to use its services.  The channel driver in the Expect extension should be setting this before launching spawndrv.exe.  This executable was not intended to be used outside of the Expect extension.
a71 19
Severity=Fatal
Facility=Stubs
SymbolicName=MSG_STUBS_INITSTUBS
Language=English
%1 : %2 (%3,%4): Tcl_InitStubs() failed with "%5".
.




MessageId=0x1
Severity=Warning
Facility=MasterSlave_Protocol
SymbolicName=MSG_MS_SLAVENOWRITABLE
Language=English
%1 : %2 (%3,%4): Unable to write to slave: %5
.

MessageId=0x2
d73 2
a74 2
Facility=MasterSlave_Protocol
SymbolicName=MSG_MS_BADSTATE
d76 1
a76 1
%1 : %2 (%3,%4): Unexpected state
d79 4
a82 53



MessageId=0x1
Severity=Error
Facility=NamedPipe
SymbolicName=MSG_NP_CANTOPEN
Language=English
%1 : %2 (%3,%4): Can't open argv[1], "%5", for read/write.  CreateFile() returned: %6
.




MessageId=0x1
Severity=Error
Facility=WinSock
SymbolicName=MSG_WS_CANTSTART
Language=English
%1 : %2 (%3,%4): WinSock system was unable to start.  slavedrv.exe requested version %5.  WSAStartup() returned: %6
.

MessageId=0x2
Severity=Error
Facility=WinSock
SymbolicName=MSG_WS_CANTCREATEMASTERSOCK
Language=English
%1 : %2 (%3,%4): Master socket was unable to be created.  WSASocket() returned: %6
.

MessageId=0x3
Severity=Error
Facility=WinSock
SymbolicName=MSG_WS_CANTCONNECTMASTERSOCK
Language=English
%1 : %2 (%3,%4): Can't connect to local loopback on port %5.  connect() returned: %6
.

MessageId=0x4
Severity=Error
Facility=WinSock
SymbolicName=MSG_WS_PORTOUTOFRANGE
Language=English
%1 : %2 (%3,%4): Local loopback port out-of-range at "%5".  Must be greater than zero and less than 65536.
.




MessageId=0x1
Severity=Error
Facility=DbgTrap
SymbolicName=MSG_DT_CANTGETCONSOLEHANDLE
d84 2
a85 1
%1 : %2 (%3,%4): Can't open a console handle. CreateFile("%5") returned: %6
@


1.1.2.6
log
@adding more calls to ExpSyslog() where needed.
@
text
@d51 1
a51 1
General I/O
d188 1
a188 7
MessageId=0x2
Severity=Error
Facility=NamedPipe
SymbolicName=MSG_NP_BADTYPE
Language=English
%1 : %2 (%3,%4): NamedPipe specified as, "%5", was found not to be a pipe filetype.
.
a231 48
.

MessageId=0x2
Severity=Warning
Facility=DbgTrap
SymbolicName=MSG_DT_UNEXPECTEDDBGEVENT
Language=English
%1 : %2 (%3,%4): Unexpected debug event for %5
.

MessageId=0x3
Severity=Warning
Facility=DbgTrap
SymbolicName=MSG_DT_EXCEPTIONDBGEVENT
Language=English
%1 : %2 (%3,%4): Exception code is %5
.

MessageId=0x4
Severity=Warning
Facility=DbgTrap
SymbolicName=MSG_DT_NOVIRT
Language=English
%1 : %2 (%3,%4): Unable to find entry for VirtualAlloc
.

MessageId=0x5
Severity=Warning
Facility=DbgTrap
SymbolicName=MSG_DT_CANTREADSPMEM
Language=English
%1 : %2 (%3,%4): Error reading from subprocess memory
.

MessageId=0x6
Severity=Warning
Facility=DbgTrap
SymbolicName=MSG_DT_CANTWRITESPMEM
Language=English
%1 : %2 (%3,%4): Error writing to subprocess memory
.

MessageId=0x7
Severity=Warning
Facility=DbgTrap
SymbolicName=MSG_DT_SCREENBUF
Language=English
%1 : %2 (%3,%4): Call to GetConsoleScreenBufferInfo() failed with %5, %6
@


1.1.2.7
log
@Numerous changes
@
text
@a124 17
MessageId=0x0
Severity=Error
Facility=Mailbox
SymbolicName=MSG_MB_CANTOPENCLIENT1
Language=English
%1 : %2 (%3,%4): Can't open client-side IPC mailbox for named mailbox "%5".
.

MessageId=0x1
Severity=Error
Facility=Mailbox
SymbolicName=MSG_MB_CANTOPENCLIENT2
Language=English
%1 : %2 (%3,%4): Can't open client-side IPC mailbox for named mailbox "%5".  Got system error %6
.


d237 1
a237 1
%1 : %2 (%3,%4): Can't open the console handle. CreateFile("%5") returned: %6
@


