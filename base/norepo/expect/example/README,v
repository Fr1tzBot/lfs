head	5.31;
access;
symbols
	expect_5_45:5.31
	expect_6_branch:5.31.0.2
	expect_5_44_1_15:5.31
	activestate_win32_port_start:5.29
	win32-jump-point-1:5.28.1.1
	telco-tec-win32-take2-branch:5.28.1.1.0.12
	telco-tec-win32-branch:5.28.1.1.0.10
	expect-sf418892-sf439042-branch:5.28.1.1.0.8
	tclpro-1-5-0:5.28.1.1
	tclpro-1-4-1:5.28.1.1
	tclpro-1-4-0:5.28.1.1
	expect-5-32-2:5.28.1.1
	expect-5-32-0:5.28.1.1
	ajuba-ajuba2-2-0:5.28.1.1
	scriptics-sc-2-0-b5:5.28.1.1
	scriptics-sc-2-0-fixed:5.28.1.1
	scriptics-sc-2-0-b2:5.28.1.1
	scriptics-sc-2-0-b1:5.28.1.1
	scriptics-sc-1-1:5.28.1.1
	scriptics-sc-1-1-b1:5.28.1.1
	scriptics-sc-1-1-branch:5.28.1.1.0.6
	scriptics-sc-1-1-base:5.28.1.1
	scriptics-sc-1-0:5.28.1.1
	scriptics-sc-1-0-branch:5.28.1.1.0.4
	scriptics-sc-1-0-base:5.28.1.1
	expect-5-31-3:5.28.1.1
	scriptics-bc-1-0-b1:5.28.1.1
	scriptics-tclpro-1-3-0:5.28.1.1
	scriptics-tclpro-1-3-b4:5.28.1.1
	scriptics-tclpro-1-3-b3:5.28.1.1
	expect-5-31:5.28.1.1
	expect-5-31-branch:5.28.1.1.0.2
	expect-5-31-base:5.28.1.1
	scriptics-tclpro-1-2:5.28.1.1
	scriptics-tclpro-1-2-b2:5.28.1.1
	scriptics-tclpro-1-2-b1:5.28.1.1
	scriptics-tclpro-1-2-a1:5.28.1.1
	expect-5-28-1:5.28.1.1
	expect:5.28.1;
locks; strict;
comment	@# @;


5.31
date	2007.06.28.19.23.39;	author andreas_kupries;	state Exp;
branches;
next	5.30;

5.30
date	2003.09.05.19.01.59;	author andreas_kupries;	state Exp;
branches;
next	5.29;

5.29
date	2002.05.09.14.03.48;	author libes;	state Exp;
branches;
next	5.28;

5.28
date	98.10.14.22.53.23;	author cvsadmin;	state Exp;
branches
	5.28.1.1;
next	;

5.28.1.1
date	98.10.14.22.53.23;	author cvsadmin;	state Exp;
branches;
next	;


desc
@@


5.31
log
@
	* Merged changes from the official version 5.44.1 of expect into
	  the SF sources. See the details below.

	  --------------------
	  Marius Schamsula <marius173@@mchsi.xcom> reported tclconfig
	  missing, evidentally for new TEA.

	  Lots of massaging to fix TEAification of Makefile and configure
	  including that version numbers will now be full three part.

	  Daniel Wong <danielwong@@berkeley.xedu> noted the home page
	  should note that Wikipedia has a very readable entry for Expect.

	  Andre Alves <aalves@@escloyalty.xcom> noted passmass needed some
	  fixes to handle Solaris 9 passwd prompt changes.

	  Andreas fixed several things: changes to better support TEA, fix
	  debugger interaction with nonblocking mode, and probably other
	  things I'm overlooking.

	  Martin Dietze <di@@fh-wedel.xde> noted that autoconf 2.59 is
	  confused by C comment after undefs in expect_cf.h.in.

	  Added additional code to unbuffer -p so that if a process
	  earlier in the pipeline exits, unbuffer attempts to recover any
	  remaining output from the spawned proc before unbuffer itself
	  exits.

	  Jeffrey Hobbs noted that once stty was called, a bg'd script
	  would be suspended at exit.  Turned out to be overaggressive
	  code in stty that recorded what 'damage' the user might have
	  caused when calling stty in the first place.

	  Jens Petersen provided patch to make setpgrp configure better on
	  some Linux systems.

	  Added example/getpassck script to test for getpass bug.

	  multixterm had debugging stuff leftover ("hello").
	  --------------------
@
text
@This file is example/README.  It contains brief descriptions of the
examples in this directory.  Also listed are scripts from the Expect
archive at ftp.cme.nist.gov (See Expect's README for how to retrieve
these from).  You are welcome to send me additional scripts.  A number
of Expect scripts are also available in the Tcl archive, available via
anonymous ftp at harbor.ecn.purdue.edu

Note that on some systems, some of the scripts (notably kibitz and
dislocate) require that Expect be installed.  (Merely compiling the
expect binary is not enough.)

--------------------
Expect scripts (See next section for example Tk scripts)
--------------------
Entries marked with "m" have their own man page.
Entries marked with "a" live in the Expect archive (see above).

	archie - mails back response after talking to archie ftp-catalog.
   m	autoexpect - generate an Expect script from watching a session
	autopasswd - runs passwd non-interactively for superuser.
   a	bc - Uses bc to do arbitrary precision math.
	beer.exp - 99 Bottles of Beer On The Wall, Expect-style.
	beer.exp.out - sample output from beer.exp (but you really have to
		run it to see the timing aspect).
   a	bonfield.exp - solve Jim Bonfield's puzzle that won the 1991 Obfuscated
		C Code contest.
	carpal - warn about typing for too long without a break.
	chess.exp - has two chess games play each other.
   m	cryptdir - encrypt all files in a directory.
   m    decryptdir - decrypt all files in a directory.
   m	dislocate - allow disconnection/reconnection to background processes.
	dvorak - dvorak keyboard.
   a	eftp - ftp client with miscellaneous frills (also see rftp below).
	expectd.proto - telnet daemon.
	ftp-inband - does file transfer over telnet, rlogin, etc.
	ftp-rfc - retrieve a DoD RFC from uunet via anonymous ftp.
	ftp-talk-radio - gets "Internet Talk Radio" files from a host.
	gethostbyaddr - translates internet address to name (with a higher
		success rate than nslookup).  Easier to use, too.
	getpassck - test for presence of bug in getpass.
	irsh - run interactive commands via rsh
   m	kibitz - lets two people control a program at the same time.
		Lots of uses.  I.e., You can help another person remotely.
		Can run an editor and log a transcript of a conversation.
   a	libro-II - connect to Libro-II, the NIST library catalog.
	lpunlock - unhangs a printer which says it is "waiting for lock".
   a	mirror_file - mirror a file from another ftp site, copying file only
		if changed.
   a	mirror_dir - mirror a directory from another ftp site, copying only
		files which have changed.
   m	multixterm - drive several xterms simultaneously.
   m	mkpasswd - generates good passwords, optionally runs passwd with them.
   a	mx - return any MX records for the given host.
   a	noidle - run a shell which avoids being 'autologged out'.
   a	pager.alpha - sends a message to a (Alpha brand) pager.
   a	pager.mercury - sends a message to a (Mercury brand) pager.
   m	passmass - sets passwd on many machines simultaneously.
        passwd.html - form to change a login passwd
	passwd.cgi - CGI script to respond to passwd.html form
	passwdprompt - Prompt from stdin and echo *'s.
   a	ping-and-page - Ping list of hosts.  If any down, page system admin.
	read1char - read a single character for the shell, Perl, etc.
	reprompt - like timed-read but reprompt after given amount of time.
	rlogin-cwd - rlogin giving you same current working directory.
		(Compare to telnet-cwd and xrlogin.)
	robohunt - plays the game of hunt (from Berkeley).
		It's more of a wild player than good, but amusing to watch.
		Fun to throw against people who don't know about it.
	rogue.exp - finds a good game of rogue.
	rftp - recursive ftp (assumes UNIX-style ftpd at other end).
   a	s-key-rlogin - 	Automate rlogin (or telnet) using s/key
   a	scripttoggle - Like UNIX script command, but allow enabling/disabling
		of recording.
   a	slip.shar - scripts to keep your SLIP link alive.
	su.exp - start up an 'su' and run the argument.
	telnet-cwd - telnet giving you same current working directory.
	telnet-in-bg - put telnet (or any program) in bg, saving all remaining
		output to a logfile.
   a	term-rlogin - run Term over rlogin.  Good for traversing PPP/SLIP or
		firewall rlogin connections.
   a	term-start - start up Term (a sophisticated UNIX-to-UNIX serial line
		handler).
   a	timed-choice - offer user a timed choice of responses.
	timed-read - a timed read for the shell, Perl, etc.  Compare with
		reprompt example.
   m	timed-run - run a program for only a given amount of time.
   a	try-phone-list - automate logging in to remote system, trying numbers
		from a list until finding one that works.
   m	unbuffer - disables output buffering that normally occurs when
		programs are redirected.
	virterm - example of terminal emulation and expect operations on
		character graphics using arrays (compare to term_expect
		(below) which uses Tk widget).
	vrfy - verifies an email address using SMTP/VRFY to remote site.
   a	waste-collection - Contact NIST service for hazardous waste pickup.
	weather - retrieves weather forecasts.
   m	xkibitz - similar to kibitz but uses X Window System for handling
		communication.  Also, allows users to be added dynamically.
	xrlogin - rlogin giving you same DISPLAY.  (Compare to rlogin-cwd.)

To run, for example, chess.exp, type:

	expect chess.exp

If expect is installed and your system supports the #! magic you can
invoke it as:

	chess.exp

Each of these examples necessarily depends upon other binaries in the
system.  For example, chess.exp depends upon the "usual" UNIX chess
program being present.  If any of these programs are different,
it may cause the associated script to misbehave.

Please use the ".exp" extension on scripts that might otherwise have
names that could be confused with the real program, such as "rogue.exp".
Scripts that have unique names do not need the extension, such as "rftp".

--------------------
Sample Expectk scripts
--------------------
Entries marked with "m" have their own man page.

	term_expect - template for doing expect operations on character
		graphics.
   m	tknewsbiff - pops up a window (or plays sounds, etc) when news
		arrives in selected newsgroups.
   	tkpasswd - Tk GUI for changing passwords.
	tkterm - Tk terminal emulator in a Tk text widget.
	xpstat - provide an X window front end to the xpilot game.

--------------------
Sample C and C++ programs that use the Expect library
--------------------

	chesslib.c - same thing as chess.exp, but in C.
	chesslib2.c - ditto, but uses popen and stream-style I/O.
	chesslib++.c - ditto, but for C++.
   m	unbuffer.c - same as unbuffer example but standalone

You may change the value of CC or CPLUSPLUS in the Makefile, to
compile under gcc or other compilers.  However, you may have to edit
the lines defining where the libraries are.

@


5.30
log
@
	* Merged changes from the official version 5.39 of expect into the
	  SF sources. See details below. Partially already done.

	  --------------------
	  Poorva Gupta <poorva@@cup.hp.xcom> noted that grantpt/unlockpt
	  order was backward.  Strange that this was never a prob before!

	  Eric Raymond <esr@@snark.thyrsus.xcom> provided a troff-related
	  fix for the multixterm man page.

	  Nicolas Roeser <n-roeser@@gmx.xnet> noted confusion with md5 so I
	  made the Expect page more explicit about which file that hash
	  was based on.

	  Josh Purinton noted that earlier fix wasn't quite right.  Exit
	  on INT/TERM should cause Expect to exit with signal embedded in
	  status.  He also requested I obfuscate email addresses in this
	  file.

	  Guido Ostkamp <Guido.Ostkamp@@t-online.xde> and Igor Sobrado
	  <sobrado@@string1.ciencias.uniovi.xes> noted that fixline1
	  rewrote scripts to be expect scripts even if they were expectk
	  scripts.

	  Dirk Petera <dirkpetera@@yahoo.xcom> noted that any_spawn_id used
	  to work but did no longer.  Looks like a bug left over from the
	  the I18L conversion.  Fixed.

	  Steve Szabo noted exp_log_file -open channel failed.  Fixed.

	  Fixed bug from 5.31 that prevent stty from returning messages
	  from underlying program.

	  Thomas Dickey <dickey@@herndon4.his.xcom> noted that ncurses
	  ignores 2-char term names because of, well, poor assumptions and
	  coding.  Changed tkterm to use longer names.

	  Heath Moore <hmoore@@systran.xcom> noted that exp_clib could lock
	  up if remtime happened to be precisely 0.  Recoded to avoid.

	  At request of Per Otterholm <otterholm@@telia.xcom>, wrote script
	  to read from stdin and echo passwords (exercise 9 in Tk chapter
	  of Expect book).  Added to example directory as passwdprompt.

	  Josh Purinton <josh@@purinton.xorg> pointed out that by default,
	  SIGINT/TERM should cause expect's return status to be 1, not 0.

	  Paul Reithmuller <paul.reithmuller@@eng.sun.xcom> noted that
	  unbuffer shouldn't postprocess its output.  Added stty_init.

	  Mordechai T. Abzug <morty@@sanctuary.arbutus.md.xus> noted that
	  log_file wasn't recording -append status.

	  James Kelly <macubergeek@@comcast.xnet> noted weather example
	  needed new source.

	  Dimitar Haralanov <mitko@@tahoenetworks.xcom> noted that interact
	  dumped core with interact { timeout 1 }
	  --------------------
@
text
@d40 1
@


5.29
log
@multixterm fixes
@
text
@d59 1
@


5.28
log
@Initial revision
@
text
@d50 1
@


5.28.1.1
log
@Import of Expect v. 5.28.1
@
text
@@
