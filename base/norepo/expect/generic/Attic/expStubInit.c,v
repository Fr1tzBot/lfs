head	1.1;
access;
symbols
	win32-jump-point-1:1.1.4.5
	telco-tec-win32-take2-branch:1.1.0.4
	telco-tec-win32-branch:1.1.0.2;
locks; strict;
comment	@ * @;


1.1
date	2001.10.28.11.12.23;	author davygrvy;	state dead;
branches
	1.1.2.1
	1.1.4.1;
next	;

1.1.2.1
date	2001.10.28.11.12.23;	author davygrvy;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2001.10.29.06.40.29;	author davygrvy;	state Exp;
branches;
next	1.1.2.3;

1.1.2.3
date	2001.10.29.20.54.09;	author davygrvy;	state Exp;
branches;
next	1.1.2.4;

1.1.2.4
date	2001.11.07.10.06.30;	author davygrvy;	state Exp;
branches;
next	;

1.1.4.1
date	2002.02.10.02.58.53;	author davygrvy;	state Exp;
branches;
next	1.1.4.2;

1.1.4.2
date	2002.02.10.10.17.04;	author davygrvy;	state Exp;
branches;
next	1.1.4.3;

1.1.4.3
date	2002.02.10.12.04.22;	author davygrvy;	state Exp;
branches;
next	1.1.4.4;

1.1.4.4
date	2002.02.10.13.40.47;	author davygrvy;	state Exp;
branches;
next	1.1.4.5;

1.1.4.5
date	2002.03.11.06.52.53;	author davygrvy;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file expStubInit.c was initially added on branch telco-tec-win32-branch.
@
text
@@


1.1.4.1
log
@moved all header files over to a more core style with the beginnings of a
Stubs table.  This work is far from complete.
@
text
@a0 177
/* 
 * expStubInit.c --
 *
 *	This file contains the initializers for the Expect stub vectors.
 *
 * RCS: @@(#) $Id: expStubInit.c,v 1.1.2.4 2001/11/07 10:06:30 davygrvy Exp $
 */

#include "expInt.h"
#include "expPort.h"

/*
 * WARNING: The contents of this file are automatically generated by the
 * $(TCLROOT)/tools/genStubs.tcl script. Any modifications to the function declarations
 * below should be made in the generic/exp.decls script.
 */

/* !BEGIN!: Do not edit below this line. */

ExpIntStubs expIntStubs = {
    TCL_STUB_MAGIC,
    NULL,
    NULL, /* 0 */
    Exp_StringMatch, /* 1 */
    Exp_StringMatch2, /* 2 */
    NULL, /* 3 */
    exp_new_i_complex, /* 4 */
    exp_new_i_simple, /* 5 */
    exp_new_fs, /* 6 */
    exp_free_i, /* 7 */
    exp_free_fs, /* 8 */
    exp_free_fs_single, /* 9 */
    exp_i_update, /* 10 */
};

ExpIntPlatStubs expIntPlatStubs = {
    TCL_STUB_MAGIC,
    NULL,
#ifdef __WIN32__
    ExpWinApplicationType, /* 0 */
    ExpWinCreateProcess, /* 1 */
    ExpSyslog, /* 2 */
    NULL, /* 3 */
    Exp_WaitPid, /* 4 */
    Exp_KillProcess, /* 5 */
    ExpWinInit, /* 6 */
    BuildCommandLine, /* 7 */
#endif /* __WIN32__ */
};

ExpPlatStubs expPlatStubs = {
    TCL_STUB_MAGIC,
    NULL,
};

static ExpStubHooks expStubHooks = {
    &expPlatStubs,
    &expIntStubs,
    &expIntPlatStubs
};

ExpStubs expStubs = {
    TCL_STUB_MAGIC,
    &expStubHooks,
    Expect_Init, /* 0 */
    NULL, /* 1 */
    NULL, /* 2 */
    Exp_ExpInternalCmd, /* 3 */
    NULL, /* 4 */
    Exp_ExitCmd, /* 5 */
    Exp_ExpContinueCmd, /* 6 */
    NULL, /* 7 */
    Exp_ExpPidCmd, /* 8 */
    Exp_GetpidDeprecatedCmd, /* 9 */
    NULL, /* 10 */
    Exp_LogFileCmd, /* 11 */
    Exp_LogUserCmd, /* 12 */
    Exp_OpenCmd, /* 13 */
    NULL, /* 14 */
    NULL, /* 15 */
    NULL, /* 16 */
    Exp_SendLogCmd, /* 17 */
    Exp_SleepCmd, /* 18 */
    Exp_SpawnCmd, /* 19 */
    Exp_StraceCmd, /* 20 */
    Exp_WaitCmd, /* 21 */
    Exp_ExpVersionCmd, /* 22 */
    Exp_Prompt1Cmd, /* 23 */
    Exp_Prompt2Cmd, /* 24 */
    Exp_TrapCmd, /* 25 */
    Exp_SttyCmd, /* 26 */
    Exp_SystemCmd, /* 27 */
    Exp_ExpectCmd, /* 28 */
    Exp_ExpectGlobalCmd, /* 29 */
    Exp_MatchMaxCmd, /* 30 */
    Exp_RemoveNullsCmd, /* 31 */
    Exp_ParityCmd, /* 32 */
    Exp_TimestampCmd, /* 33 */
    Exp_CloseCmd, /* 34 */
    Exp_InterpreterCmd, /* 35 */
    Exp_SendCmd, /* 36 */
    Exp_KillCmd, /* 37 */
    NULL, /* 38 */
    NULL, /* 39 */
    exp_printify, /* 40 */
    NULL, /* 41 */
    NULL, /* 42 */
    NULL, /* 43 */
    NULL, /* 44 */
    NULL, /* 45 */
    NULL, /* 46 */
    NULL, /* 47 */
    NULL, /* 48 */
    NULL, /* 49 */
    exp_errorlog, /* 50 */
    exp_log, /* 51 */
    exp_debuglog, /* 52 */
    exp_nflog, /* 53 */
    exp_nferrorlog, /* 54 */
    exp_error, /* 55 */
    NULL, /* 56 */
    NULL, /* 57 */
    NULL, /* 58 */
    NULL, /* 59 */
    exp_parse_argv, /* 60 */
    exp_interpreter, /* 61 */
    exp_interpret_cmdfile, /* 62 */
    exp_interpret_cmdfilename, /* 63 */
    exp_interpret_rcfiles, /* 64 */
    exp_cook, /* 65 */
    NULL, /* 66 */
    exp_getpidproc, /* 67 */
    ExpCreateSpawnChannel, /* 68 */
    ExpPlatformSpawnOutput, /* 69 */
    exp_create_commands, /* 70 */
    exp_init_main_cmds, /* 71 */
    exp_init_expect_cmds, /* 72 */
    exp_init_most_cmds, /* 73 */
    exp_init_trap_cmds, /* 74 */
    exp_init_interact_cmds, /* 75 */
    exp_init_tty_cmds, /* 76 */
    NULL, /* 77 */
    NULL, /* 78 */
    exp_exact_write, /* 79 */
    NULL, /* 80 */
    exp_f_find, /* 81 */
    exp_f_new, /* 82 */
    exp_f_new_platform, /* 83 */
    exp_f_free, /* 84 */
    exp_f_free_platform, /* 85 */
    ExpCreatePairChannel, /* 86 */
    ExpSpawnOpen, /* 87 */
    exp_update_master, /* 88 */
    exp_get_var, /* 89 */
    exp_exit, /* 90 */
    exp_get_next_event, /* 91 */
    exp_get_next_event_info, /* 92 */
    exp_dsleep, /* 93 */
    exp_init_event, /* 94 */
    NULL, /* 95 */
    exp_event_disarm, /* 96 */
    exp_arm_background_filehandler, /* 97 */
    exp_disarm_background_filehandler, /* 98 */
    exp_disarm_background_filehandler_force, /* 99 */
    exp_unblock_background_filehandler, /* 100 */
    exp_block_background_filehandler, /* 101 */
    exp_background_filehandler, /* 102 */
    exp_exit_handlers, /* 103 */
    exp_close_on_exec, /* 104 */
    exp_flageq_code, /* 105 */
    exp_tty_break, /* 106 */
    exp_close_tcl_files, /* 107 */
    exp_lowmemcpy, /* 108 */
    exp_timestamp, /* 109 */
};

/* !END!: Do not edit above this line. */
@


1.1.4.2
log
@More rounds of edits getting the new Stubs table more towards perfection.
@
text
@d6 1
a6 1
 * RCS: @@(#) $Id: expStubInit.c,v 1.1.4.1 2002/02/10 02:58:53 davygrvy Exp $
a33 16
    exp_pty_exit, /* 11 */
    exp_init_spawn_ids, /* 12 */
    exp_init_pty, /* 13 */
    exp_init_tty, /* 14 */
    exp_init_stdio, /* 15 */
    exp_init_sig, /* 16 */
    exp_init_trap, /* 17 */
    exp_init_unit_random, /* 18 */
    exp_init_spawn_id_vars, /* 19 */
    exp_adjust, /* 20 */
    exp_ecmd_remove_f_direct_and_indirect, /* 21 */
    exp_rearm_sigchld, /* 22 */
    exp_chan2f, /* 23 */
    exp_fcheck, /* 24 */
    exp_close, /* 25 */
    exp_strftime, /* 26 */
@


1.1.4.3
log
@All file comments have the same form.
@
text
@d1 1
a1 1
/* ----------------------------------------------------------------------------
d6 1
a6 21
 * ----------------------------------------------------------------------------
 *
 * Written by: Don Libes, libes@@cme.nist.gov, NIST, 12/3/90
 * 
 * Design and implementation of this program was paid for by U.S. tax
 * dollars.  Therefore it is public domain.  However, the author and NIST
 * would appreciate credit if this program or parts of it are used.
 * 
 * Copyright (c) 1997 Mitel Corporation
 *	work by Gordon Chaffee <chaffee@@bmrc.berkeley.edu> for the WinNT port.
 *
 * Copyright (c) 2001-2002 Telindustrie, LLC
 *	work by David Gravereaux <davygrvy@@pobox.com> for any Win32 OS.
 *
 * ----------------------------------------------------------------------------
 * URLs:    http://expect.nist.gov/
 *	    http://expect.sf.net/
 *	    http://bmrc.berkeley.edu/people/chaffee/expectnt.html
 * ----------------------------------------------------------------------------
 * RCS: @@(#) $Id: exp.h,v 1.1.4.4 2002/02/10 10:17:04 davygrvy Exp $
 * ----------------------------------------------------------------------------
@


1.1.4.4
log
@More modifications have been done to support providing a Stubs table.
This isn't complete, but close.
@
text
@d25 1
a25 1
 * RCS: @@(#) $Id: expStubInit.c,v 1.1.4.3 2002/02/10 12:04:22 davygrvy Exp $
a69 16
    exp_create_commands, /* 27 */
    exp_tty_break, /* 28 */
    exp_event_disarm, /* 29 */
    exp_arm_background_filehandler, /* 30 */
    exp_disarm_background_filehandler, /* 31 */
    exp_disarm_background_filehandler_force, /* 32 */
    exp_unblock_background_filehandler, /* 33 */
    exp_block_background_filehandler, /* 34 */
    exp_get_next_event, /* 35 */
    exp_get_next_event_info, /* 36 */
    exp_f_find, /* 37 */
    exp_f_new, /* 38 */
    exp_f_new_platform, /* 39 */
    exp_f_free, /* 40 */
    exp_f_free_platform, /* 41 */
    exp_exact_write, /* 42 */
d171 7
a177 7
    exp_init_main_cmds, /* 70 */
    exp_init_expect_cmds, /* 71 */
    exp_init_most_cmds, /* 72 */
    exp_init_trap_cmds, /* 73 */
    exp_init_interact_cmds, /* 74 */
    exp_init_tty_cmds, /* 75 */
    NULL, /* 76 */
d179 32
a210 15
    ExpCreatePairChannel, /* 78 */
    ExpSpawnOpen, /* 79 */
    exp_update_master, /* 80 */
    exp_get_var, /* 81 */
    exp_exit, /* 82 */
    exp_dsleep, /* 83 */
    exp_init_event, /* 84 */
    NULL, /* 85 */
    exp_background_filehandler, /* 86 */
    exp_exit_handlers, /* 87 */
    exp_close_on_exec, /* 88 */
    exp_flageq_code, /* 89 */
    exp_close_tcl_files, /* 90 */
    exp_lowmemcpy, /* 91 */
    exp_timestamp, /* 92 */
@


1.1.4.5
log
@added ExpSyslogGetSysMsg()
@
text
@d25 1
a25 1
 * RCS: @@(#) $Id: expStubInit.c,v 1.1.4.4 2002/02/10 13:40:47 davygrvy Exp $
d94 2
a95 2
    ExpWinSyslog, /* 2 */
    ExpSyslogGetSysMsg, /* 3 */
@


1.1.2.1
log
@Stubs has begun
@
text
@a0 38
/* 
 * expStubInit.c --
 *
 *	This file contains the initializers for the Expect stub vectors.
 *
 * RCS: @@(#) $Id: tclStubInit.c,v 1.62 2001/10/15 20:26:58 andreas_kupries Exp $
 */

#include "expInt.h"
#include "expPort.h"

/*
 * WARNING: The contents of this file is automatically generated by the
 * $(TCLROOT)/tools/genStubs.tcl script. Any modifications to the function declarations
 * below should be made in the generic/exp.decls script.
 */

/* !BEGIN!: Do not edit below this line. */

ExpPlatStubs expPlatStubs = {
    TCL_STUB_MAGIC,
    NULL,
};

static ExpStubHooks expStubHooks = {
    &expPlatStubs,
    &expIntStubs,
    &expIntPlatStubs
};

ExpStubs expStubs = {
    TCL_STUB_MAGIC,
    &expStubHooks,
    Expect_Init, /* 0 */
    Expect_SafeInit, /* 1 */
};

/* !END!: Do not edit above this line. */
@


1.1.2.2
log
@expStubInit.c now hooked in.  Nothing inside exp.decl except some test
code to buzz the lines.
@
text
@d6 1
a6 1
 * RCS: @@(#) $Id: expStubInit.c,v 1.1.2.1 2001/10/28 11:12:23 davygrvy Exp $
a19 10
ExpIntStubs expIntStubs = {
    TCL_STUB_MAGIC,
    NULL,
};

ExpIntPlatStubs expIntPlatStubs = {
    TCL_STUB_MAGIC,
    NULL,
};

a35 7
    exp_parse_argv, /* 2 */
    exp_interpreter, /* 3 */
    exp_interpret_cmdfile, /* 4 */
    exp_interpret_cmdfilename, /* 5 */
    exp_interpret_rcfiles, /* 6 */
    exp_cook, /* 7 */
    expCloseOnExec, /* 8 */
@


1.1.2.3
log
@Stubs play.
@
text
@d6 1
a6 1
 * RCS: @@(#) $Id: expStubInit.c,v 1.1.2.2 2001/10/29 06:40:29 davygrvy Exp $
a27 8
#ifdef __WIN32__
    ExpWinApplicationType, /* 0 */
    ExpWinCreateProcess, /* 1 */
    ExpWinSyslog, /* 2 */
    ExpSyslogGetSysMsg, /* 3 */
    Exp_WaitPid, /* 4 */
    Exp_KillProcess, /* 5 */
#endif /* __WIN32__ */
a52 2
    exp_getpidproc, /* 9 */
    ExpCreateSpawnChannel, /* 10 */
@


1.1.2.4
log
@Massive restructuring done to the header files.
Closely emulates the core.
@
text
@d6 1
a6 1
 * RCS: @@(#) $Id: expStubInit.c,v 1.1.2.3 2001/10/29 20:54:09 davygrvy Exp $
d13 1
a13 1
 * WARNING: The contents of this file are automatically generated by the
a34 1
    ExpWinInit, /* 6 */
d54 9
a62 39
    Exp_CloseObjCmd, /* 2 */
    Exp_ExpInternalCmd, /* 3 */
    Exp_DisconnectCmd, /* 4 */
    Exp_ExitCmd, /* 5 */
    Exp_ExpContinueCmd, /* 6 */
    Exp_ForkCmd, /* 7 */
    Exp_ExpPidCmd, /* 8 */
    Exp_GetpidDeprecatedCmd, /* 9 */
    Exp_InterpreterObjCmd, /* 10 */
    Exp_LogFileCmd, /* 11 */
    Exp_LogUserCmd, /* 12 */
    Exp_OpenCmd, /* 13 */
    Exp_OverlayCmd, /* 14 */
    Exp_InterReturnObjCmd, /* 15 */
    Exp_SendObjCmd, /* 16 */
    Exp_SendLogCmd, /* 17 */
    Exp_SleepCmd, /* 18 */
    Exp_SpawnCmd, /* 19 */
    Exp_StraceCmd, /* 20 */
    Exp_WaitCmd, /* 21 */
    Exp_ExpVersionCmd, /* 22 */
    Exp_Prompt1Cmd, /* 23 */
    Exp_Prompt2Cmd, /* 24 */
    Exp_TrapCmd, /* 25 */
    exp_printify, /* 26 */
    NULL, /* 27 */
    NULL, /* 28 */
    NULL, /* 29 */
    NULL, /* 30 */
    NULL, /* 31 */
    exp_parse_argv, /* 32 */
    exp_interpreter, /* 33 */
    exp_interpret_cmdfile, /* 34 */
    exp_interpret_cmdfilename, /* 35 */
    exp_interpret_rcfiles, /* 36 */
    exp_cook, /* 37 */
    expCloseOnExec, /* 38 */
    exp_getpidproc, /* 39 */
    ExpCreateSpawnChannel, /* 40 */
@


