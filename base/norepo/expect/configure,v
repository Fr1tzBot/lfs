head	5.81;
access;
symbols
	expect_5_45:5.77
	expect_6_branch:5.74.0.2
	expect_5_44_1_15:5.74
	activestate_win32_port_start:5.49
	win32-jump-point-1:5.40
	telco-tec-win32-take2-branch:5.40.0.6
	telco-tec-win32-branch:5.40.0.4
	expect-sf418892-sf439042-branch:5.40.0.2
	tclpro-1-5-0:5.40
	tclpro-1-4-1:5.40
	tclpro-1-4-0:5.40
	expect-5-32-2:5.40
	expect-5-32-0:5.39
	ajuba-ajuba2-2-0:5.30.2.20
	scriptics-sc-2-0-b5:5.30.2.20
	scriptics-sc-2-0-fixed:5.30.2.20
	scriptics-sc-2-0-b2:5.30.2.20
	scriptics-sc-2-0-b1:5.30.2.20
	scriptics-sc-1-1:5.30.2.20
	scriptics-sc-1-1-b1:5.30.2.20
	scriptics-sc-1-1-branch:5.30.2.20.0.4
	scriptics-sc-1-1-base:5.30.2.20
	scriptics-sc-1-0:5.30.2.20
	scriptics-sc-1-0-branch:5.30.2.20.0.2
	scriptics-sc-1-0-base:5.30.2.20
	expect-5-31-3:5.30.2.20
	scriptics-bc-1-0-b1:5.30.2.15
	scriptics-tclpro-1-3-0:5.30.2.13
	scriptics-tclpro-1-3-b4:5.30.2.13
	scriptics-tclpro-1-3-b3:5.30.2.13
	expect-5-31:5.30.2.13
	expect-5-31-branch:5.30.0.2
	expect-5-31-base:5.30
	scriptics-tclpro-1-2:5.29
	scriptics-tclpro-1-2-b2:5.28.1.1
	scriptics-tclpro-1-2-b1:5.28.1.1
	scriptics-tclpro-1-2-a1:5.28.1.1
	expect-5-28-1:5.28.1.1
	expect:5.28.1;
locks; strict;
comment	@# @;


5.81
date	2014.05.01.19.22.23;	author andreas_kupries;	state Exp;
branches;
next	5.80;

5.80
date	2013.11.04.19.42.08;	author andreas_kupries;	state Exp;
branches;
next	5.79;

5.79
date	2013.11.04.19.03.00;	author andreas_kupries;	state Exp;
branches;
next	5.78;

5.78
date	2012.08.15.22.25.31;	author andreas_kupries;	state Exp;
branches;
next	5.77;

5.77
date	2010.09.16.20.46.47;	author hobbs;	state Exp;
branches;
next	5.76;

5.76
date	2010.09.16.20.35.46;	author hobbs;	state Exp;
branches;
next	5.75;

5.75
date	2010.08.27.21.51.53;	author hobbs;	state Exp;
branches;
next	5.74;

5.74
date	2009.11.03.19.27.58;	author andreas_kupries;	state Exp;
branches;
next	5.73;

5.73
date	2009.06.18.16.07.06;	author andreas_kupries;	state Exp;
branches;
next	5.72;

5.72
date	2009.05.27.16.52.36;	author andreas_kupries;	state Exp;
branches;
next	5.71;

5.71
date	2009.05.06.19.42.21;	author andreas_kupries;	state Exp;
branches;
next	5.70;

5.70
date	2008.10.03.17.05.14;	author andreas_kupries;	state Exp;
branches;
next	5.69;

5.69
date	2008.08.28.21.40.37;	author andreas_kupries;	state Exp;
branches;
next	5.68;

5.68
date	2008.06.03.22.25.03;	author andreas_kupries;	state Exp;
branches;
next	5.67;

5.67
date	2008.06.03.22.18.19;	author andreas_kupries;	state Exp;
branches;
next	5.66;

5.66
date	2008.04.03.19.19.41;	author andreas_kupries;	state Exp;
branches;
next	5.65;

5.65
date	2008.04.03.19.07.14;	author andreas_kupries;	state Exp;
branches;
next	5.64;

5.64
date	2008.02.29.17.47.34;	author andreas_kupries;	state Exp;
branches;
next	5.63;

5.63
date	2007.09.24.18.34.13;	author andreas_kupries;	state Exp;
branches;
next	5.62;

5.62
date	2007.09.24.17.25.11;	author andreas_kupries;	state Exp;
branches;
next	5.61;

5.61
date	2007.08.09.20.23.17;	author andreas_kupries;	state Exp;
branches;
next	5.60;

5.60
date	2007.07.17.18.39.23;	author andreas_kupries;	state Exp;
branches;
next	5.59;

5.59
date	2007.06.28.19.23.37;	author andreas_kupries;	state Exp;
branches;
next	5.58;

5.58
date	2006.01.25.21.52.11;	author hobbs;	state Exp;
branches;
next	5.57;

5.57
date	2006.01.24.18.04.34;	author andreas_kupries;	state Exp;
branches;
next	5.56;

5.56
date	2005.06.09.18.51.19;	author andreas_kupries;	state Exp;
branches;
next	5.55;

5.55
date	2005.02.15.18.10.34;	author andreas_kupries;	state Exp;
branches;
next	5.54;

5.54
date	2004.07.15.20.24.39;	author andreas_kupries;	state Exp;
branches;
next	5.53;

5.53
date	2004.06.03.20.06.38;	author andreas_kupries;	state Exp;
branches;
next	5.52;

5.52
date	2004.05.19.17.33.35;	author andreas_kupries;	state Exp;
branches;
next	5.51;

5.51
date	2004.02.26.01.02.43;	author andreas_kupries;	state Exp;
branches;
next	5.50;

5.50
date	2003.09.05.19.01.56;	author andreas_kupries;	state Exp;
branches;
next	5.49;

5.49
date	2003.02.17.19.24.56;	author andreas_kupries;	state Exp;
branches;
next	5.48;

5.48
date	2003.02.15.00.02.38;	author andreas_kupries;	state Exp;
branches;
next	5.47;

5.47
date	2002.09.25.23.03.25;	author hobbs;	state Exp;
branches;
next	5.46;

5.46
date	2002.08.08.16.45.40;	author andreas_kupries;	state Exp;
branches;
next	5.45;

5.45
date	2002.05.09.14.03.44;	author libes;	state Exp;
branches;
next	5.44;

5.44
date	2002.04.16.21.00.28;	author libes;	state Exp;
branches;
next	5.43;

5.43
date	2002.02.12.02.45.33;	author libes;	state Exp;
branches;
next	5.42;

5.42
date	2002.01.16.18.14.03;	author andreas_kupries;	state Exp;
branches;
next	5.41;

5.41
date	2001.11.09.19.36.18;	author andreas_kupries;	state Exp;
branches;
next	5.40;

5.40
date	2000.08.04.19.14.44;	author libes;	state Exp;
branches
	5.40.2.1;
next	5.39;

5.39
date	2000.06.14.20.07.37;	author libes;	state Exp;
branches;
next	5.38;

5.38
date	2000.06.08.19.17.20;	author libes;	state Exp;
branches;
next	5.37;

5.37
date	2000.04.27.15.30.07;	author libes;	state Exp;
branches;
next	5.36;

5.36
date	2000.03.06.15.34.25;	author libes;	state Exp;
branches;
next	5.35;

5.35
date	2000.03.01.15.27.20;	author libes;	state Exp;
branches;
next	5.34;

5.34
date	2000.02.19.21.29.42;	author libes;	state Exp;
branches;
next	5.33;

5.33
date	2000.01.06.23.22.01;	author wart;	state Exp;
branches;
next	5.32;

5.32
date	99.06.21.18.41.41;	author wart;	state Exp;
branches;
next	5.31;

5.31
date	99.04.01.18.51.47;	author libes;	state Exp;
branches;
next	5.30;

5.30
date	99.04.01.16.10.29;	author libes;	state Exp;
branches
	5.30.2.1;
next	5.29;

5.29
date	99.02.12.23.51.46;	author libes;	state Exp;
branches;
next	5.28;

5.28
date	98.10.14.22.53.21;	author cvsadmin;	state Exp;
branches
	5.28.1.1;
next	;

5.28.1.1
date	98.10.14.22.53.21;	author cvsadmin;	state Exp;
branches;
next	;

5.30.2.1
date	99.06.07.17.49.38;	author libes;	state Exp;
branches;
next	5.30.2.2;

5.30.2.2
date	99.06.15.23.41.21;	author stanton;	state Exp;
branches;
next	5.30.2.3;

5.30.2.3
date	99.06.16.03.02.30;	author don;	state Exp;
branches;
next	5.30.2.4;

5.30.2.4
date	99.06.18.01.41.50;	author stanton;	state Exp;
branches;
next	5.30.2.5;

5.30.2.5
date	99.06.20.06.32.17;	author libes;	state Exp;
branches;
next	5.30.2.6;

5.30.2.6
date	99.06.22.22.15.36;	author stanton;	state Exp;
branches;
next	5.30.2.7;

5.30.2.7
date	99.06.23.17.25.15;	author libes;	state Exp;
branches;
next	5.30.2.8;

5.30.2.8
date	99.06.26.02.26.16;	author wart;	state Exp;
branches;
next	5.30.2.9;

5.30.2.9
date	99.06.28.06.29.22;	author libes;	state Exp;
branches;
next	5.30.2.10;

5.30.2.10
date	99.06.28.18.58.22;	author wart;	state Exp;
branches;
next	5.30.2.11;

5.30.2.11
date	99.06.28.21.11.20;	author wart;	state Exp;
branches;
next	5.30.2.12;

5.30.2.12
date	99.06.30.22.36.05;	author wart;	state Exp;
branches;
next	5.30.2.13;

5.30.2.13
date	99.06.30.22.47.17;	author wart;	state Exp;
branches;
next	5.30.2.14;

5.30.2.14
date	99.08.25.02.48.32;	author stanton;	state Exp;
branches;
next	5.30.2.15;

5.30.2.15
date	99.08.25.05.01.49;	author wart;	state Exp;
branches;
next	5.30.2.16;

5.30.2.16
date	99.10.29.18.50.39;	author libes;	state Exp;
branches;
next	5.30.2.17;

5.30.2.17
date	99.11.01.21.59.31;	author wart;	state Exp;
branches;
next	5.30.2.18;

5.30.2.18
date	99.11.02.01.55.25;	author wart;	state Exp;
branches;
next	5.30.2.19;

5.30.2.19
date	99.11.02.02.02.03;	author libes;	state Exp;
branches;
next	5.30.2.20;

5.30.2.20
date	99.11.02.02.11.00;	author wart;	state Exp;
branches;
next	5.30.2.21;

5.30.2.21
date	99.12.04.06.18.21;	author libes;	state Exp;
branches;
next	;

5.40.2.1
date	2001.11.09.19.40.02;	author andreas_kupries;	state Exp;
branches;
next	5.40.2.2;

5.40.2.2
date	2002.01.16.18.16.53;	author andreas_kupries;	state Exp;
branches;
next	;


desc
@@


5.81
log
@* exp_main_sub.c: Updated EXP_VERSION to 5.45.3
* configure, configure.in: Updated expect to version 5.45.3

* expect.man [http://sourceforge.net/p/expect/bugs/86/]. Report
  and fix by Vitezlav Crhonek.

* expect.c [http://sourceforge.net/p/expect/bugs/76/]. Report and
  fix by Mutsuhito Iikura. On finding a full buffer during
  matching the sliding window mechanism slides too far, truncating
  the whole buffer and preventing matches across the boundary. Fix
  is shortening the slide distance (slide only one 1/3).

* expect.c: [http://sourceforge.net/p/expect/patches/18/]. Report
  and fix both by Nils Carlson <nils.carlson@@ludd.ltu.se>.
  Replaced a cc==0 check with proper Tcl_Eof() check.
@
text
@#! /bin/sh
# From configure.in Id: configure.in.
# Guess values for system-dependent variables and create Makefiles.
# Generated by GNU Autoconf 2.59 for expect 5.45.3.
#
# Copyright (C) 2003 Free Software Foundation, Inc.
# This configure script is free software; the Free Software Foundation
# gives unlimited permission to copy, distribute and modify it.
## --------------------- ##
## M4sh Initialization.  ##
## --------------------- ##

# Be Bourne compatible
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
  emulate sh
  NULLCMD=:
  # Zsh 3.x and 4.x performs word splitting on ${1+"$@@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@@"}'='"$@@"'
elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
  set -o posix
fi
DUALCASE=1; export DUALCASE # for MKS sh

# Support unset when possible.
if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
  as_unset=unset
else
  as_unset=false
fi


# Work around bugs in pre-3.0 UWIN ksh.
$as_unset ENV MAIL MAILPATH
PS1='$ '
PS2='> '
PS4='+ '

# NLS nuisances.
for as_var in \
  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
  LC_TELEPHONE LC_TIME
do
  if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
    eval $as_var=C; export $as_var
  else
    $as_unset $as_var
  fi
done

# Required to use basename.
if expr a : '\(a\)' >/dev/null 2>&1; then
  as_expr=expr
else
  as_expr=false
fi

if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
  as_basename=basename
else
  as_basename=false
fi


# Name of the executable.
as_me=`$as_basename "$0" ||
$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)$' \| \
	 .     : '\(.\)' 2>/dev/null ||
echo X/"$0" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
  	  /^X\/\(\/\/\)$/{ s//\1/; q; }
  	  /^X\/\(\/\).*/{ s//\1/; q; }
  	  s/.*/./; q'`


# PATH needs CR, and LINENO needs CR and PATH.
# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits

# The user is always right.
if test "${PATH_SEPARATOR+set}" != set; then
  echo "#! /bin/sh" >conf$$.sh
  echo  "exit 0"   >>conf$$.sh
  chmod +x conf$$.sh
  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
    PATH_SEPARATOR=';'
  else
    PATH_SEPARATOR=:
  fi
  rm -f conf$$.sh
fi


  as_lineno_1=$LINENO
  as_lineno_2=$LINENO
  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
  test "x$as_lineno_1" != "x$as_lineno_2" &&
  test "x$as_lineno_3"  = "x$as_lineno_2"  || {
  # Find who we are.  Look in the path if we contain no path at all
  # relative or not.
  case $0 in
    *[\\/]* ) as_myself=$0 ;;
    *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
done

       ;;
  esac
  # We did not find ourselves, most probably we were run as `sh COMMAND'
  # in which case we are not to be found in the path.
  if test "x$as_myself" = x; then
    as_myself=$0
  fi
  if test ! -f "$as_myself"; then
    { echo "$as_me: error: cannot find myself; rerun with an absolute path" >&2
   { (exit 1); exit 1; }; }
  fi
  case $CONFIG_SHELL in
  '')
    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for as_base in sh bash ksh sh5; do
	 case $as_dir in
	 /*)
	   if ("$as_dir/$as_base" -c '
  as_lineno_1=$LINENO
  as_lineno_2=$LINENO
  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
  test "x$as_lineno_1" != "x$as_lineno_2" &&
  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
	     CONFIG_SHELL=$as_dir/$as_base
	     export CONFIG_SHELL
	     exec "$CONFIG_SHELL" "$0" ${1+"$@@"}
	   fi;;
	 esac
       done
done
;;
  esac

  # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
  # uniformly replaced by the line number.  The first 'sed' inserts a
  # line-number line before each line; the second 'sed' does the real
  # work.  The second script uses 'N' to pair each line-number line
  # with the numbered line, and appends trailing '-' during
  # substitution so that $LINENO is not a special case at line end.
  # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
  # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
  sed '=' <$as_myself |
    sed '
      N
      s,$,-,
      : loop
      s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
      t loop
      s,-$,,
      s,^['$as_cr_digits']*\n,,
    ' >$as_me.lineno &&
  chmod +x $as_me.lineno ||
    { echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2
   { (exit 1); exit 1; }; }

  # Don't try to exec as it changes $[0], causing all sort of problems
  # (the dirname of $[0] is not the place where we might find the
  # original and so on.  Autoconf is especially sensible to this).
  . ./$as_me.lineno
  # Exit status is that of the last command.
  exit
}


case `echo "testing\c"; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
  *c*,-n*) ECHO_N= ECHO_C='
' ECHO_T='	' ;;
  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
  *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
esac

if expr a : '\(a\)' >/dev/null 2>&1; then
  as_expr=expr
else
  as_expr=false
fi

rm -f conf$$ conf$$.exe conf$$.file
echo >conf$$.file
if ln -s conf$$.file conf$$ 2>/dev/null; then
  # We could just check for DJGPP; but this test a) works b) is more generic
  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
  if test -f conf$$.exe; then
    # Don't use ln at all; we don't have any links
    as_ln_s='cp -p'
  else
    as_ln_s='ln -s'
  fi
elif ln conf$$.file conf$$ 2>/dev/null; then
  as_ln_s=ln
else
  as_ln_s='cp -p'
fi
rm -f conf$$ conf$$.exe conf$$.file

if mkdir -p . 2>/dev/null; then
  as_mkdir_p=:
else
  test -d ./-p && rmdir ./-p
  as_mkdir_p=false
fi

as_executable_p="test -f"

# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"

# Sed expression to map a string onto a valid variable name.
as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"


# IFS
# We need space, tab and new line, in precisely that order.
as_nl='
'
IFS=" 	$as_nl"

# CDPATH.
$as_unset CDPATH


# Name of the host.
# hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
# so uname gets run too.
ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`

exec 6>&1

#
# Initializations.
#
ac_default_prefix=/usr/local
ac_config_libobj_dir=.
cross_compiling=no
subdirs=
MFLAGS=
MAKEFLAGS=
SHELL=${CONFIG_SHELL-/bin/sh}

# Maximum number of lines to put in a shell here document.
# This variable seems obsolete.  It should probably be removed, and
# only ac_max_sed_lines should be used.
: ${ac_max_here_lines=38}

# Identity of this package.
PACKAGE_NAME='expect'
PACKAGE_TARNAME='expect'
PACKAGE_VERSION='5.45.3'
PACKAGE_STRING='expect 5.45.3'
PACKAGE_BUGREPORT=''

# Factoring default headers for most tests.
ac_includes_default="\
#include <stdio.h>
#if HAVE_SYS_TYPES_H
# include <sys/types.h>
#endif
#if HAVE_SYS_STAT_H
# include <sys/stat.h>
#endif
#if STDC_HEADERS
# include <stdlib.h>
# include <stddef.h>
#else
# if HAVE_STDLIB_H
#  include <stdlib.h>
# endif
#endif
#if HAVE_STRING_H
# if !STDC_HEADERS && HAVE_MEMORY_H
#  include <memory.h>
# endif
# include <string.h>
#endif
#if HAVE_STRINGS_H
# include <strings.h>
#endif
#if HAVE_INTTYPES_H
# include <inttypes.h>
#else
# if HAVE_STDINT_H
#  include <stdint.h>
# endif
#endif
#if HAVE_UNISTD_H
# include <unistd.h>
#endif"

ac_subdirs_all="$ac_subdirs_all testsuite"
ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS CYGPATH EXEEXT PKG_LIB_FILE PKG_STUB_LIB_FILE PKG_STUB_SOURCES PKG_STUB_OBJECTS PKG_TCL_SOURCES PKG_HEADERS PKG_INCLUDES PKG_LIBS PKG_CFLAGS TCL_VERSION TCL_PATCH_LEVEL TCL_BIN_DIR TCL_SRC_DIR TCL_LIB_FILE TCL_LIB_FLAG TCL_LIB_SPEC TCL_STUB_LIB_FILE TCL_STUB_LIB_FLAG TCL_STUB_LIB_SPEC CLEANFILES TCL_LIBS TCL_DEFS TCL_EXTRA_CFLAGS TCL_LD_FLAGS TCL_SHLIB_LD_LIBS CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC OBJEXT CPP INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA SET_MAKE RANLIB ac_ct_RANLIB EGREP MATH_LIBS TCL_INCLUDES TCL_TOP_DIR_NATIVE TCL_THREADS SHARED_BUILD AR CELIB_DIR CFLAGS_DEBUG CFLAGS_OPTIMIZE CFLAGS_WARNING STLIB_LD SHLIB_LD SHLIB_LD_LIBS SHLIB_CFLAGS LD_LIBRARY_PATH_VAR CFLAGS_DEFAULT LDFLAGS_DEFAULT TCL_DBGX build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os subdirs EXP_BUILD_LIB_SPEC EXP_CC_SEARCH_FLAGS SETUID SETPGRP_VOID DEFAULT_STTY_ARGS TCL_DL_LIBS TCL_CC_SEARCH_FLAGS PKG_SOURCES PKG_OBJECTS MAKE_LIB MAKE_SHARED_LIB MAKE_STATIC_LIB MAKE_STUB_LIB RANLIB_STUB VC_MANIFEST_EMBED_DLL VC_MANIFEST_EMBED_EXE TCLSH_PROG LIBOBJS LTLIBOBJS'
ac_subst_files=''

# Initialize some variables set by options.
ac_init_help=
ac_init_version=false
# The variables have the same names as the options, with
# dashes changed to underlines.
cache_file=/dev/null
exec_prefix=NONE
no_create=
no_recursion=
prefix=NONE
program_prefix=NONE
program_suffix=NONE
program_transform_name=s,x,x,
silent=
site=
srcdir=
verbose=
x_includes=NONE
x_libraries=NONE

# Installation directory options.
# These are left unexpanded so users can "make install exec_prefix=/foo"
# and all the variables that are supposed to be based on exec_prefix
# by default will actually change.
# Use braces instead of parens because sh, perl, etc. also accept them.
bindir='${exec_prefix}/bin'
sbindir='${exec_prefix}/sbin'
libexecdir='${exec_prefix}/libexec'
datadir='${prefix}/share'
sysconfdir='${prefix}/etc'
sharedstatedir='${prefix}/com'
localstatedir='${prefix}/var'
libdir='${exec_prefix}/lib'
includedir='${prefix}/include'
oldincludedir='/usr/include'
infodir='${prefix}/info'
mandir='${prefix}/man'

ac_prev=
for ac_option
do
  # If the previous option needs an argument, assign it.
  if test -n "$ac_prev"; then
    eval "$ac_prev=\$ac_option"
    ac_prev=
    continue
  fi

  ac_optarg=`expr "x$ac_option" : 'x[^=]*=\(.*\)'`

  # Accept the important Cygnus configure options, so we can diagnose typos.

  case $ac_option in

  -bindir | --bindir | --bindi | --bind | --bin | --bi)
    ac_prev=bindir ;;
  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
    bindir=$ac_optarg ;;

  -build | --build | --buil | --bui | --bu)
    ac_prev=build_alias ;;
  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
    build_alias=$ac_optarg ;;

  -cache-file | --cache-file | --cache-fil | --cache-fi \
  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
    ac_prev=cache_file ;;
  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
    cache_file=$ac_optarg ;;

  --config-cache | -C)
    cache_file=config.cache ;;

  -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
    ac_prev=datadir ;;
  -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
  | --da=*)
    datadir=$ac_optarg ;;

  -disable-* | --disable-*)
    ac_feature=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid feature name: $ac_feature" >&2
   { (exit 1); exit 1; }; }
    ac_feature=`echo $ac_feature | sed 's/-/_/g'`
    eval "enable_$ac_feature=no" ;;

  -enable-* | --enable-*)
    ac_feature=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid feature name: $ac_feature" >&2
   { (exit 1); exit 1; }; }
    ac_feature=`echo $ac_feature | sed 's/-/_/g'`
    case $ac_option in
      *=*) ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`;;
      *) ac_optarg=yes ;;
    esac
    eval "enable_$ac_feature='$ac_optarg'" ;;

  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
  | --exec | --exe | --ex)
    ac_prev=exec_prefix ;;
  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
  | --exec=* | --exe=* | --ex=*)
    exec_prefix=$ac_optarg ;;

  -gas | --gas | --ga | --g)
    # Obsolete; use --with-gas.
    with_gas=yes ;;

  -help | --help | --hel | --he | -h)
    ac_init_help=long ;;
  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)
    ac_init_help=recursive ;;
  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)
    ac_init_help=short ;;

  -host | --host | --hos | --ho)
    ac_prev=host_alias ;;
  -host=* | --host=* | --hos=* | --ho=*)
    host_alias=$ac_optarg ;;

  -includedir | --includedir | --includedi | --included | --include \
  | --includ | --inclu | --incl | --inc)
    ac_prev=includedir ;;
  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
  | --includ=* | --inclu=* | --incl=* | --inc=*)
    includedir=$ac_optarg ;;

  -infodir | --infodir | --infodi | --infod | --info | --inf)
    ac_prev=infodir ;;
  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
    infodir=$ac_optarg ;;

  -libdir | --libdir | --libdi | --libd)
    ac_prev=libdir ;;
  -libdir=* | --libdir=* | --libdi=* | --libd=*)
    libdir=$ac_optarg ;;

  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
  | --libexe | --libex | --libe)
    ac_prev=libexecdir ;;
  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
  | --libexe=* | --libex=* | --libe=*)
    libexecdir=$ac_optarg ;;

  -localstatedir | --localstatedir | --localstatedi | --localstated \
  | --localstate | --localstat | --localsta | --localst \
  | --locals | --local | --loca | --loc | --lo)
    ac_prev=localstatedir ;;
  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
  | --localstate=* | --localstat=* | --localsta=* | --localst=* \
  | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
    localstatedir=$ac_optarg ;;

  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
    ac_prev=mandir ;;
  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
    mandir=$ac_optarg ;;

  -nfp | --nfp | --nf)
    # Obsolete; use --without-fp.
    with_fp=no ;;

  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c | -n)
    no_create=yes ;;

  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
    no_recursion=yes ;;

  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
  | --oldin | --oldi | --old | --ol | --o)
    ac_prev=oldincludedir ;;
  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
    oldincludedir=$ac_optarg ;;

  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
    ac_prev=prefix ;;
  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
    prefix=$ac_optarg ;;

  -program-prefix | --program-prefix | --program-prefi | --program-pref \
  | --program-pre | --program-pr | --program-p)
    ac_prev=program_prefix ;;
  -program-prefix=* | --program-prefix=* | --program-prefi=* \
  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
    program_prefix=$ac_optarg ;;

  -program-suffix | --program-suffix | --program-suffi | --program-suff \
  | --program-suf | --program-su | --program-s)
    ac_prev=program_suffix ;;
  -program-suffix=* | --program-suffix=* | --program-suffi=* \
  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
    program_suffix=$ac_optarg ;;

  -program-transform-name | --program-transform-name \
  | --program-transform-nam | --program-transform-na \
  | --program-transform-n | --program-transform- \
  | --program-transform | --program-transfor \
  | --program-transfo | --program-transf \
  | --program-trans | --program-tran \
  | --progr-tra | --program-tr | --program-t)
    ac_prev=program_transform_name ;;
  -program-transform-name=* | --program-transform-name=* \
  | --program-transform-nam=* | --program-transform-na=* \
  | --program-transform-n=* | --program-transform-=* \
  | --program-transform=* | --program-transfor=* \
  | --program-transfo=* | --program-transf=* \
  | --program-trans=* | --program-tran=* \
  | --progr-tra=* | --program-tr=* | --program-t=*)
    program_transform_name=$ac_optarg ;;

  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil)
    silent=yes ;;

  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
    ac_prev=sbindir ;;
  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
  | --sbi=* | --sb=*)
    sbindir=$ac_optarg ;;

  -sharedstatedir | --sharedstatedir | --sharedstatedi \
  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
  | --sharedst | --shareds | --shared | --share | --shar \
  | --sha | --sh)
    ac_prev=sharedstatedir ;;
  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
  | --sha=* | --sh=*)
    sharedstatedir=$ac_optarg ;;

  -site | --site | --sit)
    ac_prev=site ;;
  -site=* | --site=* | --sit=*)
    site=$ac_optarg ;;

  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
    ac_prev=srcdir ;;
  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
    srcdir=$ac_optarg ;;

  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
  | --syscon | --sysco | --sysc | --sys | --sy)
    ac_prev=sysconfdir ;;
  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
    sysconfdir=$ac_optarg ;;

  -target | --target | --targe | --targ | --tar | --ta | --t)
    ac_prev=target_alias ;;
  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
    target_alias=$ac_optarg ;;

  -v | -verbose | --verbose | --verbos | --verbo | --verb)
    verbose=yes ;;

  -version | --version | --versio | --versi | --vers | -V)
    ac_init_version=: ;;

  -with-* | --with-*)
    ac_package=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid package name: $ac_package" >&2
   { (exit 1); exit 1; }; }
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    case $ac_option in
      *=*) ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`;;
      *) ac_optarg=yes ;;
    esac
    eval "with_$ac_package='$ac_optarg'" ;;

  -without-* | --without-*)
    ac_package=`expr "x$ac_option" : 'x-*without-\(.*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid package name: $ac_package" >&2
   { (exit 1); exit 1; }; }
    ac_package=`echo $ac_package | sed 's/-/_/g'`
    eval "with_$ac_package=no" ;;

  --x)
    # Obsolete; use --with-x.
    with_x=yes ;;

  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
  | --x-incl | --x-inc | --x-in | --x-i)
    ac_prev=x_includes ;;
  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
    x_includes=$ac_optarg ;;

  -x-libraries | --x-libraries | --x-librarie | --x-librari \
  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
    ac_prev=x_libraries ;;
  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
    x_libraries=$ac_optarg ;;

  -*) { echo "$as_me: error: unrecognized option: $ac_option
Try \`$0 --help' for more information." >&2
   { (exit 1); exit 1; }; }
    ;;

  *=*)
    ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
    # Reject names that are not valid shell variable names.
    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid variable name: $ac_envvar" >&2
   { (exit 1); exit 1; }; }
    ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`
    eval "$ac_envvar='$ac_optarg'"
    export $ac_envvar ;;

  *)
    # FIXME: should be removed in autoconf 3.0.
    echo "$as_me: WARNING: you should use --build, --host, --target" >&2
    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
      echo "$as_me: WARNING: invalid host type: $ac_option" >&2
    : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
    ;;

  esac
done

if test -n "$ac_prev"; then
  ac_option=--`echo $ac_prev | sed 's/_/-/g'`
  { echo "$as_me: error: missing argument to $ac_option" >&2
   { (exit 1); exit 1; }; }
fi

# Be sure to have absolute paths.
for ac_var in exec_prefix prefix
do
  eval ac_val=$`echo $ac_var`
  case $ac_val in
    [\\/$]* | ?:[\\/]* | NONE | '' ) ;;
    *)  { echo "$as_me: error: expected an absolute directory name for --$ac_var: $ac_val" >&2
   { (exit 1); exit 1; }; };;
  esac
done

# Be sure to have absolute paths.
for ac_var in bindir sbindir libexecdir datadir sysconfdir sharedstatedir \
	      localstatedir libdir includedir oldincludedir infodir mandir
do
  eval ac_val=$`echo $ac_var`
  case $ac_val in
    [\\/$]* | ?:[\\/]* ) ;;
    *)  { echo "$as_me: error: expected an absolute directory name for --$ac_var: $ac_val" >&2
   { (exit 1); exit 1; }; };;
  esac
done

# There might be people who depend on the old broken behavior: `$host'
# used to hold the argument of --host etc.
# FIXME: To remove some day.
build=$build_alias
host=$host_alias
target=$target_alias

# FIXME: To remove some day.
if test "x$host_alias" != x; then
  if test "x$build_alias" = x; then
    cross_compiling=maybe
    echo "$as_me: WARNING: If you wanted to set the --build type, don't use --host.
    If a cross compiler is detected then cross compile mode will be used." >&2
  elif test "x$build_alias" != "x$host_alias"; then
    cross_compiling=yes
  fi
fi

ac_tool_prefix=
test -n "$host_alias" && ac_tool_prefix=$host_alias-

test "$silent" = yes && exec 6>/dev/null


# Find the source files, if location was not specified.
if test -z "$srcdir"; then
  ac_srcdir_defaulted=yes
  # Try the directory containing this script, then its parent.
  ac_confdir=`(dirname "$0") 2>/dev/null ||
$as_expr X"$0" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$0" : 'X\(//\)[^/]' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)' \| \
	 .     : '\(.\)' 2>/dev/null ||
echo X"$0" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
  	  /^X\(\/\/\)$/{ s//\1/; q; }
  	  /^X\(\/\).*/{ s//\1/; q; }
  	  s/.*/./; q'`
  srcdir=$ac_confdir
  if test ! -r $srcdir/$ac_unique_file; then
    srcdir=..
  fi
else
  ac_srcdir_defaulted=no
fi
if test ! -r $srcdir/$ac_unique_file; then
  if test "$ac_srcdir_defaulted" = yes; then
    { echo "$as_me: error: cannot find sources ($ac_unique_file) in $ac_confdir or .." >&2
   { (exit 1); exit 1; }; }
  else
    { echo "$as_me: error: cannot find sources ($ac_unique_file) in $srcdir" >&2
   { (exit 1); exit 1; }; }
  fi
fi
(cd $srcdir && test -r ./$ac_unique_file) 2>/dev/null ||
  { echo "$as_me: error: sources are in $srcdir, but \`cd $srcdir' does not work" >&2
   { (exit 1); exit 1; }; }
srcdir=`echo "$srcdir" | sed 's%\([^\\/]\)[\\/]*$%\1%'`
ac_env_build_alias_set=${build_alias+set}
ac_env_build_alias_value=$build_alias
ac_cv_env_build_alias_set=${build_alias+set}
ac_cv_env_build_alias_value=$build_alias
ac_env_host_alias_set=${host_alias+set}
ac_env_host_alias_value=$host_alias
ac_cv_env_host_alias_set=${host_alias+set}
ac_cv_env_host_alias_value=$host_alias
ac_env_target_alias_set=${target_alias+set}
ac_env_target_alias_value=$target_alias
ac_cv_env_target_alias_set=${target_alias+set}
ac_cv_env_target_alias_value=$target_alias
ac_env_CC_set=${CC+set}
ac_env_CC_value=$CC
ac_cv_env_CC_set=${CC+set}
ac_cv_env_CC_value=$CC
ac_env_CFLAGS_set=${CFLAGS+set}
ac_env_CFLAGS_value=$CFLAGS
ac_cv_env_CFLAGS_set=${CFLAGS+set}
ac_cv_env_CFLAGS_value=$CFLAGS
ac_env_LDFLAGS_set=${LDFLAGS+set}
ac_env_LDFLAGS_value=$LDFLAGS
ac_cv_env_LDFLAGS_set=${LDFLAGS+set}
ac_cv_env_LDFLAGS_value=$LDFLAGS
ac_env_CPPFLAGS_set=${CPPFLAGS+set}
ac_env_CPPFLAGS_value=$CPPFLAGS
ac_cv_env_CPPFLAGS_set=${CPPFLAGS+set}
ac_cv_env_CPPFLAGS_value=$CPPFLAGS
ac_env_CPP_set=${CPP+set}
ac_env_CPP_value=$CPP
ac_cv_env_CPP_set=${CPP+set}
ac_cv_env_CPP_value=$CPP

#
# Report the --help message.
#
if test "$ac_init_help" = "long"; then
  # Omit some internal or obsolete options to make the list less imposing.
  # This message is too long to be a string in the A/UX 3.1 sh.
  cat <<_ACEOF
\`configure' configures expect 5.45.3 to adapt to many kinds of systems.

Usage: $0 [OPTION]... [VAR=VALUE]...

To assign environment variables (e.g., CC, CFLAGS...), specify them as
VAR=VALUE.  See below for descriptions of some of the useful variables.

Defaults for the options are specified in brackets.

Configuration:
  -h, --help              display this help and exit
      --help=short        display options specific to this package
      --help=recursive    display the short help of all the included packages
  -V, --version           display version information and exit
  -q, --quiet, --silent   do not print \`checking...' messages
      --cache-file=FILE   cache test results in FILE [disabled]
  -C, --config-cache      alias for \`--cache-file=config.cache'
  -n, --no-create         do not create output files
      --srcdir=DIR        find the sources in DIR [configure dir or \`..']

_ACEOF

  cat <<_ACEOF
Installation directories:
  --prefix=PREFIX         install architecture-independent files in PREFIX
			  [$ac_default_prefix]
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
			  [PREFIX]

By default, \`make install' will install all the files in
\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
an installation prefix other than \`$ac_default_prefix' using \`--prefix',
for instance \`--prefix=\$HOME'.

For better control, use the options below.

Fine tuning of the installation directories:
  --bindir=DIR           user executables [EPREFIX/bin]
  --sbindir=DIR          system admin executables [EPREFIX/sbin]
  --libexecdir=DIR       program executables [EPREFIX/libexec]
  --datadir=DIR          read-only architecture-independent data [PREFIX/share]
  --sysconfdir=DIR       read-only single-machine data [PREFIX/etc]
  --sharedstatedir=DIR   modifiable architecture-independent data [PREFIX/com]
  --localstatedir=DIR    modifiable single-machine data [PREFIX/var]
  --libdir=DIR           object code libraries [EPREFIX/lib]
  --includedir=DIR       C header files [PREFIX/include]
  --oldincludedir=DIR    C header files for non-gcc [/usr/include]
  --infodir=DIR          info documentation [PREFIX/info]
  --mandir=DIR           man documentation [PREFIX/man]
_ACEOF

  cat <<\_ACEOF

System types:
  --build=BUILD     configure for building on BUILD [guessed]
  --host=HOST       cross-compile to build programs to run on HOST [BUILD]
  --target=TARGET   configure for building compilers for TARGET [HOST]
_ACEOF
fi

if test -n "$ac_init_help"; then
  case $ac_init_help in
     short | recursive ) echo "Configuration of expect 5.45.3:";;
   esac
  cat <<\_ACEOF

Optional Features:
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
  --enable-threads        build with threads
  --enable-shared         build and link with shared libraries (default: on)
  --enable-64bit          enable 64bit support (default: off)
  --enable-64bit-vis      enable 64bit Sparc VIS support (default: off)
  --disable-rpath         disable rpath support (default: on)
  --enable-wince          enable Win/CE support (where applicable)
  --enable-symbols        build with debugging symbols (default: off)

Optional Packages:
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --with-tcl              directory containing tcl configuration
                          (tclConfig.sh)
  --with-tclinclude       directory containing the public Tcl header files
  --with-celib=DIR        use Windows/CE support library from DIR

Some influential environment variables:
  CC          C compiler command
  CFLAGS      C compiler flags
  LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
              nonstandard directory <lib dir>
  CPPFLAGS    C/C++ preprocessor flags, e.g. -I<include dir> if you have
              headers in a nonstandard directory <include dir>
  CPP         C preprocessor

Use these variables to override the choices made by `configure' or to help
it to find libraries and programs with nonstandard names/locations.

_ACEOF
fi

if test "$ac_init_help" = "recursive"; then
  # If there are subdirs, report their specific --help.
  ac_popdir=`pwd`
  for ac_dir in : $ac_subdirs_all; do test "x$ac_dir" = x: && continue
    test -d $ac_dir || continue
    ac_builddir=.

if test "$ac_dir" != .; then
  ac_dir_suffix=/`echo "$ac_dir" | sed 's,^\.[\\/],,'`
  # A "../" for each directory in $ac_dir_suffix.
  ac_top_builddir=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,../,g'`
else
  ac_dir_suffix= ac_top_builddir=
fi

case $srcdir in
  .)  # No --srcdir option.  We are building in place.
    ac_srcdir=.
    if test -z "$ac_top_builddir"; then
       ac_top_srcdir=.
    else
       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
    fi ;;
  [\\/]* | ?:[\\/]* )  # Absolute path.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir ;;
  *) # Relative path.
    ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_builddir$srcdir ;;
esac

# Do not use `cd foo && pwd` to compute absolute paths, because
# the directories may not exist.
case `pwd` in
.) ac_abs_builddir="$ac_dir";;
*)
  case "$ac_dir" in
  .) ac_abs_builddir=`pwd`;;
  [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
  *) ac_abs_builddir=`pwd`/"$ac_dir";;
  esac;;
esac
case $ac_abs_builddir in
.) ac_abs_top_builddir=${ac_top_builddir}.;;
*)
  case ${ac_top_builddir}. in
  .) ac_abs_top_builddir=$ac_abs_builddir;;
  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
  esac;;
esac
case $ac_abs_builddir in
.) ac_abs_srcdir=$ac_srcdir;;
*)
  case $ac_srcdir in
  .) ac_abs_srcdir=$ac_abs_builddir;;
  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
  *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
  esac;;
esac
case $ac_abs_builddir in
.) ac_abs_top_srcdir=$ac_top_srcdir;;
*)
  case $ac_top_srcdir in
  .) ac_abs_top_srcdir=$ac_abs_builddir;;
  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
  *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
  esac;;
esac

    cd $ac_dir
    # Check for guested configure; otherwise get Cygnus style configure.
    if test -f $ac_srcdir/configure.gnu; then
      echo
      $SHELL $ac_srcdir/configure.gnu  --help=recursive
    elif test -f $ac_srcdir/configure; then
      echo
      $SHELL $ac_srcdir/configure  --help=recursive
    elif test -f $ac_srcdir/configure.ac ||
	   test -f $ac_srcdir/configure.in; then
      echo
      $ac_configure --help
    else
      echo "$as_me: WARNING: no configuration information is in $ac_dir" >&2
    fi
    cd $ac_popdir
  done
fi

test -n "$ac_init_help" && exit 0
if $ac_init_version; then
  cat <<\_ACEOF
expect configure 5.45.3
generated by GNU Autoconf 2.59

Copyright (C) 2003 Free Software Foundation, Inc.
This configure script is free software; the Free Software Foundation
gives unlimited permission to copy, distribute and modify it.
_ACEOF
  exit 0
fi
exec 5>config.log
cat >&5 <<_ACEOF
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by expect $as_me 5.45.3, which was
generated by GNU Autoconf 2.59.  Invocation command line was

  $ $0 $@@

_ACEOF
{
cat <<_ASUNAME
## --------- ##
## Platform. ##
## --------- ##

hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
uname -m = `(uname -m) 2>/dev/null || echo unknown`
uname -r = `(uname -r) 2>/dev/null || echo unknown`
uname -s = `(uname -s) 2>/dev/null || echo unknown`
uname -v = `(uname -v) 2>/dev/null || echo unknown`

/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`

/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
hostinfo               = `(hostinfo) 2>/dev/null               || echo unknown`
/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`

_ASUNAME

as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  echo "PATH: $as_dir"
done

} >&5

cat >&5 <<_ACEOF


## ----------- ##
## Core tests. ##
## ----------- ##

_ACEOF


# Keep a trace of the command line.
# Strip out --no-create and --no-recursion so they do not pile up.
# Strip out --silent because we don't want to record it for future runs.
# Also quote any args containing shell meta-characters.
# Make two passes to allow for proper duplicate-argument suppression.
ac_configure_args=
ac_configure_args0=
ac_configure_args1=
ac_sep=
ac_must_keep_next=false
for ac_pass in 1 2
do
  for ac_arg
  do
    case $ac_arg in
    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;
    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
    | -silent | --silent | --silen | --sile | --sil)
      continue ;;
    *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?\"\']*)
      ac_arg=`echo "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
    esac
    case $ac_pass in
    1) ac_configure_args0="$ac_configure_args0 '$ac_arg'" ;;
    2)
      ac_configure_args1="$ac_configure_args1 '$ac_arg'"
      if test $ac_must_keep_next = true; then
	ac_must_keep_next=false # Got value, back to normal.
      else
	case $ac_arg in
	  *=* | --config-cache | -C | -disable-* | --disable-* \
	  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
	  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
	  | -with-* | --with-* | -without-* | --without-* | --x)
	    case "$ac_configure_args0 " in
	      "$ac_configure_args1"*" '$ac_arg' "* ) continue ;;
	    esac
	    ;;
	  -* ) ac_must_keep_next=true ;;
	esac
      fi
      ac_configure_args="$ac_configure_args$ac_sep'$ac_arg'"
      # Get rid of the leading space.
      ac_sep=" "
      ;;
    esac
  done
done
$as_unset ac_configure_args0 || test "${ac_configure_args0+set}" != set || { ac_configure_args0=; export ac_configure_args0; }
$as_unset ac_configure_args1 || test "${ac_configure_args1+set}" != set || { ac_configure_args1=; export ac_configure_args1; }

# When interrupted or exit'd, cleanup temporary files, and complete
# config.log.  We remove comments because anyway the quotes in there
# would cause problems or look ugly.
# WARNING: Be sure not to use single quotes in there, as some shells,
# such as our DU 5.0 friend, will then `close' the trap.
trap 'exit_status=$?
  # Save into config.log some information that might help in debugging.
  {
    echo

    cat <<\_ASBOX
## ---------------- ##
## Cache variables. ##
## ---------------- ##
_ASBOX
    echo
    # The following way of writing the cache mishandles newlines in values,
{
  (set) 2>&1 |
    case `(ac_space='"'"' '"'"'; set | grep ac_space) 2>&1` in
    *ac_space=\ *)
      sed -n \
	"s/'"'"'/'"'"'\\\\'"'"''"'"'/g;
	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='"'"'\\2'"'"'/p"
      ;;
    *)
      sed -n \
	"s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
      ;;
    esac;
}
    echo

    cat <<\_ASBOX
## ----------------- ##
## Output variables. ##
## ----------------- ##
_ASBOX
    echo
    for ac_var in $ac_subst_vars
    do
      eval ac_val=$`echo $ac_var`
      echo "$ac_var='"'"'$ac_val'"'"'"
    done | sort
    echo

    if test -n "$ac_subst_files"; then
      cat <<\_ASBOX
## ------------- ##
## Output files. ##
## ------------- ##
_ASBOX
      echo
      for ac_var in $ac_subst_files
      do
	eval ac_val=$`echo $ac_var`
	echo "$ac_var='"'"'$ac_val'"'"'"
      done | sort
      echo
    fi

    if test -s confdefs.h; then
      cat <<\_ASBOX
## ----------- ##
## confdefs.h. ##
## ----------- ##
_ASBOX
      echo
      sed "/^$/d" confdefs.h | sort
      echo
    fi
    test "$ac_signal" != 0 &&
      echo "$as_me: caught signal $ac_signal"
    echo "$as_me: exit $exit_status"
  } >&5
  rm -f core *.core &&
  rm -rf conftest* confdefs* conf$$* $ac_clean_files &&
    exit $exit_status
     ' 0
for ac_signal in 1 2 13 15; do
  trap 'ac_signal='$ac_signal'; { (exit 1); exit 1; }' $ac_signal
done
ac_signal=0

# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -rf conftest* confdefs.h
# AIX cpp loses on an empty file, so make sure it contains at least a newline.
echo >confdefs.h

# Predefined preprocessor variables.

cat >>confdefs.h <<_ACEOF
#define PACKAGE_NAME "$PACKAGE_NAME"
_ACEOF


cat >>confdefs.h <<_ACEOF
#define PACKAGE_TARNAME "$PACKAGE_TARNAME"
_ACEOF


cat >>confdefs.h <<_ACEOF
#define PACKAGE_VERSION "$PACKAGE_VERSION"
_ACEOF


cat >>confdefs.h <<_ACEOF
#define PACKAGE_STRING "$PACKAGE_STRING"
_ACEOF


cat >>confdefs.h <<_ACEOF
#define PACKAGE_BUGREPORT "$PACKAGE_BUGREPORT"
_ACEOF


# Let the site file select an alternate cache file if it wants to.
# Prefer explicitly selected file to automatically selected ones.
if test -z "$CONFIG_SITE"; then
  if test "x$prefix" != xNONE; then
    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
  else
    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
  fi
fi
for ac_site_file in $CONFIG_SITE; do
  if test -r "$ac_site_file"; then
    { echo "$as_me:$LINENO: loading site script $ac_site_file" >&5
echo "$as_me: loading site script $ac_site_file" >&6;}
    sed 's/^/| /' "$ac_site_file" >&5
    . "$ac_site_file"
  fi
done

if test -r "$cache_file"; then
  # Some versions of bash will fail to source /dev/null (special
  # files actually), so we avoid doing that.
  if test -f "$cache_file"; then
    { echo "$as_me:$LINENO: loading cache $cache_file" >&5
echo "$as_me: loading cache $cache_file" >&6;}
    case $cache_file in
      [\\/]* | ?:[\\/]* ) . $cache_file;;
      *)                      . ./$cache_file;;
    esac
  fi
else
  { echo "$as_me:$LINENO: creating cache $cache_file" >&5
echo "$as_me: creating cache $cache_file" >&6;}
  >$cache_file
fi

# Check that the precious variables saved in the cache have kept the same
# value.
ac_cache_corrupted=false
for ac_var in `(set) 2>&1 |
	       sed -n 's/^ac_env_\([a-zA-Z_0-9]*\)_set=.*/\1/p'`; do
  eval ac_old_set=\$ac_cv_env_${ac_var}_set
  eval ac_new_set=\$ac_env_${ac_var}_set
  eval ac_old_val="\$ac_cv_env_${ac_var}_value"
  eval ac_new_val="\$ac_env_${ac_var}_value"
  case $ac_old_set,$ac_new_set in
    set,)
      { echo "$as_me:$LINENO: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
echo "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
      ac_cache_corrupted=: ;;
    ,set)
      { echo "$as_me:$LINENO: error: \`$ac_var' was not set in the previous run" >&5
echo "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
      ac_cache_corrupted=: ;;
    ,);;
    *)
      if test "x$ac_old_val" != "x$ac_new_val"; then
	{ echo "$as_me:$LINENO: error: \`$ac_var' has changed since the previous run:" >&5
echo "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
	{ echo "$as_me:$LINENO:   former value:  $ac_old_val" >&5
echo "$as_me:   former value:  $ac_old_val" >&2;}
	{ echo "$as_me:$LINENO:   current value: $ac_new_val" >&5
echo "$as_me:   current value: $ac_new_val" >&2;}
	ac_cache_corrupted=:
      fi;;
  esac
  # Pass precious variables to config.status.
  if test "$ac_new_set" = set; then
    case $ac_new_val in
    *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?\"\']*)
      ac_arg=$ac_var=`echo "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"` ;;
    *) ac_arg=$ac_var=$ac_new_val ;;
    esac
    case " $ac_configure_args " in
      *" '$ac_arg' "*) ;; # Avoid dups.  Use of quotes ensures accuracy.
      *) ac_configure_args="$ac_configure_args '$ac_arg'" ;;
    esac
  fi
done
if $ac_cache_corrupted; then
  { echo "$as_me:$LINENO: error: changes in the environment can compromise the build" >&5
echo "$as_me: error: changes in the environment can compromise the build" >&2;}
  { { echo "$as_me:$LINENO: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&5
echo "$as_me: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&2;}
   { (exit 1); exit 1; }; }
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu





























    # TEA extensions pass this us the version of TEA they think they
    # are compatible with.
    TEA_VERSION="3.9"

    echo "$as_me:$LINENO: checking for correct TEA configuration" >&5
echo $ECHO_N "checking for correct TEA configuration... $ECHO_C" >&6
    if test x"${PACKAGE_NAME}" = x ; then
	{ { echo "$as_me:$LINENO: error:
The PACKAGE_NAME variable must be defined by your TEA configure.in" >&5
echo "$as_me: error:
The PACKAGE_NAME variable must be defined by your TEA configure.in" >&2;}
   { (exit 1); exit 1; }; }
    fi
    if test x"3.9" = x ; then
	{ { echo "$as_me:$LINENO: error:
TEA version not specified." >&5
echo "$as_me: error:
TEA version not specified." >&2;}
   { (exit 1); exit 1; }; }
    elif test "3.9" != "${TEA_VERSION}" ; then
	echo "$as_me:$LINENO: result: warning: requested TEA version \"3.9\", have \"${TEA_VERSION}\"" >&5
echo "${ECHO_T}warning: requested TEA version \"3.9\", have \"${TEA_VERSION}\"" >&6
    else
	echo "$as_me:$LINENO: result: ok (TEA ${TEA_VERSION})" >&5
echo "${ECHO_T}ok (TEA ${TEA_VERSION})" >&6
    fi
    case "`uname -s`" in
	*win32*|*WIN32*|*MINGW32_*)
	    # Extract the first word of "cygpath", so it can be a program name with args.
set dummy cygpath; ac_word=$2
echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CYGPATH+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CYGPATH"; then
  ac_cv_prog_CYGPATH="$CYGPATH" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_CYGPATH="cygpath -w"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done

  test -z "$ac_cv_prog_CYGPATH" && ac_cv_prog_CYGPATH="echo"
fi
fi
CYGPATH=$ac_cv_prog_CYGPATH
if test -n "$CYGPATH"; then
  echo "$as_me:$LINENO: result: $CYGPATH" >&5
echo "${ECHO_T}$CYGPATH" >&6
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

	    EXEEXT=".exe"
	    TEA_PLATFORM="windows"
	    ;;
	*CYGWIN_*)
	    CYGPATH=echo
	    EXEEXT=".exe"
	    # TEA_PLATFORM is determined later in LOAD_TCLCONFIG
	    ;;
	*)
	    CYGPATH=echo
	    EXEEXT=""
	    TEA_PLATFORM="unix"
	    ;;
    esac

    # Check if exec_prefix is set. If not use fall back to prefix.
    # Note when adjusted, so that TEA_PREFIX can correct for this.
    # This is needed for recursive configures, since autoconf propagates
    # $prefix, but not $exec_prefix (doh!).
    if test x$exec_prefix = xNONE ; then
	exec_prefix_default=yes
	exec_prefix=$prefix
    fi

    { echo "$as_me:$LINENO: configuring ${PACKAGE_NAME} ${PACKAGE_VERSION}" >&5
echo "$as_me: configuring ${PACKAGE_NAME} ${PACKAGE_VERSION}" >&6;}




    # This package name must be replaced statically for AC_SUBST to work

    # Substitute STUB_LIB_FILE in case package creates a stub library too.


    # We AC_SUBST these here to ensure they are subst'ed,
    # in case the user doesn't call TEA_ADD_...









ac_aux_dir=
for ac_dir in tclconfig $srcdir/tclconfig; do
  if test -f $ac_dir/install-sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install-sh -c"
    break
  elif test -f $ac_dir/install.sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install.sh -c"
    break
  elif test -f $ac_dir/shtool; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/shtool install -c"
    break
  fi
done
if test -z "$ac_aux_dir"; then
  { { echo "$as_me:$LINENO: error: cannot find install-sh or install.sh in tclconfig $srcdir/tclconfig" >&5
echo "$as_me: error: cannot find install-sh or install.sh in tclconfig $srcdir/tclconfig" >&2;}
   { (exit 1); exit 1; }; }
fi
ac_config_guess="$SHELL $ac_aux_dir/config.guess"
ac_config_sub="$SHELL $ac_aux_dir/config.sub"
ac_configure="$SHELL $ac_aux_dir/configure" # This should be Cygnus configure.


#--------------------------------------------------------------------
# Configure script for package 'Expect'.
# TEA compliant.
#--------------------------------------------------------------------

#--------------------------------------------------------------------
# Load the tclConfig.sh file
#--------------------------------------------------------------------



    #
    # Ok, lets find the tcl configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tcl
    #

    if test x"${no_tcl}" = x ; then
	# we reset no_tcl in case something fails here
	no_tcl=true

# Check whether --with-tcl or --without-tcl was given.
if test "${with_tcl+set}" = set; then
  withval="$with_tcl"
  with_tclconfig="${withval}"
fi;
	echo "$as_me:$LINENO: checking for Tcl configuration" >&5
echo $ECHO_N "checking for Tcl configuration... $ECHO_C" >&6
	if test "${ac_cv_c_tclconfig+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else


	    # First check to see if --with-tcl was specified.
	    if test x"${with_tclconfig}" != x ; then
		case "${with_tclconfig}" in
		    */tclConfig.sh )
			if test -f "${with_tclconfig}"; then
			    { echo "$as_me:$LINENO: WARNING: --with-tcl argument should refer to directory containing tclConfig.sh, not to tclConfig.sh itself" >&5
echo "$as_me: WARNING: --with-tcl argument should refer to directory containing tclConfig.sh, not to tclConfig.sh itself" >&2;}
			    with_tclconfig="`echo "${with_tclconfig}" | sed 's!/tclConfig\.sh$!!'`"
			fi ;;
		esac
		if test -f "${with_tclconfig}/tclConfig.sh" ; then
		    ac_cv_c_tclconfig="`(cd "${with_tclconfig}"; pwd)`"
		else
		    { { echo "$as_me:$LINENO: error: ${with_tclconfig} directory doesn't contain tclConfig.sh" >&5
echo "$as_me: error: ${with_tclconfig} directory doesn't contain tclConfig.sh" >&2;}
   { (exit 1); exit 1; }; }
		fi
	    fi

	    # then check for a private Tcl installation
	    if test x"${ac_cv_c_tclconfig}" = x ; then
		for i in \
			../tcl \
			`ls -dr ../tcl[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ../tcl[8-9].[0-9] 2>/dev/null` \
			`ls -dr ../tcl[8-9].[0-9]* 2>/dev/null` \
			../../tcl \
			`ls -dr ../../tcl[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ../../tcl[8-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tcl[8-9].[0-9]* 2>/dev/null` \
			../../../tcl \
			`ls -dr ../../../tcl[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ../../../tcl[8-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tcl[8-9].[0-9]* 2>/dev/null` ; do
		    if test "${TEA_PLATFORM}" = "windows" \
			    -a -f "$i/win/tclConfig.sh" ; then
			ac_cv_c_tclconfig="`(cd $i/win; pwd)`"
			break
		    fi
		    if test -f "$i/unix/tclConfig.sh" ; then
			ac_cv_c_tclconfig="`(cd $i/unix; pwd)`"
			break
		    fi
		done
	    fi

	    # on Darwin, check in Framework installation locations
	    if test "`uname -s`" = "Darwin" -a x"${ac_cv_c_tclconfig}" = x ; then
		for i in `ls -d ~/Library/Frameworks 2>/dev/null` \
			`ls -d /Library/Frameworks 2>/dev/null` \
			`ls -d /Network/Library/Frameworks 2>/dev/null` \
			`ls -d /System/Library/Frameworks 2>/dev/null` \
			; do
		    if test -f "$i/Tcl.framework/tclConfig.sh" ; then
			ac_cv_c_tclconfig="`(cd $i/Tcl.framework; pwd)`"
			break
		    fi
		done
	    fi

	    # TEA specific: on Windows, check in common installation locations
	    if test "${TEA_PLATFORM}" = "windows" \
		-a x"${ac_cv_c_tclconfig}" = x ; then
		for i in `ls -d C:/Tcl/lib 2>/dev/null` \
			`ls -d C:/Progra~1/Tcl/lib 2>/dev/null` \
			; do
		    if test -f "$i/tclConfig.sh" ; then
			ac_cv_c_tclconfig="`(cd $i; pwd)`"
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tclconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tclConfig.sh" ; then
			ac_cv_c_tclconfig="`(cd $i; pwd)`"
			break
		    fi
		done
	    fi

	    # check in a few other private locations
	    if test x"${ac_cv_c_tclconfig}" = x ; then
		for i in \
			${srcdir}/../tcl \
			`ls -dr ${srcdir}/../tcl[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tcl[8-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tcl[8-9].[0-9]* 2>/dev/null` ; do
		    if test "${TEA_PLATFORM}" = "windows" \
			    -a -f "$i/win/tclConfig.sh" ; then
			ac_cv_c_tclconfig="`(cd $i/win; pwd)`"
			break
		    fi
		    if test -f "$i/unix/tclConfig.sh" ; then
			ac_cv_c_tclconfig="`(cd $i/unix; pwd)`"
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tclconfig}" = x ; then
	    TCL_BIN_DIR="# no Tcl configs found"
	    { { echo "$as_me:$LINENO: error: Can't find Tcl configuration definitions" >&5
echo "$as_me: error: Can't find Tcl configuration definitions" >&2;}
   { (exit 1); exit 1; }; }
	else
	    no_tcl=
	    TCL_BIN_DIR="${ac_cv_c_tclconfig}"
	    echo "$as_me:$LINENO: result: found ${TCL_BIN_DIR}/tclConfig.sh" >&5
echo "${ECHO_T}found ${TCL_BIN_DIR}/tclConfig.sh" >&6
	fi
    fi


    echo "$as_me:$LINENO: checking for existence of ${TCL_BIN_DIR}/tclConfig.sh" >&5
echo $ECHO_N "checking for existence of ${TCL_BIN_DIR}/tclConfig.sh... $ECHO_C" >&6

    if test -f "${TCL_BIN_DIR}/tclConfig.sh" ; then
        echo "$as_me:$LINENO: result: loading" >&5
echo "${ECHO_T}loading" >&6
	. "${TCL_BIN_DIR}/tclConfig.sh"
    else
        echo "$as_me:$LINENO: result: could not find ${TCL_BIN_DIR}/tclConfig.sh" >&5
echo "${ECHO_T}could not find ${TCL_BIN_DIR}/tclConfig.sh" >&6
    fi

    # eval is required to do the TCL_DBGX substitution
    eval "TCL_LIB_FILE=\"${TCL_LIB_FILE}\""
    eval "TCL_STUB_LIB_FILE=\"${TCL_STUB_LIB_FILE}\""

    # If the TCL_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable TCL_LIB_SPEC will be set to the value
    # of TCL_BUILD_LIB_SPEC. An extension should make use of TCL_LIB_SPEC
    # instead of TCL_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    if test -f "${TCL_BIN_DIR}/Makefile" ; then
        TCL_LIB_SPEC="${TCL_BUILD_LIB_SPEC}"
        TCL_STUB_LIB_SPEC="${TCL_BUILD_STUB_LIB_SPEC}"
        TCL_STUB_LIB_PATH="${TCL_BUILD_STUB_LIB_PATH}"
    elif test "`uname -s`" = "Darwin"; then
	# If Tcl was built as a framework, attempt to use the libraries
	# from the framework at the given location so that linking works
	# against Tcl.framework installed in an arbitrary location.
	case ${TCL_DEFS} in
	    *TCL_FRAMEWORK*)
		if test -f "${TCL_BIN_DIR}/${TCL_LIB_FILE}"; then
		    for i in "`cd "${TCL_BIN_DIR}"; pwd`" \
			     "`cd "${TCL_BIN_DIR}"/../..; pwd`"; do
			if test "`basename "$i"`" = "${TCL_LIB_FILE}.framework"; then
			    TCL_LIB_SPEC="-F`dirname "$i" | sed -e 's/ /\\\\ /g'` -framework ${TCL_LIB_FILE}"
			    break
			fi
		    done
		fi
		if test -f "${TCL_BIN_DIR}/${TCL_STUB_LIB_FILE}"; then
		    TCL_STUB_LIB_SPEC="-L`echo "${TCL_BIN_DIR}"  | sed -e 's/ /\\\\ /g'` ${TCL_STUB_LIB_FLAG}"
		    TCL_STUB_LIB_PATH="${TCL_BIN_DIR}/${TCL_STUB_LIB_FILE}"
		fi
		;;
	esac
    fi

    # eval is required to do the TCL_DBGX substitution
    eval "TCL_LIB_FLAG=\"${TCL_LIB_FLAG}\""
    eval "TCL_LIB_SPEC=\"${TCL_LIB_SPEC}\""
    eval "TCL_STUB_LIB_FLAG=\"${TCL_STUB_LIB_FLAG}\""
    eval "TCL_STUB_LIB_SPEC=\"${TCL_STUB_LIB_SPEC}\""














    case "`uname -s`" in
	*CYGWIN_*)
	    echo "$as_me:$LINENO: checking for cygwin variant" >&5
echo $ECHO_N "checking for cygwin variant... $ECHO_C" >&6
	    case ${TCL_EXTRA_CFLAGS} in
		*-mwin32*|*-mno-cygwin*)
		    TEA_PLATFORM="windows"
		    CFLAGS="$CFLAGS -mwin32"
		    echo "$as_me:$LINENO: result: win32" >&5
echo "${ECHO_T}win32" >&6
		    ;;
		*)
		    TEA_PLATFORM="unix"
		    echo "$as_me:$LINENO: result: unix" >&5
echo "${ECHO_T}unix" >&6
		    ;;
	    esac
	    EXEEXT=".exe"
	    ;;
	*)
	    ;;
    esac

    # The BUILD_$pkg is to define the correct extern storage class
    # handling when making this package

cat >>confdefs.h <<_ACEOF
#define BUILD_${PACKAGE_NAME}
_ACEOF

    # Do this here as we have fully defined TEA_PLATFORM now
    if test "${TEA_PLATFORM}" = "windows" ; then
	CLEANFILES="$CLEANFILES *.lib *.dll *.pdb *.exp"
    fi

    # TEA specific:








# expectk has been removed from the distribution as Tcl has supported
# dynamic extensions everywhere for a while.  We still allow 'expect'
# to be built for the die-hard users, but expectk is just wish with
# package require Expect
if test "${with_tk+set}" = set ; then
    { echo "$as_me:$LINENO: WARNING: With Tk request ignored - use package require Tk & Expect" >&5
echo "$as_me: WARNING: With Tk request ignored - use package require Tk & Expect" >&2;}
fi

#-----------------------------------------------------------------------
# Handle the --prefix=... option by defaulting to what Tcl gave.
# Must be called after TEA_LOAD_TCLCONFIG and before TEA_SETUP_COMPILER.
#-----------------------------------------------------------------------


    if test "${prefix}" = "NONE"; then
	prefix_default=yes
	if test x"${TCL_PREFIX}" != x; then
	    { echo "$as_me:$LINENO: --prefix defaulting to TCL_PREFIX ${TCL_PREFIX}" >&5
echo "$as_me: --prefix defaulting to TCL_PREFIX ${TCL_PREFIX}" >&6;}
	    prefix=${TCL_PREFIX}
	else
	    { echo "$as_me:$LINENO: --prefix defaulting to /usr/local" >&5
echo "$as_me: --prefix defaulting to /usr/local" >&6;}
	    prefix=/usr/local
	fi
    fi
    if test "${exec_prefix}" = "NONE" -a x"${prefix_default}" = x"yes" \
	-o x"${exec_prefix_default}" = x"yes" ; then
	if test x"${TCL_EXEC_PREFIX}" != x; then
	    { echo "$as_me:$LINENO: --exec-prefix defaulting to TCL_EXEC_PREFIX ${TCL_EXEC_PREFIX}" >&5
echo "$as_me: --exec-prefix defaulting to TCL_EXEC_PREFIX ${TCL_EXEC_PREFIX}" >&6;}
	    exec_prefix=${TCL_EXEC_PREFIX}
	else
	    { echo "$as_me:$LINENO: --exec-prefix defaulting to ${prefix}" >&5
echo "$as_me: --exec-prefix defaulting to ${prefix}" >&6;}
	    exec_prefix=$prefix
	fi
    fi


#-----------------------------------------------------------------------
# Standard compiler checks.
# This sets up CC by using the CC env var, or looks for gcc otherwise.
# This also calls AC_PROG_CC, AC_PROG_INSTALL and a few others to create
# the basic setup necessary to compile executables.
#-----------------------------------------------------------------------


    # Don't put any macros that use the compiler (e.g. AC_TRY_COMPILE)
    # in this macro, they need to go into TEA_SETUP_COMPILER instead.

    # If the user did not set CFLAGS, set it now to keep
    # the AC_PROG_CC macro from adding "-g -O2".
    if test "${CFLAGS+set}" != "set" ; then
	CFLAGS=""
    fi

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
set dummy ${ac_tool_prefix}gcc; ac_word=$2
echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="${ac_tool_prefix}gcc"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  echo "$as_me:$LINENO: result: $CC" >&5
echo "${ECHO_T}$CC" >&6
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

fi
if test -z "$ac_cv_prog_CC"; then
  ac_ct_CC=$CC
  # Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CC="gcc"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
echo "${ECHO_T}$ac_ct_CC" >&6
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  CC=$ac_ct_CC
else
  CC="$ac_cv_prog_CC"
fi

if test -z "$CC"; then
  if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
set dummy ${ac_tool_prefix}cc; ac_word=$2
echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="${ac_tool_prefix}cc"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  echo "$as_me:$LINENO: result: $CC" >&5
echo "${ECHO_T}$CC" >&6
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

fi
if test -z "$ac_cv_prog_CC"; then
  ac_ct_CC=$CC
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CC="cc"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
echo "${ECHO_T}$ac_ct_CC" >&6
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  CC=$ac_ct_CC
else
  CC="$ac_cv_prog_CC"
fi

fi
if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  ac_prog_rejected=no
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    if test "$as_dir/$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
       ac_prog_rejected=yes
       continue
     fi
    ac_cv_prog_CC="cc"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done

if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# != 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    ac_cv_prog_CC="$as_dir/$ac_word${1+' '}$@@"
  fi
fi
fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  echo "$as_me:$LINENO: result: $CC" >&5
echo "${ECHO_T}$CC" >&6
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

fi
if test -z "$CC"; then
  if test -n "$ac_tool_prefix"; then
  for ac_prog in cl
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  echo "$as_me:$LINENO: result: $CC" >&5
echo "${ECHO_T}$CC" >&6
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

    test -n "$CC" && break
  done
fi
if test -z "$CC"; then
  ac_ct_CC=$CC
  for ac_prog in cl
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CC="$ac_prog"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
echo "${ECHO_T}$ac_ct_CC" >&6
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$ac_ct_CC" && break
done

  CC=$ac_ct_CC
fi

fi


test -z "$CC" && { { echo "$as_me:$LINENO: error: no acceptable C compiler found in \$PATH
See \`config.log' for more details." >&5
echo "$as_me: error: no acceptable C compiler found in \$PATH
See \`config.log' for more details." >&2;}
   { (exit 1); exit 1; }; }

# Provide some information about the compiler.
echo "$as_me:$LINENO:" \
     "checking for C compiler version" >&5
ac_compiler=`set X $ac_compile; echo $2`
{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
  (eval $ac_compiler --version </dev/null >&5) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }
{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </dev/null >&5\"") >&5
  (eval $ac_compiler -v </dev/null >&5) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }
{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </dev/null >&5\"") >&5
  (eval $ac_compiler -V </dev/null >&5) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }

cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
ac_clean_files_save=$ac_clean_files
ac_clean_files="$ac_clean_files a.out a.exe b.out"
# Try to create an executable without -o first, disregard a.out.
# It will help us diagnose broken compilers, and finding out an intuition
# of exeext.
echo "$as_me:$LINENO: checking for C compiler default output file name" >&5
echo $ECHO_N "checking for C compiler default output file name... $ECHO_C" >&6
ac_link_default=`echo "$ac_link" | sed 's/ -o *conftest[^ ]*//'`
if { (eval echo "$as_me:$LINENO: \"$ac_link_default\"") >&5
  (eval $ac_link_default) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; then
  # Find the output, starting from the most likely.  This scheme is
# not robust to junk in `.', hence go to wildcards (a.*) only as a last
# resort.

# Be careful to initialize this variable, since it used to be cached.
# Otherwise an old cache value of `no' led to `EXEEXT = no' in a Makefile.
ac_cv_exeext=
# b.out is created by i960 compilers.
for ac_file in a_out.exe a.exe conftest.exe a.out conftest a.* conftest.* b.out
do
  test -f "$ac_file" || continue
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj )
	;;
    conftest.$ac_ext )
	# This is the source file.
	;;
    [ab].out )
	# We found the default executable, but exeext='' is most
	# certainly right.
	break;;
    *.* )
	ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
	# FIXME: I believe we export ac_cv_exeext for Libtool,
	# but it would be cool to find out if it's true.  Does anybody
	# maintain Libtool? --akim.
	export ac_cv_exeext
	break;;
    * )
	break;;
  esac
done
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

{ { echo "$as_me:$LINENO: error: C compiler cannot create executables
See \`config.log' for more details." >&5
echo "$as_me: error: C compiler cannot create executables
See \`config.log' for more details." >&2;}
   { (exit 77); exit 77; }; }
fi

ac_exeext=$ac_cv_exeext
echo "$as_me:$LINENO: result: $ac_file" >&5
echo "${ECHO_T}$ac_file" >&6

# Check the compiler produces executables we can run.  If not, either
# the compiler is broken, or we cross compile.
echo "$as_me:$LINENO: checking whether the C compiler works" >&5
echo $ECHO_N "checking whether the C compiler works... $ECHO_C" >&6
# FIXME: These cross compiler hacks should be removed for Autoconf 3.0
# If not cross compiling, check that we can run a simple program.
if test "$cross_compiling" != yes; then
  if { ac_try='./$ac_file'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
    cross_compiling=no
  else
    if test "$cross_compiling" = maybe; then
	cross_compiling=yes
    else
	{ { echo "$as_me:$LINENO: error: cannot run C compiled programs.
If you meant to cross compile, use \`--host'.
See \`config.log' for more details." >&5
echo "$as_me: error: cannot run C compiled programs.
If you meant to cross compile, use \`--host'.
See \`config.log' for more details." >&2;}
   { (exit 1); exit 1; }; }
    fi
  fi
fi
echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6

rm -f a.out a.exe conftest$ac_cv_exeext b.out
ac_clean_files=$ac_clean_files_save
# Check the compiler produces executables we can run.  If not, either
# the compiler is broken, or we cross compile.
echo "$as_me:$LINENO: checking whether we are cross compiling" >&5
echo $ECHO_N "checking whether we are cross compiling... $ECHO_C" >&6
echo "$as_me:$LINENO: result: $cross_compiling" >&5
echo "${ECHO_T}$cross_compiling" >&6

echo "$as_me:$LINENO: checking for suffix of executables" >&5
echo $ECHO_N "checking for suffix of executables... $ECHO_C" >&6
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; then
  # If both `conftest.exe' and `conftest' are `present' (well, observable)
# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
# work properly (i.e., refer to `conftest.exe'), while it won't with
# `rm'.
for ac_file in conftest.exe conftest conftest.*; do
  test -f "$ac_file" || continue
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj ) ;;
    *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
	  export ac_cv_exeext
	  break;;
    * ) break;;
  esac
done
else
  { { echo "$as_me:$LINENO: error: cannot compute suffix of executables: cannot compile and link
See \`config.log' for more details." >&5
echo "$as_me: error: cannot compute suffix of executables: cannot compile and link
See \`config.log' for more details." >&2;}
   { (exit 1); exit 1; }; }
fi

rm -f conftest$ac_cv_exeext
echo "$as_me:$LINENO: result: $ac_cv_exeext" >&5
echo "${ECHO_T}$ac_cv_exeext" >&6

rm -f conftest.$ac_ext
EXEEXT=$ac_cv_exeext
ac_exeext=$EXEEXT
echo "$as_me:$LINENO: checking for suffix of object files" >&5
echo $ECHO_N "checking for suffix of object files... $ECHO_C" >&6
if test "${ac_cv_objext+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.o conftest.obj
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; then
  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/dev/null`; do
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg ) ;;
    *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
       break;;
  esac
done
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

{ { echo "$as_me:$LINENO: error: cannot compute suffix of object files: cannot compile
See \`config.log' for more details." >&5
echo "$as_me: error: cannot compute suffix of object files: cannot compile
See \`config.log' for more details." >&2;}
   { (exit 1); exit 1; }; }
fi

rm -f conftest.$ac_cv_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_objext" >&5
echo "${ECHO_T}$ac_cv_objext" >&6
OBJEXT=$ac_cv_objext
ac_objext=$OBJEXT
echo "$as_me:$LINENO: checking whether we are using the GNU C compiler" >&5
echo $ECHO_N "checking whether we are using the GNU C compiler... $ECHO_C" >&6
if test "${ac_cv_c_compiler_gnu+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{
#ifndef __GNUC__
       choke me
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_compiler_gnu=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_compiler_gnu=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
ac_cv_c_compiler_gnu=$ac_compiler_gnu

fi
echo "$as_me:$LINENO: result: $ac_cv_c_compiler_gnu" >&5
echo "${ECHO_T}$ac_cv_c_compiler_gnu" >&6
GCC=`test $ac_compiler_gnu = yes && echo yes`
ac_test_CFLAGS=${CFLAGS+set}
ac_save_CFLAGS=$CFLAGS
CFLAGS="-g"
echo "$as_me:$LINENO: checking whether $CC accepts -g" >&5
echo $ECHO_N "checking whether $CC accepts -g... $ECHO_C" >&6
if test "${ac_cv_prog_cc_g+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_prog_cc_g=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_prog_cc_g=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_prog_cc_g" >&5
echo "${ECHO_T}$ac_cv_prog_cc_g" >&6
if test "$ac_test_CFLAGS" = set; then
  CFLAGS=$ac_save_CFLAGS
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi
echo "$as_me:$LINENO: checking for $CC option to accept ANSI C" >&5
echo $ECHO_N "checking for $CC option to accept ANSI C... $ECHO_C" >&6
if test "${ac_cv_prog_cc_stdc+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_prog_cc_stdc=no
ac_save_CC=$CC
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <stdarg.h>
#include <stdio.h>
#include <sys/types.h>
#include <sys/stat.h>
/* Most of the following tests are stolen from RCS 5.7's src/conf.sh.  */
struct buf { int x; };
FILE * (*rcsopen) (struct buf *, struct stat *, int);
static char *e (p, i)
     char **p;
     int i;
{
  return p[i];
}
static char *f (char * (*g) (char **, int), char **p, ...)
{
  char *s;
  va_list v;
  va_start (v,p);
  s = g (p, va_arg (v,int));
  va_end (v);
  return s;
}

/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
   function prototypes and stuff, but not '\xHH' hex character constants.
   These don't provoke an error unfortunately, instead are silently treated
   as 'x'.  The following induces an error, until -std1 is added to get
   proper ANSI mode.  Curiously '\x00'!='x' always comes out true, for an
   array size at least.  It's necessary to write '\x00'==0 to get something
   that's true only with -std1.  */
int osf4_cc_array ['\x00' == 0 ? 1 : -1];

int test (int i, double x);
struct s1 {int (*f) (int a);};
struct s2 {int (*f) (double a);};
int pairnames (int, char **, FILE *(*)(struct buf *, struct stat *, int), int, int);
int argc;
char **argv;
int
main ()
{
return f (e, argv, 0) != argv[0]  ||  f (e, argv, 1) != argv[1];
  ;
  return 0;
}
_ACEOF
# Don't try gcc -ansi; that turns off useful extensions and
# breaks some systems' header files.
# AIX			-qlanglvl=ansi
# Ultrix and OSF/1	-std1
# HP-UX 10.20 and later	-Ae
# HP-UX older versions	-Aa -D_HPUX_SOURCE
# SVR4			-Xc -D__EXTENSIONS__
for ac_arg in "" -qlanglvl=ansi -std1 -Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
do
  CC="$ac_save_CC $ac_arg"
  rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_prog_cc_stdc=$ac_arg
break
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

fi
rm -f conftest.err conftest.$ac_objext
done
rm -f conftest.$ac_ext conftest.$ac_objext
CC=$ac_save_CC

fi

case "x$ac_cv_prog_cc_stdc" in
  x|xno)
    echo "$as_me:$LINENO: result: none needed" >&5
echo "${ECHO_T}none needed" >&6 ;;
  *)
    echo "$as_me:$LINENO: result: $ac_cv_prog_cc_stdc" >&5
echo "${ECHO_T}$ac_cv_prog_cc_stdc" >&6
    CC="$CC $ac_cv_prog_cc_stdc" ;;
esac

# Some people use a C++ compiler to compile C.  Since we use `exit',
# in C++ we need to declare it.  In case someone uses the same compiler
# for both compiling C and C++ we need to have the C++ compiler decide
# the declaration of exit, since it's the most demanding environment.
cat >conftest.$ac_ext <<_ACEOF
#ifndef __cplusplus
  choke me
#endif
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  for ac_declaration in \
   '' \
   'extern "C" void std::exit (int) throw (); using std::exit;' \
   'extern "C" void std::exit (int); using std::exit;' \
   'extern "C" void exit (int) throw ();' \
   'extern "C" void exit (int);' \
   'void exit (int);'
do
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_declaration
#include <stdlib.h>
int
main ()
{
exit (42);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

continue
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_declaration
int
main ()
{
exit (42);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  break
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
done
rm -f conftest*
if test -n "$ac_declaration"; then
  echo '#ifdef __cplusplus' >>confdefs.h
  echo $ac_declaration      >>confdefs.h
  echo '#endif'             >>confdefs.h
fi

else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
echo "$as_me:$LINENO: checking how to run the C preprocessor" >&5
echo $ECHO_N "checking how to run the C preprocessor... $ECHO_C" >&6
# On Suns, sometimes $CPP names a directory.
if test -n "$CPP" && test -d "$CPP"; then
  CPP=
fi
if test -z "$CPP"; then
  if test "${ac_cv_prog_CPP+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
      # Double quotes because CPP needs to be expanded
    for CPP in "$CC -E" "$CC -E -traditional-cpp" "/lib/cpp"
    do
      ac_preproc_ok=false
for ac_c_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
  # <limits.h> exists even on freestanding compilers.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif
		     Syntax error
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  :
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  # Broken: fails on valid input.
continue
fi
rm -f conftest.err conftest.$ac_ext

  # OK, works on sane cases.  Now check whether non-existent headers
  # can be detected and how.
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <ac_nonexistent.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  # Broken: success on invalid input.
continue
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  # Passes both tests.
ac_preproc_ok=:
break
fi
rm -f conftest.err conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.err conftest.$ac_ext
if $ac_preproc_ok; then
  break
fi

    done
    ac_cv_prog_CPP=$CPP

fi
  CPP=$ac_cv_prog_CPP
else
  ac_cv_prog_CPP=$CPP
fi
echo "$as_me:$LINENO: result: $CPP" >&5
echo "${ECHO_T}$CPP" >&6
ac_preproc_ok=false
for ac_c_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
  # <limits.h> exists even on freestanding compilers.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif
		     Syntax error
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  :
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  # Broken: fails on valid input.
continue
fi
rm -f conftest.err conftest.$ac_ext

  # OK, works on sane cases.  Now check whether non-existent headers
  # can be detected and how.
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <ac_nonexistent.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  # Broken: success on invalid input.
continue
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  # Passes both tests.
ac_preproc_ok=:
break
fi
rm -f conftest.err conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.err conftest.$ac_ext
if $ac_preproc_ok; then
  :
else
  { { echo "$as_me:$LINENO: error: C preprocessor \"$CPP\" fails sanity check
See \`config.log' for more details." >&5
echo "$as_me: error: C preprocessor \"$CPP\" fails sanity check
See \`config.log' for more details." >&2;}
   { (exit 1); exit 1; }; }
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    # Find a good install program.  We prefer a C program (faster),
# so one script is as good as another.  But avoid the broken or
# incompatible versions:
# SysV /etc/install, /usr/sbin/install
# SunOS /usr/etc/install
# IRIX /sbin/install
# AIX /bin/install
# AmigaOS /C/install, which installs bootblocks on floppy discs
# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
# AFS /usr/afsws/bin/install, which mishandles nonexistent args
# SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
# OS/2's system install, which has a completely different semantic
# ./install, which can be erroneously created by make from ./install.sh.
echo "$as_me:$LINENO: checking for a BSD-compatible install" >&5
echo $ECHO_N "checking for a BSD-compatible install... $ECHO_C" >&6
if test -z "$INSTALL"; then
if test "${ac_cv_path_install+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  # Account for people who put trailing slashes in PATH elements.
case $as_dir/ in
  ./ | .// | /cC/* | \
  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
  ?:\\/os2\\/install\\/* | ?:\\/OS2\\/INSTALL\\/* | \
  /usr/ucb/* ) ;;
  *)
    # OSF1 and SCO ODT 3.0 have their own names for install.
    # Don't use installbsd from OSF since it installs stuff as root
    # by default.
    for ac_prog in ginstall scoinst install; do
      for ac_exec_ext in '' $ac_executable_extensions; do
	if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
	  if test $ac_prog = install &&
	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
	    # AIX install.  It has an incompatible calling convention.
	    :
	  elif test $ac_prog = install &&
	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
	    # program-specific install script used by HP pwplus--don't use.
	    :
	  else
	    ac_cv_path_install="$as_dir/$ac_prog$ac_exec_ext -c"
	    break 3
	  fi
	fi
      done
    done
    ;;
esac
done


fi
  if test "${ac_cv_path_install+set}" = set; then
    INSTALL=$ac_cv_path_install
  else
    # As a last resort, use the slow shell script.  We don't cache a
    # path for INSTALL within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the path is relative.
    INSTALL=$ac_install_sh
  fi
fi
echo "$as_me:$LINENO: result: $INSTALL" >&5
echo "${ECHO_T}$INSTALL" >&6

# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
# It thinks the first close brace ends the variable substitution.
test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'

test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL}'

test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'


    #--------------------------------------------------------------------
    # Checks to see if the make program sets the $MAKE variable.
    #--------------------------------------------------------------------

    echo "$as_me:$LINENO: checking whether ${MAKE-make} sets \$(MAKE)" >&5
echo $ECHO_N "checking whether ${MAKE-make} sets \$(MAKE)... $ECHO_C" >&6
set dummy ${MAKE-make}; ac_make=`echo "$2" | sed 'y,:./+-,___p_,'`
if eval "test \"\${ac_cv_prog_make_${ac_make}_set+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.make <<\_ACEOF
all:
	@@echo 'ac_maketemp="$(MAKE)"'
_ACEOF
# GNU make sometimes prints "make[1]: Entering...", which would confuse us.
eval `${MAKE-make} -f conftest.make 2>/dev/null | grep temp=`
if test -n "$ac_maketemp"; then
  eval ac_cv_prog_make_${ac_make}_set=yes
else
  eval ac_cv_prog_make_${ac_make}_set=no
fi
rm -f conftest.make
fi
if eval "test \"`echo '$ac_cv_prog_make_'${ac_make}_set`\" = yes"; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
  SET_MAKE=
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
  SET_MAKE="MAKE=${MAKE-make}"
fi


    #--------------------------------------------------------------------
    # Find ranlib
    #--------------------------------------------------------------------

    if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
set dummy ${ac_tool_prefix}ranlib; ac_word=$2
echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_RANLIB+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done

fi
fi
RANLIB=$ac_cv_prog_RANLIB
if test -n "$RANLIB"; then
  echo "$as_me:$LINENO: result: $RANLIB" >&5
echo "${ECHO_T}$RANLIB" >&6
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

fi
if test -z "$ac_cv_prog_RANLIB"; then
  ac_ct_RANLIB=$RANLIB
  # Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_RANLIB+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_RANLIB"; then
  ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_RANLIB="ranlib"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done

  test -z "$ac_cv_prog_ac_ct_RANLIB" && ac_cv_prog_ac_ct_RANLIB=":"
fi
fi
ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
if test -n "$ac_ct_RANLIB"; then
  echo "$as_me:$LINENO: result: $ac_ct_RANLIB" >&5
echo "${ECHO_T}$ac_ct_RANLIB" >&6
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  RANLIB=$ac_ct_RANLIB
else
  RANLIB="$ac_cv_prog_RANLIB"
fi


    #--------------------------------------------------------------------
    # Determines the correct binary file extension (.o, .obj, .exe etc.)
    #--------------------------------------------------------------------






echo "$as_me:$LINENO: checking for egrep" >&5
echo $ECHO_N "checking for egrep... $ECHO_C" >&6
if test "${ac_cv_prog_egrep+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if echo a | (grep -E '(a|b)') >/dev/null 2>&1
    then ac_cv_prog_egrep='grep -E'
    else ac_cv_prog_egrep='egrep'
    fi
fi
echo "$as_me:$LINENO: result: $ac_cv_prog_egrep" >&5
echo "${ECHO_T}$ac_cv_prog_egrep" >&6
 EGREP=$ac_cv_prog_egrep


echo "$as_me:$LINENO: checking for ANSI C header files" >&5
echo $ECHO_N "checking for ANSI C header files... $ECHO_C" >&6
if test "${ac_cv_header_stdc+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_header_stdc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_header_stdc=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext

if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <string.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "memchr" >/dev/null 2>&1; then
  :
else
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <stdlib.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "free" >/dev/null 2>&1; then
  :
else
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
  if test "$cross_compiling" = yes; then
  :
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <ctype.h>
#if ((' ' & 0x0FF) == 0x020)
# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#else
# define ISLOWER(c) \
		   (('a' <= (c) && (c) <= 'i') \
		     || ('j' <= (c) && (c) <= 'r') \
		     || ('s' <= (c) && (c) <= 'z'))
# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
#endif

#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int
main ()
{
  int i;
  for (i = 0; i < 256; i++)
    if (XOR (islower (i), ISLOWER (i))
	|| toupper (i) != TOUPPER (i))
      exit(2);
  exit (0);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
ac_cv_header_stdc=no
fi
rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
fi
echo "$as_me:$LINENO: result: $ac_cv_header_stdc" >&5
echo "${ECHO_T}$ac_cv_header_stdc" >&6
if test $ac_cv_header_stdc = yes; then

cat >>confdefs.h <<\_ACEOF
#define STDC_HEADERS 1
_ACEOF

fi

# On IRIX 5.3, sys/types and inttypes.h are conflicting.









for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
		  inttypes.h stdint.h unistd.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:$LINENO: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default

#include <$ac_header>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<_ACEOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF

fi

done



    # Any macros that use the compiler (e.g. AC_TRY_COMPILE) have to go here.


    #------------------------------------------------------------------------
    # If we're using GCC, see if the compiler understands -pipe. If so, use it.
    # It makes compiling go faster.  (This is only a performance feature.)
    #------------------------------------------------------------------------

    if test -z "$no_pipe" -a -n "$GCC"; then
	echo "$as_me:$LINENO: checking if the compiler understands -pipe" >&5
echo $ECHO_N "checking if the compiler understands -pipe... $ECHO_C" >&6
if test "${tcl_cv_cc_pipe+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	    hold_cflags=$CFLAGS; CFLAGS="$CFLAGS -pipe"
	    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_cc_pipe=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_cc_pipe=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
	    CFLAGS=$hold_cflags
fi
echo "$as_me:$LINENO: result: $tcl_cv_cc_pipe" >&5
echo "${ECHO_T}$tcl_cv_cc_pipe" >&6
	if test $tcl_cv_cc_pipe = yes; then
	    CFLAGS="$CFLAGS -pipe"
	fi
    fi

    #--------------------------------------------------------------------
    # Common compiler flag setup
    #--------------------------------------------------------------------

    echo "$as_me:$LINENO: checking whether byte ordering is bigendian" >&5
echo $ECHO_N "checking whether byte ordering is bigendian... $ECHO_C" >&6
if test "${ac_cv_c_bigendian+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  # See if sys/param.h defines the BYTE_ORDER macro.
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/types.h>
#include <sys/param.h>

int
main ()
{
#if !BYTE_ORDER || !BIG_ENDIAN || !LITTLE_ENDIAN
 bogus endian macros
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  # It does; now see whether it defined to BIG_ENDIAN or not.
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/types.h>
#include <sys/param.h>

int
main ()
{
#if BYTE_ORDER != BIG_ENDIAN
 not big endian
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_c_bigendian=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_c_bigendian=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

# It does not; compile a test program.
if test "$cross_compiling" = yes; then
  # try to guess the endianness by grepping values into an object file
  ac_cv_c_bigendian=unknown
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
short ascii_mm[] = { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };
short ascii_ii[] = { 0x694C, 0x5454, 0x656C, 0x6E45, 0x6944, 0x6E61, 0 };
void _ascii () { char *s = (char *) ascii_mm; s = (char *) ascii_ii; }
short ebcdic_ii[] = { 0x89D3, 0xE3E3, 0x8593, 0x95C5, 0x89C4, 0x9581, 0 };
short ebcdic_mm[] = { 0xC2C9, 0xC785, 0x95C4, 0x8981, 0x95E2, 0xA8E2, 0 };
void _ebcdic () { char *s = (char *) ebcdic_mm; s = (char *) ebcdic_ii; }
int
main ()
{
 _ascii (); _ebcdic ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  if grep BIGenDianSyS conftest.$ac_objext >/dev/null ; then
  ac_cv_c_bigendian=yes
fi
if grep LiTTleEnDian conftest.$ac_objext >/dev/null ; then
  if test "$ac_cv_c_bigendian" = unknown; then
    ac_cv_c_bigendian=no
  else
    # finding both strings is unlikely to happen, but who knows?
    ac_cv_c_bigendian=unknown
  fi
fi
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
int
main ()
{
  /* Are we little or big endian?  From Harbison&Steele.  */
  union
  {
    long l;
    char c[sizeof (long)];
  } u;
  u.l = 1;
  exit (u.c[sizeof (long) - 1] == 1);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_c_bigendian=no
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
ac_cv_c_bigendian=yes
fi
rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_c_bigendian" >&5
echo "${ECHO_T}$ac_cv_c_bigendian" >&6
case $ac_cv_c_bigendian in
  yes)

cat >>confdefs.h <<\_ACEOF
#define WORDS_BIGENDIAN 1
_ACEOF
 ;;
  no)
     ;;
  *)
    { { echo "$as_me:$LINENO: error: unknown endianness
presetting ac_cv_c_bigendian=no (or yes) will help" >&5
echo "$as_me: error: unknown endianness
presetting ac_cv_c_bigendian=no (or yes) will help" >&2;}
   { (exit 1); exit 1; }; } ;;
esac

    if test "${TEA_PLATFORM}" = "unix" ; then

    #--------------------------------------------------------------------
    # On a few very rare systems, all of the libm.a stuff is
    # already in libc.a.  Set compiler flags accordingly.
    # Also, Linux requires the "ieee" library for math to work
    # right (and it must appear before "-lm").
    #--------------------------------------------------------------------

    echo "$as_me:$LINENO: checking for sin" >&5
echo $ECHO_N "checking for sin... $ECHO_C" >&6
if test "${ac_cv_func_sin+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define sin to an innocuous variant, in case <limits.h> declares sin.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define sin innocuous_sin

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char sin (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef sin

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char sin ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_sin) || defined (__stub___sin)
choke me
#else
char (*f) () = sin;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != sin;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_sin=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_sin=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_sin" >&5
echo "${ECHO_T}$ac_cv_func_sin" >&6
if test $ac_cv_func_sin = yes; then
  MATH_LIBS=""
else
  MATH_LIBS="-lm"
fi

    echo "$as_me:$LINENO: checking for main in -lieee" >&5
echo $ECHO_N "checking for main in -lieee... $ECHO_C" >&6
if test "${ac_cv_lib_ieee_main+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lieee  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */


int
main ()
{
main ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_ieee_main=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_ieee_main=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_ieee_main" >&5
echo "${ECHO_T}$ac_cv_lib_ieee_main" >&6
if test $ac_cv_lib_ieee_main = yes; then
  MATH_LIBS="-lieee $MATH_LIBS"
fi


    #--------------------------------------------------------------------
    # Interactive UNIX requires -linet instead of -lsocket, plus it
    # needs net/errno.h to define the socket-related error codes.
    #--------------------------------------------------------------------

    echo "$as_me:$LINENO: checking for main in -linet" >&5
echo $ECHO_N "checking for main in -linet... $ECHO_C" >&6
if test "${ac_cv_lib_inet_main+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-linet  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */


int
main ()
{
main ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_inet_main=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_inet_main=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_inet_main" >&5
echo "${ECHO_T}$ac_cv_lib_inet_main" >&6
if test $ac_cv_lib_inet_main = yes; then
  LIBS="$LIBS -linet"
fi

    if test "${ac_cv_header_net_errno_h+set}" = set; then
  echo "$as_me:$LINENO: checking for net/errno.h" >&5
echo $ECHO_N "checking for net/errno.h... $ECHO_C" >&6
if test "${ac_cv_header_net_errno_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_net_errno_h" >&5
echo "${ECHO_T}$ac_cv_header_net_errno_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking net/errno.h usability" >&5
echo $ECHO_N "checking net/errno.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <net/errno.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking net/errno.h presence" >&5
echo $ECHO_N "checking net/errno.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <net/errno.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: net/errno.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: net/errno.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: net/errno.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: net/errno.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: net/errno.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: net/errno.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: net/errno.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: net/errno.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: net/errno.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: net/errno.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: net/errno.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: net/errno.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: net/errno.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: net/errno.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: net/errno.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: net/errno.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for net/errno.h" >&5
echo $ECHO_N "checking for net/errno.h... $ECHO_C" >&6
if test "${ac_cv_header_net_errno_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_net_errno_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_net_errno_h" >&5
echo "${ECHO_T}$ac_cv_header_net_errno_h" >&6

fi
if test $ac_cv_header_net_errno_h = yes; then


cat >>confdefs.h <<\_ACEOF
#define HAVE_NET_ERRNO_H 1
_ACEOF

fi



    #--------------------------------------------------------------------
    #	Check for the existence of the -lsocket and -lnsl libraries.
    #	The order here is important, so that they end up in the right
    #	order in the command line generated by make.  Here are some
    #	special considerations:
    #	1. Use "connect" and "accept" to check for -lsocket, and
    #	   "gethostbyname" to check for -lnsl.
    #	2. Use each function name only once:  can't redo a check because
    #	   autoconf caches the results of the last check and won't redo it.
    #	3. Use -lnsl and -lsocket only if they supply procedures that
    #	   aren't already present in the normal libraries.  This is because
    #	   IRIX 5.2 has libraries, but they aren't needed and they're
    #	   bogus:  they goof up name resolution if used.
    #	4. On some SVR4 systems, can't use -lsocket without -lnsl too.
    #	   To get around this problem, check for both libraries together
    #	   if -lsocket doesn't work by itself.
    #--------------------------------------------------------------------

    tcl_checkBoth=0
    echo "$as_me:$LINENO: checking for connect" >&5
echo $ECHO_N "checking for connect... $ECHO_C" >&6
if test "${ac_cv_func_connect+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define connect to an innocuous variant, in case <limits.h> declares connect.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define connect innocuous_connect

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char connect (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef connect

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char connect ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_connect) || defined (__stub___connect)
choke me
#else
char (*f) () = connect;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != connect;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_connect=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_connect=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_connect" >&5
echo "${ECHO_T}$ac_cv_func_connect" >&6
if test $ac_cv_func_connect = yes; then
  tcl_checkSocket=0
else
  tcl_checkSocket=1
fi

    if test "$tcl_checkSocket" = 1; then
	echo "$as_me:$LINENO: checking for setsockopt" >&5
echo $ECHO_N "checking for setsockopt... $ECHO_C" >&6
if test "${ac_cv_func_setsockopt+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define setsockopt to an innocuous variant, in case <limits.h> declares setsockopt.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define setsockopt innocuous_setsockopt

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char setsockopt (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef setsockopt

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char setsockopt ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_setsockopt) || defined (__stub___setsockopt)
choke me
#else
char (*f) () = setsockopt;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != setsockopt;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_setsockopt=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_setsockopt=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_setsockopt" >&5
echo "${ECHO_T}$ac_cv_func_setsockopt" >&6
if test $ac_cv_func_setsockopt = yes; then
  :
else
  echo "$as_me:$LINENO: checking for setsockopt in -lsocket" >&5
echo $ECHO_N "checking for setsockopt in -lsocket... $ECHO_C" >&6
if test "${ac_cv_lib_socket_setsockopt+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lsocket  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char setsockopt ();
int
main ()
{
setsockopt ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_socket_setsockopt=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_socket_setsockopt=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_socket_setsockopt" >&5
echo "${ECHO_T}$ac_cv_lib_socket_setsockopt" >&6
if test $ac_cv_lib_socket_setsockopt = yes; then
  LIBS="$LIBS -lsocket"
else
  tcl_checkBoth=1
fi

fi

    fi
    if test "$tcl_checkBoth" = 1; then
	tk_oldLibs=$LIBS
	LIBS="$LIBS -lsocket -lnsl"
	echo "$as_me:$LINENO: checking for accept" >&5
echo $ECHO_N "checking for accept... $ECHO_C" >&6
if test "${ac_cv_func_accept+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define accept to an innocuous variant, in case <limits.h> declares accept.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define accept innocuous_accept

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char accept (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef accept

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char accept ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_accept) || defined (__stub___accept)
choke me
#else
char (*f) () = accept;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != accept;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_accept=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_accept=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_accept" >&5
echo "${ECHO_T}$ac_cv_func_accept" >&6
if test $ac_cv_func_accept = yes; then
  tcl_checkNsl=0
else
  LIBS=$tk_oldLibs
fi

    fi
    echo "$as_me:$LINENO: checking for gethostbyname" >&5
echo $ECHO_N "checking for gethostbyname... $ECHO_C" >&6
if test "${ac_cv_func_gethostbyname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define gethostbyname to an innocuous variant, in case <limits.h> declares gethostbyname.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define gethostbyname innocuous_gethostbyname

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char gethostbyname (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef gethostbyname

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostbyname ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_gethostbyname) || defined (__stub___gethostbyname)
choke me
#else
char (*f) () = gethostbyname;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != gethostbyname;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_gethostbyname=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_gethostbyname=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_gethostbyname" >&5
echo "${ECHO_T}$ac_cv_func_gethostbyname" >&6
if test $ac_cv_func_gethostbyname = yes; then
  :
else
  echo "$as_me:$LINENO: checking for gethostbyname in -lnsl" >&5
echo $ECHO_N "checking for gethostbyname in -lnsl... $ECHO_C" >&6
if test "${ac_cv_lib_nsl_gethostbyname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnsl  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostbyname ();
int
main ()
{
gethostbyname ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_nsl_gethostbyname=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_nsl_gethostbyname=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_nsl_gethostbyname" >&5
echo "${ECHO_T}$ac_cv_lib_nsl_gethostbyname" >&6
if test $ac_cv_lib_nsl_gethostbyname = yes; then
  LIBS="$LIBS -lnsl"
fi

fi


    # TEA specific: Don't perform the eval of the libraries here because
    # DL_LIBS won't be set until we call TEA_CONFIG_CFLAGS

    TCL_LIBS='${DL_LIBS} ${LIBS} ${MATH_LIBS}'




    echo "$as_me:$LINENO: checking dirent.h" >&5
echo $ECHO_N "checking dirent.h... $ECHO_C" >&6
if test "${tcl_cv_dirent_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/types.h>
#include <dirent.h>
int
main ()
{

#ifndef _POSIX_SOURCE
#   ifdef __Lynx__
	/*
	 * Generate compilation error to make the test fail:  Lynx headers
	 * are only valid if really in the POSIX environment.
	 */

	missing_procedure();
#   endif
#endif
DIR *d;
struct dirent *entryPtr;
char *p;
d = opendir("foobar");
entryPtr = readdir(d);
p = entryPtr->d_name;
closedir(d);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_dirent_h=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_dirent_h=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $tcl_cv_dirent_h" >&5
echo "${ECHO_T}$tcl_cv_dirent_h" >&6

    if test $tcl_cv_dirent_h = no; then

cat >>confdefs.h <<\_ACEOF
#define NO_DIRENT_H 1
_ACEOF

    fi

    # TEA specific:
    if test "${ac_cv_header_errno_h+set}" = set; then
  echo "$as_me:$LINENO: checking for errno.h" >&5
echo $ECHO_N "checking for errno.h... $ECHO_C" >&6
if test "${ac_cv_header_errno_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_errno_h" >&5
echo "${ECHO_T}$ac_cv_header_errno_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking errno.h usability" >&5
echo $ECHO_N "checking errno.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <errno.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking errno.h presence" >&5
echo $ECHO_N "checking errno.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <errno.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: errno.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: errno.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: errno.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: errno.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: errno.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: errno.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: errno.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: errno.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: errno.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: errno.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: errno.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: errno.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: errno.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: errno.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: errno.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: errno.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for errno.h" >&5
echo $ECHO_N "checking for errno.h... $ECHO_C" >&6
if test "${ac_cv_header_errno_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_errno_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_errno_h" >&5
echo "${ECHO_T}$ac_cv_header_errno_h" >&6

fi
if test $ac_cv_header_errno_h = yes; then
  :
else

cat >>confdefs.h <<\_ACEOF
#define NO_ERRNO_H 1
_ACEOF

fi


    if test "${ac_cv_header_float_h+set}" = set; then
  echo "$as_me:$LINENO: checking for float.h" >&5
echo $ECHO_N "checking for float.h... $ECHO_C" >&6
if test "${ac_cv_header_float_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_float_h" >&5
echo "${ECHO_T}$ac_cv_header_float_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking float.h usability" >&5
echo $ECHO_N "checking float.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <float.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking float.h presence" >&5
echo $ECHO_N "checking float.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <float.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: float.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: float.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: float.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: float.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: float.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: float.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: float.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: float.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: float.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: float.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: float.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: float.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: float.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: float.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: float.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: float.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for float.h" >&5
echo $ECHO_N "checking for float.h... $ECHO_C" >&6
if test "${ac_cv_header_float_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_float_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_float_h" >&5
echo "${ECHO_T}$ac_cv_header_float_h" >&6

fi
if test $ac_cv_header_float_h = yes; then
  :
else

cat >>confdefs.h <<\_ACEOF
#define NO_FLOAT_H 1
_ACEOF

fi


    if test "${ac_cv_header_values_h+set}" = set; then
  echo "$as_me:$LINENO: checking for values.h" >&5
echo $ECHO_N "checking for values.h... $ECHO_C" >&6
if test "${ac_cv_header_values_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_values_h" >&5
echo "${ECHO_T}$ac_cv_header_values_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking values.h usability" >&5
echo $ECHO_N "checking values.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <values.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking values.h presence" >&5
echo $ECHO_N "checking values.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <values.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: values.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: values.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: values.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: values.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: values.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: values.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: values.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: values.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: values.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: values.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: values.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: values.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: values.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: values.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: values.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: values.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for values.h" >&5
echo $ECHO_N "checking for values.h... $ECHO_C" >&6
if test "${ac_cv_header_values_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_values_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_values_h" >&5
echo "${ECHO_T}$ac_cv_header_values_h" >&6

fi
if test $ac_cv_header_values_h = yes; then
  :
else

cat >>confdefs.h <<\_ACEOF
#define NO_VALUES_H 1
_ACEOF

fi


    if test "${ac_cv_header_limits_h+set}" = set; then
  echo "$as_me:$LINENO: checking for limits.h" >&5
echo $ECHO_N "checking for limits.h... $ECHO_C" >&6
if test "${ac_cv_header_limits_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_limits_h" >&5
echo "${ECHO_T}$ac_cv_header_limits_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking limits.h usability" >&5
echo $ECHO_N "checking limits.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <limits.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking limits.h presence" >&5
echo $ECHO_N "checking limits.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <limits.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: limits.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: limits.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: limits.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: limits.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: limits.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: limits.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: limits.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: limits.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: limits.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: limits.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: limits.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: limits.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: limits.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: limits.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: limits.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: limits.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for limits.h" >&5
echo $ECHO_N "checking for limits.h... $ECHO_C" >&6
if test "${ac_cv_header_limits_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_limits_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_limits_h" >&5
echo "${ECHO_T}$ac_cv_header_limits_h" >&6

fi
if test $ac_cv_header_limits_h = yes; then

cat >>confdefs.h <<\_ACEOF
#define HAVE_LIMITS_H 1
_ACEOF

else

cat >>confdefs.h <<\_ACEOF
#define NO_LIMITS_H 1
_ACEOF

fi


    if test "${ac_cv_header_stdlib_h+set}" = set; then
  echo "$as_me:$LINENO: checking for stdlib.h" >&5
echo $ECHO_N "checking for stdlib.h... $ECHO_C" >&6
if test "${ac_cv_header_stdlib_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_stdlib_h" >&5
echo "${ECHO_T}$ac_cv_header_stdlib_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking stdlib.h usability" >&5
echo $ECHO_N "checking stdlib.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <stdlib.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking stdlib.h presence" >&5
echo $ECHO_N "checking stdlib.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <stdlib.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: stdlib.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: stdlib.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: stdlib.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: stdlib.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: stdlib.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: stdlib.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: stdlib.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: stdlib.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: stdlib.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: stdlib.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: stdlib.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: stdlib.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: stdlib.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: stdlib.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: stdlib.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: stdlib.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for stdlib.h" >&5
echo $ECHO_N "checking for stdlib.h... $ECHO_C" >&6
if test "${ac_cv_header_stdlib_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_stdlib_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_stdlib_h" >&5
echo "${ECHO_T}$ac_cv_header_stdlib_h" >&6

fi
if test $ac_cv_header_stdlib_h = yes; then
  tcl_ok=1
else
  tcl_ok=0
fi


    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <stdlib.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "strtol" >/dev/null 2>&1; then
  :
else
  tcl_ok=0
fi
rm -f conftest*

    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <stdlib.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "strtoul" >/dev/null 2>&1; then
  :
else
  tcl_ok=0
fi
rm -f conftest*

    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <stdlib.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "strtod" >/dev/null 2>&1; then
  :
else
  tcl_ok=0
fi
rm -f conftest*

    if test $tcl_ok = 0; then

cat >>confdefs.h <<\_ACEOF
#define NO_STDLIB_H 1
_ACEOF

    fi
    if test "${ac_cv_header_string_h+set}" = set; then
  echo "$as_me:$LINENO: checking for string.h" >&5
echo $ECHO_N "checking for string.h... $ECHO_C" >&6
if test "${ac_cv_header_string_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_string_h" >&5
echo "${ECHO_T}$ac_cv_header_string_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking string.h usability" >&5
echo $ECHO_N "checking string.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <string.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking string.h presence" >&5
echo $ECHO_N "checking string.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <string.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: string.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: string.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: string.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: string.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: string.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: string.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: string.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: string.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: string.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: string.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: string.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: string.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: string.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: string.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: string.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: string.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for string.h" >&5
echo $ECHO_N "checking for string.h... $ECHO_C" >&6
if test "${ac_cv_header_string_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_string_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_string_h" >&5
echo "${ECHO_T}$ac_cv_header_string_h" >&6

fi
if test $ac_cv_header_string_h = yes; then
  tcl_ok=1
else
  tcl_ok=0
fi


    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <string.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "strstr" >/dev/null 2>&1; then
  :
else
  tcl_ok=0
fi
rm -f conftest*

    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <string.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "strerror" >/dev/null 2>&1; then
  :
else
  tcl_ok=0
fi
rm -f conftest*


    # See also memmove check below for a place where NO_STRING_H can be
    # set and why.

    if test $tcl_ok = 0; then

cat >>confdefs.h <<\_ACEOF
#define NO_STRING_H 1
_ACEOF

    fi

    if test "${ac_cv_header_sys_wait_h+set}" = set; then
  echo "$as_me:$LINENO: checking for sys/wait.h" >&5
echo $ECHO_N "checking for sys/wait.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_wait_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_wait_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_wait_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking sys/wait.h usability" >&5
echo $ECHO_N "checking sys/wait.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <sys/wait.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking sys/wait.h presence" >&5
echo $ECHO_N "checking sys/wait.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/wait.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: sys/wait.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: sys/wait.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/wait.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: sys/wait.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: sys/wait.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: sys/wait.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/wait.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: sys/wait.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/wait.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: sys/wait.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/wait.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: sys/wait.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/wait.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: sys/wait.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/wait.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: sys/wait.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for sys/wait.h" >&5
echo $ECHO_N "checking for sys/wait.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_wait_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_sys_wait_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_wait_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_wait_h" >&6

fi
if test $ac_cv_header_sys_wait_h = yes; then
  :
else

cat >>confdefs.h <<\_ACEOF
#define NO_SYS_WAIT_H 1
_ACEOF

fi


    if test "${ac_cv_header_dlfcn_h+set}" = set; then
  echo "$as_me:$LINENO: checking for dlfcn.h" >&5
echo $ECHO_N "checking for dlfcn.h... $ECHO_C" >&6
if test "${ac_cv_header_dlfcn_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_dlfcn_h" >&5
echo "${ECHO_T}$ac_cv_header_dlfcn_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking dlfcn.h usability" >&5
echo $ECHO_N "checking dlfcn.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <dlfcn.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking dlfcn.h presence" >&5
echo $ECHO_N "checking dlfcn.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <dlfcn.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: dlfcn.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: dlfcn.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: dlfcn.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: dlfcn.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: dlfcn.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: dlfcn.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: dlfcn.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: dlfcn.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: dlfcn.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: dlfcn.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: dlfcn.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: dlfcn.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: dlfcn.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: dlfcn.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: dlfcn.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: dlfcn.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for dlfcn.h" >&5
echo $ECHO_N "checking for dlfcn.h... $ECHO_C" >&6
if test "${ac_cv_header_dlfcn_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_dlfcn_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_dlfcn_h" >&5
echo "${ECHO_T}$ac_cv_header_dlfcn_h" >&6

fi
if test $ac_cv_header_dlfcn_h = yes; then
  :
else

cat >>confdefs.h <<\_ACEOF
#define NO_DLFCN_H 1
_ACEOF

fi



    # OS/390 lacks sys/param.h (and doesn't need it, by chance).

for ac_header in sys/param.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo "$as_me:$LINENO: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking $ac_header usability" >&5
echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <$ac_header>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking $ac_header presence" >&5
echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  eval "$as_ac_Header=\$ac_header_preproc"
fi
echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6

fi
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<_ACEOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF

fi

done


	# Let the user call this, because if it triggers, they will
	# need a compat/strtod.c that is correct.  Users can also
	# use Tcl_GetDouble(FromObj) instead.
	#TEA_BUGGY_STRTOD
    fi


#--------------------------------------------------------------------
# __CHANGE__
# Choose which headers you need.  Extension authors should try very
# hard to only rely on the Tcl public header files.  Internal headers
# contain private data structures and are subject to change without
# notice.
# This MUST be called after TEA_LOAD_TCLCONFIG / TEA_LOAD_TKCONFIG
#--------------------------------------------------------------------

#TEA_PUBLIC_TCL_HEADERS

    echo "$as_me:$LINENO: checking for Tcl public headers" >&5
echo $ECHO_N "checking for Tcl public headers... $ECHO_C" >&6


# Check whether --with-tclinclude or --without-tclinclude was given.
if test "${with_tclinclude+set}" = set; then
  withval="$with_tclinclude"
  with_tclinclude=${withval}
fi;

    if test "${ac_cv_c_tclh+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	# Use the value from --with-tclinclude, if it was given

	if test x"${with_tclinclude}" != x ; then
	    if test -f "${with_tclinclude}/tcl.h" ; then
		ac_cv_c_tclh=${with_tclinclude}
	    else
		{ { echo "$as_me:$LINENO: error: ${with_tclinclude} directory does not contain tcl.h" >&5
echo "$as_me: error: ${with_tclinclude} directory does not contain tcl.h" >&2;}
   { (exit 1); exit 1; }; }
	    fi
	else
	    list=""
	    if test "`uname -s`" = "Darwin"; then
		# If Tcl was built as a framework, attempt to use
		# the framework's Headers directory
		case ${TCL_DEFS} in
		    *TCL_FRAMEWORK*)
			list="`ls -d ${TCL_BIN_DIR}/Headers 2>/dev/null`"
			;;
		esac
	    fi

	    # Look in the source dir only if Tcl is not installed,
	    # and in that situation, look there before installed locations.
	    if test -f "${TCL_BIN_DIR}/Makefile" ; then
		list="$list `ls -d ${TCL_SRC_DIR}/generic 2>/dev/null`"
	    fi

	    # Check order: pkg --prefix location, Tcl's --prefix location,
	    # relative to directory of tclConfig.sh.

	    eval "temp_includedir=${includedir}"
	    list="$list \
		`ls -d ${temp_includedir}        2>/dev/null` \
		`ls -d ${TCL_PREFIX}/include     2>/dev/null` \
		`ls -d ${TCL_BIN_DIR}/../include 2>/dev/null`"
	    if test "${TEA_PLATFORM}" != "windows" -o "$GCC" = "yes"; then
		list="$list /usr/local/include /usr/include"
		if test x"${TCL_INCLUDE_SPEC}" != x ; then
		    d=`echo "${TCL_INCLUDE_SPEC}" | sed -e 's/^-I//'`
		    list="$list `ls -d ${d} 2>/dev/null`"
		fi
	    fi
	    for i in $list ; do
		if test -f "$i/tcl.h" ; then
		    ac_cv_c_tclh=$i
		    break
		fi
	    done
	fi

fi


    # Print a message based on how we determined the include path

    if test x"${ac_cv_c_tclh}" = x ; then
	{ { echo "$as_me:$LINENO: error: tcl.h not found.  Please specify its location with --with-tclinclude" >&5
echo "$as_me: error: tcl.h not found.  Please specify its location with --with-tclinclude" >&2;}
   { (exit 1); exit 1; }; }
    else
	echo "$as_me:$LINENO: result: ${ac_cv_c_tclh}" >&5
echo "${ECHO_T}${ac_cv_c_tclh}" >&6
    fi

    # Convert to a native path and substitute into the output files.

    INCLUDE_DIR_NATIVE=`${CYGPATH} ${ac_cv_c_tclh}`

    TCL_INCLUDES=-I\"${INCLUDE_DIR_NATIVE}\"




    # Allow for --with-tclinclude to take effect and define ${ac_cv_c_tclh}

    echo "$as_me:$LINENO: checking for Tcl private include files" >&5
echo $ECHO_N "checking for Tcl private include files... $ECHO_C" >&6

    TCL_SRC_DIR_NATIVE=`${CYGPATH} ${TCL_SRC_DIR}`
    TCL_TOP_DIR_NATIVE=\"${TCL_SRC_DIR_NATIVE}\"

    # Check to see if tcl<Plat>Port.h isn't already with the public headers
    # Don't look for tclInt.h because that resides with tcl.h in the core
    # sources, but the <plat>Port headers are in a different directory
    if test "${TEA_PLATFORM}" = "windows" -a \
	-f "${ac_cv_c_tclh}/tclWinPort.h"; then
	result="private headers found with public headers"
    elif test "${TEA_PLATFORM}" = "unix" -a \
	-f "${ac_cv_c_tclh}/tclUnixPort.h"; then
	result="private headers found with public headers"
    else
	TCL_GENERIC_DIR_NATIVE=\"${TCL_SRC_DIR_NATIVE}/generic\"
	if test "${TEA_PLATFORM}" = "windows"; then
	    TCL_PLATFORM_DIR_NATIVE=\"${TCL_SRC_DIR_NATIVE}/win\"
	else
	    TCL_PLATFORM_DIR_NATIVE=\"${TCL_SRC_DIR_NATIVE}/unix\"
	fi
	# Overwrite the previous TCL_INCLUDES as this should capture both
	# public and private headers in the same set.
	# We want to ensure these are substituted so as not to require
	# any *_NATIVE vars be defined in the Makefile
	TCL_INCLUDES="-I${TCL_GENERIC_DIR_NATIVE} -I${TCL_PLATFORM_DIR_NATIVE}"
	if test "`uname -s`" = "Darwin"; then
            # If Tcl was built as a framework, attempt to use
            # the framework's Headers and PrivateHeaders directories
            case ${TCL_DEFS} in
	    	*TCL_FRAMEWORK*)
		    if test -d "${TCL_BIN_DIR}/Headers"; then
			if test -d "${TCL_BIN_DIR}/PrivateHeaders"; then
			    TCL_INCLUDES="-I\"${TCL_BIN_DIR}/Headers\" -I\"${TCL_BIN_DIR}/PrivateHeaders\" ${TCL_INCLUDES}"
			elif test -d "${TCL_BIN_DIR}/Headers/tcl-private"; then
			    TCL_INCLUDES="-I\"${TCL_BIN_DIR}/Headers\" -I\"${TCL_BIN_DIR}/Headers/tcl-private\" ${TCL_INCLUDES}"
			fi
		    else
			TCL_INCLUDES="${TCL_INCLUDES} ${TCL_INCLUDE_SPEC} `echo "${TCL_INCLUDE_SPEC}" | sed -e 's/Headers/PrivateHeaders/'`"
		    fi
	            ;;
	    esac
	    result="Using ${TCL_INCLUDES}"
	else
	    if test ! -f "${TCL_SRC_DIR}/generic/tclInt.h" ; then
		{ { echo "$as_me:$LINENO: error: Cannot find private header tclInt.h in ${TCL_SRC_DIR}" >&5
echo "$as_me: error: Cannot find private header tclInt.h in ${TCL_SRC_DIR}" >&2;}
   { (exit 1); exit 1; }; }
	    fi
	    result="Using srcdir found in tclConfig.sh: ${TCL_SRC_DIR}"
	fi
    fi




    echo "$as_me:$LINENO: result: ${result}" >&5
echo "${ECHO_T}${result}" >&6


#--------------------------------------------------------------------
# You can add more files to clean if your extension creates any extra
# files by extending CLEANFILES.
# Add pkgIndex.tcl if it is generated in the Makefile instead of ./configure
# and change Makefile.in to move it from CONFIG_CLEAN_FILES to BINARIES var.
#
# A few miscellaneous platform-specific items:
# TEA_ADD_* any platform specific compiler/build info here.
#--------------------------------------------------------------------


    CLEANFILES="$CLEANFILES pkgIndex.tcl"


#--------------------------------------------------------------------
# Check whether --enable-threads or --disable-threads was given.
# So far only Tcl responds to this one.
#
# Hook for when threading is supported in Expect.  The --enable-threads
# flag currently has no effect.
#------------------------------------------------------------------------


    # Check whether --enable-threads or --disable-threads was given.
if test "${enable_threads+set}" = set; then
  enableval="$enable_threads"
  tcl_ok=$enableval
else
  tcl_ok=yes
fi;

    if test "${enable_threads+set}" = set; then
	enableval="$enable_threads"
	tcl_ok=$enableval
    else
	tcl_ok=yes
    fi

    if test "$tcl_ok" = "yes" -o "${TCL_THREADS}" = 1; then
	TCL_THREADS=1

	if test "${TEA_PLATFORM}" != "windows" ; then
	    # We are always OK on Windows, so check what this platform wants:

	    # USE_THREAD_ALLOC tells us to try the special thread-based
	    # allocator that significantly reduces lock contention

cat >>confdefs.h <<\_ACEOF
#define USE_THREAD_ALLOC 1
_ACEOF


cat >>confdefs.h <<\_ACEOF
#define _REENTRANT 1
_ACEOF

	    if test "`uname -s`" = "SunOS" ; then

cat >>confdefs.h <<\_ACEOF
#define _POSIX_PTHREAD_SEMANTICS 1
_ACEOF

	    fi

cat >>confdefs.h <<\_ACEOF
#define _THREAD_SAFE 1
_ACEOF

	    echo "$as_me:$LINENO: checking for pthread_mutex_init in -lpthread" >&5
echo $ECHO_N "checking for pthread_mutex_init in -lpthread... $ECHO_C" >&6
if test "${ac_cv_lib_pthread_pthread_mutex_init+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lpthread  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char pthread_mutex_init ();
int
main ()
{
pthread_mutex_init ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_pthread_pthread_mutex_init=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_pthread_pthread_mutex_init=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_pthread_pthread_mutex_init" >&5
echo "${ECHO_T}$ac_cv_lib_pthread_pthread_mutex_init" >&6
if test $ac_cv_lib_pthread_pthread_mutex_init = yes; then
  tcl_ok=yes
else
  tcl_ok=no
fi

	    if test "$tcl_ok" = "no"; then
		# Check a little harder for __pthread_mutex_init in the same
		# library, as some systems hide it there until pthread.h is
		# defined.  We could alternatively do an AC_TRY_COMPILE with
		# pthread.h, but that will work with libpthread really doesn't
		# exist, like AIX 4.2.  [Bug: 4359]
		echo "$as_me:$LINENO: checking for __pthread_mutex_init in -lpthread" >&5
echo $ECHO_N "checking for __pthread_mutex_init in -lpthread... $ECHO_C" >&6
if test "${ac_cv_lib_pthread___pthread_mutex_init+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lpthread  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char __pthread_mutex_init ();
int
main ()
{
__pthread_mutex_init ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_pthread___pthread_mutex_init=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_pthread___pthread_mutex_init=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_pthread___pthread_mutex_init" >&5
echo "${ECHO_T}$ac_cv_lib_pthread___pthread_mutex_init" >&6
if test $ac_cv_lib_pthread___pthread_mutex_init = yes; then
  tcl_ok=yes
else
  tcl_ok=no
fi

	    fi

	    if test "$tcl_ok" = "yes"; then
		# The space is needed
		THREADS_LIBS=" -lpthread"
	    else
		echo "$as_me:$LINENO: checking for pthread_mutex_init in -lpthreads" >&5
echo $ECHO_N "checking for pthread_mutex_init in -lpthreads... $ECHO_C" >&6
if test "${ac_cv_lib_pthreads_pthread_mutex_init+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lpthreads  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char pthread_mutex_init ();
int
main ()
{
pthread_mutex_init ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_pthreads_pthread_mutex_init=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_pthreads_pthread_mutex_init=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_pthreads_pthread_mutex_init" >&5
echo "${ECHO_T}$ac_cv_lib_pthreads_pthread_mutex_init" >&6
if test $ac_cv_lib_pthreads_pthread_mutex_init = yes; then
  tcl_ok=yes
else
  tcl_ok=no
fi

		if test "$tcl_ok" = "yes"; then
		    # The space is needed
		    THREADS_LIBS=" -lpthreads"
		else
		    echo "$as_me:$LINENO: checking for pthread_mutex_init in -lc" >&5
echo $ECHO_N "checking for pthread_mutex_init in -lc... $ECHO_C" >&6
if test "${ac_cv_lib_c_pthread_mutex_init+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lc  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char pthread_mutex_init ();
int
main ()
{
pthread_mutex_init ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_c_pthread_mutex_init=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_c_pthread_mutex_init=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_c_pthread_mutex_init" >&5
echo "${ECHO_T}$ac_cv_lib_c_pthread_mutex_init" >&6
if test $ac_cv_lib_c_pthread_mutex_init = yes; then
  tcl_ok=yes
else
  tcl_ok=no
fi

		    if test "$tcl_ok" = "no"; then
			echo "$as_me:$LINENO: checking for pthread_mutex_init in -lc_r" >&5
echo $ECHO_N "checking for pthread_mutex_init in -lc_r... $ECHO_C" >&6
if test "${ac_cv_lib_c_r_pthread_mutex_init+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lc_r  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char pthread_mutex_init ();
int
main ()
{
pthread_mutex_init ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_c_r_pthread_mutex_init=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_c_r_pthread_mutex_init=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_c_r_pthread_mutex_init" >&5
echo "${ECHO_T}$ac_cv_lib_c_r_pthread_mutex_init" >&6
if test $ac_cv_lib_c_r_pthread_mutex_init = yes; then
  tcl_ok=yes
else
  tcl_ok=no
fi

			if test "$tcl_ok" = "yes"; then
			    # The space is needed
			    THREADS_LIBS=" -pthread"
			else
			    TCL_THREADS=0
			    { echo "$as_me:$LINENO: WARNING: Do not know how to find pthread lib on your system - thread support disabled" >&5
echo "$as_me: WARNING: Do not know how to find pthread lib on your system - thread support disabled" >&2;}
			fi
		    fi
		fi
	    fi
	fi
    else
	TCL_THREADS=0
    fi
    # Do checking message here to not mess up interleaved configure output
    echo "$as_me:$LINENO: checking for building with threads" >&5
echo $ECHO_N "checking for building with threads... $ECHO_C" >&6
    if test "${TCL_THREADS}" = 1; then

cat >>confdefs.h <<\_ACEOF
#define TCL_THREADS 1
_ACEOF

	echo "$as_me:$LINENO: result: yes (default)" >&5
echo "${ECHO_T}yes (default)" >&6
    else
	echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
    fi
    # TCL_THREADS sanity checking.  See if our request for building with
    # threads is the same as the way Tcl was built.  If not, warn the user.
    case ${TCL_DEFS} in
	*THREADS=1*)
	    if test "${TCL_THREADS}" = "0"; then
		{ echo "$as_me:$LINENO: WARNING:
    Building ${PACKAGE_NAME} without threads enabled, but building against Tcl
    that IS thread-enabled.  It is recommended to use --enable-threads." >&5
echo "$as_me: WARNING:
    Building ${PACKAGE_NAME} without threads enabled, but building against Tcl
    that IS thread-enabled.  It is recommended to use --enable-threads." >&2;}
	    fi
	    ;;
	*)
	    if test "${TCL_THREADS}" = "1"; then
		{ echo "$as_me:$LINENO: WARNING:
    --enable-threads requested, but building against a Tcl that is NOT
    thread-enabled.  This is an OK configuration that will also run in
    a thread-enabled core." >&5
echo "$as_me: WARNING:
    --enable-threads requested, but building against a Tcl that is NOT
    thread-enabled.  This is an OK configuration that will also run in
    a thread-enabled core." >&2;}
	    fi
	    ;;
    esac



#--------------------------------------------------------------------
# The statement below defines a collection of symbols related to
# building as a shared library instead of a static library.
#--------------------------------------------------------------------


    echo "$as_me:$LINENO: checking how to build libraries" >&5
echo $ECHO_N "checking how to build libraries... $ECHO_C" >&6
    # Check whether --enable-shared or --disable-shared was given.
if test "${enable_shared+set}" = set; then
  enableval="$enable_shared"
  tcl_ok=$enableval
else
  tcl_ok=yes
fi;

    if test "${enable_shared+set}" = set; then
	enableval="$enable_shared"
	tcl_ok=$enableval
    else
	tcl_ok=yes
    fi

    if test "$tcl_ok" = "yes" ; then
	echo "$as_me:$LINENO: result: shared" >&5
echo "${ECHO_T}shared" >&6
	SHARED_BUILD=1
    else
	echo "$as_me:$LINENO: result: static" >&5
echo "${ECHO_T}static" >&6
	SHARED_BUILD=0

cat >>confdefs.h <<\_ACEOF
#define STATIC_BUILD 1
_ACEOF

    fi



#--------------------------------------------------------------------
# This macro figures out what flags to use with the compiler/linker
# when building shared/static debug/optimized objects.  This information
# can be taken from the tclConfig.sh file, but this figures it all out.
#--------------------------------------------------------------------




    # Step 0.a: Enable 64 bit support?

    echo "$as_me:$LINENO: checking if 64bit support is requested" >&5
echo $ECHO_N "checking if 64bit support is requested... $ECHO_C" >&6
    # Check whether --enable-64bit or --disable-64bit was given.
if test "${enable_64bit+set}" = set; then
  enableval="$enable_64bit"
  do64bit=$enableval
else
  do64bit=no
fi;
    echo "$as_me:$LINENO: result: $do64bit" >&5
echo "${ECHO_T}$do64bit" >&6

    # Step 0.b: Enable Solaris 64 bit VIS support?

    echo "$as_me:$LINENO: checking if 64bit Sparc VIS support is requested" >&5
echo $ECHO_N "checking if 64bit Sparc VIS support is requested... $ECHO_C" >&6
    # Check whether --enable-64bit-vis or --disable-64bit-vis was given.
if test "${enable_64bit_vis+set}" = set; then
  enableval="$enable_64bit_vis"
  do64bitVIS=$enableval
else
  do64bitVIS=no
fi;
    echo "$as_me:$LINENO: result: $do64bitVIS" >&5
echo "${ECHO_T}$do64bitVIS" >&6
    # Force 64bit on with VIS
    if test "$do64bitVIS" = "yes"; then
  do64bit=yes
fi


    # Step 0.c: Check if visibility support is available. Do this here so
    # that platform specific alternatives can be used below if this fails.

    echo "$as_me:$LINENO: checking if compiler supports visibility \"hidden\"" >&5
echo $ECHO_N "checking if compiler supports visibility \"hidden\"... $ECHO_C" >&6
if test "${tcl_cv_cc_visibility_hidden+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	hold_cflags=$CFLAGS; CFLAGS="$CFLAGS -Werror"
	cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

	    extern __attribute__((__visibility__("hidden"))) void f(void);
	    void f(void) {}
int
main ()
{
f();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_cc_visibility_hidden=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_cc_visibility_hidden=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
	CFLAGS=$hold_cflags
fi
echo "$as_me:$LINENO: result: $tcl_cv_cc_visibility_hidden" >&5
echo "${ECHO_T}$tcl_cv_cc_visibility_hidden" >&6
    if test $tcl_cv_cc_visibility_hidden = yes; then


cat >>confdefs.h <<\_ACEOF
#define MODULE_SCOPE extern __attribute__((__visibility__("hidden")))
_ACEOF


fi


    # Step 0.d: Disable -rpath support?

    echo "$as_me:$LINENO: checking if rpath support is requested" >&5
echo $ECHO_N "checking if rpath support is requested... $ECHO_C" >&6
    # Check whether --enable-rpath or --disable-rpath was given.
if test "${enable_rpath+set}" = set; then
  enableval="$enable_rpath"
  doRpath=$enableval
else
  doRpath=yes
fi;
    echo "$as_me:$LINENO: result: $doRpath" >&5
echo "${ECHO_T}$doRpath" >&6

    # TEA specific: Cross-compiling options for Windows/CE builds?

    if test "${TEA_PLATFORM}" = windows; then

	echo "$as_me:$LINENO: checking if Windows/CE build is requested" >&5
echo $ECHO_N "checking if Windows/CE build is requested... $ECHO_C" >&6
	# Check whether --enable-wince or --disable-wince was given.
if test "${enable_wince+set}" = set; then
  enableval="$enable_wince"
  doWince=$enableval
else
  doWince=no
fi;
	echo "$as_me:$LINENO: result: $doWince" >&5
echo "${ECHO_T}$doWince" >&6

fi


    # Set the variable "system" to hold the name and version number
    # for the system.


    echo "$as_me:$LINENO: checking system version" >&5
echo $ECHO_N "checking system version... $ECHO_C" >&6
if test "${tcl_cv_sys_version+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	# TEA specific:
	if test "${TEA_PLATFORM}" = "windows" ; then
	    tcl_cv_sys_version=windows
	else
	    tcl_cv_sys_version=`uname -s`-`uname -r`
	    if test "$?" -ne 0 ; then
		{ echo "$as_me:$LINENO: WARNING: can't find uname command" >&5
echo "$as_me: WARNING: can't find uname command" >&2;}
		tcl_cv_sys_version=unknown
	    else
		if test "`uname -s`" = "AIX" ; then
		    tcl_cv_sys_version=AIX-`uname -v`.`uname -r`
		fi
	    fi
	fi

fi
echo "$as_me:$LINENO: result: $tcl_cv_sys_version" >&5
echo "${ECHO_T}$tcl_cv_sys_version" >&6
    system=$tcl_cv_sys_version


    # Require ranlib early so we can override it in special cases below.



    # Set configuration options based on system name and version.
    # This is similar to Tcl's unix/tcl.m4 except that we've added a
    # "windows" case and removed some core-only vars.

    do64bit_ok=no
    # default to '{$LIBS}' and set to "" on per-platform necessary basis
    SHLIB_LD_LIBS='${LIBS}'
    # When ld needs options to work in 64-bit mode, put them in
    # LDFLAGS_ARCH so they eventually end up in LDFLAGS even if [load]
    # is disabled by the user. [Bug 1016796]
    LDFLAGS_ARCH=""
    UNSHARED_LIB_SUFFIX=""
    # TEA specific: use PACKAGE_VERSION instead of VERSION
    TCL_TRIM_DOTS='`echo ${PACKAGE_VERSION} | tr -d .`'
    ECHO_VERSION='`echo ${PACKAGE_VERSION}`'
    TCL_LIB_VERSIONS_OK=ok
    CFLAGS_DEBUG=-g
    CFLAGS_OPTIMIZE=-O
    if test "$GCC" = yes; then

	# TEA specific:
	CFLAGS_OPTIMIZE=-O2
	CFLAGS_WARNING="-Wall"

else
  CFLAGS_WARNING=""
fi

    # Extract the first word of "ar", so it can be a program name with args.
set dummy ar; ac_word=$2
echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_AR+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$AR"; then
  ac_cv_prog_AR="$AR" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_AR="ar"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done

fi
fi
AR=$ac_cv_prog_AR
if test -n "$AR"; then
  echo "$as_me:$LINENO: result: $AR" >&5
echo "${ECHO_T}$AR" >&6
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

    STLIB_LD='${AR} cr'
    LD_LIBRARY_PATH_VAR="LD_LIBRARY_PATH"
    if test "x$SHLIB_VERSION" = x; then
  SHLIB_VERSION="1.0"
fi

    case $system in
	# TEA specific:
	windows)
	    # This is a 2-stage check to make sure we have the 64-bit SDK
	    # We have to know where the SDK is installed.
	    # This magic is based on MS Platform SDK for Win2003 SP1 - hobbs
	    # MACHINE is IX86 for LINK, but this is used by the manifest,
	    # which requires x86|amd64|ia64.
	    MACHINE="X86"
	    if test "$do64bit" != "no" ; then
		if test "x${MSSDK}x" = "xx" ; then
		    MSSDK="C:/Progra~1/Microsoft Platform SDK"
		fi
		MSSDK=`echo "$MSSDK" | sed -e  's!\\\!/!g'`
		PATH64=""
		case "$do64bit" in
		    amd64|x64|yes)
			MACHINE="AMD64" ; # default to AMD64 64-bit build
			PATH64="${MSSDK}/Bin/Win64/x86/AMD64"
			;;
		    ia64)
			MACHINE="IA64"
			PATH64="${MSSDK}/Bin/Win64"
			;;
		esac
		if test ! -d "${PATH64}" ; then
		    { echo "$as_me:$LINENO: WARNING: Could not find 64-bit $MACHINE SDK to enable 64bit mode" >&5
echo "$as_me: WARNING: Could not find 64-bit $MACHINE SDK to enable 64bit mode" >&2;}
		    { echo "$as_me:$LINENO: WARNING: Ensure latest Platform SDK is installed" >&5
echo "$as_me: WARNING: Ensure latest Platform SDK is installed" >&2;}
		    do64bit="no"
		else
		    echo "$as_me:$LINENO: result:    Using 64-bit $MACHINE mode" >&5
echo "${ECHO_T}   Using 64-bit $MACHINE mode" >&6
		    do64bit_ok="yes"
		fi
	    fi

	    if test "$doWince" != "no" ; then
		if test "$do64bit" != "no" ; then
		    { { echo "$as_me:$LINENO: error: Windows/CE and 64-bit builds incompatible" >&5
echo "$as_me: error: Windows/CE and 64-bit builds incompatible" >&2;}
   { (exit 1); exit 1; }; }
		fi
		if test "$GCC" = "yes" ; then
		    { { echo "$as_me:$LINENO: error: Windows/CE and GCC builds incompatible" >&5
echo "$as_me: error: Windows/CE and GCC builds incompatible" >&2;}
   { (exit 1); exit 1; }; }
		fi

    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-celib

    if test x"${no_celib}" = x ; then
	# we reset no_celib in case something fails here
	no_celib=true

# Check whether --with-celib or --without-celib was given.
if test "${with_celib+set}" = set; then
  withval="$with_celib"
  with_celibconfig=${withval}
fi;
	echo "$as_me:$LINENO: checking for Windows/CE celib directory" >&5
echo $ECHO_N "checking for Windows/CE celib directory... $ECHO_C" >&6
	if test "${ac_cv_c_celibconfig+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	    # First check to see if --with-celibconfig was specified.
	    if test x"${with_celibconfig}" != x ; then
		if test -d "${with_celibconfig}/inc" ; then
		    ac_cv_c_celibconfig=`(cd ${with_celibconfig}; pwd)`
		else
		    { { echo "$as_me:$LINENO: error: ${with_celibconfig} directory doesn't contain inc directory" >&5
echo "$as_me: error: ${with_celibconfig} directory doesn't contain inc directory" >&2;}
   { (exit 1); exit 1; }; }
		fi
	    fi

	    # then check for a celib library
	    if test x"${ac_cv_c_celibconfig}" = x ; then
		for i in \
			../celib-palm-3.0 \
			../celib \
			../../celib-palm-3.0 \
			../../celib \
			`ls -dr ../celib-*3.[0-9]* 2>/dev/null` \
			${srcdir}/../celib-palm-3.0 \
			${srcdir}/../celib \
			`ls -dr ${srcdir}/../celib-*3.[0-9]* 2>/dev/null` \
			; do
		    if test -d "$i/inc" ; then
			ac_cv_c_celibconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi

	if test x"${ac_cv_c_celibconfig}" = x ; then
	    { { echo "$as_me:$LINENO: error: Cannot find celib support library directory" >&5
echo "$as_me: error: Cannot find celib support library directory" >&2;}
   { (exit 1); exit 1; }; }
	else
	    no_celib=
	    CELIB_DIR=${ac_cv_c_celibconfig}
	    CELIB_DIR=`echo "$CELIB_DIR" | sed -e 's!\\\!/!g'`
	    echo "$as_me:$LINENO: result: found $CELIB_DIR" >&5
echo "${ECHO_T}found $CELIB_DIR" >&6
	fi
    fi

		# Set defaults for common evc4/PPC2003 setup
		# Currently Tcl requires 300+, possibly 420+ for sockets
		CEVERSION=420; 		# could be 211 300 301 400 420 ...
		TARGETCPU=ARMV4;	# could be ARMV4 ARM MIPS SH3 X86 ...
		ARCH=ARM;		# could be ARM MIPS X86EM ...
		PLATFORM="Pocket PC 2003"; # or "Pocket PC 2002"
		if test "$doWince" != "yes"; then
		    # If !yes then the user specified something
		    # Reset ARCH to allow user to skip specifying it
		    ARCH=
		    eval `echo $doWince | awk -F, '{ \
	    if (length($1)) { printf "CEVERSION=\"%s\"\n", $1; \
	    if ($1 < 400)   { printf "PLATFORM=\"Pocket PC 2002\"\n" } }; \
	    if (length($2)) { printf "TARGETCPU=\"%s\"\n", toupper($2) }; \
	    if (length($3)) { printf "ARCH=\"%s\"\n", toupper($3) }; \
	    if (length($4)) { printf "PLATFORM=\"%s\"\n", $4 }; \
		    }'`
		    if test "x${ARCH}" = "x" ; then
			ARCH=$TARGETCPU;
		    fi
		fi
		OSVERSION=WCE$CEVERSION;
	    	if test "x${WCEROOT}" = "x" ; then
			WCEROOT="C:/Program Files/Microsoft eMbedded C++ 4.0"
		    if test ! -d "${WCEROOT}" ; then
			WCEROOT="C:/Program Files/Microsoft eMbedded Tools"
		    fi
		fi
		if test "x${SDKROOT}" = "x" ; then
		    SDKROOT="C:/Program Files/Windows CE Tools"
		    if test ! -d "${SDKROOT}" ; then
			SDKROOT="C:/Windows CE Tools"
		    fi
		fi
		WCEROOT=`echo "$WCEROOT" | sed -e 's!\\\!/!g'`
		SDKROOT=`echo "$SDKROOT" | sed -e 's!\\\!/!g'`
		if test ! -d "${SDKROOT}/${OSVERSION}/${PLATFORM}/Lib/${TARGETCPU}" \
		    -o ! -d "${WCEROOT}/EVC/${OSVERSION}/bin"; then
		    { { echo "$as_me:$LINENO: error: could not find PocketPC SDK or target compiler to enable WinCE mode $CEVERSION,$TARGETCPU,$ARCH,$PLATFORM" >&5
echo "$as_me: error: could not find PocketPC SDK or target compiler to enable WinCE mode $CEVERSION,$TARGETCPU,$ARCH,$PLATFORM" >&2;}
   { (exit 1); exit 1; }; }
		    doWince="no"
		else
		    # We could PATH_NOSPACE these, but that's not important,
		    # as long as we quote them when used.
		    CEINCLUDE="${SDKROOT}/${OSVERSION}/${PLATFORM}/include"
		    if test -d "${CEINCLUDE}/${TARGETCPU}" ; then
			CEINCLUDE="${CEINCLUDE}/${TARGETCPU}"
		    fi
		    CELIBPATH="${SDKROOT}/${OSVERSION}/${PLATFORM}/Lib/${TARGETCPU}"
    		fi
	    fi

	    if test "$GCC" != "yes" ; then
	        if test "${SHARED_BUILD}" = "0" ; then
		    runtime=-MT
	        else
		    runtime=-MD
	        fi

                if test "$do64bit" != "no" ; then
		    # All this magic is necessary for the Win64 SDK RC1 - hobbs
		    CC="\"${PATH64}/cl.exe\""
		    CFLAGS="${CFLAGS} -I\"${MSSDK}/Include\" -I\"${MSSDK}/Include/crt\" -I\"${MSSDK}/Include/crt/sys\""
		    RC="\"${MSSDK}/bin/rc.exe\""
		    lflags="-nologo -MACHINE:${MACHINE} -LIBPATH:\"${MSSDK}/Lib/${MACHINE}\""
		    LINKBIN="\"${PATH64}/link.exe\""
		    CFLAGS_DEBUG="-nologo -Zi -Od -W3 ${runtime}d"
		    CFLAGS_OPTIMIZE="-nologo -O2 -W2 ${runtime}"
		    # Avoid 'unresolved external symbol __security_cookie'
		    # errors, c.f. http://support.microsoft.com/?id=894573

    vars="bufferoverflowU.lib"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


		elif test "$doWince" != "no" ; then
		    CEBINROOT="${WCEROOT}/EVC/${OSVERSION}/bin"
		    if test "${TARGETCPU}" = "X86"; then
			CC="\"${CEBINROOT}/cl.exe\""
		    else
			CC="\"${CEBINROOT}/cl${ARCH}.exe\""
		    fi
		    CFLAGS="$CFLAGS -I\"${CELIB_DIR}/inc\" -I\"${CEINCLUDE}\""
		    RC="\"${WCEROOT}/Common/EVC/bin/rc.exe\""
		    arch=`echo ${ARCH} | awk '{print tolower($0)}'`
		    defs="${ARCH} _${ARCH}_ ${arch} PALM_SIZE _MT _WINDOWS"
		    if test "${SHARED_BUILD}" = "1" ; then
			# Static CE builds require static celib as well
		    	defs="${defs} _DLL"
		    fi
		    for i in $defs ; do

cat >>confdefs.h <<_ACEOF
#define $i 1
_ACEOF

		    done

cat >>confdefs.h <<_ACEOF
#define _WIN32_WCE $CEVERSION
_ACEOF


cat >>confdefs.h <<_ACEOF
#define UNDER_CE $CEVERSION
_ACEOF

		    CFLAGS_DEBUG="-nologo -Zi -Od"
		    CFLAGS_OPTIMIZE="-nologo -Ox"
		    lversion=`echo ${CEVERSION} | sed -e 's/\(.\)\(..\)/\1\.\2/'`
		    lflags="-MACHINE:${ARCH} -LIBPATH:\"${CELIBPATH}\" -subsystem:windowsce,${lversion} -nologo"
		    LINKBIN="\"${CEBINROOT}/link.exe\""

		else
		    RC="rc"
		    lflags="-nologo"
    		    LINKBIN="link"
		    CFLAGS_DEBUG="-nologo -Z7 -Od -W3 -WX ${runtime}d"
		    CFLAGS_OPTIMIZE="-nologo -O2 -W2 ${runtime}"
		fi
	    fi

	    if test "$GCC" = "yes"; then
		# mingw gcc mode
		RC="windres"
		CFLAGS_DEBUG="-g"
		CFLAGS_OPTIMIZE="-O2 -fomit-frame-pointer"
		SHLIB_LD="$CC -shared"
		UNSHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.a'
		LDFLAGS_CONSOLE="-wl,--subsystem,console ${lflags}"
		LDFLAGS_WINDOW="-wl,--subsystem,windows ${lflags}"
	    else
		SHLIB_LD="${LINKBIN} -dll ${lflags}"
		# link -lib only works when -lib is the first arg
		STLIB_LD="${LINKBIN} -lib ${lflags}"
		UNSHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.lib'
		PATHTYPE=-w
		# For information on what debugtype is most useful, see:
		# http://msdn.microsoft.com/library/en-us/dnvc60/html/gendepdebug.asp
		# and also
		# http://msdn2.microsoft.com/en-us/library/y0zzbyt4%28VS.80%29.aspx
		# This essentially turns it all on.
		LDFLAGS_DEBUG="-debug -debugtype:cv"
		LDFLAGS_OPTIMIZE="-release"
		if test "$doWince" != "no" ; then
		    LDFLAGS_CONSOLE="-link ${lflags}"
		    LDFLAGS_WINDOW=${LDFLAGS_CONSOLE}
		else
		    LDFLAGS_CONSOLE="-link -subsystem:console ${lflags}"
		    LDFLAGS_WINDOW="-link -subsystem:windows ${lflags}"
		fi
	    fi

	    SHLIB_SUFFIX=".dll"
	    SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.dll'

	    TCL_LIB_VERSIONS_OK=nodots
    	    ;;
	AIX-*)
	    if test "${TCL_THREADS}" = "1" -a "$GCC" != "yes"; then

		# AIX requires the _r compiler when gcc isn't being used
		case "${CC}" in
		    *_r|*_r\ *)
			# ok ...
			;;
		    *)
			# Make sure only first arg gets _r
		    	CC=`echo "$CC" | sed -e 's/^\([^ ]*\)/\1_r/'`
			;;
		esac
		echo "$as_me:$LINENO: result: Using $CC for compiling with threads" >&5
echo "${ECHO_T}Using $CC for compiling with threads" >&6

fi

	    LIBS="$LIBS -lc"
	    SHLIB_CFLAGS=""
	    SHLIB_SUFFIX=".so"

	    LD_LIBRARY_PATH_VAR="LIBPATH"

	    # Check to enable 64-bit flags for compiler/linker
	    if test "$do64bit" = yes; then

		if test "$GCC" = yes; then

		    { echo "$as_me:$LINENO: WARNING: 64bit mode not supported with GCC on $system" >&5
echo "$as_me: WARNING: 64bit mode not supported with GCC on $system" >&2;}

else

		    do64bit_ok=yes
		    CFLAGS="$CFLAGS -q64"
		    LDFLAGS_ARCH="-q64"
		    RANLIB="${RANLIB} -X64"
		    AR="${AR} -X64"
		    SHLIB_LD_FLAGS="-b64"

fi


fi


	    if test "`uname -m`" = ia64; then

		# AIX-5 uses ELF style dynamic libraries on IA-64, but not PPC
		SHLIB_LD="/usr/ccs/bin/ld -G -z text"
		if test "$GCC" = yes; then

		    CC_SEARCH_FLAGS='-Wl,-R,${LIB_RUNTIME_DIR}'

else

		    CC_SEARCH_FLAGS='-R${LIB_RUNTIME_DIR}'

fi

		LD_SEARCH_FLAGS='-R ${LIB_RUNTIME_DIR}'

else

		if test "$GCC" = yes; then

		    SHLIB_LD='${CC} -shared -Wl,-bexpall'

else

		    SHLIB_LD="/bin/ld -bhalt:4 -bM:SRE -bexpall -H512 -T512 -bnoentry"
		    LDFLAGS="$LDFLAGS -brtl"

fi

		SHLIB_LD="${SHLIB_LD} ${SHLIB_LD_FLAGS}"
		CC_SEARCH_FLAGS='-L${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}

fi

	    ;;
	BeOS*)
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_LD='${CC} -nostart'
	    SHLIB_SUFFIX=".so"

	    #-----------------------------------------------------------
	    # Check for inet_ntoa in -lbind, for BeOS (which also needs
	    # -lsocket, even if the network functions are in -lnet which
	    # is always linked to, for compatibility.
	    #-----------------------------------------------------------
	    echo "$as_me:$LINENO: checking for inet_ntoa in -lbind" >&5
echo $ECHO_N "checking for inet_ntoa in -lbind... $ECHO_C" >&6
if test "${ac_cv_lib_bind_inet_ntoa+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lbind  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char inet_ntoa ();
int
main ()
{
inet_ntoa ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_bind_inet_ntoa=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_bind_inet_ntoa=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_bind_inet_ntoa" >&5
echo "${ECHO_T}$ac_cv_lib_bind_inet_ntoa" >&6
if test $ac_cv_lib_bind_inet_ntoa = yes; then
  LIBS="$LIBS -lbind -lsocket"
fi

	    ;;
	BSD/OS-4.*)
	    SHLIB_CFLAGS="-export-dynamic -fPIC"
	    SHLIB_LD='${CC} -shared'
	    SHLIB_SUFFIX=".so"
	    LDFLAGS="$LDFLAGS -export-dynamic"
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
	CYGWIN_*)
	    SHLIB_CFLAGS=""
	    SHLIB_LD='${CC} -shared'
	    SHLIB_SUFFIX=".dll"
	    EXE_SUFFIX=".exe"
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
	Haiku*)
	    LDFLAGS="$LDFLAGS -Wl,--export-dynamic"
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_SUFFIX=".so"
	    SHLIB_LD='${CC} -shared ${CFLAGS} ${LDFLAGS}'
	    echo "$as_me:$LINENO: checking for inet_ntoa in -lnetwork" >&5
echo $ECHO_N "checking for inet_ntoa in -lnetwork... $ECHO_C" >&6
if test "${ac_cv_lib_network_inet_ntoa+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnetwork  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char inet_ntoa ();
int
main ()
{
inet_ntoa ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_network_inet_ntoa=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_network_inet_ntoa=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_network_inet_ntoa" >&5
echo "${ECHO_T}$ac_cv_lib_network_inet_ntoa" >&6
if test $ac_cv_lib_network_inet_ntoa = yes; then
  LIBS="$LIBS -lnetwork"
fi

	    ;;
	HP-UX-*.11.*)
	    # Use updated header definitions where possible

cat >>confdefs.h <<\_ACEOF
#define _XOPEN_SOURCE_EXTENDED 1
_ACEOF

	    # TEA specific: Needed by Tcl, but not most extensions
	    #AC_DEFINE(_XOPEN_SOURCE, 1, [Do we want to use the XOPEN network library?])
	    #LIBS="$LIBS -lxnet"               # Use the XOPEN network library

	    if test "`uname -m`" = ia64; then

		SHLIB_SUFFIX=".so"
		# Use newer C++ library for C++ extensions
		#if test "$GCC" != "yes" ; then
		#   CPPFLAGS="-AA"
		#fi

else

		SHLIB_SUFFIX=".sl"

fi

	    echo "$as_me:$LINENO: checking for shl_load in -ldld" >&5
echo $ECHO_N "checking for shl_load in -ldld... $ECHO_C" >&6
if test "${ac_cv_lib_dld_shl_load+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ldld  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char shl_load ();
int
main ()
{
shl_load ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_dld_shl_load=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_dld_shl_load=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_dld_shl_load" >&5
echo "${ECHO_T}$ac_cv_lib_dld_shl_load" >&6
if test $ac_cv_lib_dld_shl_load = yes; then
  tcl_ok=yes
else
  tcl_ok=no
fi

	    if test "$tcl_ok" = yes; then

		LDFLAGS="$LDFLAGS -Wl,-E"
		CC_SEARCH_FLAGS='-Wl,+s,+b,${LIB_RUNTIME_DIR}:.'
		LD_SEARCH_FLAGS='+s +b ${LIB_RUNTIME_DIR}:.'
		LD_LIBRARY_PATH_VAR="SHLIB_PATH"

fi

	    if test "$GCC" = yes; then

		SHLIB_LD='${CC} -shared'
		LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}

else

		CFLAGS="$CFLAGS -z"
		# Users may want PA-RISC 1.1/2.0 portable code - needs HP cc
		#CFLAGS="$CFLAGS +DAportable"
		SHLIB_CFLAGS="+z"
		SHLIB_LD="ld -b"

fi


	    # Check to enable 64-bit flags for compiler/linker
	    if test "$do64bit" = "yes"; then

		if test "$GCC" = yes; then

		    case `${CC} -dumpmachine` in
			hppa64*)
			    # 64-bit gcc in use.  Fix flags for GNU ld.
			    do64bit_ok=yes
			    SHLIB_LD='${CC} -shared'
			    if test $doRpath = yes; then

				CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
fi

			    LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}
			    ;;
			*)
			    { echo "$as_me:$LINENO: WARNING: 64bit mode not supported with GCC on $system" >&5
echo "$as_me: WARNING: 64bit mode not supported with GCC on $system" >&2;}
			    ;;
		    esac

else

		    do64bit_ok=yes
		    CFLAGS="$CFLAGS +DD64"
		    LDFLAGS_ARCH="+DD64"

fi


fi
 ;;
	IRIX-6.*)
	    SHLIB_CFLAGS=""
	    SHLIB_LD="ld -n32 -shared -rdata_shared"
	    SHLIB_SUFFIX=".so"
	    if test $doRpath = yes; then

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS='-rpath ${LIB_RUNTIME_DIR}'
fi

	    if test "$GCC" = yes; then

		CFLAGS="$CFLAGS -mabi=n32"
		LDFLAGS="$LDFLAGS -mabi=n32"

else

		case $system in
		    IRIX-6.3)
			# Use to build 6.2 compatible binaries on 6.3.
			CFLAGS="$CFLAGS -n32 -D_OLD_TERMIOS"
			;;
		    *)
			CFLAGS="$CFLAGS -n32"
			;;
		esac
		LDFLAGS="$LDFLAGS -n32"

fi

	    ;;
	IRIX64-6.*)
	    SHLIB_CFLAGS=""
	    SHLIB_LD="ld -n32 -shared -rdata_shared"
	    SHLIB_SUFFIX=".so"
	    if test $doRpath = yes; then

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS='-rpath ${LIB_RUNTIME_DIR}'
fi


	    # Check to enable 64-bit flags for compiler/linker

	    if test "$do64bit" = yes; then

	        if test "$GCC" = yes; then

	            { echo "$as_me:$LINENO: WARNING: 64bit mode not supported by gcc" >&5
echo "$as_me: WARNING: 64bit mode not supported by gcc" >&2;}

else

	            do64bit_ok=yes
	            SHLIB_LD="ld -64 -shared -rdata_shared"
	            CFLAGS="$CFLAGS -64"
	            LDFLAGS_ARCH="-64"

fi


fi

	    ;;
	Linux*)
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_SUFFIX=".so"

	    # TEA specific:
	    CFLAGS_OPTIMIZE="-O2 -fomit-frame-pointer"

	    # TEA specific: use LDFLAGS_DEFAULT instead of LDFLAGS
	    SHLIB_LD='${CC} -shared ${CFLAGS} ${LDFLAGS_DEFAULT}'
	    LDFLAGS="$LDFLAGS -Wl,--export-dynamic"
	    if test $doRpath = yes; then

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
fi

	    LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}
	    if test "`uname -m`" = "alpha"; then
  CFLAGS="$CFLAGS -mieee"
fi

	    if test $do64bit = yes; then

		echo "$as_me:$LINENO: checking if compiler accepts -m64 flag" >&5
echo $ECHO_N "checking if compiler accepts -m64 flag... $ECHO_C" >&6
if test "${tcl_cv_cc_m64+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

		    hold_cflags=$CFLAGS
		    CFLAGS="$CFLAGS -m64"
		    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_cc_m64=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_cc_m64=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
		    CFLAGS=$hold_cflags
fi
echo "$as_me:$LINENO: result: $tcl_cv_cc_m64" >&5
echo "${ECHO_T}$tcl_cv_cc_m64" >&6
		if test $tcl_cv_cc_m64 = yes; then

		    CFLAGS="$CFLAGS -m64"
		    do64bit_ok=yes

fi


fi


	    # The combo of gcc + glibc has a bug related to inlining of
	    # functions like strtod(). The -fno-builtin flag should address
	    # this problem but it does not work. The -fno-inline flag is kind
	    # of overkill but it works. Disable inlining only when one of the
	    # files in compat/*.c is being linked in.

	    if test x"${USE_COMPAT}" != x; then
  CFLAGS="$CFLAGS -fno-inline"
fi


	    ;;
	GNU*)
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_SUFFIX=".so"

	    SHLIB_LD='${CC} -shared'
	    LDFLAGS="$LDFLAGS -Wl,--export-dynamic"
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    if test "`uname -m`" = "alpha"; then
  CFLAGS="$CFLAGS -mieee"
fi

	    ;;
	Lynx*)
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_SUFFIX=".so"
	    CFLAGS_OPTIMIZE=-02
	    SHLIB_LD='${CC} -shared'
	    LD_FLAGS="-Wl,--export-dynamic"
	    if test $doRpath = yes; then

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
fi

	    ;;
	OpenBSD-*)
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_LD='${CC} -shared ${SHLIB_CFLAGS}'
	    SHLIB_SUFFIX=".so"
	    if test $doRpath = yes; then

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
fi

	    LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}
	    SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.so.${SHLIB_VERSION}'
	    echo "$as_me:$LINENO: checking for ELF" >&5
echo $ECHO_N "checking for ELF... $ECHO_C" >&6
if test "${tcl_cv_ld_elf+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

		cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#ifdef __ELF__
	yes
#endif

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "yes" >/dev/null 2>&1; then
  tcl_cv_ld_elf=yes
else
  tcl_cv_ld_elf=no
fi
rm -f conftest*

fi
echo "$as_me:$LINENO: result: $tcl_cv_ld_elf" >&5
echo "${ECHO_T}$tcl_cv_ld_elf" >&6
	    if test $tcl_cv_ld_elf = yes; then

		LDFLAGS=-Wl,-export-dynamic

else
  LDFLAGS=""
fi

	    if test "${TCL_THREADS}" = "1"; then

		# OpenBSD builds and links with -pthread, never -lpthread.
		LIBS=`echo $LIBS | sed s/-lpthread//`
		CFLAGS="$CFLAGS -pthread"
		SHLIB_CFLAGS="$SHLIB_CFLAGS -pthread"

fi

	    # OpenBSD doesn't do version numbers with dots.
	    UNSHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.a'
	    TCL_LIB_VERSIONS_OK=nodots
	    ;;
	NetBSD-*|FreeBSD-[3-4].*)
	    # FreeBSD 3.* and greater have ELF.
	    # NetBSD 2.* has ELF and can use 'cc -shared' to build shared libs
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_LD='${CC} -shared ${SHLIB_CFLAGS}'
	    SHLIB_SUFFIX=".so"
	    LDFLAGS="$LDFLAGS -export-dynamic"
	    if test $doRpath = yes; then

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
fi

	    LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}
	    if test "${TCL_THREADS}" = "1"; then

		# The -pthread needs to go in the CFLAGS, not LIBS
		LIBS=`echo $LIBS | sed s/-pthread//`
		CFLAGS="$CFLAGS -pthread"
	    	LDFLAGS="$LDFLAGS -pthread"

fi

	    case $system in
	    FreeBSD-3.*)
	    	# FreeBSD-3 doesn't handle version numbers with dots.
	    	UNSHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.a'
	    	SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.so'
	    	TCL_LIB_VERSIONS_OK=nodots
		;;
	    esac
	    ;;
	FreeBSD-*)
	    # This configuration from FreeBSD Ports.
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_LD="${CC} -shared"
	    TCL_SHLIB_LD_EXTRAS="-soname \$@@"
	    SHLIB_SUFFIX=".so"
	    LDFLAGS=""
	    if test $doRpath = yes; then

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS='-rpath ${LIB_RUNTIME_DIR}'
fi

	    if test "${TCL_THREADS}" = "1"; then

		# The -pthread needs to go in the LDFLAGS, not LIBS
		LIBS=`echo $LIBS | sed s/-pthread//`
		CFLAGS="$CFLAGS $PTHREAD_CFLAGS"
		LDFLAGS="$LDFLAGS $PTHREAD_LIBS"
fi

	    # Version numbers are dot-stripped by system policy.
	    TCL_TRIM_DOTS=`echo ${VERSION} | tr -d .`
	    UNSHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.a'
	    SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}\$\{DBGX\}.so.1'
	    TCL_LIB_VERSIONS_OK=nodots
	    ;;
	Darwin-*)
	    CFLAGS_OPTIMIZE="-Os"
	    SHLIB_CFLAGS="-fno-common"
	    # To avoid discrepancies between what headers configure sees during
	    # preprocessing tests and compiling tests, move any -isysroot and
	    # -mmacosx-version-min flags from CFLAGS to CPPFLAGS:
	    CPPFLAGS="${CPPFLAGS} `echo " ${CFLAGS}" | \
		awk 'BEGIN {FS=" +-";ORS=" "}; {for (i=2;i<=NF;i++) \
		if ($i~/^(isysroot|mmacosx-version-min)/) print "-"$i}'`"
	    CFLAGS="`echo " ${CFLAGS}" | \
		awk 'BEGIN {FS=" +-";ORS=" "}; {for (i=2;i<=NF;i++) \
		if (!($i~/^(isysroot|mmacosx-version-min)/)) print "-"$i}'`"
	    if test $do64bit = yes; then

		case `arch` in
		    ppc)
			echo "$as_me:$LINENO: checking if compiler accepts -arch ppc64 flag" >&5
echo $ECHO_N "checking if compiler accepts -arch ppc64 flag... $ECHO_C" >&6
if test "${tcl_cv_cc_arch_ppc64+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

			    hold_cflags=$CFLAGS
			    CFLAGS="$CFLAGS -arch ppc64 -mpowerpc64 -mcpu=G5"
			    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_cc_arch_ppc64=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_cc_arch_ppc64=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
			    CFLAGS=$hold_cflags
fi
echo "$as_me:$LINENO: result: $tcl_cv_cc_arch_ppc64" >&5
echo "${ECHO_T}$tcl_cv_cc_arch_ppc64" >&6
			if test $tcl_cv_cc_arch_ppc64 = yes; then

			    CFLAGS="$CFLAGS -arch ppc64 -mpowerpc64 -mcpu=G5"
			    do64bit_ok=yes

fi
;;
		    i386)
			echo "$as_me:$LINENO: checking if compiler accepts -arch x86_64 flag" >&5
echo $ECHO_N "checking if compiler accepts -arch x86_64 flag... $ECHO_C" >&6
if test "${tcl_cv_cc_arch_x86_64+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

			    hold_cflags=$CFLAGS
			    CFLAGS="$CFLAGS -arch x86_64"
			    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_cc_arch_x86_64=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_cc_arch_x86_64=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
			    CFLAGS=$hold_cflags
fi
echo "$as_me:$LINENO: result: $tcl_cv_cc_arch_x86_64" >&5
echo "${ECHO_T}$tcl_cv_cc_arch_x86_64" >&6
			if test $tcl_cv_cc_arch_x86_64 = yes; then

			    CFLAGS="$CFLAGS -arch x86_64"
			    do64bit_ok=yes

fi
;;
		    *)
			{ echo "$as_me:$LINENO: WARNING: Don't know how enable 64-bit on architecture \`arch\`" >&5
echo "$as_me: WARNING: Don't know how enable 64-bit on architecture \`arch\`" >&2;};;
		esac

else

		# Check for combined 32-bit and 64-bit fat build
		if echo "$CFLAGS " |grep -E -q -- '-arch (ppc64|x86_64) ' \
		    && echo "$CFLAGS " |grep -E -q -- '-arch (ppc|i386) '; then

		    fat_32_64=yes
fi


fi

	    # TEA specific: use LDFLAGS_DEFAULT instead of LDFLAGS
	    SHLIB_LD='${CC} -dynamiclib ${CFLAGS} ${LDFLAGS_DEFAULT}'
	    echo "$as_me:$LINENO: checking if ld accepts -single_module flag" >&5
echo $ECHO_N "checking if ld accepts -single_module flag... $ECHO_C" >&6
if test "${tcl_cv_ld_single_module+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

		hold_ldflags=$LDFLAGS
		LDFLAGS="$LDFLAGS -dynamiclib -Wl,-single_module"
		cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{
int i;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_ld_single_module=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_ld_single_module=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
		LDFLAGS=$hold_ldflags
fi
echo "$as_me:$LINENO: result: $tcl_cv_ld_single_module" >&5
echo "${ECHO_T}$tcl_cv_ld_single_module" >&6
	    if test $tcl_cv_ld_single_module = yes; then

		SHLIB_LD="${SHLIB_LD} -Wl,-single_module"

fi

	    # TEA specific: link shlib with current and compatiblity version flags
	    vers=`echo ${PACKAGE_VERSION} | sed -e 's/^\([0-9]\{1,5\}\)\(\(\.[0-9]\{1,3\}\)\{0,2\}\).*$/\1\2/p' -e d`
	    SHLIB_LD="${SHLIB_LD} -current_version ${vers:-0} -compatibility_version ${vers:-0}"
	    SHLIB_SUFFIX=".dylib"
	    # Don't use -prebind when building for Mac OS X 10.4 or later only:
	    if test "`echo "${MACOSX_DEPLOYMENT_TARGET}" | awk -F '10\\.' '{print int($2)}'`" -lt 4 -a \
		"`echo "${CPPFLAGS}" | awk -F '-mmacosx-version-min=10\\.' '{print int($2)}'`" -lt 4; then

		LDFLAGS="$LDFLAGS -prebind"
fi

	    LDFLAGS="$LDFLAGS -headerpad_max_install_names"
	    echo "$as_me:$LINENO: checking if ld accepts -search_paths_first flag" >&5
echo $ECHO_N "checking if ld accepts -search_paths_first flag... $ECHO_C" >&6
if test "${tcl_cv_ld_search_paths_first+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

		hold_ldflags=$LDFLAGS
		LDFLAGS="$LDFLAGS -Wl,-search_paths_first"
		cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{
int i;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_ld_search_paths_first=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_ld_search_paths_first=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
		LDFLAGS=$hold_ldflags
fi
echo "$as_me:$LINENO: result: $tcl_cv_ld_search_paths_first" >&5
echo "${ECHO_T}$tcl_cv_ld_search_paths_first" >&6
	    if test $tcl_cv_ld_search_paths_first = yes; then

		LDFLAGS="$LDFLAGS -Wl,-search_paths_first"

fi

	    if test "$tcl_cv_cc_visibility_hidden" != yes; then


cat >>confdefs.h <<\_ACEOF
#define MODULE_SCOPE __private_extern__
_ACEOF

		tcl_cv_cc_visibility_hidden=yes

fi

	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    LD_LIBRARY_PATH_VAR="DYLD_LIBRARY_PATH"
	    # TEA specific: for combined 32 & 64 bit fat builds of Tk
	    # extensions, verify that 64-bit build is possible.
	    if test "$fat_32_64" = yes && test -n "${TK_BIN_DIR}"; then

		if test "${TEA_WINDOWINGSYSTEM}" = x11; then

		    echo "$as_me:$LINENO: checking for 64-bit X11" >&5
echo $ECHO_N "checking for 64-bit X11... $ECHO_C" >&6
if test "${tcl_cv_lib_x11_64+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

			for v in CFLAGS CPPFLAGS LDFLAGS; do
			    eval 'hold_'$v'="$'$v'";'$v'="`echo "$'$v' "|sed -e "s/-arch ppc / /g" -e "s/-arch i386 / /g"`"'
			done
			CPPFLAGS="$CPPFLAGS -I/usr/X11R6/include"
			LDFLAGS="$LDFLAGS -L/usr/X11R6/lib -lX11"
			cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <X11/Xlib.h>
int
main ()
{
XrmInitialize();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_lib_x11_64=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_lib_x11_64=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
			for v in CFLAGS CPPFLAGS LDFLAGS; do
			    eval $v'="$hold_'$v'"'
			done
fi
echo "$as_me:$LINENO: result: $tcl_cv_lib_x11_64" >&5
echo "${ECHO_T}$tcl_cv_lib_x11_64" >&6

fi

		if test "${TEA_WINDOWINGSYSTEM}" = aqua; then

		    echo "$as_me:$LINENO: checking for 64-bit Tk" >&5
echo $ECHO_N "checking for 64-bit Tk... $ECHO_C" >&6
if test "${tcl_cv_lib_tk_64+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

			for v in CFLAGS CPPFLAGS LDFLAGS; do
			    eval 'hold_'$v'="$'$v'";'$v'="`echo "$'$v' "|sed -e "s/-arch ppc / /g" -e "s/-arch i386 / /g"`"'
			done
			CPPFLAGS="$CPPFLAGS -DUSE_TCL_STUBS=1 -DUSE_TK_STUBS=1 ${TCL_INCLUDES} ${TK_INCLUDES}"
			LDFLAGS="$LDFLAGS ${TCL_STUB_LIB_SPEC} ${TK_STUB_LIB_SPEC}"
			cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <tk.h>
int
main ()
{
Tk_InitStubs(NULL, "", 0);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_lib_tk_64=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_lib_tk_64=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
			for v in CFLAGS CPPFLAGS LDFLAGS; do
			    eval $v'="$hold_'$v'"'
			done
fi
echo "$as_me:$LINENO: result: $tcl_cv_lib_tk_64" >&5
echo "${ECHO_T}$tcl_cv_lib_tk_64" >&6

fi

		# remove 64-bit arch flags from CFLAGS et al. if configuration
		# does not support 64-bit.
		if test "$tcl_cv_lib_tk_64" = no -o "$tcl_cv_lib_x11_64" = no; then

		    { echo "$as_me:$LINENO: Removing 64-bit architectures from compiler & linker flags" >&5
echo "$as_me: Removing 64-bit architectures from compiler & linker flags" >&6;}
		    for v in CFLAGS CPPFLAGS LDFLAGS; do
			eval $v'="`echo "$'$v' "|sed -e "s/-arch ppc64 / /g" -e "s/-arch x86_64 / /g"`"'
		    done
fi


fi

	    ;;
	OS/390-*)
	    CFLAGS_OPTIMIZE=""		# Optimizer is buggy

cat >>confdefs.h <<\_ACEOF
#define _OE_SOCKETS 1
_ACEOF

	    ;;
	OSF1-V*)
	    # Digital OSF/1
	    SHLIB_CFLAGS=""
	    if test "$SHARED_BUILD" = 1; then

	        SHLIB_LD='ld -shared -expect_unresolved "*"'

else

	        SHLIB_LD='ld -non_shared -expect_unresolved "*"'

fi

	    SHLIB_SUFFIX=".so"
	    if test $doRpath = yes; then

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS='-rpath ${LIB_RUNTIME_DIR}'
fi

	    if test "$GCC" = yes; then
  CFLAGS="$CFLAGS -mieee"
else

		CFLAGS="$CFLAGS -DHAVE_TZSET -std1 -ieee"
fi

	    # see pthread_intro(3) for pthread support on osf1, k.furukawa
	    if test "${TCL_THREADS}" = 1; then

		CFLAGS="$CFLAGS -DHAVE_PTHREAD_ATTR_SETSTACKSIZE"
		CFLAGS="$CFLAGS -DTCL_THREAD_STACK_MIN=PTHREAD_STACK_MIN*64"
		LIBS=`echo $LIBS | sed s/-lpthreads//`
		if test "$GCC" = yes; then

		    LIBS="$LIBS -lpthread -lmach -lexc"

else

		    CFLAGS="$CFLAGS -pthread"
		    LDFLAGS="$LDFLAGS -pthread"

fi


fi

	    ;;
	QNX-6*)
	    # QNX RTP
	    # This may work for all QNX, but it was only reported for v6.
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_LD="ld -Bshareable -x"
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
	SCO_SV-3.2*)
	    if test "$GCC" = yes; then

		SHLIB_CFLAGS="-fPIC -melf"
		LDFLAGS="$LDFLAGS -melf -Wl,-Bexport"

else

	       SHLIB_CFLAGS="-Kpic -belf"
	       LDFLAGS="$LDFLAGS -belf -Wl,-Bexport"

fi

	    SHLIB_LD="ld -G"
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
	SunOS-5.[0-6])
	    # Careful to not let 5.10+ fall into this case

	    # Note: If _REENTRANT isn't defined, then Solaris
	    # won't define thread-safe library routines.


cat >>confdefs.h <<\_ACEOF
#define _REENTRANT 1
_ACEOF


cat >>confdefs.h <<\_ACEOF
#define _POSIX_PTHREAD_SEMANTICS 1
_ACEOF


	    SHLIB_CFLAGS="-KPIC"
	    SHLIB_SUFFIX=".so"
	    if test "$GCC" = yes; then

		SHLIB_LD='${CC} -shared'
		CC_SEARCH_FLAGS='-Wl,-R,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}

else

		SHLIB_LD="/usr/ccs/bin/ld -G -z text"
		CC_SEARCH_FLAGS='-R ${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}

fi

	    ;;
	SunOS-5*)
	    # Note: If _REENTRANT isn't defined, then Solaris
	    # won't define thread-safe library routines.


cat >>confdefs.h <<\_ACEOF
#define _REENTRANT 1
_ACEOF


cat >>confdefs.h <<\_ACEOF
#define _POSIX_PTHREAD_SEMANTICS 1
_ACEOF


	    SHLIB_CFLAGS="-KPIC"

	    # Check to enable 64-bit flags for compiler/linker
	    if test "$do64bit" = yes; then

		arch=`isainfo`
		if test "$arch" = "sparcv9 sparc"; then

		    if test "$GCC" = yes; then

			if test "`${CC} -dumpversion | awk -F. '{print $1}'`" -lt 3; then

			    { echo "$as_me:$LINENO: WARNING: 64bit mode not supported with GCC < 3.2 on $system" >&5
echo "$as_me: WARNING: 64bit mode not supported with GCC < 3.2 on $system" >&2;}

else

			    do64bit_ok=yes
			    CFLAGS="$CFLAGS -m64 -mcpu=v9"
			    LDFLAGS="$LDFLAGS -m64 -mcpu=v9"
			    SHLIB_CFLAGS="-fPIC"

fi


else

			do64bit_ok=yes
			if test "$do64bitVIS" = yes; then

			    CFLAGS="$CFLAGS -xarch=v9a"
			    LDFLAGS_ARCH="-xarch=v9a"

else

			    CFLAGS="$CFLAGS -xarch=v9"
			    LDFLAGS_ARCH="-xarch=v9"

fi

			# Solaris 64 uses this as well
			#LD_LIBRARY_PATH_VAR="LD_LIBRARY_PATH_64"

fi


else
  if test "$arch" = "amd64 i386"; then

		    if test "$GCC" = yes; then

			case $system in
			    SunOS-5.1[1-9]*|SunOS-5.[2-9][0-9]*)
				do64bit_ok=yes
				CFLAGS="$CFLAGS -m64"
				LDFLAGS="$LDFLAGS -m64";;
			    *)
				{ echo "$as_me:$LINENO: WARNING: 64bit mode not supported with GCC on $system" >&5
echo "$as_me: WARNING: 64bit mode not supported with GCC on $system" >&2;};;
			esac

else

			do64bit_ok=yes
			case $system in
			    SunOS-5.1[1-9]*|SunOS-5.[2-9][0-9]*)
				CFLAGS="$CFLAGS -m64"
				LDFLAGS="$LDFLAGS -m64";;
			    *)
				CFLAGS="$CFLAGS -xarch=amd64"
				LDFLAGS="$LDFLAGS -xarch=amd64";;
			esac

fi


else
  { echo "$as_me:$LINENO: WARNING: 64bit mode not supported for $arch" >&5
echo "$as_me: WARNING: 64bit mode not supported for $arch" >&2;}
fi

fi


fi


	    SHLIB_SUFFIX=".so"
	    if test "$GCC" = yes; then

		SHLIB_LD='${CC} -shared'
		CC_SEARCH_FLAGS='-Wl,-R,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}
		if test "$do64bit_ok" = yes; then

		    if test "$arch" = "sparcv9 sparc"; then

			# We need to specify -static-libgcc or we need to
			# add the path to the sparv9 libgcc.
			# JH: static-libgcc is necessary for core Tcl, but may
			# not be necessary for extensions.
			SHLIB_LD="$SHLIB_LD -m64 -mcpu=v9 -static-libgcc"
			# for finding sparcv9 libgcc, get the regular libgcc
			# path, remove so name and append 'sparcv9'
			#v9gcclibdir="`gcc -print-file-name=libgcc_s.so` | ..."
			#CC_SEARCH_FLAGS="${CC_SEARCH_FLAGS},-R,$v9gcclibdir"

else
  if test "$arch" = "amd64 i386"; then

			# JH: static-libgcc is necessary for core Tcl, but may
			# not be necessary for extensions.
			SHLIB_LD="$SHLIB_LD -m64 -static-libgcc"

fi

fi


fi


else

		case $system in
		    SunOS-5.[1-9][0-9]*)
			# TEA specific: use LDFLAGS_DEFAULT instead of LDFLAGS
			SHLIB_LD='${CC} -G -z text ${LDFLAGS_DEFAULT}';;
		    *)
			SHLIB_LD='/usr/ccs/bin/ld -G -z text';;
		esac
		CC_SEARCH_FLAGS='-Wl,-R,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS='-R ${LIB_RUNTIME_DIR}'

fi

	    ;;
    esac

    if test "$do64bit" = yes -a "$do64bit_ok" = no; then

	{ echo "$as_me:$LINENO: WARNING: 64bit support being disabled -- don't know magic for this platform" >&5
echo "$as_me: WARNING: 64bit support being disabled -- don't know magic for this platform" >&2;}

fi




    # Add in the arch flags late to ensure it wasn't removed.
    # Not necessary in TEA, but this is aligned with core
    LDFLAGS="$LDFLAGS $LDFLAGS_ARCH"

    # If we're running gcc, then change the C flags for compiling shared
    # libraries to the right flags for gcc, instead of those for the
    # standard manufacturer compiler.

    if test "$GCC" = yes; then

	case $system in
	    AIX-*) ;;
	    BSD/OS*) ;;
	    CYGWIN_*) ;;
	    IRIX*) ;;
	    NetBSD-*|FreeBSD-*|OpenBSD-*) ;;
	    Darwin-*) ;;
	    SCO_SV-3.2*) ;;
	    windows) ;;
	    *) SHLIB_CFLAGS="-fPIC" ;;
	esac
fi


    if test "$tcl_cv_cc_visibility_hidden" != yes; then


cat >>confdefs.h <<\_ACEOF
#define MODULE_SCOPE extern
_ACEOF


cat >>confdefs.h <<\_ACEOF
#define NO_VIZ
_ACEOF


fi


    if test "$SHARED_LIB_SUFFIX" = ""; then

	# TEA specific: use PACKAGE_VERSION instead of VERSION
	SHARED_LIB_SUFFIX='${PACKAGE_VERSION}${SHLIB_SUFFIX}'
fi

    if test "$UNSHARED_LIB_SUFFIX" = ""; then

	# TEA specific: use PACKAGE_VERSION instead of VERSION
	UNSHARED_LIB_SUFFIX='${PACKAGE_VERSION}.a'
fi














    # These must be called after we do the basic CFLAGS checks and
    # verify any possible 64-bit or similar switches are necessary

    echo "$as_me:$LINENO: checking for required early compiler flags" >&5
echo $ECHO_N "checking for required early compiler flags... $ECHO_C" >&6
    tcl_flags=""

    if test "${tcl_cv_flag__isoc99_source+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <stdlib.h>
int
main ()
{
char *p = (char *)strtoll; char *q = (char *)strtoull;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_flag__isoc99_source=no
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#define _ISOC99_SOURCE 1
#include <stdlib.h>
int
main ()
{
char *p = (char *)strtoll; char *q = (char *)strtoull;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_flag__isoc99_source=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_flag__isoc99_source=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    if test "x${tcl_cv_flag__isoc99_source}" = "xyes" ; then

cat >>confdefs.h <<\_ACEOF
#define _ISOC99_SOURCE 1
_ACEOF

	tcl_flags="$tcl_flags _ISOC99_SOURCE"
    fi


    if test "${tcl_cv_flag__largefile64_source+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/stat.h>
int
main ()
{
struct stat64 buf; int i = stat64("/", &buf);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_flag__largefile64_source=no
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#define _LARGEFILE64_SOURCE 1
#include <sys/stat.h>
int
main ()
{
struct stat64 buf; int i = stat64("/", &buf);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_flag__largefile64_source=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_flag__largefile64_source=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    if test "x${tcl_cv_flag__largefile64_source}" = "xyes" ; then

cat >>confdefs.h <<\_ACEOF
#define _LARGEFILE64_SOURCE 1
_ACEOF

	tcl_flags="$tcl_flags _LARGEFILE64_SOURCE"
    fi


    if test "${tcl_cv_flag__largefile_source64+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/stat.h>
int
main ()
{
char *p = (char *)open64;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_flag__largefile_source64=no
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#define _LARGEFILE_SOURCE64 1
#include <sys/stat.h>
int
main ()
{
char *p = (char *)open64;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_flag__largefile_source64=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_flag__largefile_source64=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    if test "x${tcl_cv_flag__largefile_source64}" = "xyes" ; then

cat >>confdefs.h <<\_ACEOF
#define _LARGEFILE_SOURCE64 1
_ACEOF

	tcl_flags="$tcl_flags _LARGEFILE_SOURCE64"
    fi

    if test "x${tcl_flags}" = "x" ; then
	echo "$as_me:$LINENO: result: none" >&5
echo "${ECHO_T}none" >&6
    else
	echo "$as_me:$LINENO: result: ${tcl_flags}" >&5
echo "${ECHO_T}${tcl_flags}" >&6
    fi


    echo "$as_me:$LINENO: checking for 64-bit integer type" >&5
echo $ECHO_N "checking for 64-bit integer type... $ECHO_C" >&6
    if test "${tcl_cv_type_64bit+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	tcl_cv_type_64bit=none
	# See if the compiler knows natively about __int64
	cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{
__int64 value = (__int64) 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_type_64bit=__int64
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_type_64bit="long long"
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
	# See if we should use long anyway  Note that we substitute in the
	# type that is our current guess for a 64-bit type inside this check
	# program, so it should be modified only carefully...
        cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{
switch (0) {
            case 1: case (sizeof(${tcl_type_64bit})==sizeof(long)): ;
        }
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_type_64bit=${tcl_type_64bit}
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    if test "${tcl_cv_type_64bit}" = none ; then

cat >>confdefs.h <<\_ACEOF
#define TCL_WIDE_INT_IS_LONG 1
_ACEOF

	echo "$as_me:$LINENO: result: using long" >&5
echo "${ECHO_T}using long" >&6
    elif test "${tcl_cv_type_64bit}" = "__int64" \
		-a "${TEA_PLATFORM}" = "windows" ; then
	# TEA specific: We actually want to use the default tcl.h checks in
	# this case to handle both TCL_WIDE_INT_TYPE and TCL_LL_MODIFIER*
	echo "$as_me:$LINENO: result: using Tcl header defaults" >&5
echo "${ECHO_T}using Tcl header defaults" >&6
    else

cat >>confdefs.h <<_ACEOF
#define TCL_WIDE_INT_TYPE ${tcl_cv_type_64bit}
_ACEOF

	echo "$as_me:$LINENO: result: ${tcl_cv_type_64bit}" >&5
echo "${ECHO_T}${tcl_cv_type_64bit}" >&6

	# Now check for auxiliary declarations
	echo "$as_me:$LINENO: checking for struct dirent64" >&5
echo $ECHO_N "checking for struct dirent64... $ECHO_C" >&6
if test "${tcl_cv_struct_dirent64+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/types.h>
#include <sys/dirent.h>
int
main ()
{
struct dirent64 p;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_struct_dirent64=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_struct_dirent64=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $tcl_cv_struct_dirent64" >&5
echo "${ECHO_T}$tcl_cv_struct_dirent64" >&6
	if test "x${tcl_cv_struct_dirent64}" = "xyes" ; then

cat >>confdefs.h <<\_ACEOF
#define HAVE_STRUCT_DIRENT64 1
_ACEOF

	fi

	echo "$as_me:$LINENO: checking for struct stat64" >&5
echo $ECHO_N "checking for struct stat64... $ECHO_C" >&6
if test "${tcl_cv_struct_stat64+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/stat.h>
int
main ()
{
struct stat64 p;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_struct_stat64=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_struct_stat64=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $tcl_cv_struct_stat64" >&5
echo "${ECHO_T}$tcl_cv_struct_stat64" >&6
	if test "x${tcl_cv_struct_stat64}" = "xyes" ; then

cat >>confdefs.h <<\_ACEOF
#define HAVE_STRUCT_STAT64 1
_ACEOF

	fi



for ac_func in open64 lseek64
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:$LINENO: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define $ac_func innocuous_$ac_func

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef $ac_func

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
char (*f) () = $ac_func;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != $ac_func;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

eval "$as_ac_var=no"
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<_ACEOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
_ACEOF

fi
done

	echo "$as_me:$LINENO: checking for off64_t" >&5
echo $ECHO_N "checking for off64_t... $ECHO_C" >&6
	if test "${tcl_cv_type_off64_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/types.h>
int
main ()
{
off64_t offset;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_type_off64_t=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_type_off64_t=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi

			if test "x${tcl_cv_type_off64_t}" = "xyes" && \
	        test "x${ac_cv_func_lseek64}" = "xyes" && \
	        test "x${ac_cv_func_open64}" = "xyes" ; then

cat >>confdefs.h <<\_ACEOF
#define HAVE_TYPE_OFF64_T 1
_ACEOF

	    echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
	else
	    echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
	fi
    fi



#--------------------------------------------------------------------
# Set the default compiler switches based on the --enable-symbols option.
#--------------------------------------------------------------------



    echo "$as_me:$LINENO: checking for build with symbols" >&5
echo $ECHO_N "checking for build with symbols... $ECHO_C" >&6
    # Check whether --enable-symbols or --disable-symbols was given.
if test "${enable_symbols+set}" = set; then
  enableval="$enable_symbols"
  tcl_ok=$enableval
else
  tcl_ok=no
fi;
    DBGX=""
    if test "$tcl_ok" = "no"; then
	CFLAGS_DEFAULT="${CFLAGS_OPTIMIZE}"
	LDFLAGS_DEFAULT="${LDFLAGS_OPTIMIZE}"
	echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
    else
	CFLAGS_DEFAULT="${CFLAGS_DEBUG}"
	LDFLAGS_DEFAULT="${LDFLAGS_DEBUG}"
	if test "$tcl_ok" = "yes"; then
	    echo "$as_me:$LINENO: result: yes (standard debugging)" >&5
echo "${ECHO_T}yes (standard debugging)" >&6
	fi
    fi
    # TEA specific:
    if test "${TEA_PLATFORM}" != "windows" ; then
	LDFLAGS_DEFAULT="${LDFLAGS}"
    fi




    if test "$tcl_ok" = "mem" -o "$tcl_ok" = "all"; then

cat >>confdefs.h <<\_ACEOF
#define TCL_MEM_DEBUG 1
_ACEOF

    fi

    if test "$tcl_ok" != "yes" -a "$tcl_ok" != "no"; then
	if test "$tcl_ok" = "all"; then
	    echo "$as_me:$LINENO: result: enabled symbols mem debugging" >&5
echo "${ECHO_T}enabled symbols mem debugging" >&6
	else
	    echo "$as_me:$LINENO: result: enabled $tcl_ok debugging" >&5
echo "${ECHO_T}enabled $tcl_ok debugging" >&6
	fi
    fi


#--------------------------------------------------------------------
# Everyone should be linking against the Tcl stub library.  If you
# can't for some reason, remove this definition.  If you aren't using
# stubs, you also need to modify the SHLIB_LD_LIBS setting below to
# link against the non-stubbed Tcl library.
#--------------------------------------------------------------------

cat >>confdefs.h <<\_ACEOF
#define USE_TCL_STUBS 1
_ACEOF


cat >>confdefs.h <<\_ACEOF
#define USE_TCL_STUBS 1
_ACEOF


#-------------------------------------------------------------------------
# Check for system header files.
#-------------------------------------------------------------------------

if test "${ac_cv_header_sys_select_h+set}" = set; then
  echo "$as_me:$LINENO: checking for sys/select.h" >&5
echo $ECHO_N "checking for sys/select.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_select_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_select_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_select_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking sys/select.h usability" >&5
echo $ECHO_N "checking sys/select.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <sys/select.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking sys/select.h presence" >&5
echo $ECHO_N "checking sys/select.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/select.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: sys/select.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: sys/select.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/select.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: sys/select.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: sys/select.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: sys/select.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/select.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: sys/select.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/select.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: sys/select.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/select.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: sys/select.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/select.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: sys/select.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/select.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: sys/select.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for sys/select.h" >&5
echo $ECHO_N "checking for sys/select.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_select_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_sys_select_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_select_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_select_h" >&6

fi
if test $ac_cv_header_sys_select_h = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_SYS_SELECT_H 1
_ACEOF

fi


if test "${ac_cv_header_sys_sysmacros_h+set}" = set; then
  echo "$as_me:$LINENO: checking for sys/sysmacros.h" >&5
echo $ECHO_N "checking for sys/sysmacros.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_sysmacros_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_sysmacros_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_sysmacros_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking sys/sysmacros.h usability" >&5
echo $ECHO_N "checking sys/sysmacros.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <sys/sysmacros.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking sys/sysmacros.h presence" >&5
echo $ECHO_N "checking sys/sysmacros.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/sysmacros.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: sys/sysmacros.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: sys/sysmacros.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/sysmacros.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: sys/sysmacros.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: sys/sysmacros.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: sys/sysmacros.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/sysmacros.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: sys/sysmacros.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/sysmacros.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: sys/sysmacros.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/sysmacros.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: sys/sysmacros.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/sysmacros.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: sys/sysmacros.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/sysmacros.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: sys/sysmacros.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for sys/sysmacros.h" >&5
echo $ECHO_N "checking for sys/sysmacros.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_sysmacros_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_sys_sysmacros_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_sysmacros_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_sysmacros_h" >&6

fi
if test $ac_cv_header_sys_sysmacros_h = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_SYSMACROS_H 1
_ACEOF

fi



# Oddly, some systems have stdarg but don't support prototypes
# Tcl avoids the whole issue by not using stdarg on UNIX at all!


if test "${ac_cv_header_varargs_h+set}" = set; then
  echo "$as_me:$LINENO: checking for varargs.h" >&5
echo $ECHO_N "checking for varargs.h... $ECHO_C" >&6
if test "${ac_cv_header_varargs_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_varargs_h" >&5
echo "${ECHO_T}$ac_cv_header_varargs_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking varargs.h usability" >&5
echo $ECHO_N "checking varargs.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <varargs.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking varargs.h presence" >&5
echo $ECHO_N "checking varargs.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <varargs.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: varargs.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: varargs.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: varargs.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: varargs.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: varargs.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: varargs.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: varargs.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: varargs.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: varargs.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: varargs.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: varargs.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: varargs.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: varargs.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: varargs.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: varargs.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: varargs.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for varargs.h" >&5
echo $ECHO_N "checking for varargs.h... $ECHO_C" >&6
if test "${ac_cv_header_varargs_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_varargs_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_varargs_h" >&5
echo "${ECHO_T}$ac_cv_header_varargs_h" >&6

fi
if test $ac_cv_header_varargs_h = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_VARARGS_H 1
_ACEOF

fi



# If no stropts.h, then the svr4 implementation is broken.
# At least it is on my Debian "potato" system. - Rob Savoye

if test "${ac_cv_header_sys_stropts_h+set}" = set; then
  echo "$as_me:$LINENO: checking for sys/stropts.h" >&5
echo $ECHO_N "checking for sys/stropts.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_stropts_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_stropts_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_stropts_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking sys/stropts.h usability" >&5
echo $ECHO_N "checking sys/stropts.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <sys/stropts.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking sys/stropts.h presence" >&5
echo $ECHO_N "checking sys/stropts.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/stropts.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: sys/stropts.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: sys/stropts.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/stropts.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: sys/stropts.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: sys/stropts.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: sys/stropts.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/stropts.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: sys/stropts.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/stropts.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: sys/stropts.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/stropts.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: sys/stropts.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/stropts.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: sys/stropts.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/stropts.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: sys/stropts.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for sys/stropts.h" >&5
echo $ECHO_N "checking for sys/stropts.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_stropts_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_sys_stropts_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_stropts_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_stropts_h" >&6

fi
if test $ac_cv_header_sys_stropts_h = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_STROPTS_H 1
_ACEOF

else
  svr4_ptys_broken=1
fi


if test "${ac_cv_header_sys_sysconfig_h+set}" = set; then
  echo "$as_me:$LINENO: checking for sys/sysconfig.h" >&5
echo $ECHO_N "checking for sys/sysconfig.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_sysconfig_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_sysconfig_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_sysconfig_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking sys/sysconfig.h usability" >&5
echo $ECHO_N "checking sys/sysconfig.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <sys/sysconfig.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking sys/sysconfig.h presence" >&5
echo $ECHO_N "checking sys/sysconfig.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/sysconfig.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: sys/sysconfig.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: sys/sysconfig.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/sysconfig.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: sys/sysconfig.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: sys/sysconfig.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: sys/sysconfig.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/sysconfig.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: sys/sysconfig.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/sysconfig.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: sys/sysconfig.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/sysconfig.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: sys/sysconfig.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/sysconfig.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: sys/sysconfig.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/sysconfig.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: sys/sysconfig.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for sys/sysconfig.h" >&5
echo $ECHO_N "checking for sys/sysconfig.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_sysconfig_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_sys_sysconfig_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_sysconfig_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_sysconfig_h" >&6

fi
if test $ac_cv_header_sys_sysconfig_h = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_SYSCONF_H 1
_ACEOF

fi


if test "${ac_cv_header_sys_fcntl_h+set}" = set; then
  echo "$as_me:$LINENO: checking for sys/fcntl.h" >&5
echo $ECHO_N "checking for sys/fcntl.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_fcntl_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_fcntl_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_fcntl_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking sys/fcntl.h usability" >&5
echo $ECHO_N "checking sys/fcntl.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <sys/fcntl.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking sys/fcntl.h presence" >&5
echo $ECHO_N "checking sys/fcntl.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/fcntl.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: sys/fcntl.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: sys/fcntl.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/fcntl.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: sys/fcntl.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: sys/fcntl.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: sys/fcntl.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/fcntl.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: sys/fcntl.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/fcntl.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: sys/fcntl.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/fcntl.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: sys/fcntl.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/fcntl.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: sys/fcntl.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/fcntl.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: sys/fcntl.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for sys/fcntl.h" >&5
echo $ECHO_N "checking for sys/fcntl.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_fcntl_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_sys_fcntl_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_fcntl_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_fcntl_h" >&6

fi
if test $ac_cv_header_sys_fcntl_h = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_SYS_FCNTL_H 1
_ACEOF

fi


if test "${ac_cv_header_sys_ptem_h+set}" = set; then
  echo "$as_me:$LINENO: checking for sys/ptem.h" >&5
echo $ECHO_N "checking for sys/ptem.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_ptem_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_ptem_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_ptem_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking sys/ptem.h usability" >&5
echo $ECHO_N "checking sys/ptem.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <sys/ptem.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking sys/ptem.h presence" >&5
echo $ECHO_N "checking sys/ptem.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/ptem.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: sys/ptem.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: sys/ptem.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/ptem.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: sys/ptem.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: sys/ptem.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: sys/ptem.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/ptem.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: sys/ptem.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/ptem.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: sys/ptem.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/ptem.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: sys/ptem.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/ptem.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: sys/ptem.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/ptem.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: sys/ptem.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for sys/ptem.h" >&5
echo $ECHO_N "checking for sys/ptem.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_ptem_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_sys_ptem_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_ptem_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_ptem_h" >&6

fi
if test $ac_cv_header_sys_ptem_h = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_SYS_PTEM_H 1
_ACEOF

fi


if test "${ac_cv_header_sys_strredir_h+set}" = set; then
  echo "$as_me:$LINENO: checking for sys/strredir.h" >&5
echo $ECHO_N "checking for sys/strredir.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_strredir_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_strredir_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_strredir_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking sys/strredir.h usability" >&5
echo $ECHO_N "checking sys/strredir.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <sys/strredir.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking sys/strredir.h presence" >&5
echo $ECHO_N "checking sys/strredir.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/strredir.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: sys/strredir.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: sys/strredir.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/strredir.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: sys/strredir.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: sys/strredir.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: sys/strredir.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/strredir.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: sys/strredir.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/strredir.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: sys/strredir.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/strredir.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: sys/strredir.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/strredir.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: sys/strredir.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/strredir.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: sys/strredir.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for sys/strredir.h" >&5
echo $ECHO_N "checking for sys/strredir.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_strredir_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_sys_strredir_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_strredir_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_strredir_h" >&6

fi
if test $ac_cv_header_sys_strredir_h = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_STRREDIR_H 1
_ACEOF

fi


if test "${ac_cv_header_sys_strpty_h+set}" = set; then
  echo "$as_me:$LINENO: checking for sys/strpty.h" >&5
echo $ECHO_N "checking for sys/strpty.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_strpty_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_strpty_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_strpty_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking sys/strpty.h usability" >&5
echo $ECHO_N "checking sys/strpty.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <sys/strpty.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking sys/strpty.h presence" >&5
echo $ECHO_N "checking sys/strpty.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/strpty.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: sys/strpty.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: sys/strpty.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/strpty.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: sys/strpty.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: sys/strpty.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: sys/strpty.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/strpty.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: sys/strpty.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/strpty.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: sys/strpty.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/strpty.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: sys/strpty.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/strpty.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: sys/strpty.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: sys/strpty.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: sys/strpty.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for sys/strpty.h" >&5
echo $ECHO_N "checking for sys/strpty.h... $ECHO_C" >&6
if test "${ac_cv_header_sys_strpty_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_sys_strpty_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_sys_strpty_h" >&5
echo "${ECHO_T}$ac_cv_header_sys_strpty_h" >&6

fi
if test $ac_cv_header_sys_strpty_h = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_STRPTY_H 1
_ACEOF

fi



echo "$as_me:$LINENO: checking for sys/bsdtypes.h" >&5
echo $ECHO_N "checking for sys/bsdtypes.h... $ECHO_C" >&6
if test "ISC_${ISC}" = "ISC_1"   ;    then
   echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
   # if on ISC 1, we need <sys/bsdtypes.h> to get FD_SET macros

for ac_header in sys/bsdtypes.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo "$as_me:$LINENO: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking $ac_header usability" >&5
echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <$ac_header>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking $ac_header presence" >&5
echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  eval "$as_ac_Header=\$ac_header_preproc"
fi
echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6

fi
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<_ACEOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF

fi

done

else
   echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

#-------------------------------------------------------------------------
# What type do signals return?
#-------------------------------------------------------------------------

echo "$as_me:$LINENO: checking return type of signal handlers" >&5
echo $ECHO_N "checking return type of signal handlers... $ECHO_C" >&6
if test "${ac_cv_type_signal+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/types.h>
#include <signal.h>
#ifdef signal
# undef signal
#endif
#ifdef __cplusplus
extern "C" void (*signal (int, void (*)(int)))(int);
#else
void (*signal ()) ();
#endif

int
main ()
{
int i;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_signal=void
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_type_signal=int
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_type_signal" >&5
echo "${ECHO_T}$ac_cv_type_signal" >&6

cat >>confdefs.h <<_ACEOF
#define RETSIGTYPE $ac_cv_type_signal
_ACEOF



#-------------------------------------------------------------------------
#       Find out all about time handling differences.
#-------------------------------------------------------------------------

echo "$as_me:$LINENO: checking whether struct tm is in sys/time.h or time.h" >&5
echo $ECHO_N "checking whether struct tm is in sys/time.h or time.h... $ECHO_C" >&6
if test "${ac_cv_struct_tm+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/types.h>
#include <time.h>

int
main ()
{
struct tm *tp; tp->tm_sec;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_struct_tm=time.h
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_struct_tm=sys/time.h
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_struct_tm" >&5
echo "${ECHO_T}$ac_cv_struct_tm" >&6
if test $ac_cv_struct_tm = sys/time.h; then

cat >>confdefs.h <<\_ACEOF
#define TM_IN_SYS_TIME 1
_ACEOF

fi



for ac_header in sys/time.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo "$as_me:$LINENO: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking $ac_header usability" >&5
echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <$ac_header>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking $ac_header presence" >&5
echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  eval "$as_ac_Header=\$ac_header_preproc"
fi
echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6

fi
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<_ACEOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF

fi

done

    echo "$as_me:$LINENO: checking whether time.h and sys/time.h may both be included" >&5
echo $ECHO_N "checking whether time.h and sys/time.h may both be included... $ECHO_C" >&6
if test "${ac_cv_header_time+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/types.h>
#include <sys/time.h>
#include <time.h>

int
main ()
{
if ((struct tm *) 0)
return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_header_time=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_header_time=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_header_time" >&5
echo "${ECHO_T}$ac_cv_header_time" >&6
if test $ac_cv_header_time = yes; then

cat >>confdefs.h <<\_ACEOF
#define TIME_WITH_SYS_TIME 1
_ACEOF

fi

    echo "$as_me:$LINENO: checking for struct tm.tm_zone" >&5
echo $ECHO_N "checking for struct tm.tm_zone... $ECHO_C" >&6
if test "${ac_cv_member_struct_tm_tm_zone+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/types.h>
#include <$ac_cv_struct_tm>


int
main ()
{
static struct tm ac_aggr;
if (ac_aggr.tm_zone)
return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_member_struct_tm_tm_zone=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/types.h>
#include <$ac_cv_struct_tm>


int
main ()
{
static struct tm ac_aggr;
if (sizeof ac_aggr.tm_zone)
return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_member_struct_tm_tm_zone=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_member_struct_tm_tm_zone=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_member_struct_tm_tm_zone" >&5
echo "${ECHO_T}$ac_cv_member_struct_tm_tm_zone" >&6
if test $ac_cv_member_struct_tm_tm_zone = yes; then

cat >>confdefs.h <<_ACEOF
#define HAVE_STRUCT_TM_TM_ZONE 1
_ACEOF


fi

if test "$ac_cv_member_struct_tm_tm_zone" = yes; then

cat >>confdefs.h <<\_ACEOF
#define HAVE_TM_ZONE 1
_ACEOF

else
  echo "$as_me:$LINENO: checking for tzname" >&5
echo $ECHO_N "checking for tzname... $ECHO_C" >&6
if test "${ac_cv_var_tzname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <time.h>
#ifndef tzname /* For SGI.  */
extern char *tzname[]; /* RS6000 and others reject char **tzname.  */
#endif

int
main ()
{
atoi(*tzname);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_var_tzname=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_var_tzname=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_var_tzname" >&5
echo "${ECHO_T}$ac_cv_var_tzname" >&6
  if test $ac_cv_var_tzname = yes; then

cat >>confdefs.h <<\_ACEOF
#define HAVE_TZNAME 1
_ACEOF

  fi
fi




for ac_func in gmtime_r localtime_r
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:$LINENO: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define $ac_func innocuous_$ac_func

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef $ac_func

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
char (*f) () = $ac_func;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != $ac_func;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

eval "$as_ac_var=no"
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<_ACEOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
_ACEOF

fi
done


    echo "$as_me:$LINENO: checking tm_tzadj in struct tm" >&5
echo $ECHO_N "checking tm_tzadj in struct tm... $ECHO_C" >&6
if test "${tcl_cv_member_tm_tzadj+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <time.h>
int
main ()
{
struct tm tm; tm.tm_tzadj;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_member_tm_tzadj=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_member_tm_tzadj=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $tcl_cv_member_tm_tzadj" >&5
echo "${ECHO_T}$tcl_cv_member_tm_tzadj" >&6
    if test $tcl_cv_member_tm_tzadj = yes ; then

cat >>confdefs.h <<\_ACEOF
#define HAVE_TM_TZADJ 1
_ACEOF

    fi

    echo "$as_me:$LINENO: checking tm_gmtoff in struct tm" >&5
echo $ECHO_N "checking tm_gmtoff in struct tm... $ECHO_C" >&6
if test "${tcl_cv_member_tm_gmtoff+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <time.h>
int
main ()
{
struct tm tm; tm.tm_gmtoff;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_member_tm_gmtoff=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_member_tm_gmtoff=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $tcl_cv_member_tm_gmtoff" >&5
echo "${ECHO_T}$tcl_cv_member_tm_gmtoff" >&6
    if test $tcl_cv_member_tm_gmtoff = yes ; then

cat >>confdefs.h <<\_ACEOF
#define HAVE_TM_GMTOFF 1
_ACEOF

    fi

    #
    # Its important to include time.h in this check, as some systems
    # (like convex) have timezone functions, etc.
    #
    echo "$as_me:$LINENO: checking long timezone variable" >&5
echo $ECHO_N "checking long timezone variable... $ECHO_C" >&6
if test "${tcl_cv_timezone_long+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <time.h>
int
main ()
{
extern long timezone;
	    timezone += 1;
	    exit (0);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_timezone_long=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_timezone_long=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $tcl_cv_timezone_long" >&5
echo "${ECHO_T}$tcl_cv_timezone_long" >&6
    if test $tcl_cv_timezone_long = yes ; then

cat >>confdefs.h <<\_ACEOF
#define HAVE_TIMEZONE_VAR 1
_ACEOF

    else
	#
	# On some systems (eg IRIX 6.2), timezone is a time_t and not a long.
	#
	echo "$as_me:$LINENO: checking time_t timezone variable" >&5
echo $ECHO_N "checking time_t timezone variable... $ECHO_C" >&6
if test "${tcl_cv_timezone_time+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <time.h>
int
main ()
{
extern time_t timezone;
		timezone += 1;
		exit (0);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_timezone_time=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_timezone_time=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $tcl_cv_timezone_time" >&5
echo "${ECHO_T}$tcl_cv_timezone_time" >&6
	if test $tcl_cv_timezone_time = yes ; then

cat >>confdefs.h <<\_ACEOF
#define HAVE_TIMEZONE_VAR 1
_ACEOF

	fi
    fi


#--------------------------------------------------------------------
#	The check below checks whether <sys/wait.h> defines the type
#	"union wait" correctly.  It's needed because of weirdness in
#	HP-UX where "union wait" is defined in both the BSD and SYS-V
#	environments.  Checking the usability of WIFEXITED seems to do
#	the trick.
#--------------------------------------------------------------------

echo "$as_me:$LINENO: checking union wait" >&5
echo $ECHO_N "checking union wait... $ECHO_C" >&6
if test "${tcl_cv_union_wait+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/types.h>
#include <sys/wait.h>
int
main ()
{

union wait x;
WIFEXITED(x);	/* Generates compiler error if WIFEXITED uses an int. */

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_union_wait=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

tcl_cv_union_wait=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi

echo "$as_me:$LINENO: result: $tcl_cv_union_wait" >&5
echo "${ECHO_T}$tcl_cv_union_wait" >&6
if test $tcl_cv_union_wait = no; then
    cat >>confdefs.h <<\_ACEOF
#define NO_UNION_WAIT 1
_ACEOF

fi

######################################################################
# required by Sequent ptx2

echo "$as_me:$LINENO: checking for gethostname" >&5
echo $ECHO_N "checking for gethostname... $ECHO_C" >&6
if test "${ac_cv_func_gethostname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define gethostname to an innocuous variant, in case <limits.h> declares gethostname.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define gethostname innocuous_gethostname

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char gethostname (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef gethostname

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostname ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_gethostname) || defined (__stub___gethostname)
choke me
#else
char (*f) () = gethostname;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != gethostname;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_gethostname=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_gethostname=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_gethostname" >&5
echo "${ECHO_T}$ac_cv_func_gethostname" >&6
if test $ac_cv_func_gethostname = yes; then
  gethostname=1
else
  gethostname=0
fi

if test $gethostname -eq 0 ; then
  echo "$as_me:$LINENO: checking for gethostname in -linet" >&5
echo $ECHO_N "checking for gethostname in -linet... $ECHO_C" >&6
if test "${ac_cv_lib_inet_gethostname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-linet  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostname ();
int
main ()
{
gethostname ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_inet_gethostname=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_inet_gethostname=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_inet_gethostname" >&5
echo "${ECHO_T}$ac_cv_lib_inet_gethostname" >&6
if test $ac_cv_lib_inet_gethostname = yes; then
  LIBS="$LIBS -linet"
fi

fi

######################################################################
# required by Fischman's ISC 4.0

echo "$as_me:$LINENO: checking for socket" >&5
echo $ECHO_N "checking for socket... $ECHO_C" >&6
if test "${ac_cv_func_socket+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define socket to an innocuous variant, in case <limits.h> declares socket.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define socket innocuous_socket

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char socket (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef socket

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char socket ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_socket) || defined (__stub___socket)
choke me
#else
char (*f) () = socket;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != socket;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_socket=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_socket=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_socket" >&5
echo "${ECHO_T}$ac_cv_func_socket" >&6
if test $ac_cv_func_socket = yes; then
  socket=1
else
  socket=0
fi

if test $socket -eq 0 ; then
  echo "$as_me:$LINENO: checking for socket in -linet" >&5
echo $ECHO_N "checking for socket in -linet... $ECHO_C" >&6
if test "${ac_cv_lib_inet_socket+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-linet  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char socket ();
int
main ()
{
socket ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_inet_socket=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_inet_socket=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_inet_socket" >&5
echo "${ECHO_T}$ac_cv_lib_inet_socket" >&6
if test $ac_cv_lib_inet_socket = yes; then
  LIBS="$LIBS -linet"
fi

fi

######################################################################

echo "$as_me:$LINENO: checking for select" >&5
echo $ECHO_N "checking for select... $ECHO_C" >&6
if test "${ac_cv_func_select+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define select to an innocuous variant, in case <limits.h> declares select.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define select innocuous_select

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char select (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef select

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char select ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_select) || defined (__stub___select)
choke me
#else
char (*f) () = select;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != select;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_select=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_select=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_select" >&5
echo "${ECHO_T}$ac_cv_func_select" >&6
if test $ac_cv_func_select = yes; then
  select=1
else
  select=0
fi

if test $select -eq 0 ; then
  echo "$as_me:$LINENO: checking for select in -linet" >&5
echo $ECHO_N "checking for select in -linet... $ECHO_C" >&6
if test "${ac_cv_lib_inet_select+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-linet  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char select ();
int
main ()
{
select ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_inet_select=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_inet_select=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_inet_select" >&5
echo "${ECHO_T}$ac_cv_lib_inet_select" >&6
if test $ac_cv_lib_inet_select = yes; then
  LIBS="$LIBS -linet"
fi

fi

######################################################################

echo "$as_me:$LINENO: checking for getpseudotty" >&5
echo $ECHO_N "checking for getpseudotty... $ECHO_C" >&6
if test "${ac_cv_func_getpseudotty+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define getpseudotty to an innocuous variant, in case <limits.h> declares getpseudotty.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define getpseudotty innocuous_getpseudotty

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char getpseudotty (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef getpseudotty

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char getpseudotty ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_getpseudotty) || defined (__stub___getpseudotty)
choke me
#else
char (*f) () = getpseudotty;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != getpseudotty;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_getpseudotty=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_getpseudotty=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_getpseudotty" >&5
echo "${ECHO_T}$ac_cv_func_getpseudotty" >&6
if test $ac_cv_func_getpseudotty = yes; then
  getpseudotty=1
else
  getpseudotty=0
fi

if test $getpseudotty -eq 0 ; then

echo "$as_me:$LINENO: checking for getpseudotty in -lseq" >&5
echo $ECHO_N "checking for getpseudotty in -lseq... $ECHO_C" >&6
if test "${ac_cv_lib_seq_getpseudotty+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lseq  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char getpseudotty ();
int
main ()
{
getpseudotty ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_seq_getpseudotty=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_seq_getpseudotty=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_seq_getpseudotty" >&5
echo "${ECHO_T}$ac_cv_lib_seq_getpseudotty" >&6
if test $ac_cv_lib_seq_getpseudotty = yes; then
  cat >>confdefs.h <<_ACEOF
#define HAVE_LIBSEQ 1
_ACEOF

  LIBS="-lseq $LIBS"

fi

fi

######################################################################
# Check for FreeBSD/NetBSD openpty()
unset ac_cv_func_openpty

echo "$as_me:$LINENO: checking for openpty" >&5
echo $ECHO_N "checking for openpty... $ECHO_C" >&6
if test "${ac_cv_func_openpty+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define openpty to an innocuous variant, in case <limits.h> declares openpty.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define openpty innocuous_openpty

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char openpty (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef openpty

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char openpty ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_openpty) || defined (__stub___openpty)
choke me
#else
char (*f) () = openpty;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != openpty;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_openpty=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_openpty=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_openpty" >&5
echo "${ECHO_T}$ac_cv_func_openpty" >&6
if test $ac_cv_func_openpty = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_OPENPTY 1
_ACEOF
 openpty=1
else
  openpty=0
fi

if test $openpty -eq 0 ; then
  echo "$as_me:$LINENO: checking for openpty in -lutil" >&5
echo $ECHO_N "checking for openpty in -lutil... $ECHO_C" >&6
if test "${ac_cv_lib_util_openpty+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lutil  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char openpty ();
int
main ()
{
openpty ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_util_openpty=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_util_openpty=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_util_openpty" >&5
echo "${ECHO_T}$ac_cv_lib_util_openpty" >&6
if test $ac_cv_lib_util_openpty = yes; then

	# we only need to define OPENPTY once, but since we are overriding
	# the default behavior, we must also handle augment LIBS too.
	# This needn't be done in the 2nd and 3rd tests.
	cat >>confdefs.h <<\_ACEOF
#define HAVE_OPENPTY 1
_ACEOF

	LIBS="$LIBS -lutil"

fi

fi

######################################################################
# End of library/func checking
######################################################################

# Hand patches to library/func checking.

echo "$as_me:$LINENO: checking if running Sequent running SVR4" >&5
echo $ECHO_N "checking if running Sequent running SVR4... $ECHO_C" >&6
if test "$host_alias" = "i386-sequent-sysv4" ; then
 LIBS="-lnsl -lsocket -lm"
 echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
else
 echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

#--------------------------------------------------------------------
#--------------------------------------------------------------------
#--------------------------------------------------------------------
#--------------------------------------------------------------------
# From here on comes original expect configure code.
# At the end we will have another section of TEA 3.2 code.
#
# Note specialities
#
# - Runs a sub configure (Dbgconfigure) for the expect tcl debugger
#
#--------------------------------------------------------------------
#--------------------------------------------------------------------

# Make sure we can run config.sub.
$ac_config_sub sun4 >/dev/null 2>&1 ||
  { { echo "$as_me:$LINENO: error: cannot run $ac_config_sub" >&5
echo "$as_me: error: cannot run $ac_config_sub" >&2;}
   { (exit 1); exit 1; }; }

echo "$as_me:$LINENO: checking build system type" >&5
echo $ECHO_N "checking build system type... $ECHO_C" >&6
if test "${ac_cv_build+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_build_alias=$build_alias
test -z "$ac_cv_build_alias" &&
  ac_cv_build_alias=`$ac_config_guess`
test -z "$ac_cv_build_alias" &&
  { { echo "$as_me:$LINENO: error: cannot guess build type; you must specify one" >&5
echo "$as_me: error: cannot guess build type; you must specify one" >&2;}
   { (exit 1); exit 1; }; }
ac_cv_build=`$ac_config_sub $ac_cv_build_alias` ||
  { { echo "$as_me:$LINENO: error: $ac_config_sub $ac_cv_build_alias failed" >&5
echo "$as_me: error: $ac_config_sub $ac_cv_build_alias failed" >&2;}
   { (exit 1); exit 1; }; }

fi
echo "$as_me:$LINENO: result: $ac_cv_build" >&5
echo "${ECHO_T}$ac_cv_build" >&6
build=$ac_cv_build
build_cpu=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
build_vendor=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
build_os=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`


echo "$as_me:$LINENO: checking host system type" >&5
echo $ECHO_N "checking host system type... $ECHO_C" >&6
if test "${ac_cv_host+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_host_alias=$host_alias
test -z "$ac_cv_host_alias" &&
  ac_cv_host_alias=$ac_cv_build_alias
ac_cv_host=`$ac_config_sub $ac_cv_host_alias` ||
  { { echo "$as_me:$LINENO: error: $ac_config_sub $ac_cv_host_alias failed" >&5
echo "$as_me: error: $ac_config_sub $ac_cv_host_alias failed" >&2;}
   { (exit 1); exit 1; }; }

fi
echo "$as_me:$LINENO: result: $ac_cv_host" >&5
echo "${ECHO_T}$ac_cv_host" >&6
host=$ac_cv_host
host_cpu=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
host_vendor=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
host_os=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`


echo "$as_me:$LINENO: checking target system type" >&5
echo $ECHO_N "checking target system type... $ECHO_C" >&6
if test "${ac_cv_target+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_target_alias=$target_alias
test "x$ac_cv_target_alias" = "x" &&
  ac_cv_target_alias=$ac_cv_host_alias
ac_cv_target=`$ac_config_sub $ac_cv_target_alias` ||
  { { echo "$as_me:$LINENO: error: $ac_config_sub $ac_cv_target_alias failed" >&5
echo "$as_me: error: $ac_config_sub $ac_cv_target_alias failed" >&2;}
   { (exit 1); exit 1; }; }

fi
echo "$as_me:$LINENO: result: $ac_cv_target" >&5
echo "${ECHO_T}$ac_cv_target" >&6
target=$ac_cv_target
target_cpu=`echo $ac_cv_target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
target_vendor=`echo $ac_cv_target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
target_os=`echo $ac_cv_target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`


# The aliases save the names the user supplied, while $host etc.
# will get canonicalized.
test -n "$target_alias" &&
  test "$program_prefix$program_suffix$program_transform_name" = \
    NONENONEs,x,x, &&
  program_prefix=${target_alias}-

# If `configure' is invoked (in)directly via `make', ensure that it
# encounters no `make' conflicts.
#

MFLAGS=
MAKEFLAGS=

# An explanation is in order for the strange things going on with the
# various LIBS.  There are three separate definitions for LIBS.  The
# reason is that some systems require shared libraries include
# references to their dependent libraries, i.e., any additional
# libraries that must be linked to.  And some systems get upset if the
# references are repeated on the link line.  So therefore, we create
# one for Expect, one for Expect and Tcl, and one for building Expect's own
# shared library.  Tcl's tclConfig.sh insists that any shared libs
# that it "helps" build must pass the libraries as LIBS (see comment
# near end of this configure file).  I would do but since we're close
# to hitting config's max symbols, we take one short cut and pack the
# LIBS into EXP_SHLIB_LD_LIBS (which is basically what Tcl wants to do
# for us).  The point, however, is that there's no separate LIBS or
# EXP_LIBS symbol passed out of configure.  One additional point for
# confusion is that LIBS is what configure uses to do all library
# tests, so we have to swap definitions of LIBS periodically.  When we
# are swapping out the one for Expect's shared library, we save it in
# EXP_LIBS.  Sigh.

eval "LIBS=\"$TCL_LIBS\""

if test "${with_tcl+set}" = set ; then
    case "${with_tcl}" in
	..*)
	    { echo "$as_me:$LINENO: WARNING: Specify absolute path to --with-tcl for subdir configuration" >&5
echo "$as_me: WARNING: Specify absolute path to --with-tcl for subdir configuration" >&2;}
	    ;;
    esac
fi

# these are the other subdirectories we need to configure


subdirs="$subdirs testsuite"


echo "$as_me:$LINENO: checking for pid_t" >&5
echo $ECHO_N "checking for pid_t... $ECHO_C" >&6
if test "${ac_cv_type_pid_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
int
main ()
{
if ((pid_t *) 0)
  return 0;
if (sizeof (pid_t))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_pid_t=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_type_pid_t=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_type_pid_t" >&5
echo "${ECHO_T}$ac_cv_type_pid_t" >&6
if test $ac_cv_type_pid_t = yes; then
  :
else

cat >>confdefs.h <<_ACEOF
#define pid_t int
_ACEOF

fi


echo "$as_me:$LINENO: checking if running Mach" >&5
echo $ECHO_N "checking if running Mach... $ECHO_C" >&6
mach=0
case "${host}" in
  # Both Next and pure Mach behave identically with respect
  # to a few things, so just lump them together as "mach"
  *-*-mach*)		mach=1 ;;
  *-*-next*)		mach=1 ; next=1 ;;
esac

if test $mach -eq 1 ; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

echo "$as_me:$LINENO: checking if running MachTen" >&5
echo $ECHO_N "checking if running MachTen... $ECHO_C" >&6
# yet another Mach clone
if test -r /MachTen ; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
  mach=1
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

echo "$as_me:$LINENO: checking if on Pyramid" >&5
echo $ECHO_N "checking if on Pyramid... $ECHO_C" >&6
if test -r /bin/pyr ; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
  pyr=1
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
  pyr=0
fi

echo "$as_me:$LINENO: checking if on Apollo" >&5
echo $ECHO_N "checking if on Apollo... $ECHO_C" >&6
if test -r /usr/apollo/bin ; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
  apollo=1
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
  apollo=0
fi

echo "$as_me:$LINENO: checking if on Interactive" >&5
echo $ECHO_N "checking if on Interactive... $ECHO_C" >&6
if test "x`(uname -s) 2>/dev/null`" = xIUNIX; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
  iunix=1
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
  iunix=0
fi

echo "$as_me:$LINENO: checking stty to use" >&5
echo $ECHO_N "checking stty to use... $ECHO_C" >&6
if test -r /usr/local/bin/stty ; then
  STTY_BIN=/usr/local/bin/stty
else
  STTY_BIN=/bin/stty
fi
echo "$as_me:$LINENO: result: $STTY_BIN" >&5
echo "${ECHO_T}$STTY_BIN" >&6

echo "$as_me:$LINENO: checking if stty reads stdout" >&5
echo $ECHO_N "checking if stty reads stdout... $ECHO_C" >&6

# On some systems stty can't be run in the background (svr4) or get it
# wrong because they fail to complain (next, mach), so don't attempt
# the test on some systems.

stty_reads_stdout=""
case "${host}" in
  *-*-solaris*)		stty_reads_stdout=0 ;;
  *-*-irix*)		stty_reads_stdout=0 ;;
  *-*-sco3.2v[45]*)	stty_reads_stdout=1 ;;
  i[3456]86-*-sysv4.2MP)	stty_reads_stdout=0 ;;
  *-*-linux*)		stty_reads_stdout=0 ;;
  # Not sure about old convex but 5.2 definitely reads from stdout
  c[12]-*-*)		stty_reads_stdout=1 ;;
  *-*-aix[34]*)	stty_reads_stdout=0 ;;
  *-*-hpux9*)		stty_reads_stdout=0 ;;
  *-*-hpux10*)		stty_reads_stdout=0 ;;
  *-*-osf[234]*)	stty_reads_stdout=0 ;;
  *-*-ultrix4.4)	stty_reads_stdout=0 ;;
  *-*-dgux*)		stty_reads_stdout=0 ;;
esac

if test $mach -eq 1 ; then
  stty_reads_stdout=1
fi
if test $apollo -eq 1 ; then
  stty_reads_stdout=1
fi
if test $pyr -eq 1 ; then
  stty_reads_stdout=1
fi

# if we still don't know, test
if test x"${stty_reads_stdout}" = x"" ; then
  $STTY_BIN > /dev/null             2> /dev/null ; a=$?
  $STTY_BIN < /dev/tty  > /dev/null 2> /dev/null ; b=$?
  if test $a -ne 0 -a $b -ne 0; then
    stty_reads_stdout=1
  else
    stty_reads_stdout=0
  fi
fi

if test ${stty_reads_stdout} -eq 1 ; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
  cat >>confdefs.h <<\_ACEOF
#define STTY_READS_STDOUT 1
_ACEOF

else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

# Solaris 2.4 and later requires __EXTENSIONS__ in order to see all sorts
# of traditional but nonstandard stuff in header files.
echo "$as_me:$LINENO: checking if running Solaris" >&5
echo $ECHO_N "checking if running Solaris... $ECHO_C" >&6
solaris=0
case "${host}" in
  *-*-solaris*)		solaris=1;;
esac

if test $solaris -eq 1 ; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
  cat >>confdefs.h <<\_ACEOF
#define SOLARIS 1
_ACEOF

else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

# On Interactive UNIX, -Xp must be added to LIBS in order to find strftime.
# This test should really be done by Tcl.  So just check Tcl's definition.
# If defective, add to all three LIBS.  (It's not actually necessary for
# EXP_LIBS since -Xp will just be ignored the way that EXP_LIBS is used in
# the Makefile, but we include it for consistency.)

if test $iunix -eq 1 ; then
  echo "$as_me:$LINENO: checking for strftime" >&5
echo $ECHO_N "checking for strftime... $ECHO_C" >&6
if test "${ac_cv_func_strftime+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define strftime to an innocuous variant, in case <limits.h> declares strftime.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define strftime innocuous_strftime

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char strftime (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef strftime

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char strftime ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_strftime) || defined (__stub___strftime)
choke me
#else
char (*f) () = strftime;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != strftime;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_strftime=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_strftime=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_strftime" >&5
echo "${ECHO_T}$ac_cv_func_strftime" >&6
if test $ac_cv_func_strftime = yes; then
  :
else

	LIBS="${LIBS} -Xp"

fi

fi

######################################################################
#
# Look for various header files
#

#
# Look for functions that may be missing
#
echo "$as_me:$LINENO: checking for memmove" >&5
echo $ECHO_N "checking for memmove... $ECHO_C" >&6
if test "${ac_cv_func_memmove+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define memmove to an innocuous variant, in case <limits.h> declares memmove.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define memmove innocuous_memmove

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char memmove (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef memmove

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char memmove ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_memmove) || defined (__stub___memmove)
choke me
#else
char (*f) () = memmove;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != memmove;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_memmove=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_memmove=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_memmove" >&5
echo "${ECHO_T}$ac_cv_func_memmove" >&6
if test $ac_cv_func_memmove = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_MEMMOVE 1
_ACEOF

fi

echo "$as_me:$LINENO: checking for sysconf" >&5
echo $ECHO_N "checking for sysconf... $ECHO_C" >&6
if test "${ac_cv_func_sysconf+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define sysconf to an innocuous variant, in case <limits.h> declares sysconf.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define sysconf innocuous_sysconf

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char sysconf (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef sysconf

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char sysconf ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_sysconf) || defined (__stub___sysconf)
choke me
#else
char (*f) () = sysconf;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != sysconf;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_sysconf=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_sysconf=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_sysconf" >&5
echo "${ECHO_T}$ac_cv_func_sysconf" >&6
if test $ac_cv_func_sysconf = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_SYSCONF 1
_ACEOF

fi

echo "$as_me:$LINENO: checking for strftime" >&5
echo $ECHO_N "checking for strftime... $ECHO_C" >&6
if test "${ac_cv_func_strftime+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define strftime to an innocuous variant, in case <limits.h> declares strftime.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define strftime innocuous_strftime

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char strftime (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef strftime

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char strftime ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_strftime) || defined (__stub___strftime)
choke me
#else
char (*f) () = strftime;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != strftime;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_strftime=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_strftime=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_strftime" >&5
echo "${ECHO_T}$ac_cv_func_strftime" >&6
if test $ac_cv_func_strftime = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_STRFTIME 1
_ACEOF

fi

echo "$as_me:$LINENO: checking for strchr" >&5
echo $ECHO_N "checking for strchr... $ECHO_C" >&6
if test "${ac_cv_func_strchr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define strchr to an innocuous variant, in case <limits.h> declares strchr.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define strchr innocuous_strchr

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char strchr (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef strchr

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char strchr ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_strchr) || defined (__stub___strchr)
choke me
#else
char (*f) () = strchr;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != strchr;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_strchr=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_strchr=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_strchr" >&5
echo "${ECHO_T}$ac_cv_func_strchr" >&6
if test $ac_cv_func_strchr = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_STRCHR 1
_ACEOF

fi

echo "$as_me:$LINENO: checking for timezone" >&5
echo $ECHO_N "checking for timezone... $ECHO_C" >&6
if test "${ac_cv_func_timezone+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define timezone to an innocuous variant, in case <limits.h> declares timezone.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define timezone innocuous_timezone

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char timezone (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef timezone

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char timezone ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_timezone) || defined (__stub___timezone)
choke me
#else
char (*f) () = timezone;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != timezone;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_timezone=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_timezone=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_timezone" >&5
echo "${ECHO_T}$ac_cv_func_timezone" >&6
if test $ac_cv_func_timezone = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_TIMEZONE 1
_ACEOF

fi

echo "$as_me:$LINENO: checking for siglongjmp" >&5
echo $ECHO_N "checking for siglongjmp... $ECHO_C" >&6
if test "${ac_cv_func_siglongjmp+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define siglongjmp to an innocuous variant, in case <limits.h> declares siglongjmp.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define siglongjmp innocuous_siglongjmp

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char siglongjmp (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef siglongjmp

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char siglongjmp ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_siglongjmp) || defined (__stub___siglongjmp)
choke me
#else
char (*f) () = siglongjmp;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != siglongjmp;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_siglongjmp=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_siglongjmp=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_siglongjmp" >&5
echo "${ECHO_T}$ac_cv_func_siglongjmp" >&6
if test $ac_cv_func_siglongjmp = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_SIGLONGJMP 1
_ACEOF

fi


# dnl check for memcpy by hand
# because Unixware 2.0 handles it specially and refuses to compile
# autoconf's automatic test that is a call with no arguments
echo "$as_me:$LINENO: checking for memcpy" >&5
echo $ECHO_N "checking for memcpy... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

char *s1, *s2;
memcpy(s1,s2,0);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
	cat >>confdefs.h <<\_ACEOF
#define HAVE_MEMCPY 1
_ACEOF


else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6

fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext

# Some systems only define WNOHANG if _POSIX_SOURCE is defined
# The following merely tests that sys/wait.h can be included
# and if so that WNOHANG is not defined.  The only place I've
# seen this is ISC.
echo "$as_me:$LINENO: checking if WNOHANG requires _POSIX_SOURCE" >&5
echo $ECHO_N "checking if WNOHANG requires _POSIX_SOURCE... $ECHO_C" >&6
if test "$cross_compiling" = yes; then
  { { echo "$as_me:$LINENO: error: Expect can't be cross compiled" >&5
echo "$as_me: error: Expect can't be cross compiled" >&2;}
   { (exit 1); exit 1; }; }

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include <sys/wait.h>
main() {
#ifndef WNOHANG
	return 0;
#else
	return 1;
#endif
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
	cat >>confdefs.h <<\_ACEOF
#define WNOHANG_REQUIRES_POSIX_SOURCE 1
_ACEOF


else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6

fi
rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi

echo "$as_me:$LINENO: checking if any value exists for WNOHANG" >&5
echo $ECHO_N "checking if any value exists for WNOHANG... $ECHO_C" >&6
rm -rf wnohang
if test "$cross_compiling" = yes; then
  { { echo "$as_me:$LINENO: error: Expect can't be cross compiled" >&5
echo "$as_me: error: Expect can't be cross compiled" >&2;}
   { (exit 1); exit 1; }; }

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include <stdio.h>
#include <sys/wait.h>
main() {
#ifdef WNOHANG
	FILE *fp = fopen("wnohang","w");
	fprintf(fp,"%d",WNOHANG);
	fclose(fp);
	return 0;
#else
	return 1;
#endif
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
	cat >>confdefs.h <<_ACEOF
#define WNOHANG_BACKUP_VALUE `cat wnohang`
_ACEOF

	rm -f wnohang

else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
	cat >>confdefs.h <<\_ACEOF
#define WNOHANG_BACKUP_VALUE 1
_ACEOF


fi
rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi

#
# check how signals work
#

# Check for the data type of the mask used in select().
# This picks up HP braindamage which defines fd_set and then
# proceeds to ignore it and use int.
# Pattern matching on int could be loosened.
# Can't use ac_header_egrep since that doesn't see prototypes with K&R cpp.
echo "$as_me:$LINENO: checking mask type of select" >&5
echo $ECHO_N "checking mask type of select... $ECHO_C" >&6
if egrep "select\(size_t, int" /usr/include/sys/time.h >/dev/null 2>&1; then
  echo "$as_me:$LINENO: result: int" >&5
echo "${ECHO_T}int" >&6
  cat >>confdefs.h <<\_ACEOF
#define SELECT_MASK_TYPE int
_ACEOF

else
  echo "$as_me:$LINENO: result: none" >&5
echo "${ECHO_T}none" >&6
  cat >>confdefs.h <<\_ACEOF
#define SELECT_MASK_TYPE fd_set
_ACEOF

fi


# FIXME: check if alarm exists
echo "$as_me:$LINENO: checking if signals need to be re-armed" >&5
echo $ECHO_N "checking if signals need to be re-armed... $ECHO_C" >&6
if test "$cross_compiling" = yes; then
  { echo "$as_me:$LINENO: WARNING: Expect can't be cross compiled" >&5
echo "$as_me: WARNING: Expect can't be cross compiled" >&2;}

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include <signal.h>
#define RETSIGTYPE $retsigtype

int signal_rearms = 0;

RETSIGTYPE
child_sigint_handler(n)
int n;
{
}

RETSIGTYPE
parent_sigint_handler(n)
int n;
{
signal_rearms++;
}

main()
{
	signal(SIGINT,parent_sigint_handler);

	if (0 == fork()) {
		signal(SIGINT,child_sigint_handler);
		kill(getpid(),SIGINT);
		kill(getpid(),SIGINT);
		kill(getppid(),SIGINT);
	} else {
		int status;

		wait(&status);
		unlink("core");
		exit(signal_rearms);
	}
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
	cat >>confdefs.h <<\_ACEOF
#define REARM_SIG 1
_ACEOF


else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6

fi
rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi

# HPUX7 has trouble with the big cat so split it
# Owen Rees <rtor@@ansa.co.uk> 29Mar93
SEDDEFS="${SEDDEFS}CONFEOF
cat >> conftest.sed <<CONFEOF
"
#

# There are multiple versions of getpty, alas.
# I don't remember who has the first one, but Convex just added one
# so check for it.  Unfortunately, there is no header so the only
# reasonable way to make sure is to look it we are on a Convex.
echo "$as_me:$LINENO: checking if on Convex" >&5
echo $ECHO_N "checking if on Convex... $ECHO_C" >&6
convex=0
case "${host}" in
  c[12]-*-*)		convex=1;;
esac

if test $convex -eq 1 ; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
  cat >>confdefs.h <<\_ACEOF
#define CONVEX 1
_ACEOF

else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi


echo "$as_me:$LINENO: checking if on HP" >&5
echo $ECHO_N "checking if on HP... $ECHO_C" >&6
if test "x`(uname) 2>/dev/null`" = xHP-UX; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
  hp=1
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
  hp=0
fi

echo "$as_me:$LINENO: checking sane default stty arguments" >&5
echo $ECHO_N "checking sane default stty arguments... $ECHO_C" >&6
DEFAULT_STTY_ARGS="sane"

if test $mach -eq 1 ; then
	DEFAULT_STTY_ARGS="cooked"
fi

if test $hp -eq 1 ; then
	DEFAULT_STTY_ARGS="sane kill "
fi

echo "$as_me:$LINENO: result: $DEFAULT_STTY_ARG" >&5
echo "${ECHO_T}$DEFAULT_STTY_ARG" >&6

# Look for various features to determine what kind of pty
# we have. For some weird reason, ac_compile_check would not
# work, but ac_test_program does.
#
echo "$as_me:$LINENO: checking for HP style pty allocation" >&5
echo $ECHO_N "checking for HP style pty allocation... $ECHO_C" >&6
# following test fails on DECstations and other things that don't grok -c
# but that's ok, since they don't have PTYMs anyway
if test -r /dev/ptym/ptyp0 2>/dev/null ; then
    echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
    cat >>confdefs.h <<\_ACEOF
#define HAVE_PTYM 1
_ACEOF

else
    echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

echo "$as_me:$LINENO: checking for HP style pty trapping" >&5
echo $ECHO_N "checking for HP style pty trapping... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/ptyio.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "struct.*request_info" >/dev/null 2>&1; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
	cat >>confdefs.h <<\_ACEOF
#define HAVE_PTYTRAP 1
_ACEOF


else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6

fi
rm -f conftest*


echo "$as_me:$LINENO: checking for AIX new-style pty allocation" >&5
echo $ECHO_N "checking for AIX new-style pty allocation... $ECHO_C" >&6
if test -r /dev/ptc -a -r /dev/pts ; then
    echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
    cat >>confdefs.h <<\_ACEOF
#define HAVE_PTC_PTS 1
_ACEOF

else
    echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

echo "$as_me:$LINENO: checking for SGI old-style pty allocation" >&5
echo $ECHO_N "checking for SGI old-style pty allocation... $ECHO_C" >&6
if test -r /dev/ptc -a ! -r /dev/pts ; then
    echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
    cat >>confdefs.h <<\_ACEOF
#define HAVE_PTC 1
_ACEOF

else
    echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

# On SCO OpenServer, two types of ptys are available: SVR4 streams and c-list.
# The library routines to open the SVR4 ptys are broken on certain systems and
# the SCO command to increase the number of ptys only configure c-list ones
# anyway.  So we chose these, which have a special numbering scheme.
#
echo "$as_me:$LINENO: checking for SCO style pty allocation" >&5
echo $ECHO_N "checking for SCO style pty allocation... $ECHO_C" >&6
sco_ptys=""
case "${host}" in
  *-sco3.2v[45]*)	sco_clist_ptys=1 svr4_ptys_broken=1;;
esac

if test x"${sco_clist_ptys}" != x"" ; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
  cat >>confdefs.h <<\_ACEOF
#define HAVE_SCO_CLIST_PTYS 1
_ACEOF

else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

echo "$as_me:$LINENO: checking for SVR4 style pty allocation" >&5
echo $ECHO_N "checking for SVR4 style pty allocation... $ECHO_C" >&6
if test -r /dev/ptmx -a "x$svr4_ptys_broken" = x ; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
  cat >>confdefs.h <<\_ACEOF
#define HAVE_PTMX 1
_ACEOF

  # aargg. Some systems need libpt.a to use /dev/ptmx
  echo "$as_me:$LINENO: checking for libpts=\"-lpt\" in -lpt" >&5
echo $ECHO_N "checking for libpts=\"-lpt\" in -lpt... $ECHO_C" >&6
if test "${ac_cv_lib_pt_libpts___lpt_+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lpt  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char libpts="-lpt" ();
int
main ()
{
libpts="-lpt" ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_pt_libpts___lpt_=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_pt_libpts___lpt_=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_pt_libpts___lpt_" >&5
echo "${ECHO_T}$ac_cv_lib_pt_libpts___lpt_" >&6
if test $ac_cv_lib_pt_libpts___lpt_ = yes; then
  libpts=""
fi

  echo "$as_me:$LINENO: checking for ptsname" >&5
echo $ECHO_N "checking for ptsname... $ECHO_C" >&6
if test "${ac_cv_func_ptsname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define ptsname to an innocuous variant, in case <limits.h> declares ptsname.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define ptsname innocuous_ptsname

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char ptsname (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef ptsname

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char ptsname ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_ptsname) || defined (__stub___ptsname)
choke me
#else
char (*f) () = ptsname;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != ptsname;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_ptsname=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_ptsname=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_ptsname" >&5
echo "${ECHO_T}$ac_cv_func_ptsname" >&6
if test $ac_cv_func_ptsname = yes; then
  :
else
  LIBS="${LIBS} $libpts"
fi

else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

# In OSF/1 case, SVR4 are somewhat different.
# Gregory Depp <depp@@osf.org> 17Aug93
echo "$as_me:$LINENO: checking for OSF/1 style pty allocation" >&5
echo $ECHO_N "checking for OSF/1 style pty allocation... $ECHO_C" >&6
if test -r /dev/ptmx_bsd ; then
    cat >>confdefs.h <<\_ACEOF
#define HAVE_PTMX_BSD 1
_ACEOF

    echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
else
    echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

tcgetattr=0
tcsetattr=0
echo "$as_me:$LINENO: checking for tcgetattr" >&5
echo $ECHO_N "checking for tcgetattr... $ECHO_C" >&6
if test "${ac_cv_func_tcgetattr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define tcgetattr to an innocuous variant, in case <limits.h> declares tcgetattr.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define tcgetattr innocuous_tcgetattr

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char tcgetattr (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef tcgetattr

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tcgetattr ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_tcgetattr) || defined (__stub___tcgetattr)
choke me
#else
char (*f) () = tcgetattr;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != tcgetattr;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_tcgetattr=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_tcgetattr=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_tcgetattr" >&5
echo "${ECHO_T}$ac_cv_func_tcgetattr" >&6
if test $ac_cv_func_tcgetattr = yes; then
  tcgetattr=1
fi

echo "$as_me:$LINENO: checking for tcsetattr" >&5
echo $ECHO_N "checking for tcsetattr... $ECHO_C" >&6
if test "${ac_cv_func_tcsetattr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define tcsetattr to an innocuous variant, in case <limits.h> declares tcsetattr.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define tcsetattr innocuous_tcsetattr

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char tcsetattr (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef tcsetattr

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tcsetattr ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_tcsetattr) || defined (__stub___tcsetattr)
choke me
#else
char (*f) () = tcsetattr;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != tcsetattr;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_tcsetattr=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_tcsetattr=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_tcsetattr" >&5
echo "${ECHO_T}$ac_cv_func_tcsetattr" >&6
if test $ac_cv_func_tcsetattr = yes; then
  tcsetattr=1
fi

if test $tcgetattr -eq 1 -a $tcsetattr -eq 1 ; then
    cat >>confdefs.h <<\_ACEOF
#define HAVE_TCSETATTR 1
_ACEOF

    cat >>confdefs.h <<\_ACEOF
#define POSIX 1
_ACEOF

fi

# first check for the pure bsd
echo "$as_me:$LINENO: checking for struct sgttyb" >&5
echo $ECHO_N "checking for struct sgttyb... $ECHO_C" >&6
if test "$cross_compiling" = yes; then
  { { echo "$as_me:$LINENO: error: Expect can't be cross compiled" >&5
echo "$as_me: error: Expect can't be cross compiled" >&2;}
   { (exit 1); exit 1; }; }

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#include <sgtty.h>
main()
{
  struct sgttyb tmp;
  exit(0);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
        cat >>confdefs.h <<\_ACEOF
#define HAVE_SGTTYB 1
_ACEOF

        PTY_TYPE=sgttyb

else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6

fi
rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi

# mach systems have include files for unimplemented features
# so avoid doing following test on those systems
if test $mach -eq 0 ; then

  # next check for the older style ttys
  # note that if we detect termio.h (only), we still set PTY_TYPE=termios
  # since that just controls which of pty_XXXX.c file is use and
  # pty_termios.c is set up to handle pty_termio.
  echo "$as_me:$LINENO: checking for struct termio" >&5
echo $ECHO_N "checking for struct termio... $ECHO_C" >&6
  if test "$cross_compiling" = yes; then
  { { echo "$as_me:$LINENO: error: Expect can't be cross compiled" >&5
echo "$as_me: error: Expect can't be cross compiled" >&2;}
   { (exit 1); exit 1; }; }

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <termio.h>
  main()
  {
    struct termio tmp;
    exit(0);
  }
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_TERMIO 1
_ACEOF

        PTY_TYPE=termios
        echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6

else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6

fi
rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi

  # now check for the new style ttys (not yet posix)
  echo "$as_me:$LINENO: checking for struct termios" >&5
echo $ECHO_N "checking for struct termios... $ECHO_C" >&6
  if test "$cross_compiling" = yes; then
  { { echo "$as_me:$LINENO: error: Expect can't be cross compiled" >&5
echo "$as_me: error: Expect can't be cross compiled" >&2;}
   { (exit 1); exit 1; }; }

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

  /* including termios.h on Solaris 5.6 fails unless inttypes.h included */
#  ifdef HAVE_INTTYPES_H
#  include <inttypes.h>
#  endif
#  include <termios.h>
  main()
  {
    struct termios tmp;
    exit(0);
  }
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_TERMIOS 1
_ACEOF

        PTY_TYPE=termios
        echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6

else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6

fi
rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi

echo "$as_me:$LINENO: checking if TCGETS or TCGETA in termios.h" >&5
echo $ECHO_N "checking if TCGETS or TCGETA in termios.h... $ECHO_C" >&6
if test "$cross_compiling" = yes; then
  { { echo "$as_me:$LINENO: error: Expect can't be cross compiled" >&5
echo "$as_me: error: Expect can't be cross compiled" >&2;}
   { (exit 1); exit 1; }; }

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* including termios.h on Solaris 5.6 fails unless inttypes.h included */
#ifdef HAVE_INTTYPES_H
#include <inttypes.h>
#endif
#include <termios.h>
main() {
#if defined(TCGETS) || defined(TCGETA)
	return 0;
#else
	return 1;
#endif
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_TCGETS_OR_TCGETA_IN_TERMIOS_H 1
_ACEOF

	echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6

else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6

fi
rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi

echo "$as_me:$LINENO: checking if TIOCGWINSZ in termios.h" >&5
echo $ECHO_N "checking if TIOCGWINSZ in termios.h... $ECHO_C" >&6
if test "$cross_compiling" = yes; then
  { { echo "$as_me:$LINENO: error: Expect can't be cross compiled" >&5
echo "$as_me: error: Expect can't be cross compiled" >&2;}
   { (exit 1); exit 1; }; }

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* including termios.h on Solaris 5.6 fails unless inttypes.h included */
#ifdef HAVE_INTTYPES_H
#include <inttypes.h>
#endif
#include <termios.h>
main() {
#ifdef TIOCGWINSZ
	return 0;
#else
	return 1;
#endif
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_TIOCGWINSZ_IN_TERMIOS_H 1
_ACEOF

	echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6

else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6

fi
rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi

# finally check for Cray style ttys
echo "$as_me:$LINENO: checking for Cray-style ptys" >&5
echo $ECHO_N "checking for Cray-style ptys... $ECHO_C" >&6
SETUID=":"
if test "$cross_compiling" = yes; then
  { { echo "$as_me:$LINENO: error: Expect can't be cross compiled" >&5
echo "$as_me: error: Expect can't be cross compiled" >&2;}
   { (exit 1); exit 1; }; }

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

main(){
#ifdef CRAY
	return 0;
#else
	return 1;
#endif
}

_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  PTY_TYPE=unicos
	SETUID="chmod u+s"
	echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6

else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6

fi
rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi

#
# Check for select and/or poll. If both exist, we prefer select.
# if neither exists, define SIMPLE_EVENT.
#
select=0
poll=0
unset ac_cv_func_select
echo "$as_me:$LINENO: checking for select" >&5
echo $ECHO_N "checking for select... $ECHO_C" >&6
if test "${ac_cv_func_select+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define select to an innocuous variant, in case <limits.h> declares select.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define select innocuous_select

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char select (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef select

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char select ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_select) || defined (__stub___select)
choke me
#else
char (*f) () = select;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != select;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_select=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_select=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_select" >&5
echo "${ECHO_T}$ac_cv_func_select" >&6
if test $ac_cv_func_select = yes; then
  select=1
fi

echo "$as_me:$LINENO: checking for poll" >&5
echo $ECHO_N "checking for poll... $ECHO_C" >&6
if test "${ac_cv_func_poll+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define poll to an innocuous variant, in case <limits.h> declares poll.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define poll innocuous_poll

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char poll (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef poll

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char poll ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_poll) || defined (__stub___poll)
choke me
#else
char (*f) () = poll;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != poll;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_poll=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_func_poll=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: $ac_cv_func_poll" >&5
echo "${ECHO_T}$ac_cv_func_poll" >&6
if test $ac_cv_func_poll = yes; then
  poll=1
fi

echo "$as_me:$LINENO: checking event handling" >&5
echo $ECHO_N "checking event handling... $ECHO_C" >&6
if test $select -eq 1 ; then
  EVENT_TYPE=select
  EVENT_ABLE=event
  echo "$as_me:$LINENO: result: via select" >&5
echo "${ECHO_T}via select" >&6
elif test $poll -eq 1 ; then
  EVENT_TYPE=poll
  EVENT_ABLE=event
  echo "$as_me:$LINENO: result: via poll" >&5
echo "${ECHO_T}via poll" >&6
else
  EVENT_TYPE=simple
  EVENT_ABLE=noevent
  echo "$as_me:$LINENO: result: none" >&5
echo "${ECHO_T}none" >&6
  cat >>confdefs.h <<\_ACEOF
#define SIMPLE_EVENT 1
_ACEOF

fi


for ac_func in _getpty
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:$LINENO: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define $ac_func innocuous_$ac_func

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef $ac_func

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
char (*f) () = $ac_func;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != $ac_func;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

eval "$as_ac_var=no"
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<_ACEOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
_ACEOF

fi
done


for ac_func in getpty
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:$LINENO: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define $ac_func innocuous_$ac_func

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef $ac_func

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
char (*f) () = $ac_func;
#endif
#ifdef __cplusplus
}
#endif

int
main ()
{
return f != $ac_func;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

eval "$as_ac_var=no"
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<_ACEOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
_ACEOF

fi
done


# following test sets SETPGRP_VOID if setpgrp takes 0 args, else takes 2
echo "$as_me:$LINENO: checking whether setpgrp takes no argument" >&5
echo $ECHO_N "checking whether setpgrp takes no argument... $ECHO_C" >&6
if test "${ac_cv_func_setpgrp_void+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test "$cross_compiling" = yes; then
  { { echo "$as_me:$LINENO: error: cannot check setpgrp when cross compiling" >&5
echo "$as_me: error: cannot check setpgrp when cross compiling" >&2;}
   { (exit 1); exit 1; }; }
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#if HAVE_UNISTD_H
# include <unistd.h>
#endif

int
main ()
{
/* If this system has a BSD-style setpgrp which takes arguments,
  setpgrp(1, 1) will fail with ESRCH and return -1, in that case
  exit successfully. */
  exit (setpgrp (1,1) == -1 ? 0 : 1);
  ;
  return 0;
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_setpgrp_void=no
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
ac_cv_func_setpgrp_void=yes
fi
rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
echo "$as_me:$LINENO: result: $ac_cv_func_setpgrp_void" >&5
echo "${ECHO_T}$ac_cv_func_setpgrp_void" >&6
if test $ac_cv_func_setpgrp_void = yes; then

cat >>confdefs.h <<\_ACEOF
#define SETPGRP_VOID 1
_ACEOF

fi


#
# check for timezones
#
echo "$as_me:$LINENO: checking for SV-style timezone" >&5
echo $ECHO_N "checking for SV-style timezone... $ECHO_C" >&6
if test "$cross_compiling" = yes; then
  { { echo "$as_me:$LINENO: error: Expect can't be cross compiled" >&5
echo "$as_me: error: Expect can't be cross compiled" >&2;}
   { (exit 1); exit 1; }; }

else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

extern char *tzname[2];
extern int daylight;
main()
{
  int *x = &daylight;
  char **y = tzname;

  exit(0);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_SV_TIMEZONE 1
_ACEOF

	echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

( exit $ac_status )
echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6

fi
rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi


# Following comment stolen from Tcl's configure.in:
#   Note:  in the following variable, it's important to use the absolute
#   path name of the Tcl directory rather than "..":  this is because
#   AIX remembers this path and will attempt to use it at run-time to look
#   up the Tcl library.

PACKAGE_VERSION_NODOTS="`echo $PACKAGE_VERSION | sed -e 's/\.//g'`"

if test "${TCL_LIB_VERSIONS_OK}" = "ok"; then
    EXP_LIB_VERSION=$PACKAGE_VERSION
else
    EXP_LIB_VERSION=$PACKAGE_VERSION_NODOTS
fi
if test $iunix -eq 1 ; then
    EXP_LIB_VERSION=$PACKAGE_VERSION_NODOTS
fi

# also remove dots on systems that don't support filenames > 14
# (are there systems which support shared libs and restrict filename lengths!?)
echo "$as_me:$LINENO: checking for long file names" >&5
echo $ECHO_N "checking for long file names... $ECHO_C" >&6
if test "${ac_cv_sys_long_file_names+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_sys_long_file_names=yes
# Test for long file names in all the places we know might matter:
#      .		the current directory, where building will happen
#      $prefix/lib	where we will be installing things
#      $exec_prefix/lib	likewise
# eval it to expand exec_prefix.
#      $TMPDIR		if set, where it might want to write temporary files
# if $TMPDIR is not set:
#      /tmp		where it might want to write temporary files
#      /var/tmp		likewise
#      /usr/tmp		likewise
if test -n "$TMPDIR" && test -d "$TMPDIR" && test -w "$TMPDIR"; then
  ac_tmpdirs=$TMPDIR
else
  ac_tmpdirs='/tmp /var/tmp /usr/tmp'
fi
for ac_dir in  . $ac_tmpdirs `eval echo $prefix/lib $exec_prefix/lib` ; do
  test -d $ac_dir || continue
  test -w $ac_dir || continue # It is less confusing to not echo anything here.
  ac_xdir=$ac_dir/cf$$
  (umask 077 && mkdir $ac_xdir 2>/dev/null) || continue
  ac_tf1=$ac_xdir/conftest9012345
  ac_tf2=$ac_xdir/conftest9012346
  (echo 1 >$ac_tf1) 2>/dev/null
  (echo 2 >$ac_tf2) 2>/dev/null
  ac_val=`cat $ac_tf1 2>/dev/null`
  if test ! -f $ac_tf1 || test "$ac_val" != 1; then
    ac_cv_sys_long_file_names=no
    rm -rf $ac_xdir 2>/dev/null
    break
  fi
  rm -rf $ac_xdir 2>/dev/null
done
fi
echo "$as_me:$LINENO: result: $ac_cv_sys_long_file_names" >&5
echo "${ECHO_T}$ac_cv_sys_long_file_names" >&6
if test $ac_cv_sys_long_file_names = yes; then

cat >>confdefs.h <<\_ACEOF
#define HAVE_LONG_FILE_NAMES 1
_ACEOF

fi

if test $ac_cv_sys_long_file_names = no; then
    EXP_LIB_VERSION=$PACKAGE_VERSION_NODOTS
fi

if test "$FRAMEWORK_BUILD" = "1" ; then
    EXP_BUILD_LIB_SPEC="-F`pwd` -framework Expect"
    EXP_LIB_SPEC="-framework Expect"
    EXP_LIB_FILE="Expect"
    cat >>confdefs.h <<\_ACEOF
#define EXP_FRAMEWORK 1
_ACEOF

else
    if test "${TCL_LIB_VERSIONS_OK}" = "ok"; then
        EXP_LIB_FLAG="-lexpect${EXP_LIB_VERSION}"
    else
        EXP_LIB_FLAG="-lexpect`echo ${EXP_LIB_VERSION} | tr -d .`"
    fi
    EXP_BUILD_LIB_SPEC="-L`pwd` ${EXP_LIB_FLAG}"
    EXP_LIB_SPEC="-L${libdir} ${EXP_LIB_FLAG}"
fi

#--------------------------------------------------------------------
# This section is based on analogous thing in Tk installation. - DEL
#	Various manipulations on the search path used at runtime to
#	find shared libraries:
#	2. On systems such as AIX and Ultrix that use "-L" as the
#	   search path option, colons cannot be used to separate
#	   directories from each other. Change colons to " -L".
#	3. Create two sets of search flags, one for use in cc lines
#	   and the other for when the linker is invoked directly.  In
#	   the second case, '-Wl,' must be stripped off and commas must
#	   be replaced by spaces.
#--------------------------------------------------------------------

LIB_RUNTIME_DIR='${LIB_RUNTIME_DIR}/${PACKAGE_NAME}${PACKAGE_VERSION}'

# If Tcl and Expect are installed in different places, adjust the library
# search path to reflect this.

if test "$TCL_EXEC_PREFIX" != "$exec_prefix"; then
    LIB_RUNTIME_DIR="${LIB_RUNTIME_DIR}:${TCL_EXEC_PREFIX}/lib"
fi

if test "${TCL_LD_SEARCH_FLAGS}" = '-L${LIB_RUNTIME_DIR}'; then
    LIB_RUNTIME_DIR=`echo ${LIB_RUNTIME_DIR} |sed -e 's/:/ -L/g'`
fi

# The eval below is tricky!  It *evaluates* the string in
# ..._CC_SEARCH_FLAGS, which causes a substitution of the
# variable LIB_RUNTIME_DIR.

eval "EXP_CC_SEARCH_FLAGS=\"$TCL_CC_SEARCH_FLAGS\""

# now broken out into EXP_AND_TCL_LIBS.  Had to do this
# in order to avoid repeating lib specs to which some systems object.

LIBS="$LIBS $LD_SEARCH_FLAGS"

#
# Set up makefile substitutions
#





# Expect uses these from tclConfig.sh to make the main executable



#--------------------------------------------------------------------
# More TEA code based on data we got from the original expect
# configure code.
#--------------------------------------------------------------------

#-----------------------------------------------------------------------
# Specify the C source files to compile in TEA_ADD_SOURCES,
# public headers that need to be installed in TEA_ADD_HEADERS,
# stub library C source files to compile in TEA_ADD_STUB_SOURCES,
# and runtime Tcl library files in TEA_ADD_TCL_SOURCES.
# This defines PKG(_STUB)_SOURCES, PKG(_STUB)_OBJECTS, PKG_HEADERS
# and PKG_TCL_SOURCES.
#-----------------------------------------------------------------------


    vars="
	exp_command.c expect.c exp_inter.c exp_regexp.c exp_tty.c
	exp_log.c exp_main_sub.c exp_pty.c exp_trap.c exp_strf.c
	exp_console.c exp_glob.c exp_win.c exp_clib.c exp_closetcl.c
	exp_memmove.c exp_tty_comm.c exp_chan.c Dbg.c
"
    for i in $vars; do
	case $i in
	    \$*)
		# allow $-var names
		PKG_SOURCES="$PKG_SOURCES $i"
		PKG_OBJECTS="$PKG_OBJECTS $i"
		;;
	    *)
		# check for existence - allows for generic/win/unix VPATH
		# To add more dirs here (like 'src'), you have to update VPATH
		# in Makefile.in as well
		if test ! -f "${srcdir}/$i" -a ! -f "${srcdir}/generic/$i" \
		    -a ! -f "${srcdir}/win/$i" -a ! -f "${srcdir}/unix/$i" \
		    -a ! -f "${srcdir}/macosx/$i" \
		    ; then
		    { { echo "$as_me:$LINENO: error: could not find source file '$i'" >&5
echo "$as_me: error: could not find source file '$i'" >&2;}
   { (exit 1); exit 1; }; }
		fi
		PKG_SOURCES="$PKG_SOURCES $i"
		# this assumes it is in a VPATH dir
		i=`basename $i`
		# handle user calling this before or after TEA_SETUP_COMPILER
		if test x"${OBJEXT}" != x ; then
		    j="`echo $i | sed -e 's/\.[^.]*$//'`.${OBJEXT}"
		else
		    j="`echo $i | sed -e 's/\.[^.]*$//'`.\${OBJEXT}"
		fi
		PKG_OBJECTS="$PKG_OBJECTS $j"
		;;
	esac
    done




# Variant sources. Comments in the Makefile indicate that the
# event_type/able stuff can be overidden in the Makefile, and should
# be for particular systems. IMHO this requires a configure option.
#
# See at the end, where we select the sources based on the collect
# information.


    vars="
	pty_${PTY_TYPE}.c
	exp_${EVENT_TYPE}.c
	exp_${EVENT_ABLE}.c
"
    for i in $vars; do
	case $i in
	    \$*)
		# allow $-var names
		PKG_SOURCES="$PKG_SOURCES $i"
		PKG_OBJECTS="$PKG_OBJECTS $i"
		;;
	    *)
		# check for existence - allows for generic/win/unix VPATH
		# To add more dirs here (like 'src'), you have to update VPATH
		# in Makefile.in as well
		if test ! -f "${srcdir}/$i" -a ! -f "${srcdir}/generic/$i" \
		    -a ! -f "${srcdir}/win/$i" -a ! -f "${srcdir}/unix/$i" \
		    -a ! -f "${srcdir}/macosx/$i" \
		    ; then
		    { { echo "$as_me:$LINENO: error: could not find source file '$i'" >&5
echo "$as_me: error: could not find source file '$i'" >&2;}
   { (exit 1); exit 1; }; }
		fi
		PKG_SOURCES="$PKG_SOURCES $i"
		# this assumes it is in a VPATH dir
		i=`basename $i`
		# handle user calling this before or after TEA_SETUP_COMPILER
		if test x"${OBJEXT}" != x ; then
		    j="`echo $i | sed -e 's/\.[^.]*$//'`.${OBJEXT}"
		else
		    j="`echo $i | sed -e 's/\.[^.]*$//'`.\${OBJEXT}"
		fi
		PKG_OBJECTS="$PKG_OBJECTS $j"
		;;
	esac
    done





    vars="expect.h expect_tcl.h expect_comm.h tcldbg.h"
    for i in $vars; do
	# check for existence, be strict because it is installed
	if test ! -f "${srcdir}/$i" ; then
	    { { echo "$as_me:$LINENO: error: could not find header file '${srcdir}/$i'" >&5
echo "$as_me: error: could not find header file '${srcdir}/$i'" >&2;}
   { (exit 1); exit 1; }; }
	fi
	PKG_HEADERS="$PKG_HEADERS $i"
    done




    vars="-I."
    for i in $vars; do
	PKG_INCLUDES="$PKG_INCLUDES $i"
    done



    vars="-I\"`\${CYGPATH} \${srcdir}`\""
    for i in $vars; do
	PKG_INCLUDES="$PKG_INCLUDES $i"
    done




    vars=""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done



    PKG_CFLAGS="$PKG_CFLAGS -DTCL_DEBUGGER -DUSE_NON_CONST"



    PKG_CFLAGS="$PKG_CFLAGS -DSCRIPTDIR=\\\"\${DESTDIR}\${prefix}/lib/\${PKG_DIR}\\\""



    PKG_CFLAGS="$PKG_CFLAGS -DEXECSCRIPTDIR=\\\"\${DESTDIR}\${pkglibdir}\\\""



    PKG_CFLAGS="$PKG_CFLAGS -DSTTY_BIN=\\\"${STTY_BIN}\\\""



    PKG_CFLAGS="$PKG_CFLAGS -DDFLT_STTY=\"\\\"$DEFAULT_STTY_ARGS\\\"\""




    vars=""
    for i in $vars; do
	# check for existence - allows for generic/win/unix VPATH
	if test ! -f "${srcdir}/$i" -a ! -f "${srcdir}/generic/$i" \
	    -a ! -f "${srcdir}/win/$i" -a ! -f "${srcdir}/unix/$i" \
	    -a ! -f "${srcdir}/macosx/$i" \
	    ; then
	    { { echo "$as_me:$LINENO: error: could not find stub source file '$i'" >&5
echo "$as_me: error: could not find stub source file '$i'" >&2;}
   { (exit 1); exit 1; }; }
	fi
	PKG_STUB_SOURCES="$PKG_STUB_SOURCES $i"
	# this assumes it is in a VPATH dir
	i=`basename $i`
	# handle user calling this before or after TEA_SETUP_COMPILER
	if test x"${OBJEXT}" != x ; then
	    j="`echo $i | sed -e 's/\.[^.]*$//'`.${OBJEXT}"
	else
	    j="`echo $i | sed -e 's/\.[^.]*$//'`.\${OBJEXT}"
	fi
	PKG_STUB_OBJECTS="$PKG_STUB_OBJECTS $j"
    done




    vars=""
    for i in $vars; do
	# check for existence, be strict because it is installed
	if test ! -f "${srcdir}/$i" ; then
	    { { echo "$as_me:$LINENO: error: could not find tcl source file '${srcdir}/$i'" >&5
echo "$as_me: error: could not find tcl source file '${srcdir}/$i'" >&2;}
   { (exit 1); exit 1; }; }
	fi
	PKG_TCL_SOURCES="$PKG_TCL_SOURCES $i"
    done



#--------------------------------------------------------------------
# This macro generates a line to use when building a library.  It
# depends on values set by the TEA_ENABLE_SHARED, TEA_ENABLE_SYMBOLS,
# and TEA_LOAD_TCLCONFIG macros above.
#--------------------------------------------------------------------


    if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes"; then
	MAKE_STATIC_LIB="\${STLIB_LD} -out:\$@@ \$(PKG_OBJECTS)"
	MAKE_SHARED_LIB="\${SHLIB_LD} \${SHLIB_LD_LIBS} \${LDFLAGS_DEFAULT} -out:\$@@ \$(PKG_OBJECTS)"
	cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#if defined(_MSC_VER) && _MSC_VER >= 1400
print("manifest needed")
#endif

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "manifest needed" >/dev/null 2>&1; then

	# Could do a CHECK_PROG for mt, but should always be with MSVC8+
	VC_MANIFEST_EMBED_DLL="if test -f \$@@.manifest ; then mt.exe -nologo -manifest \$@@.manifest -outputresource:\$@@\;2 ; fi"
	VC_MANIFEST_EMBED_EXE="if test -f \$@@.manifest ; then mt.exe -nologo -manifest \$@@.manifest -outputresource:\$@@\;1 ; fi"
	MAKE_SHARED_LIB="${MAKE_SHARED_LIB} ; ${VC_MANIFEST_EMBED_DLL}"

    CLEANFILES="$CLEANFILES *.manifest"


fi
rm -f conftest*

	MAKE_STUB_LIB="\${STLIB_LD} -out:\$@@ \$(PKG_STUB_OBJECTS)"
    else
	MAKE_STATIC_LIB="\${STLIB_LD} \$@@ \$(PKG_OBJECTS)"
	MAKE_SHARED_LIB="\${SHLIB_LD} -o \$@@ \$(PKG_OBJECTS) \${SHLIB_LD_LIBS}"
	MAKE_STUB_LIB="\${STLIB_LD} \$@@ \$(PKG_STUB_OBJECTS)"
    fi

    if test "${SHARED_BUILD}" = "1" ; then
	MAKE_LIB="${MAKE_SHARED_LIB} "
    else
	MAKE_LIB="${MAKE_STATIC_LIB} "
    fi

    #--------------------------------------------------------------------
    # Shared libraries and static libraries have different names.
    # Use the double eval to make sure any variables in the suffix is
    # substituted. (@@@@@@ Might not be necessary anymore)
    #--------------------------------------------------------------------

    if test "${TEA_PLATFORM}" = "windows" ; then
	if test "${SHARED_BUILD}" = "1" ; then
	    # We force the unresolved linking of symbols that are really in
	    # the private libraries of Tcl and Tk.
	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} \"`${CYGPATH} ${TCL_BIN_DIR}/${TCL_STUB_LIB_FILE}`\""
	    if test x"${TK_BIN_DIR}" != x ; then
		SHLIB_LD_LIBS="${SHLIB_LD_LIBS} \"`${CYGPATH} ${TK_BIN_DIR}/${TK_STUB_LIB_FILE}`\""
	    fi
	    eval eval "PKG_LIB_FILE=${PACKAGE_NAME}${SHARED_LIB_SUFFIX}"
	else
	    eval eval "PKG_LIB_FILE=${PACKAGE_NAME}${UNSHARED_LIB_SUFFIX}"
	fi
	# Some packages build their own stubs libraries
	eval eval "PKG_STUB_LIB_FILE=${PACKAGE_NAME}stub${UNSHARED_LIB_SUFFIX}"
	if test "$GCC" = "yes"; then
	    PKG_STUB_LIB_FILE=lib${PKG_STUB_LIB_FILE}
	fi
	# These aren't needed on Windows (either MSVC or gcc)
	RANLIB=:
	RANLIB_STUB=:
    else
	RANLIB_STUB="${RANLIB}"
	if test "${SHARED_BUILD}" = "1" ; then
	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TCL_STUB_LIB_SPEC}"
	    if test x"${TK_BIN_DIR}" != x ; then
		SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TK_STUB_LIB_SPEC}"
	    fi
	    eval eval "PKG_LIB_FILE=lib${PACKAGE_NAME}${SHARED_LIB_SUFFIX}"
	    RANLIB=:
	else
	    eval eval "PKG_LIB_FILE=lib${PACKAGE_NAME}${UNSHARED_LIB_SUFFIX}"
	fi
	# Some packages build their own stubs libraries
	eval eval "PKG_STUB_LIB_FILE=lib${PACKAGE_NAME}stub${UNSHARED_LIB_SUFFIX}"
    fi

    # These are escaped so that only CFLAGS is picked up at configure time.
    # The other values will be substituted at make time.
    CFLAGS="${CFLAGS} \${CFLAGS_DEFAULT} \${CFLAGS_WARNING}"
    if test "${SHARED_BUILD}" = "1" ; then
	CFLAGS="${CFLAGS} \${SHLIB_CFLAGS}"
    fi










#--------------------------------------------------------------------
# Find tclsh so that we can run pkg_mkIndex to generate the pkgIndex.tcl
# file during the install process.  Don't run the TCLSH_PROG through
# ${CYGPATH} because it's being used directly by make.
# Require that we use a tclsh shell version 8.2 or later since earlier
# versions have bugs in the pkg_mkIndex routine.
# Add WISH as well if this is a Tk extension.
#--------------------------------------------------------------------


    echo "$as_me:$LINENO: checking for tclsh" >&5
echo $ECHO_N "checking for tclsh... $ECHO_C" >&6
    if test -f "${TCL_BIN_DIR}/Makefile" ; then
        # tclConfig.sh is in Tcl build directory
        if test "${TEA_PLATFORM}" = "windows"; then
            TCLSH_PROG="${TCL_BIN_DIR}/tclsh${TCL_MAJOR_VERSION}${TCL_MINOR_VERSION}${TCL_DBGX}${EXEEXT}"
        else
            TCLSH_PROG="${TCL_BIN_DIR}/tclsh"
        fi
    else
        # tclConfig.sh is in install location
        if test "${TEA_PLATFORM}" = "windows"; then
            TCLSH_PROG="tclsh${TCL_MAJOR_VERSION}${TCL_MINOR_VERSION}${TCL_DBGX}${EXEEXT}"
        else
            TCLSH_PROG="tclsh${TCL_MAJOR_VERSION}.${TCL_MINOR_VERSION}${TCL_DBGX}"
        fi
        list="`ls -d ${TCL_BIN_DIR}/../bin 2>/dev/null` \
              `ls -d ${TCL_BIN_DIR}/..     2>/dev/null` \
              `ls -d ${TCL_PREFIX}/bin     2>/dev/null`"
        for i in $list ; do
            if test -f "$i/${TCLSH_PROG}" ; then
                REAL_TCL_BIN_DIR="`cd "$i"; pwd`/"
                break
            fi
        done
        TCLSH_PROG="${REAL_TCL_BIN_DIR}${TCLSH_PROG}"
    fi
    echo "$as_me:$LINENO: result: ${TCLSH_PROG}" >&5
echo "${ECHO_T}${TCLSH_PROG}" >&6



#--------------------------------------------------------------------
# Finally, substitute all of the various values into the Makefile.
# You may alternatively have a special pkgIndex.tcl.in or other files
# which require substituting th AC variables in.  Include these here.
#--------------------------------------------------------------------

touch expect_cf.h
          ac_config_files="$ac_config_files Makefile"
          ac_config_commands="$ac_config_commands default"
cat >confcache <<\_ACEOF
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs, see configure's option --config-cache.
# It is not useful on other systems.  If it contains results you don't
# want to keep, you may remove or edit it.
#
# config.status only pays attention to the cache file if you give it
# the --recheck option to rerun configure.
#
# `ac_cv_env_foo' variables (set or unset) will be overridden when
# loading this file, other *unset* `ac_cv_foo' will be assigned the
# following values.

_ACEOF

# The following way of writing the cache mishandles newlines in values,
# but we know of no workaround that is simple, portable, and efficient.
# So, don't put newlines in cache variables' values.
# Ultrix sh set writes to stderr and can't be redirected directly,
# and sets the high bit in the cache file unless we assign to the vars.
{
  (set) 2>&1 |
    case `(ac_space=' '; set | grep ac_space) 2>&1` in
    *ac_space=\ *)
      # `set' does not quote correctly, so add quotes (double-quote
      # substitution turns \\\\ into \\, and sed turns \\ into \).
      sed -n \
	"s/'/'\\\\''/g;
	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
      ;;
    *)
      # `set' quotes correctly as required by POSIX, so do not add quotes.
      sed -n \
	"s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
      ;;
    esac;
} |
  sed '
     t clear
     : clear
     s/^\([^=]*\)=\(.*[{}].*\)$/test "${\1+set}" = set || &/
     t end
     /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
     : end' >>confcache
if diff $cache_file confcache >/dev/null 2>&1; then :; else
  if test -w $cache_file; then
    test "x$cache_file" != "x/dev/null" && echo "updating cache $cache_file"
    cat confcache >$cache_file
  else
    echo "not updating unwritable cache $cache_file"
  fi
fi
rm -f confcache

test "x$prefix" = xNONE && prefix=$ac_default_prefix
# Let make expand exec_prefix.
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

# VPATH may cause trouble with some makes, so we remove $(srcdir),
# ${srcdir} and @@srcdir@@ from VPATH if srcdir is ".", strip leading and
# trailing colons and then remove the whole line if VPATH becomes empty
# (actually we leave an empty line to preserve line numbers).
if test "x$srcdir" = x.; then
  ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
s/:*\$(srcdir):*/:/;
s/:*\${srcdir}:*/:/;
s/:*@@srcdir@@:*/:/;
s/^\([^=]*=[	 ]*\):*/\1/;
s/:*$//;
s/^[^=]*=[	 ]*$//;
}'
fi

# Transform confdefs.h into DEFS.
# Protect against shell expansion while executing Makefile rules.
# Protect against Makefile macro expansion.
#
# If the first sed substitution is executed (which looks for macros that
# take arguments), then we branch to the quote section.  Otherwise,
# look for a macro that doesn't take arguments.
cat >confdef2opt.sed <<\_ACEOF
t clear
: clear
s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 (][^	 (]*([^)]*)\)[	 ]*\(.*\),-D\1=\2,g
t quote
s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 ][^	 ]*\)[	 ]*\(.*\),-D\1=\2,g
t quote
d
: quote
s,[	 `~#$^&*(){}\\|;'"<>?],\\&,g
s,\[,\\&,g
s,\],\\&,g
s,\$,$$,g
p
_ACEOF
# We use echo to avoid assuming a particular line-breaking character.
# The extra dot is to prevent the shell from consuming trailing
# line-breaks from the sub-command output.  A line-break within
# single-quotes doesn't work because, if this script is created in a
# platform that uses two characters for line-breaks (e.g., DOS), tr
# would break.
ac_LF_and_DOT=`echo; echo .`
DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr "$ac_LF_and_DOT" ' .'`
rm -f confdef2opt.sed


ac_libobjs=
ac_ltlibobjs=
for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
  # 1. Remove the extension, and $U if already installed.
  ac_i=`echo "$ac_i" |
	 sed 's/\$U\././;s/\.o$//;s/\.obj$//'`
  # 2. Add them.
  ac_libobjs="$ac_libobjs $ac_i\$U.$ac_objext"
  ac_ltlibobjs="$ac_ltlibobjs $ac_i"'$U.lo'
done
LIBOBJS=$ac_libobjs

LTLIBOBJS=$ac_ltlibobjs


CFLAGS="${CFLAGS} ${CPPFLAGS}"; CPPFLAGS=""

: ${CONFIG_STATUS=./config.status}
ac_clean_files_save=$ac_clean_files
ac_clean_files="$ac_clean_files $CONFIG_STATUS"
{ echo "$as_me:$LINENO: creating $CONFIG_STATUS" >&5
echo "$as_me: creating $CONFIG_STATUS" >&6;}
cat >$CONFIG_STATUS <<_ACEOF
#! $SHELL
# Generated by $as_me.
# Run this file to recreate the current configuration.
# Compiler output produced by configure, useful for debugging
# configure, is in config.log if it exists.

debug=false
ac_cs_recheck=false
ac_cs_silent=false
SHELL=\${CONFIG_SHELL-$SHELL}
_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF
## --------------------- ##
## M4sh Initialization.  ##
## --------------------- ##

# Be Bourne compatible
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
  emulate sh
  NULLCMD=:
  # Zsh 3.x and 4.x performs word splitting on ${1+"$@@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@@"}'='"$@@"'
elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
  set -o posix
fi
DUALCASE=1; export DUALCASE # for MKS sh

# Support unset when possible.
if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
  as_unset=unset
else
  as_unset=false
fi


# Work around bugs in pre-3.0 UWIN ksh.
$as_unset ENV MAIL MAILPATH
PS1='$ '
PS2='> '
PS4='+ '

# NLS nuisances.
for as_var in \
  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
  LC_TELEPHONE LC_TIME
do
  if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
    eval $as_var=C; export $as_var
  else
    $as_unset $as_var
  fi
done

# Required to use basename.
if expr a : '\(a\)' >/dev/null 2>&1; then
  as_expr=expr
else
  as_expr=false
fi

if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
  as_basename=basename
else
  as_basename=false
fi


# Name of the executable.
as_me=`$as_basename "$0" ||
$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)$' \| \
	 .     : '\(.\)' 2>/dev/null ||
echo X/"$0" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
  	  /^X\/\(\/\/\)$/{ s//\1/; q; }
  	  /^X\/\(\/\).*/{ s//\1/; q; }
  	  s/.*/./; q'`


# PATH needs CR, and LINENO needs CR and PATH.
# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits

# The user is always right.
if test "${PATH_SEPARATOR+set}" != set; then
  echo "#! /bin/sh" >conf$$.sh
  echo  "exit 0"   >>conf$$.sh
  chmod +x conf$$.sh
  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
    PATH_SEPARATOR=';'
  else
    PATH_SEPARATOR=:
  fi
  rm -f conf$$.sh
fi


  as_lineno_1=$LINENO
  as_lineno_2=$LINENO
  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
  test "x$as_lineno_1" != "x$as_lineno_2" &&
  test "x$as_lineno_3"  = "x$as_lineno_2"  || {
  # Find who we are.  Look in the path if we contain no path at all
  # relative or not.
  case $0 in
    *[\\/]* ) as_myself=$0 ;;
    *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
done

       ;;
  esac
  # We did not find ourselves, most probably we were run as `sh COMMAND'
  # in which case we are not to be found in the path.
  if test "x$as_myself" = x; then
    as_myself=$0
  fi
  if test ! -f "$as_myself"; then
    { { echo "$as_me:$LINENO: error: cannot find myself; rerun with an absolute path" >&5
echo "$as_me: error: cannot find myself; rerun with an absolute path" >&2;}
   { (exit 1); exit 1; }; }
  fi
  case $CONFIG_SHELL in
  '')
    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for as_base in sh bash ksh sh5; do
	 case $as_dir in
	 /*)
	   if ("$as_dir/$as_base" -c '
  as_lineno_1=$LINENO
  as_lineno_2=$LINENO
  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
  test "x$as_lineno_1" != "x$as_lineno_2" &&
  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
	     CONFIG_SHELL=$as_dir/$as_base
	     export CONFIG_SHELL
	     exec "$CONFIG_SHELL" "$0" ${1+"$@@"}
	   fi;;
	 esac
       done
done
;;
  esac

  # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
  # uniformly replaced by the line number.  The first 'sed' inserts a
  # line-number line before each line; the second 'sed' does the real
  # work.  The second script uses 'N' to pair each line-number line
  # with the numbered line, and appends trailing '-' during
  # substitution so that $LINENO is not a special case at line end.
  # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
  # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
  sed '=' <$as_myself |
    sed '
      N
      s,$,-,
      : loop
      s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
      t loop
      s,-$,,
      s,^['$as_cr_digits']*\n,,
    ' >$as_me.lineno &&
  chmod +x $as_me.lineno ||
    { { echo "$as_me:$LINENO: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&5
echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2;}
   { (exit 1); exit 1; }; }

  # Don't try to exec as it changes $[0], causing all sort of problems
  # (the dirname of $[0] is not the place where we might find the
  # original and so on.  Autoconf is especially sensible to this).
  . ./$as_me.lineno
  # Exit status is that of the last command.
  exit
}


case `echo "testing\c"; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
  *c*,-n*) ECHO_N= ECHO_C='
' ECHO_T='	' ;;
  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
  *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
esac

if expr a : '\(a\)' >/dev/null 2>&1; then
  as_expr=expr
else
  as_expr=false
fi

rm -f conf$$ conf$$.exe conf$$.file
echo >conf$$.file
if ln -s conf$$.file conf$$ 2>/dev/null; then
  # We could just check for DJGPP; but this test a) works b) is more generic
  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
  if test -f conf$$.exe; then
    # Don't use ln at all; we don't have any links
    as_ln_s='cp -p'
  else
    as_ln_s='ln -s'
  fi
elif ln conf$$.file conf$$ 2>/dev/null; then
  as_ln_s=ln
else
  as_ln_s='cp -p'
fi
rm -f conf$$ conf$$.exe conf$$.file

if mkdir -p . 2>/dev/null; then
  as_mkdir_p=:
else
  test -d ./-p && rmdir ./-p
  as_mkdir_p=false
fi

as_executable_p="test -f"

# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"

# Sed expression to map a string onto a valid variable name.
as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"


# IFS
# We need space, tab and new line, in precisely that order.
as_nl='
'
IFS=" 	$as_nl"

# CDPATH.
$as_unset CDPATH

exec 6>&1

# Open the log real soon, to keep \$[0] and so on meaningful, and to
# report actual input values of CONFIG_FILES etc. instead of their
# values after options handling.  Logging --version etc. is OK.
exec 5>>config.log
{
  echo
  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
## Running $as_me. ##
_ASBOX
} >&5
cat >&5 <<_CSEOF

This file was extended by expect $as_me 5.45.3, which was
generated by GNU Autoconf 2.59.  Invocation command line was

  CONFIG_FILES    = $CONFIG_FILES
  CONFIG_HEADERS  = $CONFIG_HEADERS
  CONFIG_LINKS    = $CONFIG_LINKS
  CONFIG_COMMANDS = $CONFIG_COMMANDS
  $ $0 $@@

_CSEOF
echo "on `(hostname || uname -n) 2>/dev/null | sed 1q`" >&5
echo >&5
_ACEOF

# Files that config.status was made for.
if test -n "$ac_config_files"; then
  echo "config_files=\"$ac_config_files\"" >>$CONFIG_STATUS
fi

if test -n "$ac_config_headers"; then
  echo "config_headers=\"$ac_config_headers\"" >>$CONFIG_STATUS
fi

if test -n "$ac_config_links"; then
  echo "config_links=\"$ac_config_links\"" >>$CONFIG_STATUS
fi

if test -n "$ac_config_commands"; then
  echo "config_commands=\"$ac_config_commands\"" >>$CONFIG_STATUS
fi

cat >>$CONFIG_STATUS <<\_ACEOF

ac_cs_usage="\
\`$as_me' instantiates files from templates according to the
current configuration.

Usage: $0 [OPTIONS] [FILE]...

  -h, --help       print this help, then exit
  -V, --version    print version number, then exit
  -q, --quiet      do not print progress messages
  -d, --debug      don't remove temporary files
      --recheck    update $as_me by reconfiguring in the same conditions
  --file=FILE[:TEMPLATE]
		   instantiate the configuration file FILE

Configuration files:
$config_files

Configuration commands:
$config_commands

Report bugs to <bug-autoconf@@gnu.org>."
_ACEOF

cat >>$CONFIG_STATUS <<_ACEOF
ac_cs_version="\\
expect config.status 5.45.3
configured by $0, generated by GNU Autoconf 2.59,
  with options \\"`echo "$ac_configure_args" | sed 's/[\\""\`\$]/\\\\&/g'`\\"

Copyright (C) 2003 Free Software Foundation, Inc.
This config.status script is free software; the Free Software Foundation
gives unlimited permission to copy, distribute and modify it."
srcdir=$srcdir
INSTALL="$INSTALL"
_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF
# If no file are specified by the user, then we need to provide default
# value.  By we need to know if files were specified by the user.
ac_need_defaults=:
while test $# != 0
do
  case $1 in
  --*=*)
    ac_option=`expr "x$1" : 'x\([^=]*\)='`
    ac_optarg=`expr "x$1" : 'x[^=]*=\(.*\)'`
    ac_shift=:
    ;;
  -*)
    ac_option=$1
    ac_optarg=$2
    ac_shift=shift
    ;;
  *) # This is not an option, so the user has probably given explicit
     # arguments.
     ac_option=$1
     ac_need_defaults=false;;
  esac

  case $ac_option in
  # Handling of the options.
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF
  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
    ac_cs_recheck=: ;;
  --version | --vers* | -V )
    echo "$ac_cs_version"; exit 0 ;;
  --he | --h)
    # Conflict between --help and --header
    { { echo "$as_me:$LINENO: error: ambiguous option: $1
Try \`$0 --help' for more information." >&5
echo "$as_me: error: ambiguous option: $1
Try \`$0 --help' for more information." >&2;}
   { (exit 1); exit 1; }; };;
  --help | --hel | -h )
    echo "$ac_cs_usage"; exit 0 ;;
  --debug | --d* | -d )
    debug=: ;;
  --file | --fil | --fi | --f )
    $ac_shift
    CONFIG_FILES="$CONFIG_FILES $ac_optarg"
    ac_need_defaults=false;;
  --header | --heade | --head | --hea )
    $ac_shift
    CONFIG_HEADERS="$CONFIG_HEADERS $ac_optarg"
    ac_need_defaults=false;;
  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil | --si | --s)
    ac_cs_silent=: ;;

  # This is an error.
  -*) { { echo "$as_me:$LINENO: error: unrecognized option: $1
Try \`$0 --help' for more information." >&5
echo "$as_me: error: unrecognized option: $1
Try \`$0 --help' for more information." >&2;}
   { (exit 1); exit 1; }; } ;;

  *) ac_config_targets="$ac_config_targets $1" ;;

  esac
  shift
done

ac_configure_extra_args=

if $ac_cs_silent; then
  exec 6>/dev/null
  ac_configure_extra_args="$ac_configure_extra_args --silent"
fi

_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF
if \$ac_cs_recheck; then
  echo "running $SHELL $0 " $ac_configure_args \$ac_configure_extra_args " --no-create --no-recursion" >&6
  exec $SHELL $0 $ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
fi

_ACEOF





cat >>$CONFIG_STATUS <<\_ACEOF
for ac_config_target in $ac_config_targets
do
  case "$ac_config_target" in
  # Handling of arguments.
  "Makefile" ) CONFIG_FILES="$CONFIG_FILES Makefile" ;;
  "default" ) CONFIG_COMMANDS="$CONFIG_COMMANDS default" ;;
  *) { { echo "$as_me:$LINENO: error: invalid argument: $ac_config_target" >&5
echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
   { (exit 1); exit 1; }; };;
  esac
done

# If the user did not use the arguments to specify the items to instantiate,
# then the envvar interface is used.  Set only those that are not.
# We use the long form for the default assignment because of an extremely
# bizarre bug on SunOS 4.1.3.
if $ac_need_defaults; then
  test "${CONFIG_FILES+set}" = set || CONFIG_FILES=$config_files
  test "${CONFIG_COMMANDS+set}" = set || CONFIG_COMMANDS=$config_commands
fi

# Have a temporary directory for convenience.  Make it in the build tree
# simply because there is no reason to put it here, and in addition,
# creating and moving files from /tmp can sometimes cause problems.
# Create a temporary directory, and hook for its removal unless debugging.
$debug ||
{
  trap 'exit_status=$?; rm -rf $tmp && exit $exit_status' 0
  trap '{ (exit 1); exit 1; }' 1 2 13 15
}

# Create a (secure) tmp directory for tmp files.

{
  tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/dev/null` &&
  test -n "$tmp" && test -d "$tmp"
}  ||
{
  tmp=./confstat$$-$RANDOM
  (umask 077 && mkdir $tmp)
} ||
{
   echo "$me: cannot create a temporary directory in ." >&2
   { (exit 1); exit 1; }
}

_ACEOF

cat >>$CONFIG_STATUS <<_ACEOF

#
# CONFIG_FILES section.
#

# No need to generate the scripts if there are no CONFIG_FILES.
# This happens for instance when ./config.status config.h
if test -n "\$CONFIG_FILES"; then
  # Protect against being on the right side of a sed subst in config.status.
  sed 's/,@@/@@@@/; s/@@,/@@@@/; s/,;t t\$/@@;t t/; /@@;t t\$/s/[\\\\&,]/\\\\&/g;
   s/@@@@/,@@/; s/@@@@/@@,/; s/@@;t t\$/,;t t/' >\$tmp/subs.sed <<\\CEOF
s,@@SHELL@@,$SHELL,;t t
s,@@PATH_SEPARATOR@@,$PATH_SEPARATOR,;t t
s,@@PACKAGE_NAME@@,$PACKAGE_NAME,;t t
s,@@PACKAGE_TARNAME@@,$PACKAGE_TARNAME,;t t
s,@@PACKAGE_VERSION@@,$PACKAGE_VERSION,;t t
s,@@PACKAGE_STRING@@,$PACKAGE_STRING,;t t
s,@@PACKAGE_BUGREPORT@@,$PACKAGE_BUGREPORT,;t t
s,@@exec_prefix@@,$exec_prefix,;t t
s,@@prefix@@,$prefix,;t t
s,@@program_transform_name@@,$program_transform_name,;t t
s,@@bindir@@,$bindir,;t t
s,@@sbindir@@,$sbindir,;t t
s,@@libexecdir@@,$libexecdir,;t t
s,@@datadir@@,$datadir,;t t
s,@@sysconfdir@@,$sysconfdir,;t t
s,@@sharedstatedir@@,$sharedstatedir,;t t
s,@@localstatedir@@,$localstatedir,;t t
s,@@libdir@@,$libdir,;t t
s,@@includedir@@,$includedir,;t t
s,@@oldincludedir@@,$oldincludedir,;t t
s,@@infodir@@,$infodir,;t t
s,@@mandir@@,$mandir,;t t
s,@@build_alias@@,$build_alias,;t t
s,@@host_alias@@,$host_alias,;t t
s,@@target_alias@@,$target_alias,;t t
s,@@DEFS@@,$DEFS,;t t
s,@@ECHO_C@@,$ECHO_C,;t t
s,@@ECHO_N@@,$ECHO_N,;t t
s,@@ECHO_T@@,$ECHO_T,;t t
s,@@LIBS@@,$LIBS,;t t
s,@@CYGPATH@@,$CYGPATH,;t t
s,@@EXEEXT@@,$EXEEXT,;t t
s,@@PKG_LIB_FILE@@,$PKG_LIB_FILE,;t t
s,@@PKG_STUB_LIB_FILE@@,$PKG_STUB_LIB_FILE,;t t
s,@@PKG_STUB_SOURCES@@,$PKG_STUB_SOURCES,;t t
s,@@PKG_STUB_OBJECTS@@,$PKG_STUB_OBJECTS,;t t
s,@@PKG_TCL_SOURCES@@,$PKG_TCL_SOURCES,;t t
s,@@PKG_HEADERS@@,$PKG_HEADERS,;t t
s,@@PKG_INCLUDES@@,$PKG_INCLUDES,;t t
s,@@PKG_LIBS@@,$PKG_LIBS,;t t
s,@@PKG_CFLAGS@@,$PKG_CFLAGS,;t t
s,@@TCL_VERSION@@,$TCL_VERSION,;t t
s,@@TCL_PATCH_LEVEL@@,$TCL_PATCH_LEVEL,;t t
s,@@TCL_BIN_DIR@@,$TCL_BIN_DIR,;t t
s,@@TCL_SRC_DIR@@,$TCL_SRC_DIR,;t t
s,@@TCL_LIB_FILE@@,$TCL_LIB_FILE,;t t
s,@@TCL_LIB_FLAG@@,$TCL_LIB_FLAG,;t t
s,@@TCL_LIB_SPEC@@,$TCL_LIB_SPEC,;t t
s,@@TCL_STUB_LIB_FILE@@,$TCL_STUB_LIB_FILE,;t t
s,@@TCL_STUB_LIB_FLAG@@,$TCL_STUB_LIB_FLAG,;t t
s,@@TCL_STUB_LIB_SPEC@@,$TCL_STUB_LIB_SPEC,;t t
s,@@CLEANFILES@@,$CLEANFILES,;t t
s,@@TCL_LIBS@@,$TCL_LIBS,;t t
s,@@TCL_DEFS@@,$TCL_DEFS,;t t
s,@@TCL_EXTRA_CFLAGS@@,$TCL_EXTRA_CFLAGS,;t t
s,@@TCL_LD_FLAGS@@,$TCL_LD_FLAGS,;t t
s,@@TCL_SHLIB_LD_LIBS@@,$TCL_SHLIB_LD_LIBS,;t t
s,@@CC@@,$CC,;t t
s,@@CFLAGS@@,$CFLAGS,;t t
s,@@LDFLAGS@@,$LDFLAGS,;t t
s,@@CPPFLAGS@@,$CPPFLAGS,;t t
s,@@ac_ct_CC@@,$ac_ct_CC,;t t
s,@@OBJEXT@@,$OBJEXT,;t t
s,@@CPP@@,$CPP,;t t
s,@@INSTALL_PROGRAM@@,$INSTALL_PROGRAM,;t t
s,@@INSTALL_SCRIPT@@,$INSTALL_SCRIPT,;t t
s,@@INSTALL_DATA@@,$INSTALL_DATA,;t t
s,@@SET_MAKE@@,$SET_MAKE,;t t
s,@@RANLIB@@,$RANLIB,;t t
s,@@ac_ct_RANLIB@@,$ac_ct_RANLIB,;t t
s,@@EGREP@@,$EGREP,;t t
s,@@MATH_LIBS@@,$MATH_LIBS,;t t
s,@@TCL_INCLUDES@@,$TCL_INCLUDES,;t t
s,@@TCL_TOP_DIR_NATIVE@@,$TCL_TOP_DIR_NATIVE,;t t
s,@@TCL_THREADS@@,$TCL_THREADS,;t t
s,@@SHARED_BUILD@@,$SHARED_BUILD,;t t
s,@@AR@@,$AR,;t t
s,@@CELIB_DIR@@,$CELIB_DIR,;t t
s,@@CFLAGS_DEBUG@@,$CFLAGS_DEBUG,;t t
s,@@CFLAGS_OPTIMIZE@@,$CFLAGS_OPTIMIZE,;t t
s,@@CFLAGS_WARNING@@,$CFLAGS_WARNING,;t t
s,@@STLIB_LD@@,$STLIB_LD,;t t
s,@@SHLIB_LD@@,$SHLIB_LD,;t t
s,@@SHLIB_LD_LIBS@@,$SHLIB_LD_LIBS,;t t
s,@@SHLIB_CFLAGS@@,$SHLIB_CFLAGS,;t t
s,@@LD_LIBRARY_PATH_VAR@@,$LD_LIBRARY_PATH_VAR,;t t
s,@@CFLAGS_DEFAULT@@,$CFLAGS_DEFAULT,;t t
s,@@LDFLAGS_DEFAULT@@,$LDFLAGS_DEFAULT,;t t
s,@@TCL_DBGX@@,$TCL_DBGX,;t t
s,@@build@@,$build,;t t
s,@@build_cpu@@,$build_cpu,;t t
s,@@build_vendor@@,$build_vendor,;t t
s,@@build_os@@,$build_os,;t t
s,@@host@@,$host,;t t
s,@@host_cpu@@,$host_cpu,;t t
s,@@host_vendor@@,$host_vendor,;t t
s,@@host_os@@,$host_os,;t t
s,@@target@@,$target,;t t
s,@@target_cpu@@,$target_cpu,;t t
s,@@target_vendor@@,$target_vendor,;t t
s,@@target_os@@,$target_os,;t t
s,@@subdirs@@,$subdirs,;t t
s,@@EXP_BUILD_LIB_SPEC@@,$EXP_BUILD_LIB_SPEC,;t t
s,@@EXP_CC_SEARCH_FLAGS@@,$EXP_CC_SEARCH_FLAGS,;t t
s,@@SETUID@@,$SETUID,;t t
s,@@SETPGRP_VOID@@,$SETPGRP_VOID,;t t
s,@@DEFAULT_STTY_ARGS@@,$DEFAULT_STTY_ARGS,;t t
s,@@TCL_DL_LIBS@@,$TCL_DL_LIBS,;t t
s,@@TCL_CC_SEARCH_FLAGS@@,$TCL_CC_SEARCH_FLAGS,;t t
s,@@PKG_SOURCES@@,$PKG_SOURCES,;t t
s,@@PKG_OBJECTS@@,$PKG_OBJECTS,;t t
s,@@MAKE_LIB@@,$MAKE_LIB,;t t
s,@@MAKE_SHARED_LIB@@,$MAKE_SHARED_LIB,;t t
s,@@MAKE_STATIC_LIB@@,$MAKE_STATIC_LIB,;t t
s,@@MAKE_STUB_LIB@@,$MAKE_STUB_LIB,;t t
s,@@RANLIB_STUB@@,$RANLIB_STUB,;t t
s,@@VC_MANIFEST_EMBED_DLL@@,$VC_MANIFEST_EMBED_DLL,;t t
s,@@VC_MANIFEST_EMBED_EXE@@,$VC_MANIFEST_EMBED_EXE,;t t
s,@@TCLSH_PROG@@,$TCLSH_PROG,;t t
s,@@LIBOBJS@@,$LIBOBJS,;t t
s,@@LTLIBOBJS@@,$LTLIBOBJS,;t t
CEOF

_ACEOF

  cat >>$CONFIG_STATUS <<\_ACEOF
  # Split the substitutions into bite-sized pieces for seds with
  # small command number limits, like on Digital OSF/1 and HP-UX.
  ac_max_sed_lines=48
  ac_sed_frag=1 # Number of current file.
  ac_beg=1 # First line for current file.
  ac_end=$ac_max_sed_lines # Line after last line for current file.
  ac_more_lines=:
  ac_sed_cmds=
  while $ac_more_lines; do
    if test $ac_beg -gt 1; then
      sed "1,${ac_beg}d; ${ac_end}q" $tmp/subs.sed >$tmp/subs.frag
    else
      sed "${ac_end}q" $tmp/subs.sed >$tmp/subs.frag
    fi
    if test ! -s $tmp/subs.frag; then
      ac_more_lines=false
    else
      # The purpose of the label and of the branching condition is to
      # speed up the sed processing (if there are no `@@' at all, there
      # is no need to browse any of the substitutions).
      # These are the two extra sed commands mentioned above.
      (echo ':t
  /@@[a-zA-Z_][a-zA-Z_0-9]*@@/!b' && cat $tmp/subs.frag) >$tmp/subs-$ac_sed_frag.sed
      if test -z "$ac_sed_cmds"; then
	ac_sed_cmds="sed -f $tmp/subs-$ac_sed_frag.sed"
      else
	ac_sed_cmds="$ac_sed_cmds | sed -f $tmp/subs-$ac_sed_frag.sed"
      fi
      ac_sed_frag=`expr $ac_sed_frag + 1`
      ac_beg=$ac_end
      ac_end=`expr $ac_end + $ac_max_sed_lines`
    fi
  done
  if test -z "$ac_sed_cmds"; then
    ac_sed_cmds=cat
  fi
fi # test -n "$CONFIG_FILES"

_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF
for ac_file in : $CONFIG_FILES; do test "x$ac_file" = x: && continue
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case $ac_file in
  - | *:- | *:-:* ) # input from stdin
	cat >$tmp/stdin
	ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
  *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
  * )   ac_file_in=$ac_file.in ;;
  esac

  # Compute @@srcdir@@, @@top_srcdir@@, and @@INSTALL@@ for subdirectories.
  ac_dir=`(dirname "$ac_file") 2>/dev/null ||
$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$ac_file" : 'X\(//\)[^/]' \| \
	 X"$ac_file" : 'X\(//\)$' \| \
	 X"$ac_file" : 'X\(/\)' \| \
	 .     : '\(.\)' 2>/dev/null ||
echo X"$ac_file" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
  	  /^X\(\/\/\)$/{ s//\1/; q; }
  	  /^X\(\/\).*/{ s//\1/; q; }
  	  s/.*/./; q'`
  { if $as_mkdir_p; then
    mkdir -p "$ac_dir"
  else
    as_dir="$ac_dir"
    as_dirs=
    while test ! -d "$as_dir"; do
      as_dirs="$as_dir $as_dirs"
      as_dir=`(dirname "$as_dir") 2>/dev/null ||
$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_dir" : 'X\(//\)[^/]' \| \
	 X"$as_dir" : 'X\(//\)$' \| \
	 X"$as_dir" : 'X\(/\)' \| \
	 .     : '\(.\)' 2>/dev/null ||
echo X"$as_dir" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
  	  /^X\(\/\/\)$/{ s//\1/; q; }
  	  /^X\(\/\).*/{ s//\1/; q; }
  	  s/.*/./; q'`
    done
    test ! -n "$as_dirs" || mkdir $as_dirs
  fi || { { echo "$as_me:$LINENO: error: cannot create directory \"$ac_dir\"" >&5
echo "$as_me: error: cannot create directory \"$ac_dir\"" >&2;}
   { (exit 1); exit 1; }; }; }

  ac_builddir=.

if test "$ac_dir" != .; then
  ac_dir_suffix=/`echo "$ac_dir" | sed 's,^\.[\\/],,'`
  # A "../" for each directory in $ac_dir_suffix.
  ac_top_builddir=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,../,g'`
else
  ac_dir_suffix= ac_top_builddir=
fi

case $srcdir in
  .)  # No --srcdir option.  We are building in place.
    ac_srcdir=.
    if test -z "$ac_top_builddir"; then
       ac_top_srcdir=.
    else
       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
    fi ;;
  [\\/]* | ?:[\\/]* )  # Absolute path.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir ;;
  *) # Relative path.
    ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_builddir$srcdir ;;
esac

# Do not use `cd foo && pwd` to compute absolute paths, because
# the directories may not exist.
case `pwd` in
.) ac_abs_builddir="$ac_dir";;
*)
  case "$ac_dir" in
  .) ac_abs_builddir=`pwd`;;
  [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
  *) ac_abs_builddir=`pwd`/"$ac_dir";;
  esac;;
esac
case $ac_abs_builddir in
.) ac_abs_top_builddir=${ac_top_builddir}.;;
*)
  case ${ac_top_builddir}. in
  .) ac_abs_top_builddir=$ac_abs_builddir;;
  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
  esac;;
esac
case $ac_abs_builddir in
.) ac_abs_srcdir=$ac_srcdir;;
*)
  case $ac_srcdir in
  .) ac_abs_srcdir=$ac_abs_builddir;;
  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
  *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
  esac;;
esac
case $ac_abs_builddir in
.) ac_abs_top_srcdir=$ac_top_srcdir;;
*)
  case $ac_top_srcdir in
  .) ac_abs_top_srcdir=$ac_abs_builddir;;
  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
  *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
  esac;;
esac


  case $INSTALL in
  [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
  *) ac_INSTALL=$ac_top_builddir$INSTALL ;;
  esac

  if test x"$ac_file" != x-; then
    { echo "$as_me:$LINENO: creating $ac_file" >&5
echo "$as_me: creating $ac_file" >&6;}
    rm -f "$ac_file"
  fi
  # Let's still pretend it is `configure' which instantiates (i.e., don't
  # use $as_me), people would be surprised to read:
  #    /* config.h.  Generated by config.status.  */
  if test x"$ac_file" = x-; then
    configure_input=
  else
    configure_input="$ac_file.  "
  fi
  configure_input=$configure_input"Generated from `echo $ac_file_in |
				     sed 's,.*/,,'` by configure."

  # First look for the input files in the build tree, otherwise in the
  # src tree.
  ac_file_inputs=`IFS=:
    for f in $ac_file_in; do
      case $f in
      -) echo $tmp/stdin ;;
      [\\/$]*)
	 # Absolute (can't be DOS-style, as IFS=:)
	 test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
echo "$as_me: error: cannot find input file: $f" >&2;}
   { (exit 1); exit 1; }; }
	 echo "$f";;
      *) # Relative
	 if test -f "$f"; then
	   # Build tree
	   echo "$f"
	 elif test -f "$srcdir/$f"; then
	   # Source tree
	   echo "$srcdir/$f"
	 else
	   # /dev/null tree
	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
echo "$as_me: error: cannot find input file: $f" >&2;}
   { (exit 1); exit 1; }; }
	 fi;;
      esac
    done` || { (exit 1); exit 1; }
_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF
  sed "$ac_vpsub
$extrasub
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF
:t
/@@[a-zA-Z_][a-zA-Z_0-9]*@@/!b
s,@@configure_input@@,$configure_input,;t t
s,@@srcdir@@,$ac_srcdir,;t t
s,@@abs_srcdir@@,$ac_abs_srcdir,;t t
s,@@top_srcdir@@,$ac_top_srcdir,;t t
s,@@abs_top_srcdir@@,$ac_abs_top_srcdir,;t t
s,@@builddir@@,$ac_builddir,;t t
s,@@abs_builddir@@,$ac_abs_builddir,;t t
s,@@top_builddir@@,$ac_top_builddir,;t t
s,@@abs_top_builddir@@,$ac_abs_top_builddir,;t t
s,@@INSTALL@@,$ac_INSTALL,;t t
" $ac_file_inputs | (eval "$ac_sed_cmds") >$tmp/out
  rm -f $tmp/stdin
  if test x"$ac_file" != x-; then
    mv $tmp/out $ac_file
  else
    cat $tmp/out
    rm -f $tmp/out
  fi

done
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF

#
# CONFIG_COMMANDS section.
#
for ac_file in : $CONFIG_COMMANDS; do test "x$ac_file" = x: && continue
  ac_dest=`echo "$ac_file" | sed 's,:.*,,'`
  ac_source=`echo "$ac_file" | sed 's,[^:]*:,,'`
  ac_dir=`(dirname "$ac_dest") 2>/dev/null ||
$as_expr X"$ac_dest" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$ac_dest" : 'X\(//\)[^/]' \| \
	 X"$ac_dest" : 'X\(//\)$' \| \
	 X"$ac_dest" : 'X\(/\)' \| \
	 .     : '\(.\)' 2>/dev/null ||
echo X"$ac_dest" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
  	  /^X\(\/\/\)$/{ s//\1/; q; }
  	  /^X\(\/\).*/{ s//\1/; q; }
  	  s/.*/./; q'`
  { if $as_mkdir_p; then
    mkdir -p "$ac_dir"
  else
    as_dir="$ac_dir"
    as_dirs=
    while test ! -d "$as_dir"; do
      as_dirs="$as_dir $as_dirs"
      as_dir=`(dirname "$as_dir") 2>/dev/null ||
$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_dir" : 'X\(//\)[^/]' \| \
	 X"$as_dir" : 'X\(//\)$' \| \
	 X"$as_dir" : 'X\(/\)' \| \
	 .     : '\(.\)' 2>/dev/null ||
echo X"$as_dir" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
  	  /^X\(\/\/\)$/{ s//\1/; q; }
  	  /^X\(\/\).*/{ s//\1/; q; }
  	  s/.*/./; q'`
    done
    test ! -n "$as_dirs" || mkdir $as_dirs
  fi || { { echo "$as_me:$LINENO: error: cannot create directory \"$ac_dir\"" >&5
echo "$as_me: error: cannot create directory \"$ac_dir\"" >&2;}
   { (exit 1); exit 1; }; }; }

  ac_builddir=.

if test "$ac_dir" != .; then
  ac_dir_suffix=/`echo "$ac_dir" | sed 's,^\.[\\/],,'`
  # A "../" for each directory in $ac_dir_suffix.
  ac_top_builddir=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,../,g'`
else
  ac_dir_suffix= ac_top_builddir=
fi

case $srcdir in
  .)  # No --srcdir option.  We are building in place.
    ac_srcdir=.
    if test -z "$ac_top_builddir"; then
       ac_top_srcdir=.
    else
       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
    fi ;;
  [\\/]* | ?:[\\/]* )  # Absolute path.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir ;;
  *) # Relative path.
    ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_builddir$srcdir ;;
esac

# Do not use `cd foo && pwd` to compute absolute paths, because
# the directories may not exist.
case `pwd` in
.) ac_abs_builddir="$ac_dir";;
*)
  case "$ac_dir" in
  .) ac_abs_builddir=`pwd`;;
  [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
  *) ac_abs_builddir=`pwd`/"$ac_dir";;
  esac;;
esac
case $ac_abs_builddir in
.) ac_abs_top_builddir=${ac_top_builddir}.;;
*)
  case ${ac_top_builddir}. in
  .) ac_abs_top_builddir=$ac_abs_builddir;;
  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
  esac;;
esac
case $ac_abs_builddir in
.) ac_abs_srcdir=$ac_srcdir;;
*)
  case $ac_srcdir in
  .) ac_abs_srcdir=$ac_abs_builddir;;
  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
  *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
  esac;;
esac
case $ac_abs_builddir in
.) ac_abs_top_srcdir=$ac_top_srcdir;;
*)
  case $ac_top_srcdir in
  .) ac_abs_top_srcdir=$ac_abs_builddir;;
  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
  *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
  esac;;
esac


  { echo "$as_me:$LINENO: executing $ac_dest commands" >&5
echo "$as_me: executing $ac_dest commands" >&6;}
  case $ac_dest in
    default ) chmod +x ${srcdir}/install-sh ;;
  esac
done
_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF

{ (exit 0); exit 0; }
_ACEOF
chmod +x $CONFIG_STATUS
ac_clean_files=$ac_clean_files_save


# configure is writing to config.log, and then calls config.status.
# config.status does its own redirection, appending to config.log.
# Unfortunately, on DOS this fails, as config.log is still kept open
# by configure, so config.status won't be able to write to it; its
# output is simply discarded.  So we exec the FD to /dev/null,
# effectively closing config.log, so it can be properly (re)opened and
# appended to by config.status.  When coming back to configure, we
# need to make the FD available again.
if test "$no_create" != yes; then
  ac_cs_success=:
  ac_config_status_args=
  test "$silent" = yes &&
    ac_config_status_args="$ac_config_status_args --quiet"
  exec 5>/dev/null
  $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
  exec 5>>config.log
  # Use ||, not &&, to avoid exiting from the if with $? = 1, which
  # would make configure fail if this is the last instruction.
  $ac_cs_success || { (exit 1); exit 1; }
fi

#
# CONFIG_SUBDIRS section.
#
if test "$no_recursion" != yes; then

  # Remove --cache-file and --srcdir arguments so they do not pile up.
  ac_sub_configure_args=
  ac_prev=
  for ac_arg in $ac_configure_args; do
    if test -n "$ac_prev"; then
      ac_prev=
      continue
    fi
    case $ac_arg in
    -cache-file | --cache-file | --cache-fil | --cache-fi \
    | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
      ac_prev=cache_file ;;
    -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
    | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* \
    | --c=*)
      ;;
    --config-cache | -C)
      ;;
    -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
      ac_prev=srcdir ;;
    -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
      ;;
    -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
      ac_prev=prefix ;;
    -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
      ;;
    *) ac_sub_configure_args="$ac_sub_configure_args $ac_arg" ;;
    esac
  done

  # Always prepend --prefix to ensure using the same prefix
  # in subdir configurations.
  ac_sub_configure_args="--prefix=$prefix $ac_sub_configure_args"

  ac_popdir=`pwd`
  for ac_dir in : $subdirs; do test "x$ac_dir" = x: && continue

    # Do not complain, so a configure script can configure whichever
    # parts of a large source tree are present.
    test -d $srcdir/$ac_dir || continue

    { echo "$as_me:$LINENO: configuring in $ac_dir" >&5
echo "$as_me: configuring in $ac_dir" >&6;}
    { if $as_mkdir_p; then
    mkdir -p "$ac_dir"
  else
    as_dir="$ac_dir"
    as_dirs=
    while test ! -d "$as_dir"; do
      as_dirs="$as_dir $as_dirs"
      as_dir=`(dirname "$as_dir") 2>/dev/null ||
$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_dir" : 'X\(//\)[^/]' \| \
	 X"$as_dir" : 'X\(//\)$' \| \
	 X"$as_dir" : 'X\(/\)' \| \
	 .     : '\(.\)' 2>/dev/null ||
echo X"$as_dir" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
  	  /^X\(\/\/\)$/{ s//\1/; q; }
  	  /^X\(\/\).*/{ s//\1/; q; }
  	  s/.*/./; q'`
    done
    test ! -n "$as_dirs" || mkdir $as_dirs
  fi || { { echo "$as_me:$LINENO: error: cannot create directory \"$ac_dir\"" >&5
echo "$as_me: error: cannot create directory \"$ac_dir\"" >&2;}
   { (exit 1); exit 1; }; }; }

    ac_builddir=.

if test "$ac_dir" != .; then
  ac_dir_suffix=/`echo "$ac_dir" | sed 's,^\.[\\/],,'`
  # A "../" for each directory in $ac_dir_suffix.
  ac_top_builddir=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,../,g'`
else
  ac_dir_suffix= ac_top_builddir=
fi

case $srcdir in
  .)  # No --srcdir option.  We are building in place.
    ac_srcdir=.
    if test -z "$ac_top_builddir"; then
       ac_top_srcdir=.
    else
       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
    fi ;;
  [\\/]* | ?:[\\/]* )  # Absolute path.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir ;;
  *) # Relative path.
    ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_builddir$srcdir ;;
esac

# Do not use `cd foo && pwd` to compute absolute paths, because
# the directories may not exist.
case `pwd` in
.) ac_abs_builddir="$ac_dir";;
*)
  case "$ac_dir" in
  .) ac_abs_builddir=`pwd`;;
  [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
  *) ac_abs_builddir=`pwd`/"$ac_dir";;
  esac;;
esac
case $ac_abs_builddir in
.) ac_abs_top_builddir=${ac_top_builddir}.;;
*)
  case ${ac_top_builddir}. in
  .) ac_abs_top_builddir=$ac_abs_builddir;;
  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
  esac;;
esac
case $ac_abs_builddir in
.) ac_abs_srcdir=$ac_srcdir;;
*)
  case $ac_srcdir in
  .) ac_abs_srcdir=$ac_abs_builddir;;
  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
  *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
  esac;;
esac
case $ac_abs_builddir in
.) ac_abs_top_srcdir=$ac_top_srcdir;;
*)
  case $ac_top_srcdir in
  .) ac_abs_top_srcdir=$ac_abs_builddir;;
  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
  *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
  esac;;
esac


    cd $ac_dir

    # Check for guested configure; otherwise get Cygnus style configure.
    if test -f $ac_srcdir/configure.gnu; then
      ac_sub_configure="$SHELL '$ac_srcdir/configure.gnu'"
    elif test -f $ac_srcdir/configure; then
      ac_sub_configure="$SHELL '$ac_srcdir/configure'"
    elif test -f $ac_srcdir/configure.in; then
      ac_sub_configure=$ac_configure
    else
      { echo "$as_me:$LINENO: WARNING: no configuration information is in $ac_dir" >&5
echo "$as_me: WARNING: no configuration information is in $ac_dir" >&2;}
      ac_sub_configure=
    fi

    # The recursion is here.
    if test -n "$ac_sub_configure"; then
      # Make the cache file name correct relative to the subdirectory.
      case $cache_file in
      [\\/]* | ?:[\\/]* ) ac_sub_cache_file=$cache_file ;;
      *) # Relative path.
	ac_sub_cache_file=$ac_top_builddir$cache_file ;;
      esac

      { echo "$as_me:$LINENO: running $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&5
echo "$as_me: running $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&6;}
      # The eval makes quoting arguments work.
      eval $ac_sub_configure $ac_sub_configure_args \
	   --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir ||
	{ { echo "$as_me:$LINENO: error: $ac_sub_configure failed for $ac_dir" >&5
echo "$as_me: error: $ac_sub_configure failed for $ac_dir" >&2;}
   { (exit 1); exit 1; }; }
    fi

    cd $ac_popdir
  done
fi

@


5.80
log
@
	* tclconfig/tcl.m4: [http://sourceforge.net/p/expect/patches/17/]
	* configure: Extended Tcl header detection for OS X Mountain Lion.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.45.2.
d271 2
a272 2
PACKAGE_VERSION='5.45.2'
PACKAGE_STRING='expect 5.45.2'
d782 1
a782 1
\`configure' configures expect 5.45.2 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.45.2:";;
d974 1
a974 1
expect configure 5.45.2
d988 1
a988 1
It was created by expect $as_me 5.45.2, which was
d16844 1
a16844 1
This file was extended by expect $as_me 5.45.2, which was
d16902 1
a16902 1
expect config.status 5.45.2
@


5.79
log
@
	* exp_main_sub.c: Updated EXP_VERSION to 5.45.2
	* configure, configure.in: Updated expect to version 5.45.2

	* expect.c: [http://sourceforge.net/p/expect/patches/16/]. Report
	  and fix both by Per Cederqvist. Replaced a memcpy with memmove
	  as the latter properly handles overlapping memory, whereas the
	  original code does not.
@
text
@d6320 6
a6325 3
		    if test -d "${TCL_BIN_DIR}/Headers" -a \
			    -d "${TCL_BIN_DIR}/PrivateHeaders"; then
			TCL_INCLUDES="-I\"${TCL_BIN_DIR}/Headers\" -I\"${TCL_BIN_DIR}/PrivateHeaders\" ${TCL_INCLUDES}"
@


5.78
log
@
	* exp_main_sub.c: Updated EXP_VERSION to 5.45.1
	* configure, configure.in: Updated expect to version 5.45.1

	* exp_chan.c: Applied patch sent in by Ogawa Hirofumi
	  <hirofumi@@mail.parknet.co.jp>. The patch fixes a problem when
	  talking a tty where the writer has died. Some operating systems
	  report the condition as EIO with nothing read, while this
	  actually an EOF. Without the patch the returned data is
	  incomplete due to the error reported immediately and dropping
	  data in buffers.

	* exp_chan.c: [Bug 3526461]: Applied patch by Michael Cleverly
	  <cleverly@@users.sourceforge.net> fixing a problem with the
	  iteration over the expect channel list where the loop code may
	  modify the list, breaking the iterator.

	* exp_chan.c: [Bug 3526707]: Applied patch by Michael Cleverly
	* exp_command.h: <cleverly@@users.sourceforge.net> fixing problem
	* expect.c: with an insufficient test for a lost channel in
	  exp_background_channelhandler.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.45.1.
d271 2
a272 2
PACKAGE_VERSION='5.45.1'
PACKAGE_STRING='expect 5.45.1'
d782 1
a782 1
\`configure' configures expect 5.45.1 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.45.1:";;
d974 1
a974 1
expect configure 5.45.1
d988 1
a988 1
It was created by expect $as_me 5.45.1, which was
d16841 1
a16841 1
This file was extended by expect $as_me 5.45.1, which was
d16899 1
a16899 1
expect config.status 5.45.1
@


5.77
log
@correct HP-UX LDFLAGS to -Wl,-E
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.45.
d271 2
a272 2
PACKAGE_VERSION='5.45'
PACKAGE_STRING='expect 5.45'
d782 1
a782 1
\`configure' configures expect 5.45 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.45:";;
d974 1
a974 1
expect configure 5.45
d988 1
a988 1
It was created by expect $as_me 5.45, which was
d16841 1
a16841 1
This file was extended by expect $as_me 5.45, which was
d16899 1
a16899 1
expect config.status 5.45
@


5.76
log
@	* configure: regen with ac-2.59
	* tclconfig/tcl.m4: update for correct LDFLAGS on HP-UX
	* Makefile.in (expect): use TEA LDFLAGS instead of tclConfig.sh to
	build expect executable
@
text
@d7760 1
a7760 1
		LDFLAGS="$LDFLAGS -Wl,E"
@


5.75
log
@	* config.guess, config.sub, expect.m4 (removed):
	* configure, configure.in, tclconfig/tcl.m4: Update to TEA 3.9
	* Makefile.in, aclocal.m4: Partial cleanup of the build system.
	* testsuite/Makefile.in:   Remove unused EXP_ from configure.in
	* testsuite/aclocal.m4:    and no longer use Tk.
	* testsuite/configure:     Update testsuite bits to use TEA info.
	* testsuite/configure.in:
	Update expect to version 5.45

	* Dbg.c: account for removal of tcldbgcf.h
	* DbgMkfl.in, Dbgconfig.in, Dbgconfigure, DbgpkgInd.in (removed):
	* tcldbgcf.h.in (removed): removed Dbg debugger subcomponent as it
	no longer built and debugger functionality is included in expect
	library and binary

	* pty_termios.c: add HAVE_STRING_H include string.h
	* exp_trap.c: add HAVE_STRING_H include string.h

	* expectk.man, exp_main_tk.c (removed): expectk no longer
	built. Use tclsh with package require Tk and Expect instead.

	* tests/all.tcl: add package require Expect

	* example/archie, example/autoexpect: minor code cleanup
	* example/tkpasswd, example/tknewsbiff, example/tkterm: use
	package require statements in lieu of expectk
@
text
@d1712 2
a1713 4
    # Do this here as we have fully defined TEA_PLATFORM now
    if test "${TEA_PLATFORM}" = "windows" ; then
	# The BUILD_$pkg is to define the correct extern storage class
	# handling when making this package
d1719 2
d7760 1
a7760 1
		LDFLAGS="$LDFLAGS -E"
d16315 2
a16316 2
	VC_MANIFEST_EMBED_DLL="mt.exe -nologo -manifest \$@@.manifest -outputresource:\$@@\;2"
	VC_MANIFEST_EMBED_EXE="mt.exe -nologo -manifest \$@@.manifest -outputresource:\$@@\;1"
@


5.74
log
@
	* exp_command.c (Exp_SpawnObjCmd): [Expect SF Bug 2891422]. Fixed
	  error message when the command to spawn could not be executed.
	  Tried to use a Tcl_Obj* as argument for a %s. Replaced with the
	  correct char* variable. Thanks to Elchonon Edelson
	  <eee@@users.sourceforge.net> for the report.

	* configure.in: Bumped version to 5.44.1.15.
	* configure: Regen'd, autoconf 2.59.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.15.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.15'
PACKAGE_STRING='expect 5.44.1.15'
d313 1
a313 1
ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS CYGPATH EXEEXT PKG_LIB_FILE PKG_STUB_LIB_FILE PKG_STUB_SOURCES PKG_STUB_OBJECTS PKG_TCL_SOURCES PKG_HEADERS PKG_INCLUDES PKG_LIBS PKG_CFLAGS found TCL_VERSION TCL_BIN_DIR TCL_SRC_DIR TCL_LIB_FILE TCL_LIB_FLAG TCL_LIB_SPEC TCL_STUB_LIB_FILE TCL_STUB_LIB_FLAG TCL_STUB_LIB_SPEC TCL_LIBS TCL_DEFS TCL_EXTRA_CFLAGS TCL_LD_FLAGS TCL_SHLIB_LD_LIBS TK_VERSION TK_BIN_DIR TK_SRC_DIR TK_LIB_FILE TK_LIB_FLAG TK_LIB_SPEC TK_STUB_LIB_FILE TK_STUB_LIB_FLAG TK_STUB_LIB_SPEC TK_LIBS TK_XINCLUDES CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC OBJEXT CPP INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA SET_MAKE RANLIB ac_ct_RANLIB EGREP MATH_LIBS TCL_TOP_DIR_NATIVE TCL_GENERIC_DIR_NATIVE TCL_UNIX_DIR_NATIVE TCL_WIN_DIR_NATIVE TCL_BMAP_DIR_NATIVE TCL_TOOL_DIR_NATIVE TCL_PLATFORM_DIR_NATIVE TCL_INCLUDES TK_INCLUDES CLEANFILES TCL_THREADS SHARED_BUILD AR CELIB_DIR LIBOBJS DL_LIBS CFLAGS_DEBUG CFLAGS_OPTIMIZE CFLAGS_WARNING STLIB_LD SHLIB_LD SHLIB_LD_LIBS SHLIB_CFLAGS LD_LIBRARY_PATH_VAR TCL_DBGX CFLAGS_DEFAULT LDFLAGS_DEFAULT build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os subdirs EXP_CONFIG_SHELL EXP_SHARED_LIB_FILE EXP_UNSHARED_LIB_FILE EXP_SHLIB_CFLAGS EXP_LIB_FILE EXP_LIB_FILES EXP_BUILD_LIB_SPEC EXP_LIB_SPEC EXP_CFLAGS EXP_LDFLAGS EXP_LD_SEARCH_FLAGS TCL_LD_SEARCH_FLAGS EXP_CC_SEARCH_FLAGS TCL_CC_SEARCH_FLAGS EXP_SHLIB_LD_LIBS SETUID SETPGRP_VOID DEFAULT_STTY_ARGS PKG_SOURCES PKG_OBJECTS MAKE_LIB MAKE_SHARED_LIB MAKE_STATIC_LIB MAKE_STUB_LIB RANLIB_STUB TCLSH_PROG LTLIBOBJS'
d782 1
a782 1
\`configure' configures expect 5.44.1.15 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.15:";;
d855 1
a856 2
  --disable-load          disallow dynamic loading and "load" command
                          (default: enabled)
d864 1
a864 2
  --with-tk               directory containing tk configuration (tkConfig.sh)
  --with-tkinclude      directory containing the public Tk header files.
d974 1
a974 1
expect configure 5.44.1.15
d988 1
a988 1
It was created by expect $as_me 5.44.1.15, which was
d1328 1
a1328 1
    TEA_VERSION="3.5"
d1339 1
a1339 1
    if test x"3.5" = x ; then
d1345 3
a1347 3
    elif test "3.5" != "${TEA_VERSION}" ; then
	echo "$as_me:$LINENO: result: warning: requested TEA version \"3.5\", have \"${TEA_VERSION}\"" >&5
echo "${ECHO_T}warning: requested TEA version \"3.5\", have \"${TEA_VERSION}\"" >&6
d1353 1
a1353 1
	*win32*|*WIN32*|*CYGWIN_NT*|*CYGWIN_9*|*CYGWIN_ME*|*MINGW32_*)
d1393 5
d1414 3
a1461 63
# Too many people send me configure output without identifying the version.
# This forced identification should reduce my pain significantly.

echo "configuring $PACKAGE_NAME $PACKAGE_VERSION"

# while Expect is in alpha/beta, disable caching so as not to confuse
# people trying to fix configure bugs




# People (when downloading Expect from CVS archive) sometimes run into
# Make thinking configure is old and needs to be rebuilt.  If they
# don't have a clue about autoconf, they get confused.  This is
# particular irritating because the problem only crops up after
# configure has successfully completed.  Help them out by checking it
# right now and giving some advice.  Alas, we cannot summarily fix the
# problem because it might conceivably be someone doing real
# development.
# Test if configure is older than configure.in and explain if no autoconf

# Extract the first word of "autoconf", so it can be a program name with args.
set dummy autoconf; ac_word=$2
echo "$as_me:$LINENO: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_found+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$found"; then
  ac_cv_prog_found="$found" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  for ac_exec_ext in '' $ac_executable_extensions; do
  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_found="yes"
    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
done

  test -z "$ac_cv_prog_found" && ac_cv_prog_found="no"
fi
fi
found=$ac_cv_prog_found
if test -n "$found"; then
  echo "$as_me:$LINENO: result: $found" >&5
echo "${ECHO_T}$found" >&6
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi


# AK: Removed the checking and complaint. It makes automatic building
# straight out of the CVS a true hassle simply because the build can
# stop anytime and randomly (platform dependent, cvs dependent)


d1486 1
a1486 1
  with_tclconfig=${withval}
d1497 1
a1497 1
		case ${with_tclconfig} in
d1499 1
a1499 1
			if test -f ${with_tclconfig}; then
d1502 1
a1502 1
			    with_tclconfig=`echo ${with_tclconfig} | sed 's!/tclConfig\.sh$!!'`
d1506 1
a1506 1
		    ac_cv_c_tclconfig=`(cd ${with_tclconfig}; pwd)`
d1529 5
d1535 1
a1535 1
			ac_cv_c_tclconfig=`(cd $i/unix; pwd)`
d1549 1
a1549 1
			ac_cv_c_tclconfig=`(cd $i/Tcl.framework; pwd)`
d1555 1
a1555 1
	    # on Windows, check in common installation locations
d1562 1
a1562 1
			ac_cv_c_tclconfig=`(cd $i; pwd)`
d1576 1
d1579 1
a1579 1
			ac_cv_c_tclconfig=`(cd $i; pwd)`
d1592 5
d1598 3
a1600 3
		    ac_cv_c_tclconfig=`(cd $i/unix; pwd)`
		    break
		fi
d1609 3
a1611 3
	    { echo "$as_me:$LINENO: WARNING: Can't find Tcl configuration definitions" >&5
echo "$as_me: WARNING: Can't find Tcl configuration definitions" >&2;}
	    exit 0
d1614 1
a1614 1
	    TCL_BIN_DIR=${ac_cv_c_tclconfig}
d1627 1
a1627 1
	. ${TCL_BIN_DIR}/tclConfig.sh
d1643 4
a1646 4
    if test -f ${TCL_BIN_DIR}/Makefile ; then
        TCL_LIB_SPEC=${TCL_BUILD_LIB_SPEC}
        TCL_STUB_LIB_SPEC=${TCL_BUILD_STUB_LIB_SPEC}
        TCL_STUB_LIB_PATH=${TCL_BUILD_STUB_LIB_PATH}
d1650 1
a1650 1
	# against Tcl.framework installed in an arbitary location.
d1653 3
a1655 3
		if test -f ${TCL_BIN_DIR}/${TCL_LIB_FILE}; then
		    for i in "`cd ${TCL_BIN_DIR}; pwd`" \
			     "`cd ${TCL_BIN_DIR}/../..; pwd`"; do
d1657 1
a1657 1
			    TCL_LIB_SPEC="-F`dirname "$i"` -framework ${TCL_LIB_FILE}"
d1662 2
a1663 2
		if test -f ${TCL_BIN_DIR}/${TCL_STUB_LIB_FILE}; then
		    TCL_STUB_LIB_SPEC="-L${TCL_BIN_DIR} ${TCL_STUB_LIB_FLAG}"
d1689 22
d1712 4
d1717 2
a1718 204





    #
    # Ok, lets find the tk configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tk
    #

    if test x"${no_tk}" = x ; then
	# we reset no_tk in case something fails here
	no_tk=true

# Check whether --with-tk or --without-tk was given.
if test "${with_tk+set}" = set; then
  withval="$with_tk"
  with_tkconfig=${withval}
fi;
	echo "$as_me:$LINENO: checking for Tk configuration" >&5
echo $ECHO_N "checking for Tk configuration... $ECHO_C" >&6
	if test "${ac_cv_c_tkconfig+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else


	    # First check to see if --with-tkconfig was specified.
	    if test x"${with_tkconfig}" != x ; then
		case ${with_tkconfig} in
		    */tkConfig.sh )
			if test -f ${with_tkconfig}; then
			    { echo "$as_me:$LINENO: WARNING: --with-tk argument should refer to directory containing tkConfig.sh, not to tkConfig.sh itself" >&5
echo "$as_me: WARNING: --with-tk argument should refer to directory containing tkConfig.sh, not to tkConfig.sh itself" >&2;}
			    with_tkconfig=`echo ${with_tkconfig} | sed 's!/tkConfig\.sh$!!'`
			fi ;;
		esac
		if test -f "${with_tkconfig}/tkConfig.sh" ; then
		    ac_cv_c_tkconfig=`(cd ${with_tkconfig}; pwd)`
		else
		    { { echo "$as_me:$LINENO: error: ${with_tkconfig} directory doesn't contain tkConfig.sh" >&5
echo "$as_me: error: ${with_tkconfig} directory doesn't contain tkConfig.sh" >&2;}
   { (exit 1); exit 1; }; }
		fi
	    fi

	    # then check for a private Tk library
	    if test x"${ac_cv_c_tkconfig}" = x ; then
		for i in \
			../tk \
			`ls -dr ../tk[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ../tk[8-9].[0-9] 2>/dev/null` \
			`ls -dr ../tk[8-9].[0-9]* 2>/dev/null` \
			../../tk \
			`ls -dr ../../tk[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ../../tk[8-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tk[8-9].[0-9]* 2>/dev/null` \
			../../../tk \
			`ls -dr ../../../tk[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ../../../tk[8-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tk[8-9].[0-9]* 2>/dev/null` ; do
		    if test -f "$i/unix/tkConfig.sh" ; then
			ac_cv_c_tkconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # on Darwin, check in Framework installation locations
	    if test "`uname -s`" = "Darwin" -a x"${ac_cv_c_tkconfig}" = x ; then
		for i in `ls -d ~/Library/Frameworks 2>/dev/null` \
			`ls -d /Library/Frameworks 2>/dev/null` \
			`ls -d /Network/Library/Frameworks 2>/dev/null` \
			`ls -d /System/Library/Frameworks 2>/dev/null` \
			; do
		    if test -f "$i/Tk.framework/tkConfig.sh" ; then
			ac_cv_c_tkconfig=`(cd $i/Tk.framework; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tkconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			; do
		    if test -f "$i/tkConfig.sh" ; then
			ac_cv_c_tkconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

	    # on Windows, check in common installation locations
	    if test "${TEA_PLATFORM}" = "windows" \
		-a x"${ac_cv_c_tclconfig}" = x ; then
		for i in `ls -d C:/Tcl/lib 2>/dev/null` \
			`ls -d C:/Progra~1/Tcl/lib 2>/dev/null` \
			; do
		    if test -f "$i/tclConfig.sh" ; then
			ac_cv_c_tclconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few other private locations
	    if test x"${ac_cv_c_tkconfig}" = x ; then
		for i in \
			${srcdir}/../tk \
			`ls -dr ${srcdir}/../tk[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tk[8-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tk[8-9].[0-9]* 2>/dev/null` ; do
		    if test -f "$i/unix/tkConfig.sh" ; then
			ac_cv_c_tkconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tkconfig}" = x ; then
	    TK_BIN_DIR="# no Tk configs found"
	    { echo "$as_me:$LINENO: WARNING: Can't find Tk configuration definitions" >&5
echo "$as_me: WARNING: Can't find Tk configuration definitions" >&2;}
	    exit 0
	else
	    no_tk=
	    TK_BIN_DIR=${ac_cv_c_tkconfig}
	    echo "$as_me:$LINENO: result: found ${TK_BIN_DIR}/tkConfig.sh" >&5
echo "${ECHO_T}found ${TK_BIN_DIR}/tkConfig.sh" >&6
	fi
    fi


    echo "$as_me:$LINENO: checking for existence of ${TK_BIN_DIR}/tkConfig.sh" >&5
echo $ECHO_N "checking for existence of ${TK_BIN_DIR}/tkConfig.sh... $ECHO_C" >&6

    if test -f "${TK_BIN_DIR}/tkConfig.sh" ; then
        echo "$as_me:$LINENO: result: loading" >&5
echo "${ECHO_T}loading" >&6
	. ${TK_BIN_DIR}/tkConfig.sh
    else
        echo "$as_me:$LINENO: result: could not find ${TK_BIN_DIR}/tkConfig.sh" >&5
echo "${ECHO_T}could not find ${TK_BIN_DIR}/tkConfig.sh" >&6
    fi

    # eval is required to do the TK_DBGX substitution
    eval "TK_LIB_FILE=\"${TK_LIB_FILE}\""
    eval "TK_STUB_LIB_FILE=\"${TK_STUB_LIB_FILE}\""

    # If the TK_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable TK_LIB_SPEC will be set to the value
    # of TK_BUILD_LIB_SPEC. An extension should make use of TK_LIB_SPEC
    # instead of TK_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    if test -f ${TK_BIN_DIR}/Makefile ; then
        TK_LIB_SPEC=${TK_BUILD_LIB_SPEC}
        TK_STUB_LIB_SPEC=${TK_BUILD_STUB_LIB_SPEC}
        TK_STUB_LIB_PATH=${TK_BUILD_STUB_LIB_PATH}
    elif test "`uname -s`" = "Darwin"; then
	# If Tk was built as a framework, attempt to use the libraries
	# from the framework at the given location so that linking works
	# against Tk.framework installed in an arbitary location.
	case ${TK_DEFS} in
	    *TK_FRAMEWORK*)
		if test -f ${TK_BIN_DIR}/${TK_LIB_FILE}; then
		    for i in "`cd ${TK_BIN_DIR}; pwd`" \
			     "`cd ${TK_BIN_DIR}/../..; pwd`"; do
			if test "`basename "$i"`" = "${TK_LIB_FILE}.framework"; then
			    TK_LIB_SPEC="-F`dirname "$i"` -framework ${TK_LIB_FILE}"
			    break
			fi
		    done
		fi
		if test -f ${TK_BIN_DIR}/${TK_STUB_LIB_FILE}; then
		    TK_STUB_LIB_SPEC="-L${TK_BIN_DIR} ${TK_STUB_LIB_FLAG}"
		    TK_STUB_LIB_PATH="${TK_BIN_DIR}/${TK_STUB_LIB_FILE}"
		fi
		;;
	esac
    fi

    # eval is required to do the TK_DBGX substitution
    eval "TK_LIB_FLAG=\"${TK_LIB_FLAG}\""
    eval "TK_LIB_SPEC=\"${TK_LIB_SPEC}\""
    eval "TK_STUB_LIB_FLAG=\"${TK_STUB_LIB_FLAG}\""
    eval "TK_STUB_LIB_SPEC=\"${TK_STUB_LIB_SPEC}\""

    # Ensure windowingsystem is defined
    if test "${TEA_PLATFORM}" = "unix" ; then
	case ${TK_DEFS} in
	    *MAC_OSX_TK*)

cat >>confdefs.h <<\_ACEOF
#define MAC_OSX_TK 1
d1721 1
a1721 8
		TEA_WINDOWINGSYSTEM="aqua"
		;;
	    *)
		TEA_WINDOWINGSYSTEM="x11"
		;;
	esac
    elif test "${TEA_PLATFORM}" = "windows" ; then
	TEA_WINDOWINGSYSTEM="win32"
d1724 1
d1733 8
a1740 7







d3429 6
a3434 3
	OLDCC="$CC"
	CC="$CC -pipe"
	cat >conftest.$ac_ext <<_ACEOF
d3471 1
a3471 2
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
d3476 1
a3476 3
CC="$OLDCC"
	    echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
d3479 7
d4651 2
a4652 2
    # Don't perform the eval of the libraries here because DL_LIBS
    # won't be set until we call TEA_CONFIG_CFLAGS
d4664 2
a4665 1
  cat >conftest.$ac_ext <<_ACEOF
d4742 1
d6198 2
a6199 40
    echo "$as_me:$LINENO: checking for Tcl private include files" >&5
echo $ECHO_N "checking for Tcl private include files... $ECHO_C" >&6

    TCL_SRC_DIR_NATIVE=`${CYGPATH} ${TCL_SRC_DIR}`
    TCL_TOP_DIR_NATIVE=\"${TCL_SRC_DIR_NATIVE}\"
    TCL_GENERIC_DIR_NATIVE=\"${TCL_SRC_DIR_NATIVE}/generic\"
    TCL_UNIX_DIR_NATIVE=\"${TCL_SRC_DIR_NATIVE}/unix\"
    TCL_WIN_DIR_NATIVE=\"${TCL_SRC_DIR_NATIVE}/win\"
    TCL_BMAP_DIR_NATIVE=\"${TCL_SRC_DIR_NATIVE}/bitmaps\"
    TCL_TOOL_DIR_NATIVE=\"${TCL_SRC_DIR_NATIVE}/tools\"
    TCL_COMPAT_DIR_NATIVE=\"${TCL_SRC_DIR_NATIVE}/compat\"

    if test "${TEA_PLATFORM}" = "windows"; then
	TCL_PLATFORM_DIR_NATIVE=${TCL_WIN_DIR_NATIVE}
    else
	TCL_PLATFORM_DIR_NATIVE=${TCL_UNIX_DIR_NATIVE}
    fi
    # We want to ensure these are substituted so as not to require
    # any *_NATIVE vars be defined in the Makefile
    TCL_INCLUDES="-I${TCL_GENERIC_DIR_NATIVE} -I${TCL_PLATFORM_DIR_NATIVE}"
    if test "`uname -s`" = "Darwin"; then
        # If Tcl was built as a framework, attempt to use
        # the framework's Headers and PrivateHeaders directories
        case ${TCL_DEFS} in
	    *TCL_FRAMEWORK*)
	        if test -d "${TCL_BIN_DIR}/Headers" -a -d "${TCL_BIN_DIR}/PrivateHeaders"; then
	        TCL_INCLUDES="-I\"${TCL_BIN_DIR}/Headers\" -I\"${TCL_BIN_DIR}/PrivateHeaders\" ${TCL_INCLUDES}"; else
	        TCL_INCLUDES="${TCL_INCLUDES} ${TCL_INCLUDE_SPEC} `echo "${TCL_INCLUDE_SPEC}" | sed -e 's/Headers/PrivateHeaders/'`"; fi
	        ;;
	esac
    fi









a6200 2
    echo "$as_me:$LINENO: result: Using srcdir found in tclConfig.sh: ${TCL_SRC_DIR}" >&5
echo "${ECHO_T}Using srcdir found in tclConfig.sh: ${TCL_SRC_DIR}" >&6
d6202 4
a6205 9

    echo "$as_me:$LINENO: checking for Tk public headers" >&5
echo $ECHO_N "checking for Tk public headers... $ECHO_C" >&6


# Check whether --with-tkinclude or --without-tkinclude was given.
if test "${with_tkinclude+set}" = set; then
  withval="$with_tkinclude"
  with_tkinclude=${withval}
d6208 1
a6208 1
    if test "${ac_cv_c_tkh+set}" = set; then
d6212 1
a6212 1
	# Use the value from --with-tkinclude, if it was given
d6214 3
a6216 3
	if test x"${with_tkinclude}" != x ; then
	    if test -f "${with_tkinclude}/tk.h" ; then
		ac_cv_c_tkh=${with_tkinclude}
d6218 2
a6219 2
		{ { echo "$as_me:$LINENO: error: ${with_tkinclude} directory does not contain tk.h" >&5
echo "$as_me: error: ${with_tkinclude} directory does not contain tk.h" >&2;}
d6223 1
d6225 5
a6229 5
		# If Tk was built as a framework, attempt to use
		# the framework's Headers directory.
		case ${TK_DEFS} in
		    *TK_FRAMEWORK*)
			list="`ls -d ${TK_BIN_DIR}/Headers 2>/dev/null`"
d6234 1
a6234 1
	    # Look in the source dir only if Tk is not installed,
d6236 2
a6237 2
	    if test -f "${TK_BIN_DIR}/Makefile" ; then
		list="$list `ls -d ${TK_SRC_DIR}/generic 2>/dev/null`"
d6240 1
a6240 2
	    # Check order: pkg --prefix location, Tk's --prefix location,
	    # relative to directory of tkConfig.sh, Tcl's --prefix location,
a6245 2
		`ls -d ${TK_PREFIX}/include      2>/dev/null` \
		`ls -d ${TK_BIN_DIR}/../include  2>/dev/null` \
d6250 4
d6256 2
a6257 2
		if test -f "$i/tk.h" ; then
		    ac_cv_c_tkh=$i
d6268 3
a6270 3
    if test x"${ac_cv_c_tkh}" = x ; then
	{ { echo "$as_me:$LINENO: error: tk.h not found.  Please specify its location with --with-tkinclude" >&5
echo "$as_me: error: tk.h not found.  Please specify its location with --with-tkinclude" >&2;}
d6273 2
a6274 2
	echo "$as_me:$LINENO: result: ${ac_cv_c_tkh}" >&5
echo "${ECHO_T}${ac_cv_c_tkh}" >&6
d6279 1
a6279 1
    INCLUDE_DIR_NATIVE=`${CYGPATH} ${ac_cv_c_tkh}`
d6281 1
a6281 1
    TK_INCLUDES=-I\"${INCLUDE_DIR_NATIVE}\"
a6284 8
    if test "${TEA_WINDOWINGSYSTEM}" = "win32" \
	-o "${TEA_WINDOWINGSYSTEM}" = "aqua"; then
	# On Windows and Aqua, we need the X compat headers
	echo "$as_me:$LINENO: checking for X11 header files" >&5
echo $ECHO_N "checking for X11 header files... $ECHO_C" >&6
	if test ! -r "${INCLUDE_DIR_NATIVE}/X11/Xlib.h"; then
	    INCLUDE_DIR_NATIVE="`${CYGPATH} ${TK_SRC_DIR}/xlib`"
	    TK_XINCLUDES=-I\"${INCLUDE_DIR_NATIVE}\"
d6286 50
a6336 2
	echo "$as_me:$LINENO: result: ${INCLUDE_DIR_NATIVE}" >&5
echo "${ECHO_T}${INCLUDE_DIR_NATIVE}" >&6
d6340 6
d6347 5
d6353 1
a6353 11
#
# We have to define a special symbol for Windows (BUILD_Expect in this
# case) so that we create the export library with the dll.
#
# Windows creates a few extra files that need to be cleaned up.
# We can add more files to clean if our extension creates any extra
# files in the future.
#
# Define any extra compiler flags in the PACKAGE_CFLAGS variable.
# These will be appended to the current set of compiler flags for
# your system.
a6355 4
if test "${TEA_PLATFORM}" = "windows" ; then
    cat >>confdefs.h <<\_ACEOF
#define BUILD_Expect 1
_ACEOF
d6357 1
a6357 4
    CLEANFILES="pkgIndex.tcl *.lib *.dll *.exp *.ilk *.pdb vc*.pch"
else
    CLEANFILES="pkgIndex.tcl"
fi
a6888 6
OLD_CFLAGD=$CFLAGS_DEBUG
OLD_CFLAGO=$CFLAGS_OPTIMIZE




d6916 4
a6920 4
    if test "$do64bitVIS" = "yes"; then
	# Force 64bit on with VIS
	do64bit=yes
    fi
d6922 2
a6923 1
    # Step 0.c: Cross-compiling options for Windows/CE builds?
d6925 4
a6928 7
    if test "${TEA_PLATFORM}" = "windows" ; then
	echo "$as_me:$LINENO: checking if Windows/CE build is requested" >&5
echo $ECHO_N "checking if Windows/CE build is requested... $ECHO_C" >&6
	# Check whether --enable-wince or --disable-wince was given.
if test "${enable_wince+set}" = set; then
  enableval="$enable_wince"
  doWince=$enableval
a6929 5
  doWince=no
fi;
	echo "$as_me:$LINENO: result: $doWince" >&5
echo "${ECHO_T}$doWince" >&6
    fi
d6931 2
a6932 50
    # Step 1: set the variable "system" to hold the name and version number
    # for the system.


    echo "$as_me:$LINENO: checking system version" >&5
echo $ECHO_N "checking system version... $ECHO_C" >&6
if test "${tcl_cv_sys_version+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	if test "${TEA_PLATFORM}" = "windows" ; then
	    tcl_cv_sys_version=windows
	elif test -f /usr/lib/NextStep/software_version; then
	    tcl_cv_sys_version=NEXTSTEP-`awk '/3/,/3/' /usr/lib/NextStep/software_version`
	else
	    tcl_cv_sys_version=`uname -s`-`uname -r`
	    if test "$?" -ne 0 ; then
		{ echo "$as_me:$LINENO: WARNING: can't find uname command" >&5
echo "$as_me: WARNING: can't find uname command" >&2;}
		tcl_cv_sys_version=unknown
	    else
		# Special check for weird MP-RAS system (uname returns weird
		# results, and the version is kept in special file).

		if test -r /etc/.relid -a "X`uname -n`" = "X`uname -s`" ; then
		    tcl_cv_sys_version=MP-RAS-`awk '{print }' /etc/.relid`
		fi
		if test "`uname -s`" = "AIX" ; then
		    tcl_cv_sys_version=AIX-`uname -v`.`uname -r`
		fi
	    fi
	fi

fi
echo "$as_me:$LINENO: result: $tcl_cv_sys_version" >&5
echo "${ECHO_T}$tcl_cv_sys_version" >&6
    system=$tcl_cv_sys_version


    # Step 2: check for existence of -ldl library.  This is needed because
    # Linux can use either -ldl or -ldld for dynamic loading.

    echo "$as_me:$LINENO: checking for dlopen in -ldl" >&5
echo $ECHO_N "checking for dlopen in -ldl... $ECHO_C" >&6
if test "${ac_cv_lib_dl_dlopen+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ldl  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
d6939 2
a6940 7
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char dlopen ();
d6944 1
a6944 1
dlopen ();
d6971 1
a6971 1
  ac_cv_lib_dl_dlopen=yes
d6976 1
a6976 1
ac_cv_lib_dl_dlopen=no
d6980 45
a7024 1
LIBS=$ac_check_lib_save_LIBS
d7026 10
a7035 4
echo "$as_me:$LINENO: result: $ac_cv_lib_dl_dlopen" >&5
echo "${ECHO_T}$ac_cv_lib_dl_dlopen" >&6
if test $ac_cv_lib_dl_dlopen = yes; then
  have_dl=yes
d7037 17
a7053 1
  have_dl=no
d7055 3
d7064 1
a7064 1
    # Step 3: set configuration options based on system name and version.
d7066 1
a7066 1
    # "windows" case.
d7069 2
a7070 1
    LDFLAGS_ORIG="$LDFLAGS"
a7074 1
    TCL_EXPORT_FILE_SUFFIX=""
d7076 1
d7082 3
a7084 1
    if test "$GCC" = "yes" ; then
d7086 6
a7091 7
	CFLAGS_WARNING="-Wall -Wno-implicit-int"
    else
	CFLAGS_WARNING=""
    fi
    TCL_NEEDS_EXP_FILE=0
    TCL_BUILD_EXP_FILE=""
    TCL_EXP_FILE=""
d7129 4
d7134 1
d7392 2
d7395 1
a7395 1
		LDFLAGS_DEBUG="-debug:full -debugtype:both -warn:2"
a7405 1
	    SHLIB_LD_LIBS='${LIBS}'
a7409 2
	    # Bogus to avoid getting this turned off
	    DL_OBJS="tclLoadNone.obj"
d7412 2
a7413 1
	    if test "${TCL_THREADS}" = "1" -a "$GCC" != "yes" ; then
d7416 1
a7416 1
		    *_r)
d7420 2
a7421 1
			CC=${CC}_r
d7426 3
a7428 1
	    fi
a7430 1
	    SHLIB_LD_LIBS='${LIBS}'
a7432 1
	    DL_OBJS="tclLoadDl.o"
d7435 5
a7439 3
	    # Check to enable 64-bit flags for compiler/linker on AIX 4+
	    if test "$do64bit" = "yes" -a "`uname -v`" -gt "3" ; then
		if test "$GCC" = "yes" ; then
d7442 3
a7444 1
		else
a7450 2
		fi
	    fi
d7452 8
a7459 1
	    if test "`uname -m`" = "ia64" ; then
d7462 2
a7463 3
		# AIX-5 has dl* in libc.so
		DL_LIBS=""
		if test "$GCC" = "yes" ; then
d7465 3
a7467 1
		else
d7469 3
a7471 1
		fi
d7473 15
a7487 8
	    else
		if test "$GCC" = "yes" ; then
		    SHLIB_LD="gcc -shared"
		else
		    SHLIB_LD="/bin/ld -bhalt:4 -bM:SRE -bE:lib.exp -H512 -T512 -bnoentry"
		fi
		SHLIB_LD="${TCL_SRC_DIR}/unix/ldAix ${SHLIB_LD} ${SHLIB_LD_FLAGS}"
		DL_LIBS="-ldl"
a7489 3
		TCL_NEEDS_EXP_FILE=1
		TCL_EXPORT_FILE_SUFFIX='${PACKAGE_VERSION}.exp'
	    fi
d7491 1
a7491 9
	    # AIX v<=4.1 has some different flags than 4.2+
	    if test "$system" = "AIX-4.1" -o "`uname -v`" -lt "4" ; then
		case $LIBOBJS in
    "tclLoadAix.$ac_objext"   | \
  *" tclLoadAix.$ac_objext"   | \
    "tclLoadAix.$ac_objext "* | \
  *" tclLoadAix.$ac_objext "* ) ;;
  *) LIBOBJS="$LIBOBJS tclLoadAix.$ac_objext" ;;
esac
d7493 5
a7497 2
		DL_LIBS="-lld"
	    fi
d7499 8
a7506 15
	    # On AIX <=v4 systems, libbsd.a has to be linked in to support
	    # non-blocking file IO.  This library has to be linked in after
	    # the MATH_LIBS or it breaks the pow() function.  The way to
	    # insure proper sequencing, is to add it to the tail of MATH_LIBS.
	    # This library also supplies gettimeofday.
	    #
	    # AIX does not have a timezone field in struct tm. When the AIX
	    # bsd library is used, the timezone global and the gettimeofday
	    # methods are to be avoided for timezone deduction instead, we
	    # deduce the timezone by comparing the localtime result on a
	    # known GMT value.

	    echo "$as_me:$LINENO: checking for gettimeofday in -lbsd" >&5
echo $ECHO_N "checking for gettimeofday in -lbsd... $ECHO_C" >&6
if test "${ac_cv_lib_bsd_gettimeofday+set}" = set; then
d7510 1
a7510 1
LIBS="-lbsd  $LIBS"
d7524 1
a7524 1
char gettimeofday ();
d7528 1
a7528 1
gettimeofday ();
d7555 1
a7555 1
  ac_cv_lib_bsd_gettimeofday=yes
d7560 1
a7560 1
ac_cv_lib_bsd_gettimeofday=no
d7566 4
a7569 6
echo "$as_me:$LINENO: result: $ac_cv_lib_bsd_gettimeofday" >&5
echo "${ECHO_T}$ac_cv_lib_bsd_gettimeofday" >&6
if test $ac_cv_lib_bsd_gettimeofday = yes; then
  libbsd=yes
else
  libbsd=no
a7571 8
	    if test $libbsd = yes; then
	    	MATH_LIBS="$MATH_LIBS -lbsd"

cat >>confdefs.h <<\_ACEOF
#define USE_DELTA_FOR_TZ 1
_ACEOF

	    fi
d7573 18
a7590 1
	BeOS*)
a7591 2
	    SHLIB_LD="${CC} -nostart"
	    SHLIB_LD_LIBS='${LIBS}'
d7593 4
a7596 11
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS="-ldl"

	    #-----------------------------------------------------------
	    # Check for inet_ntoa in -lbind, for BeOS (which also needs
	    # -lsocket, even if the network functions are in -lnet which
	    # is always linked to, for compatibility.
	    #-----------------------------------------------------------
	    echo "$as_me:$LINENO: checking for inet_ntoa in -lbind" >&5
echo $ECHO_N "checking for inet_ntoa in -lbind... $ECHO_C" >&6
if test "${ac_cv_lib_bind_inet_ntoa+set}" = set; then
d7600 1
a7600 1
LIBS="-lbind  $LIBS"
d7645 1
a7645 1
  ac_cv_lib_bind_inet_ntoa=yes
d7650 1
a7650 1
ac_cv_lib_bind_inet_ntoa=no
d7656 4
a7659 4
echo "$as_me:$LINENO: result: $ac_cv_lib_bind_inet_ntoa" >&5
echo "${ECHO_T}$ac_cv_lib_bind_inet_ntoa" >&6
if test $ac_cv_lib_bind_inet_ntoa = yes; then
  LIBS="$LIBS -lbind -lsocket"
a7662 31
	BSD/OS-2.1*|BSD/OS-3*)
	    SHLIB_CFLAGS=""
	    SHLIB_LD="shlicc -r"
	    SHLIB_LD_LIBS='${LIBS}'
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS="-ldl"
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
	BSD/OS-4.*)
	    SHLIB_CFLAGS="-export-dynamic -fPIC"
	    SHLIB_LD="cc -shared"
	    SHLIB_LD_LIBS='${LIBS}'
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS="-ldl"
	    LDFLAGS="$LDFLAGS -export-dynamic"
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
	dgux*)
	    SHLIB_CFLAGS="-K PIC"
	    SHLIB_LD="cc -G"
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS="-ldl"
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
d7670 1
a7670 1
	    # Needed by Tcl, but not most extensions
d7674 14
a7687 1
	    SHLIB_SUFFIX=".sl"
d7759 2
a7760 6
		SHLIB_CFLAGS="+z"
		SHLIB_LD="ld -b"
		SHLIB_LD_LIBS='${LIBS}'
		DL_OBJS="tclLoadShl.o"
		DL_LIBS="-ldld"
		LDFLAGS="$LDFLAGS -Wl,-E"
d7764 6
a7769 4
	    fi
	    if test "$GCC" = "yes" ; then
		SHLIB_LD="gcc -shared"
		SHLIB_LD_LIBS='${LIBS}'
a7770 1
	    fi
d7772 10
a7781 2
	    # Users may want PA-RISC 1.1/2.0 portable code - needs HP cc
	    #CFLAGS="$CFLAGS +DAportable"
d7784 5
a7788 4
	    if test "$do64bit" = "yes" ; then
		if test "$GCC" = "yes" ; then
		    hpux_arch=`${CC} -dumpmachine`
		    case $hpux_arch in
d7792 6
a7797 3
			    SHLIB_LD="${CC} -shared"
			    SHLIB_LD_LIBS='${LIBS}'
			    CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
d7805 3
a7807 1
		else
d7811 69
a7879 2
		fi
	    fi
d7881 25
a7905 5
	HP-UX-*.08.*|HP-UX-*.09.*|HP-UX-*.10.*)
	    SHLIB_SUFFIX=".sl"
	    echo "$as_me:$LINENO: checking for shl_load in -ldld" >&5
echo $ECHO_N "checking for shl_load in -ldld... $ECHO_C" >&6
if test "${ac_cv_lib_dld_shl_load+set}" = set; then
d7908 4
a7911 3
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ldld  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
a7917 7
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char shl_load ();
d7921 1
a7921 1
shl_load ();
d7948 1
a7948 1
  ac_cv_lib_dld_shl_load=yes
d7953 1
a7953 1
ac_cv_lib_dld_shl_load=no
d7957 1
a7957 1
LIBS=$ac_check_lib_save_LIBS
d7959 7
a7965 6
echo "$as_me:$LINENO: result: $ac_cv_lib_dld_shl_load" >&5
echo "${ECHO_T}$ac_cv_lib_dld_shl_load" >&6
if test $ac_cv_lib_dld_shl_load = yes; then
  tcl_ok=yes
else
  tcl_ok=no
a7967 56
	    if test "$tcl_ok" = yes; then
		SHLIB_CFLAGS="+z"
		SHLIB_LD="ld -b"
		SHLIB_LD_LIBS=""
		DL_OBJS="tclLoadShl.o"
		DL_LIBS="-ldld"
		LDFLAGS="$LDFLAGS -Wl,-E"
		CC_SEARCH_FLAGS='-Wl,+s,+b,${LIB_RUNTIME_DIR}:.'
		LD_SEARCH_FLAGS='+s +b ${LIB_RUNTIME_DIR}:.'
		LD_LIBRARY_PATH_VAR="SHLIB_PATH"
	    fi
	    ;;
	IRIX-5.*)
	    SHLIB_CFLAGS=""
	    SHLIB_LD="ld -shared -rdata_shared"
	    SHLIB_LD_LIBS='${LIBS}'
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS=""
	    CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
	    LD_SEARCH_FLAGS='-rpath ${LIB_RUNTIME_DIR}'
	    ;;
	IRIX-6.*)
	    SHLIB_CFLAGS=""
	    SHLIB_LD="ld -n32 -shared -rdata_shared"
	    SHLIB_LD_LIBS='${LIBS}'
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS=""
	    CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
	    LD_SEARCH_FLAGS='-rpath ${LIB_RUNTIME_DIR}'
	    if test "$GCC" = "yes" ; then
		CFLAGS="$CFLAGS -mabi=n32"
		LDFLAGS="$LDFLAGS -mabi=n32"
	    else
		case $system in
		    IRIX-6.3)
			# Use to build 6.2 compatible binaries on 6.3.
			CFLAGS="$CFLAGS -n32 -D_OLD_TERMIOS"
			;;
		    *)
			CFLAGS="$CFLAGS -n32"
			;;
		esac
		LDFLAGS="$LDFLAGS -n32"
	    fi
	    ;;
	IRIX64-6.*)
	    SHLIB_CFLAGS=""
	    SHLIB_LD="ld -n32 -shared -rdata_shared"
	    SHLIB_LD_LIBS='${LIBS}'
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS=""
	    CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
	    LD_SEARCH_FLAGS='-rpath ${LIB_RUNTIME_DIR}'
d7969 1
a7969 1
	    # Check to enable 64-bit flags for compiler/linker
a7970 16
	    if test "$do64bit" = "yes" ; then
	        if test "$GCC" = "yes" ; then
	            { echo "$as_me:$LINENO: WARNING: 64bit mode not supported by gcc" >&5
echo "$as_me: WARNING: 64bit mode not supported by gcc" >&2;}
	        else
	            do64bit_ok=yes
	            SHLIB_LD="ld -64 -shared -rdata_shared"
	            CFLAGS="$CFLAGS -64"
	            LDFLAGS_ARCH="-64"
	        fi
	    fi
	    ;;
	Linux*)
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_LD_LIBS='${LIBS}'
	    SHLIB_SUFFIX=".so"
d7972 5
a7976 5
	    CFLAGS_OPTIMIZE="-O2 -fomit-frame-pointer"
	    # egcs-2.91.66 on Redhat Linux 6.0 generates lots of warnings
	    # when you inline the string and math operations.  Turn this off to
	    # get rid of the warnings.
	    #CFLAGS_OPTIMIZE="${CFLAGS_OPTIMIZE} -D__NO_STRING_INLINES -D__NO_MATH_INLINES"
d7978 3
a7980 9
	    SHLIB_LD="${CC} -shared"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS="-ldl"
	    LDFLAGS="$LDFLAGS -Wl,--export-dynamic"
	    CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
	    LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}
	    if test "`uname -m`" = "alpha" ; then
		CFLAGS="$CFLAGS -mieee"
	    fi
a7981 10
	    # The combo of gcc + glibc has a bug related
	    # to inlining of functions like strtod(). The
	    # -fno-builtin flag should address this problem
	    # but it does not work. The -fno-inline flag
	    # is kind of overkill but it works.
	    # Disable inlining only when one of the
	    # files in compat/*.c is being linked in.
	    if test x"${USE_COMPAT}" != x ; then
	        CFLAGS="$CFLAGS -fno-inline"
	    fi
a7985 1
	    SHLIB_LD_LIBS='${LIBS}'
d7988 1
a7988 3
	    SHLIB_LD="${CC} -shared"
	    DL_OBJS=""
	    DL_LIBS="-ldl"
d7992 4
a7995 3
	    if test "`uname -m`" = "alpha" ; then
		CFLAGS="$CFLAGS -mieee"
	    fi
a7998 1
	    SHLIB_LD_LIBS='${LIBS}'
d8001 1
a8001 3
	    SHLIB_LD="${CC} -shared "
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS="-mshared -ldl"
d8003 6
a8008 2
	    CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
	    LD_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
d8010 1
a8010 23
	MP-RAS-02*)
	    SHLIB_CFLAGS="-K PIC"
	    SHLIB_LD="cc -G"
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS="-ldl"
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
	MP-RAS-*)
	    SHLIB_CFLAGS="-K PIC"
	    SHLIB_LD="cc -G"
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS="-ldl"
	    LDFLAGS="$LDFLAGS -Wl,-Bexport"
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
	NetBSD-*|FreeBSD-[1-2].*)
	    # NetBSD/SPARC needs -fPIC, -fpic will not do.
d8012 1
a8012 2
	    SHLIB_LD="ld -Bshareable -x"
	    SHLIB_LD_LIBS=""
d8014 7
a8020 4
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS=""
	    CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
	    LD_SEARCH_FLAGS='-rpath ${LIB_RUNTIME_DIR}'
a8050 4
		SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.so'
	    else
		SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.so.1.0'
	    fi
d8052 1
a8052 1
	    # Ancient FreeBSD doesn't handle version numbers with dots.
a8053 23
	    UNSHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.a'
	    TCL_LIB_VERSIONS_OK=nodots
	    ;;
	OpenBSD-*)
	    # OpenBSD/SPARC[64] needs -fPIC, -fpic will not do.
	    case `machine` in
	    sparc|sparc64)
		SHLIB_CFLAGS="-fPIC";;
	    *)
		SHLIB_CFLAGS="-fpic";;
	    esac
	    SHLIB_LD="${CC} -shared ${SHLIB_CFLAGS}"
	    SHLIB_LD_LIBS='${LIBS}'
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS=""
	    CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
	    LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}
	    SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.so.1.0'
	    echo "$as_me:$LINENO: checking for ELF" >&5
echo $ECHO_N "checking for ELF... $ECHO_C" >&6
if test "${tcl_cv_ld_elf+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d8055 2
d8058 1
a8058 6
		cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
d8060 4
a8063 12
#ifdef __ELF__
	yes
#endif

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "yes" >/dev/null 2>&1; then
  tcl_cv_ld_elf=yes
else
  tcl_cv_ld_elf=no
fi
rm -f conftest*
a8065 7
echo "$as_me:$LINENO: result: $tcl_cv_ld_elf" >&5
echo "${ECHO_T}$tcl_cv_ld_elf" >&6
	    if test $tcl_cv_ld_elf = yes; then
		LDFLAGS=-Wl,-export-dynamic
	    else
		LDFLAGS=""
	    fi
d8071 1
a8071 1
	FreeBSD-*)
d8073 1
d8075 1
a8075 2
	    SHLIB_LD="ld -Bshareable -x"
	    SHLIB_LD_LIBS='${LIBS}'
a8076 2
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS=""
d8078 8
a8085 3
	    CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
	    LD_SEARCH_FLAGS='-rpath ${LIB_RUNTIME_DIR}'
	    if test "${TCL_THREADS}" = "1" ; then
d8090 3
a8092 1
	    fi
d8102 27
d8130 328
a8457 11
	    CFLAGS_OPTIMIZE="-Os"
	    SHLIB_CFLAGS="-fno-common"
	    if test $do64bit = yes; then
	        do64bit_ok=yes
	        CFLAGS="$CFLAGS -arch ppc64 -mpowerpc64 -mcpu=G5"
	    fi
	    # TEA specific: use LDFLAGS_DEFAULT instead of LDFLAGS here:
	    SHLIB_LD='${CC} -dynamiclib ${CFLAGS} ${LDFLAGS_DEFAULT}'
	    echo "$as_me:$LINENO: checking if ld accepts -single_module flag" >&5
echo $ECHO_N "checking if ld accepts -single_module flag... $ECHO_C" >&6
if test "${tcl_cv_ld_single_module+set}" = set; then
d8461 6
a8466 3
	        hold_ldflags=$LDFLAGS
	        LDFLAGS="$LDFLAGS -dynamiclib -Wl,-single_module"
	        cat >conftest.$ac_ext <<_ACEOF
d8472 1
a8472 1

d8476 1
a8476 1
int i;
d8503 1
a8503 1
  tcl_cv_ld_single_module=yes
d8508 1
a8508 1
tcl_cv_ld_single_module=no
d8512 3
a8514 1
	        LDFLAGS=$hold_ldflags
d8516 10
a8525 17
echo "$as_me:$LINENO: result: $tcl_cv_ld_single_module" >&5
echo "${ECHO_T}$tcl_cv_ld_single_module" >&6
	    if test $tcl_cv_ld_single_module = yes; then
	        SHLIB_LD="${SHLIB_LD} -Wl,-single_module"
	    fi
	    SHLIB_LD_LIBS='${LIBS}'
	    SHLIB_SUFFIX=".dylib"
	    DL_OBJS="tclLoadDyld.o"
	    DL_LIBS=""
	    # Don't use -prebind when building for Mac OS X 10.4 or later only:
	    test -z "${MACOSX_DEPLOYMENT_TARGET}" || \
		test "`echo "${MACOSX_DEPLOYMENT_TARGET}" | awk -F. '{print $2}'`" -lt 4 && \
		LDFLAGS="$LDFLAGS -prebind"
	    LDFLAGS="$LDFLAGS -headerpad_max_install_names"
	    echo "$as_me:$LINENO: checking if ld accepts -search_paths_first flag" >&5
echo $ECHO_N "checking if ld accepts -search_paths_first flag... $ECHO_C" >&6
if test "${tcl_cv_ld_search_paths_first+set}" = set; then
d8529 6
a8534 3
	        hold_ldflags=$LDFLAGS
	        LDFLAGS="$LDFLAGS -Wl,-search_paths_first"
	        cat >conftest.$ac_ext <<_ACEOF
d8540 1
a8540 1

d8544 1
a8544 1
int i;
d8571 1
a8571 1
  tcl_cv_ld_search_paths_first=yes
d8576 1
a8576 1
tcl_cv_ld_search_paths_first=no
d8580 21
a8600 1
	        LDFLAGS=$hold_ldflags
a8601 8
echo "$as_me:$LINENO: result: $tcl_cv_ld_search_paths_first" >&5
echo "${ECHO_T}$tcl_cv_ld_search_paths_first" >&6
	    if test $tcl_cv_ld_search_paths_first = yes; then
	        LDFLAGS="$LDFLAGS -Wl,-search_paths_first"
	    fi
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    LD_LIBRARY_PATH_VAR="DYLD_LIBRARY_PATH"
a8602 15
	    # TEA specific: for Tk extensions, remove -arch ppc64 from CFLAGS
	    # for fat builds, as neither TkAqua nor TkX11 can be built for 64bit
	    # at present (no 64bit GUI libraries).
	    test $do64bit_ok = no && test -n "${TK_BIN_DIR}" && \
	        CFLAGS="`echo "$CFLAGS" | sed -e 's/-arch ppc64/-arch ppc/g'`"
	    ;;
	NEXTSTEP-*)
	    SHLIB_CFLAGS=""
	    SHLIB_LD="cc -nostdlib -r"
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadNext.o"
	    DL_LIBS=""
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
a8611 27
	OSF1-1.0|OSF1-1.1|OSF1-1.2)
	    # OSF/1 1.[012] from OSF, and derivatives, including Paragon OSF/1
	    SHLIB_CFLAGS=""
	    # Hack: make package name same as library name
	    SHLIB_LD='ld -R -export :'
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadOSF.o"
	    DL_LIBS=""
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
	OSF1-1.*)
	    # OSF/1 1.3 from OSF using ELF, and derivatives, including AD2
	    SHLIB_CFLAGS="-fPIC"
	    if test "$SHARED_BUILD" = "1" ; then
	        SHLIB_LD="ld -shared"
	    else
	        SHLIB_LD="ld -non_shared"
	    fi
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS=""
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
d8615 2
a8616 1
	    if test "$SHARED_BUILD" = "1" ; then
d8618 3
a8620 1
	    else
d8622 3
a8624 2
	    fi
	    SHLIB_LD_LIBS=""
d8626 10
a8635 7
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS=""
	    CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
	    LD_SEARCH_FLAGS='-rpath ${LIB_RUNTIME_DIR}'
	    if test "$GCC" = "yes" ; then
		CFLAGS="$CFLAGS -mieee"
            else
d8637 2
a8638 1
	    fi
d8640 2
a8641 1
	    if test "${TCL_THREADS}" = "1" ; then
d8645 2
a8646 1
		if test "$GCC" = "yes" ; then
d8648 3
a8650 1
		else
d8653 5
a8657 2
		fi
	    fi
a8666 3
	    DL_OBJS="tclLoadDl.o"
	    # dlopen is in -lc on QNX
	    DL_LIBS=""
d8671 12
a8682 10
	    # Note, dlopen is available only on SCO 3.2.5 and greater. However,
	    # this test works, since "uname -s" was non-standard in 3.2.4 and
	    # below.
	    if test "$GCC" = "yes" ; then
	    	SHLIB_CFLAGS="-fPIC -melf"
	    	LDFLAGS="$LDFLAGS -melf -Wl,-Bexport"
	    else
	    	SHLIB_CFLAGS="-Kpic -belf"
	    	LDFLAGS="$LDFLAGS -belf -Wl,-Bexport"
	    fi
a8685 12
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS=""
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
	SINIX*5.4*)
	    SHLIB_CFLAGS="-K PIC"
	    SHLIB_LD="cc -G"
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS="-ldl"
a8688 19
	SunOS-4*)
	    SHLIB_CFLAGS="-PIC"
	    SHLIB_LD="ld"
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS="-ldl"
	    CC_SEARCH_FLAGS='-L${LIB_RUNTIME_DIR}'
	    LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}

	    # SunOS can't handle version numbers with dots in them in library
	    # specs, like -ltcl7.5, so use -ltcl75 instead.  Also, it
	    # requires an extra version number at the end of .so file names.
	    # So, the library has to have a name like libtcl75.so.1.0

	    SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.so.1.0'
	    UNSHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.a'
	    TCL_LIB_VERSIONS_OK=nodots
	    ;;
d8707 2
d8710 1
a8710 9
	    # Note: need the LIBS below, otherwise Tk won't find Tcl's
	    # symbols when dynamically loaded into tclsh.

	    SHLIB_LD_LIBS='${LIBS}'
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS="-ldl"
	    if test "$GCC" = "yes" ; then
		SHLIB_LD="$CC -shared"
d8713 3
a8715 1
	    else
d8719 3
a8721 1
	    fi
d8741 2
a8742 1
	    if test "$do64bit" = "yes" ; then
d8744 7
a8750 4
		if test "$arch" = "sparcv9 sparc" ; then
			if test "$GCC" = "yes" ; then
			    if test "`gcc -dumpversion | awk -F. '{print $1}'`" -lt "3" ; then
				{ echo "$as_me:$LINENO: WARNING: 64bit mode not supported with GCC < 3.2 on $system" >&5
d8752 39
a8790 1
			    else
d8792 9
a8800 21
				CFLAGS="$CFLAGS -m64 -mcpu=v9"
				LDFLAGS="$LDFLAGS -m64 -mcpu=v9"
				SHLIB_CFLAGS="-fPIC"
			    fi
			else
			    do64bit_ok=yes
			    if test "$do64bitVIS" = "yes" ; then
				CFLAGS="$CFLAGS -xarch=v9a"
			    	LDFLAGS_ARCH="-xarch=v9a"
			    else
				CFLAGS="$CFLAGS -xarch=v9"
			    	LDFLAGS_ARCH="-xarch=v9"
			    fi
			    # Solaris 64 uses this as well
			    #LD_LIBRARY_PATH_VAR="LD_LIBRARY_PATH_64"
			fi
		elif test "$arch" = "amd64 i386" ; then
		    if test "$GCC" = "yes" ; then
			{ echo "$as_me:$LINENO: WARNING: 64bit mode not supported with GCC on $system" >&5
echo "$as_me: WARNING: 64bit mode not supported with GCC on $system" >&2;}
		    else
d8802 14
a8815 5
			CFLAGS="$CFLAGS -xarch=amd64"
			LDFLAGS="$LDFLAGS -xarch=amd64"
		    fi
		else
		    { echo "$as_me:$LINENO: WARNING: 64bit mode not supported for $arch" >&5
d8817 6
a8822 2
		fi
	    fi
a8823 2
	    # Note: need the LIBS below, otherwise Tk won't find Tcl's
	    # symbols when dynamically loaded into tclsh.
a8824 1
	    SHLIB_LD_LIBS='${LIBS}'
d8826 3
a8828 4
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS="-ldl"
	    if test "$GCC" = "yes" ; then
		SHLIB_LD="$CC -shared"
d8831 27
a8857 31
		if test "$do64bit_ok" = "yes" ; then
		    # We need to specify -static-libgcc or we need to
		    # add the path to the sparv9 libgcc.
		    # JH: static-libgcc is necessary for core Tcl, but may
		    # not be necessary for extensions.
		    SHLIB_LD="$SHLIB_LD -m64 -mcpu=v9 -static-libgcc"
		    # for finding sparcv9 libgcc, get the regular libgcc
		    # path, remove so name and append 'sparcv9'
		    #v9gcclibdir="`gcc -print-file-name=libgcc_s.so` | ..."
		    #CC_SEARCH_FLAGS="${CC_SEARCH_FLAGS},-R,$v9gcclibdir"
		fi
	    else
		SHLIB_LD="/usr/ccs/bin/ld -G -z text"
		CC_SEARCH_FLAGS='-Wl,-R,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS='-R ${LIB_RUNTIME_DIR}'
	    fi
	    ;;
	UNIX_SV* | UnixWare-5*)
	    SHLIB_CFLAGS="-KPIC"
	    SHLIB_LD="cc -G"
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS="-ldl"
	    # Some UNIX_SV* systems (unixware 1.1.2 for example) have linkers
	    # that don't grok the -Bexport option.  Test that it does.
	    echo "$as_me:$LINENO: checking for ld accepts -Bexport flag" >&5
echo $ECHO_N "checking for ld accepts -Bexport flag... $ECHO_C" >&6
if test "${tcl_cv_ld_Bexport+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
a8858 8
		hold_ldflags=$LDFLAGS
		LDFLAGS="$LDFLAGS -Wl,-Bexport"
		cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
a8859 31
int
main ()
{
int i;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_cv_ld_Bexport=yes
a8860 2
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5
d8862 10
a8871 5
tcl_cv_ld_Bexport=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
	        LDFLAGS=$hold_ldflags
d8873 1
a8873 7
echo "$as_me:$LINENO: result: $tcl_cv_ld_Bexport" >&5
echo "${ECHO_T}$tcl_cv_ld_Bexport" >&6
	    if test $tcl_cv_ld_Bexport = yes; then
		LDFLAGS="$LDFLAGS -Wl,-Bexport"
	    fi
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
d8877 2
a8878 1
    if test "$do64bit" = "yes" -a "$do64bit_ok" = "no" ; then
a8880 1
    fi
d8882 3
a8884 1
    # Step 4: disable dynamic loading if requested via a command-line switch.
a8885 10
    # Check whether --enable-load or --disable-load was given.
if test "${enable_load+set}" = set; then
  enableval="$enable_load"
  tcl_ok=$enableval
else
  tcl_ok=yes
fi;
    if test "$tcl_ok" = "no"; then
	DL_OBJS=""
    fi
d8887 2
a8888 15
    if test "x$DL_OBJS" != "x" ; then
	BUILD_DLTEST="\$(DLTEST_TARGETS)"
    else
	echo "Can't figure out how to do dynamic loading or shared libraries"
	echo "on this system."
	SHLIB_CFLAGS=""
	SHLIB_LD=""
	SHLIB_SUFFIX=""
	DL_OBJS="tclLoadNone.o"
	DL_LIBS=""
	LDFLAGS="$LDFLAGS_ORIG"
	CC_SEARCH_FLAGS=""
	LD_SEARCH_FLAGS=""
	BUILD_DLTEST=""
    fi
d8895 33
a8927 23
    if test "$DL_OBJS" != "tclLoadNone.o" ; then
	if test "$GCC" = "yes" ; then
	    case $system in
		AIX-*)
		    ;;
		BSD/OS*)
		    ;;
		IRIX*)
		    ;;
		NetBSD-*|FreeBSD-*)
		    ;;
		Darwin-*)
		    ;;
		SCO_SV-3.2*)
		    ;;
		windows)
		    ;;
		*)
		    SHLIB_CFLAGS="-fPIC"
		    ;;
	    esac
	fi
    fi
d8929 1
a8929 1
    if test "$SHARED_LIB_SUFFIX" = "" ; then
d8931 5
a8935 2
    fi
    if test "$UNSHARED_LIB_SUFFIX" = "" ; then
d8937 1
a8937 2
    fi

d9396 2
a9397 2
	# We actually want to use the default tcl.h checks in this
	# case to handle both TCL_WIDE_INT_TYPE and TCL_LL_MODIFIER*
a9710 5

CFLAGS_DEBUG=$OLD_CFLAGD
CFLAGS_OPTIMIZE=$OLD_CFLAGO


d9740 1
a9747 1

d9779 5
a11104 1

d11923 2
a11924 1
  cat >conftest.$ac_ext <<_ACEOF
d11985 2
a11986 1
  cat >conftest.$ac_ext <<_ACEOF
d12051 2
a12052 1
  cat >conftest.$ac_ext <<_ACEOF
d12117 2
a12118 1
  cat >conftest.$ac_ext <<_ACEOF
d13031 4
a13034 1
  openpty=1
a13232 11
# /bin/sh on some systems is too deficient (in particular, Ultrix 4.3
# sh lacks unset and we *need* that), but all these systems come with
# alternatives, so take user's choice or whatever we're using here and
# allow it to be seen by Make.

echo "$as_me:$LINENO: checking shell to use within Make" >&5
echo $ECHO_N "checking shell to use within Make... $ECHO_C" >&6
EXP_CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
echo "$as_me:$LINENO: result: $CONFIG_SHELL" >&5
echo "${ECHO_T}$CONFIG_SHELL" >&6

d13246 1
a13246 2
# one for Expect and Tk (EXP_AND_TK_LIBS), one for Expect and Tcl
# (EXP_AND_TCL_LIBS), and finally, one for building Expect's own
d13261 9
a13275 114
# This is for LynxOS, which needs a flag to force true POSIX when
# building.  The flag varies depending how old the compiler is.
# -X is for the old "cc" and "gcc" (based on 1.42)
# -mposix is for the new gcc (at least 2.5.8)
# This modifies the value of $CC to have the POSIX flag added
# so it'll configure correctly

echo "$as_me:$LINENO: checking if running LynxOS" >&5
echo $ECHO_N "checking if running LynxOS... $ECHO_C" >&6
if test "${ac_cv_os_lynx+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/*
 * The old Lynx "cc" only defines "Lynx", but the newer one uses "__Lynx__"
 */
#if defined(__Lynx__) || defined(Lynx)
yes
#endif

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "yes" >/dev/null 2>&1; then
  ac_cv_os_lynx=yes
else
  ac_cv_os_lynx=no
fi
rm -f conftest*

fi

#
if test "$ac_cv_os_lynx" = "yes" ; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
  cat >>confdefs.h <<\_ACEOF
#define LYNX 1
_ACEOF

  echo "$as_me:$LINENO: checking whether -mposix or -X is available" >&5
echo $ECHO_N "checking whether -mposix or -X is available... $ECHO_C" >&6
  if test "${ac_cv_c_posix_flag+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

int
main ()
{

  /*
   * This flag varies depending on how old the compiler is.
   * -X is for the old "cc" and "gcc" (based on 1.42).
   * -mposix is for the new gcc (at least 2.5.8).
   */
  #if defined(__GNUC__) && __GNUC__ >= 2
  choke me
  #endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_c_posix_flag=" -mposix"
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_c_posix_flag=" -X"
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
fi

  CC="$CC $ac_cv_c_posix_flag"
  echo "$as_me:$LINENO: result: $ac_cv_c_posix_flag" >&5
echo "${ECHO_T}$ac_cv_c_posix_flag" >&6
  else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi


a13603 56
#
# Now that we've found the Tcl sources, configure the debugger
# this is a little tricky because it has its own configure script
# which produces a Makefile and cf file.  We only want the cf file,
# so switch to a temporary directory and run the debugger's configure.
# Then save the cf file and delete the rest.
#
# Incidentally, the debugger can't depend on Expect's cf file, because
# the debugger is designed to be independent of Expect.
#

test -n "$verbose" && echo "configuring Tcl debugger"
tmpdir=./Dbg$$
mkdir ${tmpdir}

#if test "${enable_shared+set}" = set; then
if test "${enable_shared}" = "yes"; then
  dbg_config_flags='--enable-shared'
else
  dbg_config_flags='--disable-shared'
fi
# (cd;pwd) in next several commands converts relative dirs to absolute.
# This is required because the debugger src is at a different level in
# the filesystem than Expect src (where we are presently), thereby
# making the relative pathnames incorrect.
if test "x$with_tclconfig" != "x" ; then
  dbg_config_flags="$dbg_config_flags --with-tclconfig=`(cd ${with_tclconfig}; pwd)`"
fi
if test "x$with_tcllibdir" != "x" ; then
  dbg_config_flags="$dbg_config_flags --with-tcllibdir=`(cd ${with_tcllibdir}; pwd)`"
fi
if test "x$with_tcllib" != "x" ; then
  dbg_config_flags="$dbg_config_flags --with-tcllib=`(cd ${with_tcllib}; pwd)`"
fi
if test "x$with_tclinclude" != "x" ; then
  dbg_config_flags="$dbg_config_flags --with-tclinclude=`(cd ${with_tclinclude}; pwd)`"
fi
case "$cache_file" in
 /*)
    dbg_config_flags="$dbg_config_flags --cache-file=$cache_file"
    ;;
 *)
    dbg_config_flags="$dbg_config_flags --cache-file=../$cache_file"
    ;;
esac

cp ${srcdir}/Dbgconfigure ${srcdir}/tcldbg.h ${srcdir}/tcldbgcf.h.in ${srcdir}/install-sh ${tmpdir}
cp $srcdir/DbgMkfl.in ${tmpdir}/Makefile.in
cp $srcdir/DbgpkgInd.in ${tmpdir}/pkgIndex.in
(cd $tmpdir; ${CONFIG_SHELL-/bin/sh} Dbgconfigure --with-tclinclude=$TCLHDIR $dbg_config_flags)
cp ${tmpdir}/tcldbgcf.h .
rm -rf $tmpdir
test -n "$verbose" && echo "configured Tcl debugger"

# some people would complain if this explanation wasn't provided...

a14521 14
EXP_LDFLAGS="$LDFLAGS"

echo "$as_me:$LINENO: checking if on NeXT" >&5
echo $ECHO_N "checking if on NeXT... $ECHO_C" >&6
if test -r /NextApps ; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
  # "-m" flag suppresses complaints about multiple strtod
  EXP_LDFLAGS="$EXP_LDFLAGS -m"
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
fi

d16023 1
a16023 2

elif test "$SHARED_BUILD" = "0" || test "$TCL_NEEDS_EXP_FILE" = "0"; then
a16030 56

else
    EXP_EXPORT_FILE_SUFFIX="${EXP_LIB_VERSION}.exp"
    EXP_BUILD_EXP_FILE="lib.exp"
    eval "EXP_EXP_FILE=libexpect${EXP_EXPORT_FILE_SUFFIX}"

    # Replace DBGX with EXP_DBGX
    eval "EXP_EXP_FILE=\"${EXP_EXP_FILE}\""

    if test "$GCC" = "yes" ; then
	EXP_BUILD_LIB_SPEC="-Wl,-bI:`pwd`/${EXP_BUILD_EXP_FILE} -L`pwd`"
	EXP_LIB_SPEC="-Wl,-bI:${libdir}/${EXP_EXP_FILE} -L`pwd`"
    else
	EXP_BUILD_LIB_SPEC="-bI:`pwd`/${EXP_BUILD_EXP_FILE}"
	EXP_LIB_SPEC="-bI:${libdir}/${EXP_EXP_FILE}"
    fi
fi

EXP_UNSHARED_LIB_FILE=libexpect${EXP_LIB_VERSION}.a

# The TCL_SHARED_LIB_SUFFIX macro below relies on the DBGX macro,
# which is set way far above here.  Don't set it to the value of
# TCL_DBGX, or you'll run into problems if you build Tcl with symbols
# and expect without (and vice versa?)

echo "$as_me:$LINENO: checking for type of library to build" >&5
echo $ECHO_N "checking for type of library to build... $ECHO_C" >&6
if test "$enable_shared" = "yes" && test "x${TCL_SHLIB_SUFFIX}" != "x" ; then
  EXP_SHLIB_CFLAGS=$TCL_SHLIB_CFLAGS
  eval "EXP_SHARED_LIB_FILE=libexpect${TCL_SHARED_LIB_SUFFIX}"
  EXP_LIB_FILE=$EXP_SHARED_LIB_FILE
  EXP_LIB_FILES="$EXP_SHARED_LIB_FILE $EXP_UNSHARED_LIB_FILE"
  echo "$as_me:$LINENO: result: both shared and unshared" >&5
echo "${ECHO_T}both shared and unshared" >&6
else
  EXP_SHLIB_CFLAGS=
  EXP_SHARED_LIB_FILE="reconfigure_Tcl_for_shared_library"
  EXP_LIB_FILE=$EXP_UNSHARED_LIB_FILE
  EXP_LIB_FILES="$EXP_UNSHARED_LIB_FILE"
  echo "$as_me:$LINENO: result: unshared" >&5
echo "${ECHO_T}unshared" >&6
fi

# Sigh - Tcl defines SHLIB_LD_LIBS to be either empty or ${LIBS} and
# LIBS is intended to be expanded by Make.  But since we're too close
# to hitting config's max symbols, pack everything together here and
# do test ourselves.  Ugh.
#
if test "$enable_stubs" = "yes"; then
    EXP_SHLIB_LD_LIBS="$TCL_BUILD_STUB_LIB_SPEC $TCL_DL_LIBS $LIBS $LIBS -lc"
elif test "x$TCL_SHLIB_LD_LIBS" = "x" ; then
	EXP_SHLIB_LD_LIBS="$LIBS"
else
	# seems a little strange to build in Tcl's build-lib, but
	# that's what Tk does.
	  EXP_SHLIB_LD_LIBS="$TCL_BUILD_LIB_SPEC $TCL_DL_LIBS $LIBS -lc"
a16063 1
eval "EXP_LD_SEARCH_FLAGS=\"$TCL_LD_SEARCH_FLAGS\""
d16065 1
a16065 1
# now broken out into EXP_AND_TCL_LIBS and EXP_AND_TK_LIBS.  Had to do this
d16078 1
a16078 11











d16083 1
a16083 2
#--------------------------------------------------------------------
# More TEA 3.2 code based on data we got from the original expect
a16085 2
#--------------------------------------------------------------------

d16112 2
d16116 1
d16161 2
d16165 1
a16217 1

d16255 1
d16299 26
d16358 3
d16394 2
d16427 1
a16427 1
                REAL_TCL_BIN_DIR="`cd "$i"; pwd`"
d16431 1
a16431 1
        TCLSH_PROG="${REAL_TCL_BIN_DIR}/${TCLSH_PROG}"
d16447 15
d16463 38
d16569 1
d16841 1
a16841 1
This file was extended by expect $as_me 5.44.1.15, which was
d16899 1
a16899 1
expect config.status 5.44.1.15
a17098 1
s,@@found@@,$found,;t t
d17100 1
d17109 1
a17114 11
s,@@TK_VERSION@@,$TK_VERSION,;t t
s,@@TK_BIN_DIR@@,$TK_BIN_DIR,;t t
s,@@TK_SRC_DIR@@,$TK_SRC_DIR,;t t
s,@@TK_LIB_FILE@@,$TK_LIB_FILE,;t t
s,@@TK_LIB_FLAG@@,$TK_LIB_FLAG,;t t
s,@@TK_LIB_SPEC@@,$TK_LIB_SPEC,;t t
s,@@TK_STUB_LIB_FILE@@,$TK_STUB_LIB_FILE,;t t
s,@@TK_STUB_LIB_FLAG@@,$TK_STUB_LIB_FLAG,;t t
s,@@TK_STUB_LIB_SPEC@@,$TK_STUB_LIB_SPEC,;t t
s,@@TK_LIBS@@,$TK_LIBS,;t t
s,@@TK_XINCLUDES@@,$TK_XINCLUDES,;t t
d17130 1
a17131 9
s,@@TCL_GENERIC_DIR_NATIVE@@,$TCL_GENERIC_DIR_NATIVE,;t t
s,@@TCL_UNIX_DIR_NATIVE@@,$TCL_UNIX_DIR_NATIVE,;t t
s,@@TCL_WIN_DIR_NATIVE@@,$TCL_WIN_DIR_NATIVE,;t t
s,@@TCL_BMAP_DIR_NATIVE@@,$TCL_BMAP_DIR_NATIVE,;t t
s,@@TCL_TOOL_DIR_NATIVE@@,$TCL_TOOL_DIR_NATIVE,;t t
s,@@TCL_PLATFORM_DIR_NATIVE@@,$TCL_PLATFORM_DIR_NATIVE,;t t
s,@@TCL_INCLUDES@@,$TCL_INCLUDES,;t t
s,@@TK_INCLUDES@@,$TK_INCLUDES,;t t
s,@@CLEANFILES@@,$CLEANFILES,;t t
a17135 2
s,@@LIBOBJS@@,$LIBOBJS,;t t
s,@@DL_LIBS@@,$DL_LIBS,;t t
a17143 1
s,@@TCL_DBGX@@,$TCL_DBGX,;t t
d17146 1
a17159 6
s,@@EXP_CONFIG_SHELL@@,$EXP_CONFIG_SHELL,;t t
s,@@EXP_SHARED_LIB_FILE@@,$EXP_SHARED_LIB_FILE,;t t
s,@@EXP_UNSHARED_LIB_FILE@@,$EXP_UNSHARED_LIB_FILE,;t t
s,@@EXP_SHLIB_CFLAGS@@,$EXP_SHLIB_CFLAGS,;t t
s,@@EXP_LIB_FILE@@,$EXP_LIB_FILE,;t t
s,@@EXP_LIB_FILES@@,$EXP_LIB_FILES,;t t
a17160 5
s,@@EXP_LIB_SPEC@@,$EXP_LIB_SPEC,;t t
s,@@EXP_CFLAGS@@,$EXP_CFLAGS,;t t
s,@@EXP_LDFLAGS@@,$EXP_LDFLAGS,;t t
s,@@EXP_LD_SEARCH_FLAGS@@,$EXP_LD_SEARCH_FLAGS,;t t
s,@@TCL_LD_SEARCH_FLAGS@@,$TCL_LD_SEARCH_FLAGS,;t t
a17161 2
s,@@TCL_CC_SEARCH_FLAGS@@,$TCL_CC_SEARCH_FLAGS,;t t
s,@@EXP_SHLIB_LD_LIBS@@,$EXP_SHLIB_LD_LIBS,;t t
d17165 2
d17174 2
d17177 1
@


5.73
log
@
	* exp_command.c (Exp_LogFileObjCmd): Fix argument parsing logic
	  error in the log_file command breaking the use of options -open
	  and -leaveopen. Applied patch supplied by Andy Belsey
	  <Andrew.Belsey@@Sun.COM>. With thanks for both the analysis of
	  the problem and the patch.

	* configure.in: Bumped version to 5.44.1.14.
	* configure: Regen'd, autoconf 2.59.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.14.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.14'
PACKAGE_STRING='expect 5.44.1.14'
d782 1
a782 1
\`configure' configures expect 5.44.1.14 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.14:";;
d976 1
a976 1
expect configure 5.44.1.14
d990 1
a990 1
It was created by expect $as_me 5.44.1.14, which was
d17010 1
a17010 1
This file was extended by expect $as_me 5.44.1.14, which was
d17068 1
a17068 1
expect config.status 5.44.1.14
@


5.72
log
@
	* exp_tty.c (Exp_SttyCmd, Exp_SystemCmd): Applied patch by
	  Reinhard Max (max@@suse.de) fixing buffer-overflows in the 'stty'
	  command due to an off-by-one error in the buffer size. See the
	  bugs https://bugzilla.novell.com/show_bug.cgi?id=506873
	  and  https://bugzilla.novell.com/show_bug.cgi?id=501291

	* configure.in: Bumped version to 5.44.1.13.
	* configure: Regen'd, autoconf 2.59.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.13.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.13'
PACKAGE_STRING='expect 5.44.1.13'
d782 1
a782 1
\`configure' configures expect 5.44.1.13 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.13:";;
d976 1
a976 1
expect configure 5.44.1.13
d990 1
a990 1
It was created by expect $as_me 5.44.1.13, which was
d17010 1
a17010 1
This file was extended by expect $as_me 5.44.1.13, which was
d17068 1
a17068 1
expect config.status 5.44.1.13
@


5.71
log
@
	* retoglob.c: Accepted the patch by Mike Cumings
	  <mcumings@@users.sourceforge.net> fixing [Expect SF Bug 13179].
	  The updated code checks a (?...) sequence that it contains only
	  ARE options before processing it as such. This prevents the
	  misinterpretation of non-capturing paren groups as ARe options
	  with subsequent segmentation fault.

	* configure.in: Bumped version to 5.44.1.12.
	* configure: Regen'd, autoconf 2.59.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.12.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.12'
PACKAGE_STRING='expect 5.44.1.12'
d782 1
a782 1
\`configure' configures expect 5.44.1.12 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.12:";;
d976 1
a976 1
expect configure 5.44.1.12
d990 1
a990 1
It was created by expect $as_me 5.44.1.12, which was
d17010 1
a17010 1
This file was extended by expect $as_me 5.44.1.12, which was
d17068 1
a17068 1
expect config.status 5.44.1.12
@


5.70
log
@
	* configure.in: Bumped version to 5.44.1.11.
	* configure: Regen'd, autoconf 2.59.

	* exp_command.c (Exp_OverlayObjCmd): Fixed [Expect SF Bug 2127456]
	  reported by <eee@@users.sourceforge.net>, with thanks. Changed
	  retrieval of command from objv[0] (== 'overlay' itself), to
	  objv[i] containing the actual user command.

	* expect.c (string_case_first, string_first, eval_case_string):
	  Applied patch supplied by Andy Belsey <Andrew.Belsey@@Sun.COM>
	  fixing the seg.fault in 'expect -exact'. With thanks for both
	  the analysis of the problem and the patch. See also [Expect SF
	  Bug 2114547].
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.11.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.11'
PACKAGE_STRING='expect 5.44.1.11'
d782 1
a782 1
\`configure' configures expect 5.44.1.11 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.11:";;
d976 1
a976 1
expect configure 5.44.1.11
d990 1
a990 1
It was created by expect $as_me 5.44.1.11, which was
d17010 1
a17010 1
This file was extended by expect $as_me 5.44.1.11, which was
d17068 1
a17068 1
expect config.status 5.44.1.11
@


5.69
log
@
	* exp_trap.c (tophalf): Fixed inverted condition setting the
	  interpreter used for trap handling to NULL, causing a crash when
	  trying to handle ^C. This fixes [SF Bug 1757471] reported by
	  Matthias Kraft <matzek@@users.sourceforge.net>.
	* configure.in: Bumped version to 5.44.1.10.
	* configure: Regen'd, autoconf 2.59.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.10.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.10'
PACKAGE_STRING='expect 5.44.1.10'
d782 1
a782 1
\`configure' configures expect 5.44.1.10 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.10:";;
d976 1
a976 1
expect configure 5.44.1.10
d990 1
a990 1
It was created by expect $as_me 5.44.1.10, which was
d17010 1
a17010 1
This file was extended by expect $as_me 5.44.1.10, which was
d17068 1
a17068 1
expect config.status 5.44.1.10
@


5.68
log
@
	* exp_glob.c (Exp_StringCaseMatch2): Fixed bug in the handling of
	  glob classes, see [SF Bug 1873404]. The code tried to match the
	  closing bracket of a class in the input because it was not
	  properly skipped after the class was matched successfully.
	  Additional trace output added.
	* configure.in: Bumped version to 5.44.1.9.
	* configure: Regen'd, autoconf 2.59.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.9.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.9'
PACKAGE_STRING='expect 5.44.1.9'
d782 1
a782 1
\`configure' configures expect 5.44.1.9 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.9:";;
d976 1
a976 1
expect configure 5.44.1.9
d990 1
a990 1
It was created by expect $as_me 5.44.1.9, which was
d17010 1
a17010 1
This file was extended by expect $as_me 5.44.1.9, which was
d17068 1
a17068 1
expect config.status 5.44.1.9
@


5.67
log
@
	* exp_pty.c: Minimal ansification of function definitions to match
	  them to their prototypes where promoted types are otherwise
	  causing a mismatch for some compilers, like AIX in 64bit mode.
	* configure.in: Bumped version to 5.44.1.8.
	* configure: Regen'd, autoconf 2.59.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.8.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.8'
PACKAGE_STRING='expect 5.44.1.8'
d782 1
a782 1
\`configure' configures expect 5.44.1.8 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.8:";;
d976 1
a976 1
expect configure 5.44.1.8
d990 1
a990 1
It was created by expect $as_me 5.44.1.8, which was
d17010 1
a17010 1
This file was extended by expect $as_me 5.44.1.8, which was
d17068 1
a17068 1
expect config.status 5.44.1.8
@


5.66
log
@
	* configure.in: Bumped version to 5.44.1.7.
	* configure: Regen'd, autoconf 2.59.

	* The following set of changes was sent our way by Reinhard Max
	  <max@@tclers.tk>.

	* exp_command.c: Fixed more compiler warnings, and started
	* exp_command.h: to ansify the code base, beginning with
	* exp_inter.c: the introduction of proper function prototypes.
	* exp_main_exp.c:
	* exp_pty.h:
	* exp_tty.c:
	* exp_tty.h:
	* exp_win.c:
	* expect.c:
	* pty_termios.c:
	* retoglob.c:
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.7.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.7'
PACKAGE_STRING='expect 5.44.1.7'
d782 1
a782 1
\`configure' configures expect 5.44.1.7 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.7:";;
d976 1
a976 1
expect configure 5.44.1.7
d990 1
a990 1
It was created by expect $as_me 5.44.1.7, which was
d17010 1
a17010 1
This file was extended by expect $as_me 5.44.1.7, which was
d17068 1
a17068 1
expect config.status 5.44.1.7
@


5.65
log
@
	* configure.in: Bumped version to 5.44.1.6.
	* configure: Regen'd, autoconf 2.59.

	* The following set of changes was sent our way by Reinhard Max
	  <max@@tclers.tk>.

	* configure.in: Fixed checking of stty on linux, do not restrict
	  to specific cpu's. Further try with stdin, and stdin redirected
	  to /dev/tty when determining if stdout is read.

	* testsuite/configure.in: Brought up to TEA 3.5.
	* testsuite/aclocal.m4: New file, to import the TEA definitions.

	* Dbg.c: Added missed CONST in declaration and definition of
	  'debugger_trap'.

	* exp_command.c: Fixed pointer aliasing trouble with
	  'Tcl_DetachPids', and added the missing initialization of the
	  command string in the 'overlay' command.

	* expect.c: Fixed missing initialization of 'simple_start' element
	  of 'ecase'.

	* exp_inter.c: Fixed bogus use of 'slen' in 'intMatch'. The
	  relevant string is Tcl_Unichar, not Utf.

	* Makefile.in: Replaced bogus INSTALL_ROOT with DESTDIR, and added
	  missing DESTDIR references to the target for the installation of
	  the manpages.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.6.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.6'
PACKAGE_STRING='expect 5.44.1.6'
d782 1
a782 1
\`configure' configures expect 5.44.1.6 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.6:";;
d976 1
a976 1
expect configure 5.44.1.6
d990 1
a990 1
It was created by expect $as_me 5.44.1.6, which was
d17010 1
a17010 1
This file was extended by expect $as_me 5.44.1.6, which was
d17068 1
a17068 1
expect config.status 5.44.1.6
@


5.64
log
@
	* expect.c: Fixed refcounting error when parsing a single expect
	* configure.in: argument into a list of patterns and
	* configure: actions. Updated the version number to 5.44.1.5.
	* Dbg.c: Added missing 'return TCL_OK' to debugger_trap.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.5.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.5'
PACKAGE_STRING='expect 5.44.1.5'
d782 1
a782 1
\`configure' configures expect 5.44.1.5 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.5:";;
d976 1
a976 1
expect configure 5.44.1.5
d990 1
a990 1
It was created by expect $as_me 5.44.1.5, which was
d13551 1
a13551 1
  i[3456]86-*-linux*)	stty_reads_stdout=0 ;;
d13574 3
a13576 2
  $STTY_BIN > /dev/null 2> /dev/null
  if test $? -ne 0 ; then
d17010 1
a17010 1
This file was extended by expect $as_me 5.44.1.5, which was
d17068 1
a17068 1
expect config.status 5.44.1.5
@


5.63
log
@
	* exp_inter.c: Changed inclusion of tcl.h to tclInt.h to get the
	* expect.c: definition of TCL_REG_BOSONLY, which was moved to that
	  header in Tcl 8.5. Ditto for expect.c, for the macro
	  TclUtfToUniChar (was a function in 8.4). Expect now compiles
	  again for both Tcl 8.4 and 8.5.

	* configure.in: Bumped version to 5.44.1.4.
	* configure: Regenerated.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.4.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.4'
PACKAGE_STRING='expect 5.44.1.4'
d782 1
a782 1
\`configure' configures expect 5.44.1.4 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.4:";;
d976 1
a976 1
expect configure 5.44.1.4
d990 1
a990 1
It was created by expect $as_me 5.44.1.4, which was
d17009 1
a17009 1
This file was extended by expect $as_me 5.44.1.4, which was
d17067 1
a17067 1
expect config.status 5.44.1.4
@


5.62
log
@
	* retoglob.c (EMITC): Keep the characters '^' and '$' quoted as
	  well, we do not wish to invoke their special interpretation by
	  the Expect glob matcher.
	* configure.in: Bumped version to 5.44.1.3.
	* configure: Regenerated.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.3.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.3'
PACKAGE_STRING='expect 5.44.1.3'
d782 1
a782 1
\`configure' configures expect 5.44.1.3 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.3:";;
d976 1
a976 1
expect configure 5.44.1.3
d990 1
a990 1
It was created by expect $as_me 5.44.1.3, which was
d17009 1
a17009 1
This file was extended by expect $as_me 5.44.1.3, which was
d17067 1
a17067 1
expect config.status 5.44.1.3
@


5.61
log
@
	* expect.c (Exp_TimestampObjCmd): Fixed argument processing broken
	  by objc,objv conversion. Tried to use command name as the
	  argument for -seconds. Also did not detect when one argument to
	  many was specified.

	* configure.in: Bumped version to 5.44.1.2.
	* configure: Regenerated.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.2.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.2'
PACKAGE_STRING='expect 5.44.1.2'
d782 1
a782 1
\`configure' configures expect 5.44.1.2 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.2:";;
d976 1
a976 1
expect configure 5.44.1.2
d990 1
a990 1
It was created by expect $as_me 5.44.1.2, which was
d17009 1
a17009 1
This file was extended by expect $as_me 5.44.1.2, which was
d17067 1
a17067 1
expect config.status 5.44.1.2
@


5.60
log
@
	* expect.c: Circumvented problems with the C compiler by use of a
	  temporary variable to hold the unicode pointer of a glob
	  pattern. The computed pattern length given to
	  Exp_StringCaseMatch was bogus.

	* exp_glob.c: Added tracing of the glob matcher internals (Can be
	  enabled by define EXP_INTERNAL_TRACE_GLOB). Fixed bug in a guard
	  condition in the optimized handling of '*'. The bad condition
	  caused the code to miss possible matches at the beginning of the
	  input (first char).

	* tests/expect.test: Added tests which check the glob matcher and
	  RE gate keeping.

	* configure.in: Bumped to 5.44.1.1 to separate this from the
	  regular 5.44.1 sources.
	* configure: Regenerated.
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.1.
d271 2
a272 2
PACKAGE_VERSION='5.44.1.1'
PACKAGE_STRING='expect 5.44.1.1'
d782 1
a782 1
\`configure' configures expect 5.44.1.1 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1.1:";;
d976 1
a976 1
expect configure 5.44.1.1
d990 1
a990 1
It was created by expect $as_me 5.44.1.1, which was
d17009 1
a17009 1
This file was extended by expect $as_me 5.44.1.1, which was
d17067 1
a17067 1
expect config.status 5.44.1.1
@


5.59
log
@
	* Merged changes from the official version 5.44.1 of expect into
	  the SF sources. See the details below.

	  --------------------
	  Marius Schamsula <marius173@@mchsi.xcom> reported tclconfig
	  missing, evidentally for new TEA.

	  Lots of massaging to fix TEAification of Makefile and configure
	  including that version numbers will now be full three part.

	  Daniel Wong <danielwong@@berkeley.xedu> noted the home page
	  should note that Wikipedia has a very readable entry for Expect.

	  Andre Alves <aalves@@escloyalty.xcom> noted passmass needed some
	  fixes to handle Solaris 9 passwd prompt changes.

	  Andreas fixed several things: changes to better support TEA, fix
	  debugger interaction with nonblocking mode, and probably other
	  things I'm overlooking.

	  Martin Dietze <di@@fh-wedel.xde> noted that autoconf 2.59 is
	  confused by C comment after undefs in expect_cf.h.in.

	  Added additional code to unbuffer -p so that if a process
	  earlier in the pipeline exits, unbuffer attempts to recover any
	  remaining output from the spawned proc before unbuffer itself
	  exits.

	  Jeffrey Hobbs noted that once stty was called, a bg'd script
	  would be suspended at exit.  Turned out to be overaggressive
	  code in stty that recorded what 'damage' the user might have
	  caused when calling stty in the first place.

	  Jens Petersen provided patch to make setpgrp configure better on
	  some Linux systems.

	  Added example/getpassck script to test for getpass bug.

	  multixterm had debugging stuff leftover ("hello").
	  --------------------
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.44.1.
d271 2
a272 2
PACKAGE_VERSION='5.44.1'
PACKAGE_STRING='expect 5.44.1'
d782 1
a782 1
\`configure' configures expect 5.44.1 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.44.1:";;
d976 1
a976 1
expect configure 5.44.1
d990 1
a990 1
It was created by expect $as_me 5.44.1, which was
d17009 1
a17009 1
This file was extended by expect $as_me 5.44.1, which was
d17067 1
a17067 1
expect config.status 5.44.1
@


5.58
log
@Fix LD_SEARCH_FLAGS setting in tcl.m4
@
text
@d4 1
a4 1
# Generated by GNU Autoconf 2.59 for expect 5.43.0.
d271 2
a272 2
PACKAGE_VERSION='5.43.0'
PACKAGE_STRING='expect 5.43.0'
d313 1
a313 1
ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS CYGPATH EXEEXT PKG_LIB_FILE PKG_STUB_LIB_FILE PKG_STUB_SOURCES PKG_STUB_OBJECTS PKG_TCL_SOURCES PKG_HEADERS PKG_INCLUDES PKG_LIBS PKG_CFLAGS found TCL_VERSION TCL_BIN_DIR TCL_SRC_DIR TCL_LIB_FILE TCL_LIB_FLAG TCL_LIB_SPEC TCL_STUB_LIB_FILE TCL_STUB_LIB_FLAG TCL_STUB_LIB_SPEC TCL_LIBS TCL_DEFS TCL_EXTRA_CFLAGS TCL_LD_FLAGS TCL_SHLIB_LD_LIBS TK_VERSION TK_BIN_DIR TK_SRC_DIR TK_LIB_FILE TK_LIB_FLAG TK_LIB_SPEC TK_STUB_LIB_FILE TK_STUB_LIB_FLAG TK_STUB_LIB_SPEC TK_LIBS TK_XINCLUDES CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC OBJEXT CPP INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA SET_MAKE RANLIB ac_ct_RANLIB EGREP MATH_LIBS TCL_TOP_DIR_NATIVE TCL_GENERIC_DIR_NATIVE TCL_UNIX_DIR_NATIVE TCL_WIN_DIR_NATIVE TCL_BMAP_DIR_NATIVE TCL_TOOL_DIR_NATIVE TCL_PLATFORM_DIR_NATIVE TCL_INCLUDES TK_INCLUDES CLEANFILES TCL_THREADS SHARED_BUILD AR CELIB_DIR LIBOBJS DL_LIBS CFLAGS_DEBUG CFLAGS_OPTIMIZE CFLAGS_WARNING STLIB_LD SHLIB_LD SHLIB_LD_LIBS SHLIB_CFLAGS LD_LIBRARY_PATH_VAR TCL_DBGX CFLAGS_DEFAULT LDFLAGS_DEFAULT build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os subdirs EXP_CONFIG_SHELL EXP_SHARED_LIB_FILE EXP_UNSHARED_LIB_FILE EXP_SHLIB_CFLAGS EXP_LIB_FILE EXP_LIB_FILES EXP_BUILD_LIB_SPEC EXP_LIB_SPEC EXP_CFLAGS EXP_LDFLAGS EXP_LD_SEARCH_FLAGS TCL_LD_SEARCH_FLAGS EXP_CC_SEARCH_FLAGS TCL_CC_SEARCH_FLAGS EXP_SHLIB_LD_LIBS SETUID DEFAULT_STTY_ARGS PKG_SOURCES PKG_OBJECTS MAKE_LIB MAKE_SHARED_LIB MAKE_STATIC_LIB MAKE_STUB_LIB RANLIB_STUB TCLSH_PROG LTLIBOBJS'
d782 1
a782 1
\`configure' configures expect 5.43.0 to adapt to many kinds of systems.
d844 1
a844 1
     short | recursive ) echo "Configuration of expect 5.43.0:";;
d976 1
a976 1
expect configure 5.43.0
d990 1
a990 1
It was created by expect $as_me 5.43.0, which was
d16337 1
d17009 1
a17009 1
This file was extended by expect $as_me 5.43.0, which was
d17067 1
a17067 1
expect config.status 5.43.0
d17364 1
@


5.57
log
@
	* tclconfig/tcl.m4: Updated to TEA 3.5
	* configure.in:     Ditto.
	* configure:        Regenerated.
@
text
@a8910 4
    # For TEA, CC_SEARCH_FLAGS becomes LD_SEARCH_FLAGS:
    LD_SEARCH_FLAGS="${CC_SEARCH_FLAGS}"
    CC_SEARCH_FLAGS=""

@


5.56
log
@
	* Makefile.in:  Upgraded build system to TEA 3.2.
	* configure.in:
	* config.guess:
	* config.sub
	* exp_main_sub.c:
	* aclocal.m4:
@
text
@d313 1
a313 1
ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS CYGPATH EXEEXT PKG_LIB_FILE PKG_STUB_LIB_FILE PKG_STUB_SOURCES PKG_STUB_OBJECTS PKG_TCL_SOURCES PKG_HEADERS PKG_INCLUDES PKG_LIBS PKG_CFLAGS found TCL_VERSION TCL_BIN_DIR TCL_SRC_DIR TCL_LIB_FILE TCL_LIB_FLAG TCL_LIB_SPEC TCL_STUB_LIB_FILE TCL_STUB_LIB_FLAG TCL_STUB_LIB_SPEC TCL_LIBS TCL_DEFS TCL_EXTRA_CFLAGS TCL_LD_FLAGS TCL_SHLIB_LD_LIBS TK_VERSION TK_BIN_DIR TK_SRC_DIR TK_LIB_FILE TK_LIB_FLAG TK_LIB_SPEC TK_STUB_LIB_FILE TK_STUB_LIB_FLAG TK_STUB_LIB_SPEC TK_LIBS TK_XINCLUDES CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC OBJEXT CPP INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA SET_MAKE RANLIB ac_ct_RANLIB EGREP MATH_LIBS TCL_TOP_DIR_NATIVE TCL_GENERIC_DIR_NATIVE TCL_UNIX_DIR_NATIVE TCL_WIN_DIR_NATIVE TCL_BMAP_DIR_NATIVE TCL_TOOL_DIR_NATIVE TCL_PLATFORM_DIR_NATIVE TCL_INCLUDES TK_INCLUDES CLEANFILES TCL_THREADS SHARED_BUILD AR TCLSH_PROG CELIB_DIR LIBOBJS DL_LIBS CFLAGS_DEBUG CFLAGS_OPTIMIZE CFLAGS_WARNING STLIB_LD SHLIB_LD SHLIB_CFLAGS SHLIB_LD_LIBS LDFLAGS_DEBUG LDFLAGS_OPTIMIZE LD_LIBRARY_PATH_VAR TCL_DBGX CFLAGS_DEFAULT LDFLAGS_DEFAULT build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os subdirs EXP_CONFIG_SHELL EXP_SHARED_LIB_FILE EXP_UNSHARED_LIB_FILE EXP_SHLIB_CFLAGS EXP_LIB_FILE EXP_LIB_FILES EXP_BUILD_LIB_SPEC EXP_LIB_SPEC EXP_CFLAGS EXP_LDFLAGS EXP_LD_SEARCH_FLAGS TCL_LD_SEARCH_FLAGS EXP_CC_SEARCH_FLAGS TCL_CC_SEARCH_FLAGS EXP_SHLIB_LD_LIBS SETUID DEFAULT_STTY_ARGS PKG_SOURCES PKG_OBJECTS MAKE_LIB MAKE_SHARED_LIB MAKE_STATIC_LIB MAKE_STUB_LIB RANLIB_STUB LTLIBOBJS'
d852 3
a854 3
  --enable-shared         build and link with shared libraries --enable-shared
  --enable-64bit          enable 64bit support (where applicable)
  --enable-64bit-vis      enable 64bit Sparc VIS support
d857 2
a858 1
  --enable-symbols        build with debugging symbols --disable-symbols
d863 2
a864 1
  --with-tcl              directory containing tcl configuration (tclConfig.sh)
d1330 1
a1330 1
    TEA_VERSION="3.2"
d1341 1
a1341 1
    if test x"3.2" = x ; then
d1347 3
a1349 3
    elif test "3.2" != "${TEA_VERSION}" ; then
	echo "$as_me:$LINENO: result: warning: requested TEA version \"3.2\", have \"${TEA_VERSION}\"" >&5
echo "${ECHO_T}warning: requested TEA version \"3.2\", have \"${TEA_VERSION}\"" >&6
d1579 2
a1580 2
                        `ls -dr ../../tcl[8-9].[0-9].[0-9]* 2>/dev/null` \
                        `ls -dr ../../tcl[8-9].[0-9] 2>/dev/null` \
d1583 2
a1584 2
                        `ls -dr ../../../tcl[8-9].[0-9].[0-9]* 2>/dev/null` \
                        `ls -dr ../../../tcl[8-9].[0-9] 2>/dev/null` \
d1593 27
d1622 2
a1623 1
		for i in `ls -d ${exec_prefix}/lib 2>/dev/null` \
d1655 2
a1656 2
	    { echo "$as_me:$LINENO: WARNING: \"Cannot find Tcl configuration definitions\"" >&5
echo "$as_me: WARNING: \"Cannot find Tcl configuration definitions\"" >&2;}
d1661 2
a1662 2
	    echo "$as_me:$LINENO: result: found $TCL_BIN_DIR/tclConfig.sh" >&5
echo "${ECHO_T}found $TCL_BIN_DIR/tclConfig.sh" >&6
d1667 2
a1668 2
    echo "$as_me:$LINENO: checking for existence of $TCL_BIN_DIR/tclConfig.sh" >&5
echo $ECHO_N "checking for existence of $TCL_BIN_DIR/tclConfig.sh... $ECHO_C" >&6
d1670 1
a1670 1
    if test -f "$TCL_BIN_DIR/tclConfig.sh" ; then
d1673 1
a1673 1
	. $TCL_BIN_DIR/tclConfig.sh
d1675 2
a1676 2
        echo "$as_me:$LINENO: result: file not found" >&5
echo "${ECHO_T}file not found" >&6
d1679 4
a1682 1
    #
d1689 1
a1689 3
    #

    if test -f $TCL_BIN_DIR/Makefile ; then
d1693 21
a1715 1
    #
a1716 3
    #

    eval "TCL_LIB_FILE=\"${TCL_LIB_FILE}\""
a1718 2

    eval "TCL_STUB_LIB_FILE=\"${TCL_STUB_LIB_FILE}\""
a1738 2
    #AC_SUBST(TCL_BUILD_LIB_SPEC)
    #AC_SUBST(TCL_BUILD_STUB_LIB_SPEC)
d1804 15
d1821 2
a1822 1
		for i in `ls -d ${exec_prefix}/lib 2>/dev/null` \
d1834 14
d1864 1
d1867 2
a1868 2
	    { echo "$as_me:$LINENO: WARNING: \"Cannot find Tk configuration definitions\"" >&5
echo "$as_me: WARNING: \"Cannot find Tk configuration definitions\"" >&2;}
d1873 2
a1874 2
	    echo "$as_me:$LINENO: result: found $TK_BIN_DIR/tkConfig.sh" >&5
echo "${ECHO_T}found $TK_BIN_DIR/tkConfig.sh" >&6
a1878 1

d1885 1
a1885 1
	. $TK_BIN_DIR/tkConfig.sh
d1891 4
a1894 1
    #
d1901 1
a1901 3
    #

    if test -f $TK_BIN_DIR/Makefile ; then
d1905 21
a1927 1
    #
a1928 3
    #

    eval "TK_LIB_FILE=\"${TK_LIB_FILE}\""
a1930 2

    eval "TK_STUB_LIB_FILE=\"${TK_STUB_LIB_FILE}\""
d1934 19
d4315 3
a4317 1
  cat >>confdefs.h <<\_ACEOF
d4881 4
a4884 1
    cat >conftest.$ac_ext <<_ACEOF
d4940 1
a4940 1
  tcl_ok=yes
d4945 1
a4945 1
tcl_ok=no
d4949 5
d4955 1
a4955 2
    if test $tcl_ok = no; then
	cat >>confdefs.h <<\_ACEOF
a4960 2
    echo "$as_me:$LINENO: result: $tcl_ok" >&5
echo "${ECHO_T}$tcl_ok" >&6
d5101 2
a5102 1
  cat >>confdefs.h <<\_ACEOF
d5249 2
a5250 1
  cat >>confdefs.h <<\_ACEOF
d5397 2
a5398 1
  cat >>confdefs.h <<\_ACEOF
d5543 2
a5544 1
  cat >>confdefs.h <<\_ACEOF
d5549 2
a5550 1
  cat >>confdefs.h <<\_ACEOF
d5753 2
a5754 1
	cat >>confdefs.h <<\_ACEOF
d5942 2
a5943 1
	cat >>confdefs.h <<\_ACEOF
d6089 2
a6090 1
  cat >>confdefs.h <<\_ACEOF
d6237 2
a6238 1
  cat >>confdefs.h <<\_ACEOF
a6397 1

d6419 9
a6428 7
	TCL_TOP_DIR_NATIVE=\"`${CYGPATH} ${TCL_SRC_DIR}`\"
	TCL_GENERIC_DIR_NATIVE=\"`${CYGPATH} ${TCL_SRC_DIR}/generic`\"
	TCL_UNIX_DIR_NATIVE=\"`${CYGPATH} ${TCL_SRC_DIR}/unix`\"
	TCL_WIN_DIR_NATIVE=\"`${CYGPATH} ${TCL_SRC_DIR}/win`\"
	TCL_BMAP_DIR_NATIVE=\"`${CYGPATH} ${TCL_SRC_DIR}/bitmaps`\"
	TCL_TOOL_DIR_NATIVE=\"`${CYGPATH} ${TCL_SRC_DIR}/tools`\"
	TCL_COMPAT_DIR_NATIVE=\"`${CYGPATH} ${TCL_SRC_DIR}/compat`\"
a6429 2

	TCL_INCLUDES="-I${TCL_GENERIC_DIR_NATIVE} -I${TCL_PLATFORM_DIR_NATIVE}"
a6430 7
	TCL_TOP_DIR_NATIVE='$(TCL_SRC_DIR)'
	TCL_GENERIC_DIR_NATIVE='${TCL_TOP_DIR_NATIVE}/generic'
	TCL_UNIX_DIR_NATIVE='${TCL_TOP_DIR_NATIVE}/unix'
	TCL_WIN_DIR_NATIVE='${TCL_TOP_DIR_NATIVE}/win'
	TCL_BMAP_DIR_NATIVE='${TCL_TOP_DIR_NATIVE}/bitmaps'
	TCL_TOOL_DIR_NATIVE='${TCL_TOP_DIR_NATIVE}/tools'
	TCL_COMPAT_DIR_NATIVE='${TCL_TOP_DIR_NATIVE}/compat'
d6432 14
a6445 4

	# substitute these in "relaxed" so that TCL_INCLUDES still works
	# without requiring the other vars to be defined in the Makefile
	eval "TCL_INCLUDES=\"-I${TCL_GENERIC_DIR_NATIVE} -I${TCL_PLATFORM_DIR_NATIVE}\""
d6486 19
a6504 3
	    # Check order: pkg --prefix location, Tcl's --prefix location,
	    # directory of tclConfig.sh, and Tcl source directory.
	    # Looking in the source dir is not ideal, but OK.
d6507 2
a6508 1
	    list="`ls -d ${temp_includedir}      2>/dev/null` \
d6510 1
d6512 1
a6512 2
		`ls -d ${TCL_BIN_DIR}/../include 2>/dev/null` \
		`ls -d ${TK_SRC_DIR}/generic     2>/dev/null`"
d6546 3
a6548 2
    if test "${TEA_PLATFORM}" = "windows" ; then
	# On Windows, we need the X compat headers
d6601 1
a6601 1
  tcl_ok=
d6604 7
d6615 6
a6620 2
	    # We are always OK on Windows, so check what this platform wants.
	    cat >>confdefs.h <<\_ACEOF
d6624 2
a6625 1
	    cat >>confdefs.h <<\_ACEOF
d6629 9
a6637 1
	    cat >>confdefs.h <<\_ACEOF
d6712 5
a6716 6
		# Check a little harder for __pthread_mutex_init in the
		# same library, as some systems hide it there until
		# pthread.h is defined.	 We could alternatively do an
		# AC_TRY_COMPILE with pthread.h, but that will work with
		# libpthread really doesn't exist, like AIX 4.2.
		# [Bug: 4359]
d7013 2
a7014 2
			    { echo "$as_me:$LINENO: WARNING: \"Don t know how to find pthread lib on your system - thread support disabled\"" >&5
echo "$as_me: WARNING: \"Don t know how to find pthread lib on your system - thread support disabled\"" >&2;}
d7019 46
a7065 2
	    # Does the pthread-implementation provide
	    # 'pthread_attr_setstacksize' ?
d7067 5
a7071 2
	    ac_saved_libs=$LIBS
	    LIBS="$LIBS $THREADS_LIBS"
d7073 6
a7078 7
for ac_func in pthread_attr_setstacksize
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:$LINENO: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d7080 21
a7100 2
  cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
a7101 6
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define $ac_func innocuous_$ac_func
d7103 12
a7114 4
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */
d7116 2
a7117 5
#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif
a7118 1
#undef $ac_func
a7119 19
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
{
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
char (*f) () = $ac_func;
#endif
#ifdef __cplusplus
}
#endif
d7121 58
a7178 31
int
main ()
{
return f != $ac_func;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
a7179 2
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5
d7181 23
a7203 1
eval "$as_ac_var=no"
d7205 3
a7207 9
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<_ACEOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
_ACEOF
a7208 2
fi
done
d7210 2
a7211 1
	    LIBS=$ac_saved_libs
d7213 3
a7215 6
for ac_func in readdir_r
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:$LINENO: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
d7218 3
a7220 1
  cat >conftest.$ac_ext <<_ACEOF
a7225 16
/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define $ac_func innocuous_$ac_func

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef $ac_func
a7229 1
{
d7233 1
a7233 13
char $ac_func ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
char (*f) () = $ac_func;
#endif
#ifdef __cplusplus
}
#endif

d7237 1
a7237 1
return f != $ac_func;
d7264 1
a7264 1
  eval "$as_ac_var=yes"
d7269 1
a7269 1
eval "$as_ac_var=no"
d7273 1
d7275 6
a7280 7
echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<_ACEOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
_ACEOF

a7281 45
done

	fi
    else
	TCL_THREADS=0
    fi
    # Do checking message here to not mess up interleaved configure output
    echo "$as_me:$LINENO: checking for building with threads" >&5
echo $ECHO_N "checking for building with threads... $ECHO_C" >&6
    if test "${TCL_THREADS}" = "1"; then
	cat >>confdefs.h <<\_ACEOF
#define TCL_THREADS 1
_ACEOF

	#LIBS="$LIBS $THREADS_LIBS"
	echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
    else
	echo "$as_me:$LINENO: result: no (default)" >&5
echo "${ECHO_T}no (default)" >&6
    fi
    # TCL_THREADS sanity checking.  See if our request for building with
    # threads is the same as the way Tcl was built.  If not, warn the user.
    case ${TCL_DEFS} in
	*THREADS=1*)
	    if test "${TCL_THREADS}" = "0"; then
		{ echo "$as_me:$LINENO: WARNING:
    Building ${PACKAGE_NAME} without threads enabled, but building against a Tcl
    that IS thread-enabled." >&5
echo "$as_me: WARNING:
    Building ${PACKAGE_NAME} without threads enabled, but building against a Tcl
    that IS thread-enabled." >&2;}
	    fi
	    ;;
	*)
	    if test "${TCL_THREADS}" = "1"; then
		{ echo "$as_me:$LINENO: WARNING:
    --enable-threads requested, but attempting building against a Tcl
    that is NOT thread-enabled." >&5
echo "$as_me: WARNING:
    --enable-threads requested, but attempting building against a Tcl
    that is NOT thread-enabled." >&2;}
	    fi
	    ;;
    esac
d7284 1
a7285 4
#--------------------------------------------------------------------
# The statement below defines a collection of symbols related to
# building as a shared library instead of a static library.
#--------------------------------------------------------------------
d7288 3
a7290 9
    echo "$as_me:$LINENO: checking how to build libraries" >&5
echo $ECHO_N "checking how to build libraries... $ECHO_C" >&6
    # Check whether --enable-shared or --disable-shared was given.
if test "${enable_shared+set}" = set; then
  enableval="$enable_shared"
  tcl_ok=$enableval
else
  tcl_ok=yes
fi;
d7292 16
a7307 3
    if test "${enable_shared+set}" = set; then
	enableval="$enable_shared"
	tcl_ok=$enableval
d7309 1
a7309 1
	tcl_ok=yes
d7311 4
a7314 255

    if test "$tcl_ok" = "yes" ; then
	echo "$as_me:$LINENO: result: shared" >&5
echo "${ECHO_T}shared" >&6
	SHARED_BUILD=1
    else
	echo "$as_me:$LINENO: result: static" >&5
echo "${ECHO_T}static" >&6
	SHARED_BUILD=0
	cat >>confdefs.h <<\_ACEOF
#define STATIC_BUILD 1
_ACEOF

    fi



#--------------------------------------------------------------------
# This macro figures out what flags to use with the compiler/linker
# when building shared/static debug/optimized objects.  This information
# can be taken from the tclConfig.sh file, but this figures it all out.
#--------------------------------------------------------------------




OLD_CFLAGD=$CFLAGS_DEBUG
OLD_CFLAGO=$CFLAGS_OPTIMIZE


    # Allow the user to provide this setting in the env
    if test "x${TCLSH_PROG}" = "x" ; then
	echo "$as_me:$LINENO: checking for tclsh" >&5
echo $ECHO_N "checking for tclsh... $ECHO_C" >&6

	if test "${ac_cv_path_tclsh+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	search_path=`echo ${PATH} | sed -e 's/:/ /g'`
	if test "${TEA_PLATFORM}" != "windows" -o \
		\( "$do64bit_ok" = "no" -a "$doWince" = "no" \) ; then
	    # Do not allow target tclsh in known cross-compile builds,
	    # as we need one we can run on this system
	    search_path="${TCL_BIN_DIR} ${TCL_BIN_DIR}/../bin ${exec_prefix}/bin ${prefix}/bin ${search_path}"
	fi
	for dir in $search_path ; do
	    for j in `ls -r $dir/tclsh[8-9]*${EXEEXT} 2> /dev/null` \
		    `ls -r $dir/tclsh*${EXEEXT} 2> /dev/null` ; do
		if test x"$ac_cv_path_tclsh" = x ; then
		    if test -f "$j" ; then
			ac_cv_path_tclsh=$j
			break
		    fi
		fi
	    done
	done

fi


	if test -f "$ac_cv_path_tclsh" ; then
	    TCLSH_PROG=$ac_cv_path_tclsh
	    echo "$as_me:$LINENO: result: $TCLSH_PROG" >&5
echo "${ECHO_T}$TCLSH_PROG" >&6
	else
	    { { echo "$as_me:$LINENO: error: No tclsh found in PATH: $search_path" >&5
echo "$as_me: error: No tclsh found in PATH: $search_path" >&2;}
   { (exit 1); exit 1; }; }
	fi
    fi





    # Step 0: Enable 64 bit support?

    echo "$as_me:$LINENO: checking if 64bit support is enabled" >&5
echo $ECHO_N "checking if 64bit support is enabled... $ECHO_C" >&6
    # Check whether --enable-64bit or --disable-64bit was given.
if test "${enable_64bit+set}" = set; then
  enableval="$enable_64bit"
  do64bit=$enableval
else
  do64bit=no
fi;
    echo "$as_me:$LINENO: result: $do64bit" >&5
echo "${ECHO_T}$do64bit" >&6

    # Step 0.b: Enable Solaris 64 bit VIS support?

    echo "$as_me:$LINENO: checking if 64bit Sparc VIS support is requested" >&5
echo $ECHO_N "checking if 64bit Sparc VIS support is requested... $ECHO_C" >&6
    # Check whether --enable-64bit-vis or --disable-64bit-vis was given.
if test "${enable_64bit_vis+set}" = set; then
  enableval="$enable_64bit_vis"
  do64bitVIS=$enableval
else
  do64bitVIS=no
fi;
    echo "$as_me:$LINENO: result: $do64bitVIS" >&5
echo "${ECHO_T}$do64bitVIS" >&6

    if test "$do64bitVIS" = "yes"; then
	# Force 64bit on with VIS
	do64bit=yes
    fi

    # Step 0.c: Cross-compiling options for Windows/CE builds?

    if test "${TEA_PLATFORM}" = "windows" ; then
	echo "$as_me:$LINENO: checking if Windows/CE build is requested" >&5
echo $ECHO_N "checking if Windows/CE build is requested... $ECHO_C" >&6
	# Check whether --enable-wince or --disable-wince was given.
if test "${enable_wince+set}" = set; then
  enableval="$enable_wince"
  doWince=$enableval
else
  doWince=no
fi;
	echo "$as_me:$LINENO: result: $doWince" >&5
echo "${ECHO_T}$doWince" >&6
    fi

    # Step 1: set the variable "system" to hold the name and version number
    # for the system.  This can usually be done via the "uname" command, but
    # there are a few systems, like Next, where this doesn't work.

    echo "$as_me:$LINENO: checking system version (for dynamic loading)" >&5
echo $ECHO_N "checking system version (for dynamic loading)... $ECHO_C" >&6
    if test -f /usr/lib/NextStep/software_version; then
	system=NEXTSTEP-`awk '/3/,/3/' /usr/lib/NextStep/software_version`
    else
	system=`uname -s`-`uname -r`
	if test "$?" -ne 0 ; then
	    echo "$as_me:$LINENO: result: unknown (can't find uname command)" >&5
echo "${ECHO_T}unknown (can't find uname command)" >&6
	    system=unknown
	else
	    # Special check for weird MP-RAS system (uname returns weird
	    # results, and the version is kept in special file).

	    if test -r /etc/.relid -a "X`uname -n`" = "X`uname -s`" ; then
		system=MP-RAS-`awk '{print }' /etc/.relid'`
	    fi
	    if test "`uname -s`" = "AIX" ; then
		system=AIX-`uname -v`.`uname -r`
	    fi
	    if test "${TEA_PLATFORM}" = "windows" ; then
		system=windows
	    fi
	    echo "$as_me:$LINENO: result: $system" >&5
echo "${ECHO_T}$system" >&6
	fi
    fi

    # Step 2: check for existence of -ldl library.  This is needed because
    # Linux can use either -ldl or -ldld for dynamic loading.

    echo "$as_me:$LINENO: checking for dlopen in -ldl" >&5
echo $ECHO_N "checking for dlopen in -ldl... $ECHO_C" >&6
if test "${ac_cv_lib_dl_dlopen+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ldl  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char dlopen ();
int
main ()
{
dlopen ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
  (eval $ac_link) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_dl_dlopen=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_cv_lib_dl_dlopen=no
fi
rm -f conftest.err conftest.$ac_objext \
      conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:$LINENO: result: $ac_cv_lib_dl_dlopen" >&5
echo "${ECHO_T}$ac_cv_lib_dl_dlopen" >&6
if test $ac_cv_lib_dl_dlopen = yes; then
  have_dl=yes
else
  have_dl=no
fi


    # Step 3: set configuration options based on system name and version.
    # This is similar to Tcl's unix/tcl.m4 except that we've added a
    # "windows" case and CC_SEARCH_FLAGS becomes LD_SEARCH_FLAGS for us
    # (and we have no CC_SEARCH_FLAGS).

    do64bit_ok=no
    LDFLAGS_ORIG="$LDFLAGS"
    TCL_EXPORT_FILE_SUFFIX=""
    UNSHARED_LIB_SUFFIX=""
    TCL_TRIM_DOTS='`echo ${PACKAGE_VERSION} | tr -d .`'
    ECHO_VERSION='`echo ${PACKAGE_VERSION}`'
    TCL_LIB_VERSIONS_OK=ok
    CFLAGS_DEBUG=-g
    if test "$GCC" = "yes" ; then
	CFLAGS_OPTIMIZE=-O2
	CFLAGS_WARNING="-Wall -Wno-implicit-int"
    else
	CFLAGS_OPTIMIZE=-O
	CFLAGS_WARNING=""
    fi
    TCL_NEEDS_EXP_FILE=0
    TCL_BUILD_EXP_FILE=""
    TCL_EXP_FILE=""
    # Extract the first word of "ar", so it can be a program name with args.
d7355 5
a7359 1
	    if test "$do64bit" = "yes" ; then
d7361 1
a7361 1
		    MSSDK="C:/Progra~1/Microsoft SDK"
d7363 17
a7379 29
		# Ensure that this path has no spaces to work in autoconf

    if test "${TEA_PLATFORM}" = "windows" ; then
	# we need TCLSH_PROG defined to get Windows short pathnames


	echo "$as_me:$LINENO: checking short pathname for MSSDK (${MSSDK})" >&5
echo $ECHO_N "checking short pathname for MSSDK (${MSSDK})... $ECHO_C" >&6

	shortpath=
	case "${MSSDK}" in
	    *\ *)
		# Only do this if we need to.
		shortpath=`echo "puts [file attributes {${MSSDK}} -shortname] ; exit" | ${TCLSH_PROG} 2>/dev/null`
		;;
	esac
	if test "x${shortpath}" = "x" ; then
	    echo "$as_me:$LINENO: result: not changed" >&5
echo "${ECHO_T}not changed" >&6
	else
	    MSSDK=$shortpath
	    echo "$as_me:$LINENO: result: ${MSSDK}" >&5
echo "${ECHO_T}${MSSDK}" >&6
	fi
    fi

		if test ! -d "${MSSDK}/bin/win64" ; then
		    { echo "$as_me:$LINENO: WARNING: could not find 64-bit SDK to enable 64bit mode" >&5
echo "$as_me: WARNING: could not find 64-bit SDK to enable 64bit mode" >&2;}
d7382 2
d7389 1
a7389 1
		if test "$do64bit" = "yes" ; then
d7457 1
a7459 25

    if test "${TEA_PLATFORM}" = "windows" ; then
	# we need TCLSH_PROG defined to get Windows short pathnames


	echo "$as_me:$LINENO: checking short pathname for CELIB_DIR (${ac_cv_c_celibconfig})" >&5
echo $ECHO_N "checking short pathname for CELIB_DIR (${ac_cv_c_celibconfig})... $ECHO_C" >&6

	shortpath=
	case "${ac_cv_c_celibconfig}" in
	    *\ *)
		# Only do this if we need to.
		shortpath=`echo "puts [file attributes {${ac_cv_c_celibconfig}} -shortname] ; exit" | ${TCLSH_PROG} 2>/dev/null`
		;;
	esac
	if test "x${shortpath}" = "x" ; then
	    echo "$as_me:$LINENO: result: not changed" >&5
echo "${ECHO_T}not changed" >&6
	else
	    CELIB_DIR=$shortpath
	    echo "$as_me:$LINENO: result: ${CELIB_DIR}" >&5
echo "${ECHO_T}${CELIB_DIR}" >&6
	fi
    fi

d7497 2
a7498 51
		# Ensure that this path has no spaces to work in autoconf

    if test "${TEA_PLATFORM}" = "windows" ; then
	# we need TCLSH_PROG defined to get Windows short pathnames


	echo "$as_me:$LINENO: checking short pathname for WCEROOT (${WCEROOT})" >&5
echo $ECHO_N "checking short pathname for WCEROOT (${WCEROOT})... $ECHO_C" >&6

	shortpath=
	case "${WCEROOT}" in
	    *\ *)
		# Only do this if we need to.
		shortpath=`echo "puts [file attributes {${WCEROOT}} -shortname] ; exit" | ${TCLSH_PROG} 2>/dev/null`
		;;
	esac
	if test "x${shortpath}" = "x" ; then
	    echo "$as_me:$LINENO: result: not changed" >&5
echo "${ECHO_T}not changed" >&6
	else
	    WCEROOT=$shortpath
	    echo "$as_me:$LINENO: result: ${WCEROOT}" >&5
echo "${ECHO_T}${WCEROOT}" >&6
	fi
    fi


    if test "${TEA_PLATFORM}" = "windows" ; then
	# we need TCLSH_PROG defined to get Windows short pathnames


	echo "$as_me:$LINENO: checking short pathname for SDKROOT (${SDKROOT})" >&5
echo $ECHO_N "checking short pathname for SDKROOT (${SDKROOT})... $ECHO_C" >&6

	shortpath=
	case "${SDKROOT}" in
	    *\ *)
		# Only do this if we need to.
		shortpath=`echo "puts [file attributes {${SDKROOT}} -shortname] ; exit" | ${TCLSH_PROG} 2>/dev/null`
		;;
	esac
	if test "x${shortpath}" = "x" ; then
	    echo "$as_me:$LINENO: result: not changed" >&5
echo "${ECHO_T}not changed" >&6
	else
	    SDKROOT=$shortpath
	    echo "$as_me:$LINENO: result: ${SDKROOT}" >&5
echo "${ECHO_T}${SDKROOT}" >&6
	fi
    fi

d7523 1
a7523 1
                if test "$do64bit" = "yes" ; then
d7525 5
a7529 8
		    CC="${MSSDK}/Bin/Win64/cl.exe"
		    CFLAGS="${CFLAGS} -I${MSSDK}/Include/prerelease \
			-I${MSSDK}/Include/Win64/crt \
			-I${MSSDK}/Include"
		    RC="${MSSDK}/bin/rc.exe"
		    lflags="-MACHINE:IA64 -LIBPATH:${MSSDK}/Lib/IA64 \
			-LIBPATH:${MSSDK}/Lib/Prerelease/IA64 -nologo"
		    LINKBIN="${MSSDK}/bin/win64/link.exe"
d7532 13
d7548 1
a7548 1
			CC="${CEBINROOT}/cl.exe"
d7550 1
a7550 1
			CC="${CEBINROOT}/cl${ARCH}.exe"
d7553 1
a7553 1
		    RC="${WCEROOT}/Common/EVC/bin/rc.exe"
d7561 2
a7562 1
			cat >>confdefs.h <<_ACEOF
d7567 2
a7568 1
		    cat >>confdefs.h <<_ACEOF
d7572 2
a7573 1
		    cat >>confdefs.h <<_ACEOF
d7581 1
a7581 1
		    LINKBIN="${CEBINROOT}/link.exe"
d7632 8
a7639 3
		if test "${CC}" != "cc_r" ; then
		    CC=${CC}_r
		fi
d7645 1
a7646 1
	    SHLIB_LD_LIBS='${LIBS}'
a7650 14
	    # AIX v<=4.1 has some different flags than 4.2+
	    if test "$system" = "AIX-4.1" -o "`uname -v`" -lt "4" ; then
		#LIBOBJS="$LIBOBJS tclLoadAix.o"
		case $LIBOBJS in
    "tclLoadAix.$ac_objext"   | \
  *" tclLoadAix.$ac_objext"   | \
    "tclLoadAix.$ac_objext "* | \
  *" tclLoadAix.$ac_objext "* ) ;;
  *) LIBOBJS="$LIBOBJS tclLoadAix.$ac_objext" ;;
esac

		DL_LIBS="-lld"
	    fi

d7654 2
a7655 2
		    { echo "$as_me:$LINENO: WARNING: \"64bit mode not supported with GCC on $system\"" >&5
echo "$as_me: WARNING: \"64bit mode not supported with GCC on $system\"" >&2;}
d7659 1
a7659 1
		    LDFLAGS="$LDFLAGS -q64"
d7672 1
a7672 1
		    LD_SEARCH_FLAGS='-Wl,-R,${LIB_RUNTIME_DIR}'
d7674 1
a7674 1
		    LD_SEARCH_FLAGS='-R${LIB_RUNTIME_DIR}'
d7676 1
d7685 2
a7686 1
		LD_SEARCH_FLAGS='-L${LIB_RUNTIME_DIR}'
d7691 13
d7788 2
a7789 1
	    	cat >>confdefs.h <<\_ACEOF
d7802 74
d7884 1
d7895 1
d7905 1
d7910 2
a7911 1
	    cat >>confdefs.h <<\_ACEOF
d7915 3
d7997 1
d8004 1
a8004 1
		LD_SEARCH_FLAGS='-Wl,+s,+b,${LIB_RUNTIME_DIR}:.'
d8020 2
d8024 2
a8025 2
			    { echo "$as_me:$LINENO: WARNING: \"64bit mode not supported with GCC on $system\"" >&5
echo "$as_me: WARNING: \"64bit mode not supported with GCC on $system\"" >&2;}
d8031 1
a8031 1
		    LDFLAGS="$LDFLAGS +DD64"
d8114 3
a8116 1
		LD_SEARCH_FLAGS='-Wl,+s,+b,${LIB_RUNTIME_DIR}:.'
a8117 12
	    LD_LIBRARY_PATH_VAR="SHLIB_PATH"
	    ;;
	IRIX-4.*)
	    SHLIB_CFLAGS="-G 0"
	    SHLIB_SUFFIX=".a"
	    SHLIB_LD="echo tclLdAout $CC \{$SHLIB_CFLAGS\} | `pwd`/tclsh -r -G 0"
	    SHLIB_LD_LIBS='${LIBS}'
	    DL_OBJS="tclLoadAout.o"
	    DL_LIBS=""
	    LDFLAGS="$LDFLAGS -Wl,-D,08000000"
	    LD_SEARCH_FLAGS='-L${LIB_RUNTIME_DIR}'
	    SHARED_LIB_SUFFIX='${PACKAGE_VERSION}.a'
d8126 2
a8127 1
	    LD_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
d8129 1
a8129 1
	IRIX-6.*|IRIX64-6.5*)
d8136 2
a8137 1
	    LD_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
d8161 2
a8162 1
	    LD_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
d8174 1
a8174 1
	            LDFLAGS="$LDFLAGS -64"
a8186 1

d8189 6
a8194 154
	    if test "$have_dl" = yes; then
		SHLIB_LD="${CC} -shared"
		DL_OBJS="tclLoadDl.o"
		DL_LIBS="-ldl"
		LDFLAGS="$LDFLAGS -Wl,--export-dynamic"
		LD_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
	    else
		if test "${ac_cv_header_dld_h+set}" = set; then
  echo "$as_me:$LINENO: checking for dld.h" >&5
echo $ECHO_N "checking for dld.h... $ECHO_C" >&6
if test "${ac_cv_header_dld_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
fi
echo "$as_me:$LINENO: result: $ac_cv_header_dld_h" >&5
echo "${ECHO_T}$ac_cv_header_dld_h" >&6
else
  # Is the header compilable?
echo "$as_me:$LINENO: checking dld.h usability" >&5
echo $ECHO_N "checking dld.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
$ac_includes_default
#include <dld.h>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

ac_header_compiler=no
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6

# Is the header present?
echo "$as_me:$LINENO: checking dld.h presence" >&5
echo $ECHO_N "checking dld.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <dld.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: dld.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: dld.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: dld.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: dld.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: dld.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: dld.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: dld.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: dld.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: dld.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: dld.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: dld.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: dld.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: dld.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: dld.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: dld.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: dld.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for dld.h" >&5
echo $ECHO_N "checking for dld.h... $ECHO_C" >&6
if test "${ac_cv_header_dld_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_dld_h=$ac_header_preproc
fi
echo "$as_me:$LINENO: result: $ac_cv_header_dld_h" >&5
echo "${ECHO_T}$ac_cv_header_dld_h" >&6

fi
if test $ac_cv_header_dld_h = yes; then

		    SHLIB_LD="ld -shared"
		    DL_OBJS="tclLoadDld.o"
		    DL_LIBS="-ldld"
		    LD_SEARCH_FLAGS=""
fi


	    fi
d8216 56
a8271 11
	    if test "$have_dl" = yes; then
		SHLIB_LD="${CC} -shared"
		DL_OBJS=""
		DL_LIBS="-ldl"
		LDFLAGS="$LDFLAGS -Wl,--export-dynamic"
		LD_SEARCH_FLAGS=""
	    else
		if test "${ac_cv_header_dld_h+set}" = set; then
  echo "$as_me:$LINENO: checking for dld.h" >&5
echo $ECHO_N "checking for dld.h... $ECHO_C" >&6
if test "${ac_cv_header_dld_h+set}" = set; then
a8272 3
fi
echo "$as_me:$LINENO: result: $ac_cv_header_dld_h" >&5
echo "${ECHO_T}$ac_cv_header_dld_h" >&6
d8274 2
a8275 4
  # Is the header compilable?
echo "$as_me:$LINENO: checking dld.h usability" >&5
echo $ECHO_N "checking dld.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
d8281 5
a8285 2
$ac_includes_default
#include <dld.h>
d8287 3
a8289 23
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_header_compiler=yes
d8291 3
a8293 2
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5
a8294 1
ac_header_compiler=no
d8296 34
a8329 3
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6
d8331 1
a8331 4
# Is the header present?
echo "$as_me:$LINENO: checking dld.h presence" >&5
echo $ECHO_N "checking dld.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
a8336 24
#include <dld.h>
_ACEOF
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5
d8338 3
a8340 5
  ac_header_preproc=no
fi
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6
d8342 4
a8345 36
# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: dld.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: dld.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: dld.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: dld.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: dld.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: dld.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: dld.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: dld.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: dld.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: dld.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: dld.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: dld.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: dld.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: dld.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: dld.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: dld.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for dld.h" >&5
echo $ECHO_N "checking for dld.h... $ECHO_C" >&6
if test "${ac_cv_header_dld_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d8347 1
a8347 1
  ac_cv_header_dld_h=$ac_header_preproc
d8349 1
a8349 2
echo "$as_me:$LINENO: result: $ac_cv_header_dld_h" >&5
echo "${ECHO_T}$ac_cv_header_dld_h" >&6
d8352 7
a8358 1
if test $ac_cv_header_dld_h = yes; then
d8360 3
a8362 11
		    SHLIB_LD="ld -shared"
		    DL_OBJS=""
		    DL_LIBS="-ldld"
		    LD_SEARCH_FLAGS=""
fi


	    fi
	    if test "`uname -m`" = "alpha" ; then
		CFLAGS="$CFLAGS -mieee"
	    fi
d8364 5
a8368 4
	MP-RAS-02*)
	    SHLIB_CFLAGS="-K PIC"
	    SHLIB_LD="cc -G"
	    SHLIB_LD_LIBS=""
d8371 18
a8388 2
	    DL_LIBS="-ldl"
	    LD_SEARCH_FLAGS=""
d8390 12
a8401 16
	MP-RAS-*)
	    SHLIB_CFLAGS="-K PIC"
	    SHLIB_LD="cc -G"
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS="-ldl"
	    LDFLAGS="$LDFLAGS -Wl,-Bexport"
	    LD_SEARCH_FLAGS=""
	    ;;
	NetBSD-*|FreeBSD-[1-2].*)
	    # Not available on all versions:  check for include file.
	    if test "${ac_cv_header_dlfcn_h+set}" = set; then
  echo "$as_me:$LINENO: checking for dlfcn.h" >&5
echo $ECHO_N "checking for dlfcn.h... $ECHO_C" >&6
if test "${ac_cv_header_dlfcn_h+set}" = set; then
a8402 3
fi
echo "$as_me:$LINENO: result: $ac_cv_header_dlfcn_h" >&5
echo "${ECHO_T}$ac_cv_header_dlfcn_h" >&6
d8404 4
a8407 4
  # Is the header compilable?
echo "$as_me:$LINENO: checking dlfcn.h usability" >&5
echo $ECHO_N "checking dlfcn.h usability... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
d8413 8
a8420 2
$ac_includes_default
#include <dlfcn.h>
d8422 3
a8424 3
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
d8438 1
a8438 1
	 { ac_try='test -s conftest.$ac_objext'
d8444 1
a8444 1
  ac_header_compiler=yes
d8449 5
a8453 1
ac_header_compiler=no
d8455 19
a8473 3
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
echo "${ECHO_T}$ac_header_compiler" >&6
d8475 3
a8477 4
# Is the header present?
echo "$as_me:$LINENO: checking dlfcn.h presence" >&5
echo $ECHO_N "checking dlfcn.h presence... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
d8483 8
a8490 1
#include <dlfcn.h>
d8492 3
a8494 2
if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
d8500 15
a8514 12
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_header_preproc=yes
d8519 1
a8519 1
  ac_header_preproc=no
d8521 3
a8523 42
rm -f conftest.err conftest.$ac_ext
echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
echo "${ECHO_T}$ac_header_preproc" >&6

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
  yes:no: )
    { echo "$as_me:$LINENO: WARNING: dlfcn.h: accepted by the compiler, rejected by the preprocessor!" >&5
echo "$as_me: WARNING: dlfcn.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { echo "$as_me:$LINENO: WARNING: dlfcn.h: proceeding with the compiler's result" >&5
echo "$as_me: WARNING: dlfcn.h: proceeding with the compiler's result" >&2;}
    ac_header_preproc=yes
    ;;
  no:yes:* )
    { echo "$as_me:$LINENO: WARNING: dlfcn.h: present but cannot be compiled" >&5
echo "$as_me: WARNING: dlfcn.h: present but cannot be compiled" >&2;}
    { echo "$as_me:$LINENO: WARNING: dlfcn.h:     check for missing prerequisite headers?" >&5
echo "$as_me: WARNING: dlfcn.h:     check for missing prerequisite headers?" >&2;}
    { echo "$as_me:$LINENO: WARNING: dlfcn.h: see the Autoconf documentation" >&5
echo "$as_me: WARNING: dlfcn.h: see the Autoconf documentation" >&2;}
    { echo "$as_me:$LINENO: WARNING: dlfcn.h:     section \"Present But Cannot Be Compiled\"" >&5
echo "$as_me: WARNING: dlfcn.h:     section \"Present But Cannot Be Compiled\"" >&2;}
    { echo "$as_me:$LINENO: WARNING: dlfcn.h: proceeding with the preprocessor's result" >&5
echo "$as_me: WARNING: dlfcn.h: proceeding with the preprocessor's result" >&2;}
    { echo "$as_me:$LINENO: WARNING: dlfcn.h: in the future, the compiler will take precedence" >&5
echo "$as_me: WARNING: dlfcn.h: in the future, the compiler will take precedence" >&2;}
    (
      cat <<\_ASBOX
## --------------------------------- ##
## Report this to the expect lists.  ##
## --------------------------------- ##
_ASBOX
    ) |
      sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
echo "$as_me:$LINENO: checking for dlfcn.h" >&5
echo $ECHO_N "checking for dlfcn.h... $ECHO_C" >&6
if test "${ac_cv_header_dlfcn_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_header_dlfcn_h=$ac_header_preproc
d8525 4
a8528 116
echo "$as_me:$LINENO: result: $ac_cv_header_dlfcn_h" >&5
echo "${ECHO_T}$ac_cv_header_dlfcn_h" >&6

fi
if test $ac_cv_header_dlfcn_h = yes; then

		# NetBSD/SPARC needs -fPIC, -fpic will not do.
		SHLIB_CFLAGS="-fPIC"
		SHLIB_LD="ld -Bshareable -x"
		SHLIB_LD_LIBS=""
		SHLIB_SUFFIX=".so"
		DL_OBJS="tclLoadDl.o"
		DL_LIBS=""
		LD_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
		echo "$as_me:$LINENO: checking for ELF" >&5
echo $ECHO_N "checking for ELF... $ECHO_C" >&6
		cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#ifdef __ELF__
	yes
#endif

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "yes" >/dev/null 2>&1; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
		    SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.so'
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
		    SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.so.1.0'

fi
rm -f conftest*


else

		SHLIB_CFLAGS=""
		SHLIB_LD="echo tclLdAout $CC \{$SHLIB_CFLAGS\} | `pwd`/tclsh -r"
		SHLIB_LD_LIBS='${LIBS}'
		SHLIB_SUFFIX=".a"
		DL_OBJS="tclLoadAout.o"
		DL_LIBS=""
		LD_SEARCH_FLAGS='-L${LIB_RUNTIME_DIR}'
		SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.a'

fi



	    # FreeBSD doesn't handle version numbers with dots.

	    UNSHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.a'
	    TCL_LIB_VERSIONS_OK=nodots
	    ;;
	OpenBSD-*)
	    SHLIB_LD="${CC} -shared"
	    SHLIB_LD_LIBS='${LIBS}'
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS=""
	    LD_SEARCH_FLAGS=""
	    echo "$as_me:$LINENO: checking for ELF" >&5
echo $ECHO_N "checking for ELF... $ECHO_C" >&6
	    cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */

#ifdef __ELF__
	yes
#endif

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "yes" >/dev/null 2>&1; then
  echo "$as_me:$LINENO: result: yes" >&5
echo "${ECHO_T}yes" >&6
		SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.so.1.0'
else
  echo "$as_me:$LINENO: result: no" >&5
echo "${ECHO_T}no" >&6
		SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.so.1.0'

fi
rm -f conftest*


	    # OpenBSD doesn't do version numbers with dots.
	    UNSHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.a'
	    TCL_LIB_VERSIONS_OK=nodots
	    ;;
	FreeBSD-*)
	    # FreeBSD 3.* and greater have ELF.
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_LD="ld -Bshareable -x"
	    SHLIB_LD_LIBS='${LIBS}'
	    SHLIB_SUFFIX=".so"
	    DL_OBJS="tclLoadDl.o"
	    DL_LIBS=""
	    LDFLAGS="$LDFLAGS -export-dynamic"
	    LD_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
	    if test "${TCL_THREADS}" = "1" ; then
		# The -pthread needs to go in the CFLAGS, not LIBS
		LIBS=`echo $LIBS | sed s/-pthread//`
		CFLAGS="$CFLAGS -pthread"
	    	LDFLAGS="$LDFLAGS -pthread"
d8530 1
a8530 17
	    case $system in
	    FreeBSD-3.*)
	    	# FreeBSD-3 doesn't handle version numbers with dots.
	    	UNSHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.a'
	    	SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.so'
	    	TCL_LIB_VERSIONS_OK=nodots
		;;
	    esac
	    ;;
	Darwin-*)
	    SHLIB_CFLAGS="-fno-common"
	    SHLIB_LD="cc -dynamiclib \${LDFLAGS}"
	    SHLIB_LD_LIBS='${LIBS}'
	    SHLIB_SUFFIX=".dylib"
	    DL_OBJS="tclLoadDyld.o"
	    DL_LIBS=""
	    LDFLAGS="$LDFLAGS -prebind -Wl,-search_paths_first"
d8533 6
a8538 1
	    CFLAGS_OPTIMIZE="-Os"
d8547 1
d8551 3
a8553 2
	    CFLAGS_OPTIMIZE=""      # Optimizer is buggy
	    cat >>confdefs.h <<\_ACEOF
d8556 1
a8556 1
  # needed in sys/socket.h
d8567 1
d8582 1
d8597 1
d8628 1
a8630 10
	RISCos-*)
	    SHLIB_CFLAGS="-G 0"
	    SHLIB_LD="echo tclLdAout $CC \{$SHLIB_CFLAGS\} | `pwd`/tclsh -r -G 0"
	    SHLIB_LD_LIBS='${LIBS}'
	    SHLIB_SUFFIX=".a"
	    DL_OBJS="tclLoadAout.o"
	    DL_LIBS=""
	    LDFLAGS="$LDFLAGS -Wl,-D,08000000"
	    LD_SEARCH_FLAGS='-L${LIB_RUNTIME_DIR}'
	    ;;
d8647 1
d8657 1
d8667 2
a8668 1
	    LD_SEARCH_FLAGS='-L${LIB_RUNTIME_DIR}'
d8679 2
a8680 1
	SunOS-5.[0-6]*)
d8685 2
a8686 1
	    cat >>confdefs.h <<\_ACEOF
d8690 2
a8691 1
	    cat >>confdefs.h <<\_ACEOF
d8707 2
a8708 1
		LD_SEARCH_FLAGS='-Wl,-R,${LIB_RUNTIME_DIR}'
d8711 2
a8712 1
		LD_SEARCH_FLAGS='-R ${LIB_RUNTIME_DIR}'
a8715 1

d8719 2
a8720 1
	    cat >>confdefs.h <<\_ACEOF
d8724 2
a8725 1
	    cat >>confdefs.h <<\_ACEOF
d8737 1
a8737 1
			    if test "`gcc -dumpversion` | awk -F. '{print }'" -lt "3" ; then
d8750 1
a8750 1
			    	LDFLAGS="$LDFLAGS -xarch=v9a"
d8753 1
a8753 1
			    	LDFLAGS="$LDFLAGS -xarch=v9"
d8755 2
d8758 9
d8768 2
a8769 2
		    { echo "$as_me:$LINENO: WARNING: \"64bit mode only supported sparcv9 system\"" >&5
echo "$as_me: WARNING: \"64bit mode only supported sparcv9 system\"" >&2;}
d8782 3
a8784 2
		LD_SEARCH_FLAGS='-Wl,-R,${LIB_RUNTIME_DIR}'
		if test "$do64bit" = "yes" ; then
d8793 1
a8793 1
		    #LD_SEARCH_FLAGS="${LD_SEARCH_FLAGS},-R,$v9gcclibdir"
d8797 1
a8800 13
	ULTRIX-4.*)
	    SHLIB_CFLAGS="-G 0"
	    SHLIB_SUFFIX=".a"
	    SHLIB_LD="echo tclLdAout $CC \{$SHLIB_CFLAGS\} | `pwd`/tclsh -r -G 0"
	    SHLIB_LD_LIBS='${LIBS}'
	    DL_OBJS="tclLoadAout.o"
	    DL_LIBS=""
	    LDFLAGS="$LDFLAGS -Wl,-D,08000000"
	    LD_SEARCH_FLAGS='-L${LIB_RUNTIME_DIR}'
	    if test "$GCC" != "yes" ; then
		CFLAGS="$CFLAGS -DHAVE_TZSET -std1"
	    fi
	    ;;
a8809 1
	    hold_ldflags=$LDFLAGS
d8812 7
a8818 2
	    LDFLAGS="$LDFLAGS -Wl,-Bexport"
	    cat >conftest.$ac_ext <<_ACEOF
d8855 1
a8855 1
  found=yes
d8860 1
a8860 1
LDFLAGS=$hold_ldflags found=no
d8864 8
a8871 2
	    echo "$as_me:$LINENO: result: $found" >&5
echo "${ECHO_T}$found" >&6
d8877 64
a8940 2
    { echo "$as_me:$LINENO: WARNING: \"64bit support being disabled -- don\'t know magic for this platform\"" >&5
echo "$as_me: WARNING: \"64bit support being disabled -- don\'t know magic for this platform\"" >&2;}
d8943 19
a8961 32
    # Step 4: If pseudo-static linking is in use (see K. B. Kenny, "Dynamic
    # Loading for Tcl -- What Became of It?".  Proc. 2nd Tcl/Tk Workshop,
    # New Orleans, LA, Computerized Processes Unlimited, 1994), then we need
    # to determine which of several header files defines the a.out file
    # format (a.out.h, sys/exec.h, or sys/exec_aout.h).  At present, we
    # support only a file format that is more or less version-7-compatible.
    # In particular,
    #	- a.out files must begin with `struct exec'.
    #	- the N_TXTOFF on the `struct exec' must compute the seek address
    #	  of the text segment
    #	- The `struct exec' must contain a_magic, a_text, a_data, a_bss
    #	  and a_entry fields.
    # The following compilation should succeed if and only if either sys/exec.h
    # or a.out.h is usable for the purpose.
    #
    # Note that the modified COFF format used on MIPS Ultrix 4.x is usable; the
    # `struct exec' includes a second header that contains information that
    # duplicates the v7 fields that are needed.

    if test "x$DL_OBJS" = "xtclLoadAout.o" ; then
	echo "$as_me:$LINENO: checking sys/exec.h" >&5
echo $ECHO_N "checking sys/exec.h... $ECHO_C" >&6
	cat >conftest.$ac_ext <<_ACEOF
/* confdefs.h.  */
_ACEOF
cat confdefs.h >>conftest.$ac_ext
cat >>conftest.$ac_ext <<_ACEOF
/* end confdefs.h.  */
#include <sys/exec.h>
int
main ()
{
a8962 10
	    struct exec foo;
	    unsigned long seek;
	    int flag;
#if defined(__mips) || defined(mips)
	    seek = N_TXTOFF (foo.ex_f, foo.ex_o);
#else
	    seek = N_TXTOFF (foo);
#endif
	    flag = (foo.a_magic == OMAGIC);
	    return foo.a_text + foo.a_data + foo.a_bss + foo.a_entry;
d8964 2
a8965 30
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } &&
	 { ac_try='test -z "$ac_c_werror_flag"
			 || test ! -s conftest.err'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } &&
	 { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  tcl_ok=usable
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5
d8967 3
a8969 9
tcl_ok=unusable
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
	echo "$as_me:$LINENO: result: $tcl_ok" >&5
echo "${ECHO_T}$tcl_ok" >&6
	if test $tcl_ok = usable; then
	    cat >>confdefs.h <<\_ACEOF
#define USE_SYS_EXEC_H 1
_ACEOF
d8971 4
a8974 4
	else
	    echo "$as_me:$LINENO: checking a.out.h" >&5
echo $ECHO_N "checking a.out.h... $ECHO_C" >&6
	    cat >conftest.$ac_ext <<_ACEOF
d8980 1
a8980 1
#include <a.out.h>
d8984 1
a8984 12

		struct exec foo;
		unsigned long seek;
		int flag;
#if defined(__mips) || defined(mips)
		seek = N_TXTOFF (foo.ex_f, foo.ex_o);
#else
		seek = N_TXTOFF (foo);
#endif
		flag = (foo.a_magic == OMAGIC);
		return foo.a_text + foo.a_data + foo.a_bss + foo.a_entry;

d9011 1
a9011 1
  tcl_ok=usable
d9016 1
a9016 14
tcl_ok=unusable
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
	    echo "$as_me:$LINENO: result: $tcl_ok" >&5
echo "${ECHO_T}$tcl_ok" >&6
	    if test $tcl_ok = usable; then
		cat >>confdefs.h <<\_ACEOF
#define USE_A_OUT_H 1
_ACEOF

	    else
		echo "$as_me:$LINENO: checking sys/exec_aout.h" >&5
echo $ECHO_N "checking sys/exec_aout.h... $ECHO_C" >&6
		cat >conftest.$ac_ext <<_ACEOF
d9022 2
a9023 1
#include <sys/exec_aout.h>
d9027 1
a9027 12

		    struct exec foo;
		    unsigned long seek;
		    int flag;
#if defined(__mips) || defined(mips)
		    seek = N_TXTOFF (foo.ex_f, foo.ex_o);
#else
		    seek = N_TXTOFF (foo);
#endif
		    flag = (foo.a_midmag == OMAGIC);
		    return foo.a_text + foo.a_data + foo.a_bss + foo.a_entry;

d9054 1
a9054 1
  tcl_ok=usable
d9059 6
a9064 83
tcl_ok=unusable
fi
rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
		echo "$as_me:$LINENO: result: $tcl_ok" >&5
echo "${ECHO_T}$tcl_ok" >&6
		if test $tcl_ok = usable; then
		    cat >>confdefs.h <<\_ACEOF
#define USE_SYS_EXEC_AOUT_H 1
_ACEOF

		else
		    DL_OBJS=""
		fi
	    fi
	fi
    fi

    # Step 5: disable dynamic loading if requested via a command-line switch.

    # Check whether --enable-load or --disable-load was given.
if test "${enable_load+set}" = set; then
  enableval="$enable_load"
  tcl_ok=$enableval
else
  tcl_ok=yes
fi;
    if test "$tcl_ok" = "no"; then
	DL_OBJS=""
    fi

    if test "x$DL_OBJS" != "x" ; then
	BUILD_DLTEST="\$(DLTEST_TARGETS)"
    else
	echo "Can't figure out how to do dynamic loading or shared libraries"
	echo "on this system."
	SHLIB_CFLAGS=""
	SHLIB_LD=""
	SHLIB_SUFFIX=""
	DL_OBJS="tclLoadNone.o"
	DL_LIBS=""
	LDFLAGS="$LDFLAGS_ORIG"
	LD_SEARCH_FLAGS=""
	BUILD_DLTEST=""
    fi

    # If we're running gcc, then change the C flags for compiling shared
    # libraries to the right flags for gcc, instead of those for the
    # standard manufacturer compiler.

    if test "$DL_OBJS" != "tclLoadNone.o" ; then
	if test "$GCC" = "yes" ; then
	    case $system in
		AIX-*)
		    ;;
		BSD/OS*)
		    ;;
		IRIX*)
		    ;;
		NetBSD-*|FreeBSD-*)
		    ;;
		Darwin-*)
		    ;;
		RISCos-*)
		    ;;
		SCO_SV-3.2*)
		    ;;
		ULTRIX-4.*)
		    ;;
		windows)
		    ;;
		*)
		    SHLIB_CFLAGS="-fPIC"
		    ;;
	    esac
	fi
    fi

    if test "$SHARED_LIB_SUFFIX" = "" ; then
	SHARED_LIB_SUFFIX='${PACKAGE_VERSION}${SHLIB_SUFFIX}'
    fi
    if test "$UNSHARED_LIB_SUFFIX" = "" ; then
	UNSHARED_LIB_SUFFIX='${PACKAGE_VERSION}.a'
    fi
d9066 1
d9068 3
d9072 2
d9076 1
a9076 17









    # These must be called after we do the basic CFLAGS checks and
    # verify any possible 64-bit or similar switches are necessary

    echo "$as_me:$LINENO: checking for required early compiler flags" >&5
echo $ECHO_N "checking for required early compiler flags... $ECHO_C" >&6
    tcl_flags=""

    if test "${tcl_cv_flag__isoc99_source+set}" = set; then
d9085 1
a9085 1
#include <stdlib.h>
d9089 1
a9089 1
char *p = (char *)strtoll; char *q = (char *)strtoull;
d9116 1
a9116 1
  tcl_cv_flag__isoc99_source=no
d9127 2
a9128 2
#define _ISOC99_SOURCE 1
#include <stdlib.h>
d9132 1
a9132 1
char *p = (char *)strtoll; char *q = (char *)strtoull;
d9159 1
a9159 1
  tcl_cv_flag__isoc99_source=yes
d9164 1
a9164 1
tcl_cv_flag__isoc99_source=no
d9171 4
a9174 3
    if test "x${tcl_cv_flag__isoc99_source}" = "xyes" ; then
	cat >>confdefs.h <<\_ACEOF
#define _ISOC99_SOURCE 1
d9177 1
a9177 1
	tcl_flags="$tcl_flags _ISOC99_SOURCE"
d9181 1
a9181 1
    if test "${tcl_cv_flag__largefile64_source+set}" = set; then
d9194 1
a9194 1
struct stat64 buf; int i = stat64("/", &buf);
d9221 1
a9221 1
  tcl_cv_flag__largefile64_source=no
d9232 1
a9232 1
#define _LARGEFILE64_SOURCE 1
d9237 1
a9237 1
struct stat64 buf; int i = stat64("/", &buf);
d9264 1
a9264 1
  tcl_cv_flag__largefile64_source=yes
d9269 1
a9269 1
tcl_cv_flag__largefile64_source=no
d9276 4
a9279 3
    if test "x${tcl_cv_flag__largefile64_source}" = "xyes" ; then
	cat >>confdefs.h <<\_ACEOF
#define _LARGEFILE64_SOURCE 1
d9282 1
a9282 1
	tcl_flags="$tcl_flags _LARGEFILE64_SOURCE"
d9399 2
a9400 1
	cat >>confdefs.h <<\_ACEOF
d9413 2
a9414 1
	cat >>confdefs.h <<_ACEOF
d9424 1
a9424 1
	if test "${tcl_cv_struct_dirent64+set}" = set; then
d9475 3
d9479 1
a9479 2
	if test "x${tcl_cv_struct_dirent64}" = "xyes" ; then
	    cat >>confdefs.h <<\_ACEOF
a9483 2
	echo "$as_me:$LINENO: result: ${tcl_cv_struct_dirent64}" >&5
echo "${ECHO_T}${tcl_cv_struct_dirent64}" >&6
d9487 1
a9487 1
	if test "${tcl_cv_struct_stat64+set}" = set; then
d9538 3
d9542 1
a9542 2
	if test "x${tcl_cv_struct_stat64}" = "xyes" ; then
	    cat >>confdefs.h <<\_ACEOF
d9547 103
a9649 2
	echo "$as_me:$LINENO: result: ${tcl_cv_struct_stat64}" >&5
echo "${ECHO_T}${tcl_cv_struct_stat64}" >&6
d9705 5
a9709 2
	if test "x${tcl_cv_type_off64_t}" = "xyes" ; then
	    cat >>confdefs.h <<\_ACEOF
d9713 5
a9718 2
	echo "$as_me:$LINENO: result: ${tcl_cv_type_off64_t}" >&5
echo "${ECHO_T}${tcl_cv_type_off64_t}" >&6
a9733 3

    DBGX=""

d9743 1
d9766 2
a9767 1
	cat >>confdefs.h <<\_ACEOF
d11933 1
a11933 1
    if test "${tcl_cv_member_tm_tzadj+set}" = set; then
d11982 1
a11982 2

    echo "$as_me:$LINENO: result: $tcl_cv_member_tm_tzadj" >&5
d11985 2
a11986 1
	cat >>confdefs.h <<\_ACEOF
d11994 1
a11994 1
    if test "${tcl_cv_member_tm_gmtoff+set}" = set; then
d12043 1
a12043 2

    echo "$as_me:$LINENO: result: $tcl_cv_member_tm_gmtoff" >&5
d12046 2
a12047 1
	cat >>confdefs.h <<\_ACEOF
d12059 1
a12059 1
    if test "${tcl_cv_var_timezone+set}" = set; then
d12110 1
a12110 2

    echo "$as_me:$LINENO: result: $tcl_cv_timezone_long" >&5
d12113 2
a12114 1
	cat >>confdefs.h <<\_ACEOF
d12124 1
a12124 1
	if test "${tcl_cv_timezone_time+set}" = set; then
d12175 1
a12175 2

	echo "$as_me:$LINENO: result: $tcl_cv_timezone_time" >&5
d12178 2
a12179 1
	    cat >>confdefs.h <<\_ACEOF
d16586 1
a16586 1
	# Some packages build there own stubs libraries
d16603 1
a16603 1
	# Some packages build there own stubs libraries
d16631 1
a16631 3
    # Allow the user to provide this setting in the env
    if test "x${TCLSH_PROG}" = "x" ; then
	echo "$as_me:$LINENO: checking for tclsh" >&5
d16633 24
a16656 36

	if test "${ac_cv_path_tclsh+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	search_path=`echo ${PATH} | sed -e 's/:/ /g'`
	if test "${TEA_PLATFORM}" != "windows" -o \
		\( "$do64bit_ok" = "no" -a "$doWince" = "no" \) ; then
	    # Do not allow target tclsh in known cross-compile builds,
	    # as we need one we can run on this system
	    search_path="${TCL_BIN_DIR} ${TCL_BIN_DIR}/../bin ${exec_prefix}/bin ${prefix}/bin ${search_path}"
	fi
	for dir in $search_path ; do
	    for j in `ls -r $dir/tclsh[8-9]*${EXEEXT} 2> /dev/null` \
		    `ls -r $dir/tclsh*${EXEEXT} 2> /dev/null` ; do
		if test x"$ac_cv_path_tclsh" = x ; then
		    if test -f "$j" ; then
			ac_cv_path_tclsh=$j
			break
		    fi
		fi
	    done
	done

fi


	if test -f "$ac_cv_path_tclsh" ; then
	    TCLSH_PROG=$ac_cv_path_tclsh
	    echo "$as_me:$LINENO: result: $TCLSH_PROG" >&5
echo "${ECHO_T}$TCLSH_PROG" >&6
	else
	    { { echo "$as_me:$LINENO: error: No tclsh found in PATH: $search_path" >&5
echo "$as_me: error: No tclsh found in PATH: $search_path" >&2;}
   { (exit 1); exit 1; }; }
	fi
d16658 2
a17323 1
s,@@TCLSH_PROG@@,$TCLSH_PROG,;t t
d17332 1
a17333 3
s,@@SHLIB_LD_LIBS@@,$SHLIB_LD_LIBS,;t t
s,@@LDFLAGS_DEBUG@@,$LDFLAGS_DEBUG,;t t
s,@@LDFLAGS_OPTIMIZE@@,$LDFLAGS_OPTIMIZE,;t t
d17375 1
@


5.55
log
@
	* Merged changes from the official versions 5.42.1 and 5.43.0 of
	  expect into the SF sources. See the details below.

	  --------------------
	  Martin Forssen <maf@@tkrat.xorg> fixed bug in ExpOutputProc
	  that caused misbehavior during partial writes.

	  Someone noted that gets stdin behaves differently (returns -1
	  immediately) from tclsh because with 5.42, stdin is unblocked by
	  defaults.

	  Robroy Gregg <robroy@@armory.xcom> noted that expect_background
	  ignores timeouts.  Added to documentation.

	  Jens Peterson <peterson@@redhat.xcom> provided patch for
	  "mkpasswd -vo".

	  Gary Bliesener <gary.bliesener@@nextel.xcom> noted that
	  multixterm failed on his system which had an old Tk that didn't
	  support the Tk package.

	  Removed beta designation.

	  Daniel A. Steffen <steffen@@ics.mq.edu.xau> provided patch for
	  MacOS to avoid panic-redefinition.
	  --------------------
@
text
@d2 1
a2 1

d4 1
a4 2
# Generated automatically using autoconf version 2.13 
# Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.
d6 1
d9 225
d235 20
a254 2
# Defaults:
ac_help=
d256 59
a314 23
# Any additions from configure.in:
ac_help="$ac_help
  --enable-threads        build with threads (not supported)"
ac_help="$ac_help
  --with-tcl           directory containing tcl configuration (tclConfig.sh)"
ac_help="$ac_help
  --with-tk           directory containing tk configuration (tkConfig.sh)"
ac_help="$ac_help
  --enable-symbols   allow use of symbols if available"
ac_help="$ac_help
  --with-tclinclude       directory where tcl private headers are"
ac_help="$ac_help
  --enable-shared     build libexpect as a shared library"
ac_help="$ac_help
  --enable-stubs     use Tcl stubs, if available"
ac_help="$ac_help
  --with-x               whether or not to use X (default yes)"
ac_help="$ac_help
  --with-tkinclude       directory where tk private headers are"
ac_help="$ac_help
  --disable-load     disallow dynamic loading"
ac_help="$ac_help
  --enable-gcc        allow use of gcc if available"
d317 2
d321 1
a321 2
build=NONE
cache_file=./config.cache
a322 1
host=NONE
a323 1
nonopt=NONE
a331 1
target=NONE
d335 6
a353 7
# Initialize some other variables.
subdirs=
MFLAGS= MAKEFLAGS=
SHELL=${CONFIG_SHELL-/bin/sh}
# Maximum number of lines to put in a shell here document.
ac_max_here_lines=12

a356 1

d364 1
a364 4
  case "$ac_option" in
  -*=*) ac_optarg=`echo "$ac_option" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
  *) ac_optarg= ;;
  esac
d368 1
a368 1
  case "$ac_option" in
d373 1
a373 1
    bindir="$ac_optarg" ;;
d376 1
a376 1
    ac_prev=build ;;
d378 1
a378 1
    build="$ac_optarg" ;;
d385 4
a388 1
    cache_file="$ac_optarg" ;;
d394 1
a394 1
    datadir="$ac_optarg" ;;
d397 1
a397 1
    ac_feature=`echo $ac_option|sed -e 's/-*disable-//'`
d399 5
a403 5
    if test -n "`echo $ac_feature| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    eval "enable_${ac_feature}=no" ;;
d406 1
a406 1
    ac_feature=`echo $ac_option|sed -e 's/-*enable-//' -e 's/=.*//'`
d408 6
a413 6
    if test -n "`echo $ac_feature| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    case "$ac_option" in
      *=*) ;;
d416 1
a416 1
    eval "enable_${ac_feature}='$ac_optarg'" ;;
d425 1
a425 1
    exec_prefix="$ac_optarg" ;;
d431 6
a436 54
  -help | --help | --hel | --he)
    # Omit some internal or obsolete options to make the list less imposing.
    # This message is too long to be a string in the A/UX 3.1 sh.
    cat << EOF
Usage: configure [options] [host]
Options: [defaults in brackets after descriptions]
Configuration:
  --cache-file=FILE       cache test results in FILE
  --help                  print this message
  --no-create             do not create output files
  --quiet, --silent       do not print \`checking...' messages
  --version               print the version of autoconf that created configure
Directory and file names:
  --prefix=PREFIX         install architecture-independent files in PREFIX
                          [$ac_default_prefix]
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                          [same as prefix]
  --bindir=DIR            user executables in DIR [EPREFIX/bin]
  --sbindir=DIR           system admin executables in DIR [EPREFIX/sbin]
  --libexecdir=DIR        program executables in DIR [EPREFIX/libexec]
  --datadir=DIR           read-only architecture-independent data in DIR
                          [PREFIX/share]
  --sysconfdir=DIR        read-only single-machine data in DIR [PREFIX/etc]
  --sharedstatedir=DIR    modifiable architecture-independent data in DIR
                          [PREFIX/com]
  --localstatedir=DIR     modifiable single-machine data in DIR [PREFIX/var]
  --libdir=DIR            object code libraries in DIR [EPREFIX/lib]
  --includedir=DIR        C header files in DIR [PREFIX/include]
  --oldincludedir=DIR     C header files for non-gcc in DIR [/usr/include]
  --infodir=DIR           info documentation in DIR [PREFIX/info]
  --mandir=DIR            man documentation in DIR [PREFIX/man]
  --srcdir=DIR            find the sources in DIR [configure dir or ..]
  --program-prefix=PREFIX prepend PREFIX to installed program names
  --program-suffix=SUFFIX append SUFFIX to installed program names
  --program-transform-name=PROGRAM
                          run sed PROGRAM on installed program names
EOF
    cat << EOF
Host type:
  --build=BUILD           configure for building on BUILD [BUILD=HOST]
  --host=HOST             configure for HOST [guessed]
  --target=TARGET         configure for TARGET [TARGET=HOST]
Features and packages:
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --x-includes=DIR        X include files are in DIR
  --x-libraries=DIR       X library files are in DIR
EOF
    if test -n "$ac_help"; then
      echo "--enable and --with options recognized:$ac_help"
    fi
    exit 0 ;;
d439 1
a439 1
    ac_prev=host ;;
d441 1
a441 1
    host="$ac_optarg" ;;
d448 1
a448 1
    includedir="$ac_optarg" ;;
d453 1
a453 1
    infodir="$ac_optarg" ;;
d458 1
a458 1
    libdir="$ac_optarg" ;;
d465 1
a465 1
    libexecdir="$ac_optarg" ;;
d474 1
a474 1
    localstatedir="$ac_optarg" ;;
d479 1
a479 1
    mandir="$ac_optarg" ;;
d486 1
a486 1
  | --no-cr | --no-c)
d500 1
a500 1
    oldincludedir="$ac_optarg" ;;
d505 1
a505 1
    prefix="$ac_optarg" ;;
d512 1
a512 1
    program_prefix="$ac_optarg" ;;
d519 1
a519 1
    program_suffix="$ac_optarg" ;;
d536 1
a536 1
    program_transform_name="$ac_optarg" ;;
d546 1
a546 1
    sbindir="$ac_optarg" ;;
d557 1
a557 1
    sharedstatedir="$ac_optarg" ;;
d562 1
a562 1
    site="$ac_optarg" ;;
d567 1
a567 1
    srcdir="$ac_optarg" ;;
d574 1
a574 1
    sysconfdir="$ac_optarg" ;;
d577 1
a577 1
    ac_prev=target ;;
d579 1
a579 1
    target="$ac_optarg" ;;
d584 2
a585 3
  -version | --version | --versio | --versi | --vers)
    echo "configure generated by autoconf version 2.13"
    exit 0 ;;
d588 1
a588 1
    ac_package=`echo $ac_option|sed -e 's/-*with-//' -e 's/=.*//'`
d590 3
a592 3
    if test -n "`echo $ac_package| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
d594 2
a595 2
    case "$ac_option" in
      *=*) ;;
d598 1
a598 1
    eval "with_${ac_package}='$ac_optarg'" ;;
d601 1
a601 1
    ac_package=`echo $ac_option|sed -e 's/-*without-//'`
d603 5
a607 5
    if test -n "`echo $ac_package| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    eval "with_${ac_package}=no" ;;
d618 1
a618 1
    x_includes="$ac_optarg" ;;
d625 1
a625 1
    x_libraries="$ac_optarg" ;;
d627 3
a629 1
  -*) { echo "configure: error: $ac_option: invalid option; use --help to show usage" 1>&2; exit 1; }
d632 10
d643 5
a647 7
    if test -n "`echo $ac_option| sed 's/[-a-z0-9.]//g'`"; then
      echo "configure: warning: $ac_option: invalid host type" 1>&2
    fi
    if test "x$nonopt" != xNONE; then
      { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; }
    fi
    nonopt="$ac_option"
d654 3
a656 1
  { echo "configure: error: missing argument to --`echo $ac_prev | sed 's/_/-/g'`" 1>&2; exit 1; }
d659 10
a668 16
trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

# File descriptor usage:
# 0 standard input
# 1 file creation
# 2 errors and warnings
# 3 some systems may open it to /dev/tty
# 4 used on the Kubota Titan
# 6 checking for... messages and results
# 5 compiler messages saved in config.log
if test "$silent" = yes; then
  exec 6>/dev/null
else
  exec 6>&1
fi
exec 5>./config.log
d670 3
a672 9
echo "\
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.
" 1>&5

# Strip out --no-create and --no-recursion so they do not pile up.
# Also quote any args containing shell metacharacters.
ac_configure_args=
for ac_arg
d674 5
a678 8
  case "$ac_arg" in
  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c) ;;
  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
  *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?]*)
  ac_configure_args="$ac_configure_args '$ac_arg'" ;;
  *) ac_configure_args="$ac_configure_args $ac_arg" ;;
d682 20
a701 9
# NLS nuisances.
# Only set these to C if already set.  These must not be set unconditionally
# because not all systems understand e.g. LANG=C (notably SCO).
# Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
# Non-C LC_CTYPE values break the ctype check.
if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi
d703 1
a703 4
# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -rf conftest* confdefs.h
# AIX cpp loses on an empty file, so make sure it contains at least a newline.
echo > confdefs.h
a704 3
# A filename unique to this package, relative to the directory that
# configure is in, which we can look for to find out if srcdir is correct.
ac_unique_file=expect.h
d710 12
a721 3
  ac_prog=$0
  ac_confdir=`echo $ac_prog|sed 's%/[^/][^/]*$%%'`
  test "x$ac_confdir" = "x$ac_prog" && ac_confdir=.
d731 2
a732 1
    { echo "configure: error: can not find sources in $ac_confdir or .." 1>&2; exit 1; }
d734 2
a735 1
    { echo "configure: error: can not find sources in $srcdir" 1>&2; exit 1; }
d738 47
a784 1
srcdir=`echo "${srcdir}" | sed 's%\([^/]\)/*$%\1%'`
d786 4
a789 14
# Prefer explicitly selected file to automatically selected ones.
if test -z "$CONFIG_SITE"; then
  if test "x$prefix" != xNONE; then
    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
  else
    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
  fi
fi
for ac_site_file in $CONFIG_SITE; do
  if test -r "$ac_site_file"; then
    echo "loading site script $ac_site_file"
    . "$ac_site_file"
  fi
done
d791 10
d802 1
a802 6
ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross
d804 6
a809 13
ac_exeext=
ac_objext=o
if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
  # Stardent Vistra SVR4 grep lacks -e, says ghazi@@caip.rutgers.edu.
  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
    ac_n= ac_c='
' ac_t='	'
  else
    ac_n=-n ac_c= ac_t=
  fi
else
  ac_n= ac_c='\c' ac_t=
fi
d811 36
d848 10
d859 53
a911 10
# note when updating version numbers here, also update pkgIndex.in (see
# comments in Makefile)
EXP_MAJOR_VERSION=5
EXP_MINOR_VERSION=43
EXP_MICRO_VERSION=0
EXP_VERSION=$EXP_MAJOR_VERSION.$EXP_MINOR_VERSION
EXP_VERSION_NODOTS=$EXP_MAJOR_VERSION$EXP_MINOR_VERSION
EXP_VERSION_FULL=$EXP_VERSION.$EXP_MICRO_VERSION
# Tcl's handling of shared_lib_suffix requires this symbol exist
VERSION=$EXP_MAJOR_VERSION.$EXP_MINOR_VERSION
d913 38
a950 3
# Too many people send me configure output without identifying the version.
# This forced identification should reduce my pain significantly.
echo "configuring Expect $EXP_MAJOR_VERSION.$EXP_MINOR_VERSION.$EXP_MICRO_VERSION"
d952 14
a965 26
# People (when downloading Expect from CVS archive) sometimes run into
# Make thinking configure is old and needs to be rebuilt.  If they
# don't have a clue about autoconf, they get confused.  This is
# particular irritating because the problem only crops up after
# configure has successfully completed.  Help them out by checking it
# right now and giving some advice.  Alas, we cannot summarily fix the
# problem because it might conceivably be someone doing real
# development.
# Test if configure is older than configure.in and explain if no autoconf
# Extract the first word of "autoconf", so it can be a program name with args.
set dummy autoconf; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:568: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_found'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$found"; then
  ac_cv_prog_found="$found" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_found="yes"
      break
d967 1
a968 2
  IFS="$ac_save_ifs"
  test -z "$ac_cv_prog_found" && ac_cv_prog_found="no"
d970 12
d983 106
a1088 6
found="$ac_cv_prog_found"
if test -n "$found"; then
  echo "$ac_t""$found" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
d1090 9
d1100 22
a1121 3
# Removed the checking and complaint. It makes automatic building
# straight out of the CVS a true hassle simply because the build
# can stop anytime and randomly (platform dependent, cvs dependent)
d1123 27
d1151 20
a1170 11
ac_aux_dir=
for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
  if test -f $ac_dir/install-sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install-sh -c"
    break
  elif test -f $ac_dir/install.sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install.sh -c"
    break
  fi
d1172 1
a1172 20
if test -z "$ac_aux_dir"; then
  { echo "configure: error: can not find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." 1>&2; exit 1; }
fi
ac_config_guess=$ac_aux_dir/config.guess
ac_config_sub=$ac_aux_dir/config.sub
ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.


# Do some error checking and defaulting for the host and target type.
# The inputs are:
#    configure --host=HOST --target=TARGET --build=BUILD NONOPT
#
# The rules are:
# 1. You are not allowed to specify --host, --target, and nonopt at the
#    same time.
# 2. Host defaults to nonopt.
# 3. If nonopt is not specified, then host defaults to the current host,
#    as determined by config.guess.
# 4. Target and build default to nonopt.
# 5. If nonopt is not specified, then target and build default to host.
d1174 4
a1177 6
# The aliases save the names the user supplied, while $host etc.
# will get canonicalized.
case $host---$target---$nonopt in
NONE---*---* | *---NONE---* | *---*---NONE) ;;
*) { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; } ;;
esac
d1179 1
d1181 3
a1183 4
# Make sure we can run config.sub.
if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :
else { echo "configure: error: can not run $ac_config_sub" 1>&2; exit 1; }
fi
a1184 2
echo $ac_n "checking host system type""... $ac_c" 1>&6
echo "configure:648: checking host system type" >&5
d1186 3
a1188 11
host_alias=$host
case "$host_alias" in
NONE)
  case $nonopt in
  NONE)
    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :
    else { echo "configure: error: can not guess host type; you must specify one" 1>&2; exit 1; }
    fi ;;
  *) host_alias=$nonopt ;;
  esac ;;
esac
a1189 41
host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`
host_cpu=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
host_vendor=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
host_os=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
echo "$ac_t""$host" 1>&6

echo $ac_n "checking target system type""... $ac_c" 1>&6
echo "configure:669: checking target system type" >&5

target_alias=$target
case "$target_alias" in
NONE)
  case $nonopt in
  NONE) target_alias=$host_alias ;;
  *) target_alias=$nonopt ;;
  esac ;;
esac

target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`
target_cpu=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
target_vendor=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
target_os=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
echo "$ac_t""$target" 1>&6

echo $ac_n "checking build system type""... $ac_c" 1>&6
echo "configure:687: checking build system type" >&5

build_alias=$build
case "$build_alias" in
NONE)
  case $nonopt in
  NONE) build_alias=$host_alias ;;
  *) build_alias=$nonopt ;;
  esac ;;
esac

build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`
build_cpu=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
build_vendor=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
build_os=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
echo "$ac_t""$build" 1>&6
d1191 3
a1193 4
test "$host_alias" != "$target_alias" &&
  test "$program_prefix$program_suffix$program_transform_name" = \
    NONENONEs,x,x, &&
  program_prefix=${target_alias}-
d1196 3
d1201 3
a1203 8
# /bin/sh on some systems is too deficient (in particular, Ultrix 4.3
# sh lacks unset and we *need* that), but all these systems come with
# alternatives, so take user's choice or whatever we're using here and
# allow it to be seen by Make.
echo $ac_n "checking shell to use within Make""... $ac_c" 1>&6
echo "configure:717: checking shell to use within Make" >&5
EXP_CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
echo "$ac_t""$CONFIG_SHELL" 1>&6
a1204 5
# If `configure' is invoked (in)directly via `make', ensure that it
# encounters no `make' conflicts.
#
MFLAGS=
MAKEFLAGS=
d1206 8
a1213 48
# An explanation is in order for the strange things going on with the
# various LIBS.  There are three separate definitions for LIBS.  The
# reason is that some systems require shared libraries include
# references to their dependent libraries, i.e., any additional
# libraries that must be linked to.  And some systems get upset if the
# references are repeated on the link line.  So therefore, we create
# one for Expect and Tk (EXP_AND_TK_LIBS), one for Expect and Tcl
# (EXP_AND_TCL_LIBS), and finally, one for building Expect's own
# shared library.  Tcl's tclConfig.sh insists that any shared libs
# that it "helps" build must pass the libraries as LIBS (see comment
# near end of this configure file).  I would do but since we're close
# to hitting config's max symbols, we take one short cut and pack the
# LIBS into EXP_SHLIB_LD_LIBS (which is basically what Tcl wants to do
# for us).  The point, however, is that there's no separate LIBS or
# EXP_LIBS symbol passed out of configure.  One additional point for
# confusion is that LIBS is what configure uses to do all library
# tests, so we have to swap definitions of LIBS peridically.  When we
# are swapping out the one for Expect's shared library, we save it in
# EXP_LIBS.  Sigh.

OLD_CFLAGS=$CFLAGS
# Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:751: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="gcc"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
d1215 8
d1224 10
a1233 38
if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:781: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_prog_rejected=no
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
        ac_prog_rejected=yes
	continue
      fi
      ac_cv_prog_CC="cc"
      break
    fi
  done
  IFS="$ac_save_ifs"
if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# -gt 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    set dummy "$ac_dir/$ac_word" "$@@"
    shift
    ac_cv_prog_CC="$@@"
a1234 6
fi
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
d1236 45
a1280 35
  echo "$ac_t""no" 1>&6
fi

  if test -z "$CC"; then
    case "`uname -s`" in
    *win32* | *WIN32*)
      # Extract the first word of "cl", so it can be a program name with args.
set dummy cl; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:832: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="cl"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
 ;;
d1283 7
a1289 1
  test -z "$CC" && { echo "configure: error: no acceptable cc found in \$PATH" 1>&2; exit 1; }
a1291 3
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
echo "configure:864: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5

a1292 1
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
d1294 10
a1303 3
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross
a1304 1
cat > conftest.$ac_ext << EOF
a1305 2
#line 875 "configure"
#include "confdefs.h"
a1306 22
main(){return(0);}
EOF
if { (eval echo configure:880: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  ac_cv_prog_cc_works=yes
  # If we can't run a trivial program, we are probably using a cross compiler.
  if (./conftest; exit) 2>/dev/null; then
    ac_cv_prog_cc_cross=no
  else
    ac_cv_prog_cc_cross=yes
  fi
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_prog_cc_works=no
fi
rm -fr conftest*
ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross
a1307 8
echo "$ac_t""$ac_cv_prog_cc_works" 1>&6
if test $ac_cv_prog_cc_works = no; then
  { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
fi
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
echo "configure:906: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
cross_compiling=$ac_cv_prog_cc_cross
a1308 16
echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
echo "configure:911: checking whether we are using GNU C" >&5
if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.c <<EOF
#ifdef __GNUC__
  yes;
#endif
EOF
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:920: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
  ac_cv_prog_gcc=yes
else
  ac_cv_prog_gcc=no
fi
fi
a1309 1
echo "$ac_t""$ac_cv_prog_gcc" 1>&6
a1310 5
if test $ac_cv_prog_gcc = yes; then
  GCC=yes
else
  GCC=
fi
a1311 15
ac_test_CFLAGS="${CFLAGS+set}"
ac_save_CFLAGS="$CFLAGS"
CFLAGS=
echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
echo "configure:939: checking whether ${CC-cc} accepts -g" >&5
if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo 'void f(){}' > conftest.c
if test -z "`${CC-cc} -g -c conftest.c 2>&1`"; then
  ac_cv_prog_cc_g=yes
else
  ac_cv_prog_cc_g=no
fi
rm -f conftest*
a1312 1
fi
a1313 16
echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
if test "$ac_test_CFLAGS" = set; then
  CFLAGS="$ac_save_CFLAGS"
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi
a1314 1
CFLAGS=$OLD_CFLAGS
a1315 4
#------------------------------------------------------------------------
# Hook for when threading is supported in Expect.  The --enable-threads
# flag currently has no effect.
#------------------------------------------------------------------------
a1317 9
    echo $ac_n "checking for building with threads""... $ac_c" 1>&6
echo "configure:979: checking for building with threads" >&5
    # Check whether --enable-threads or --disable-threads was given.
if test "${enable_threads+set}" = set; then
  enableval="$enable_threads"
  tcl_ok=$enableval
else
  tcl_ok=no
fi
a1319 21
    if test "$tcl_ok" = "yes"; then
	  echo "configure: warning: Expect is not fully thread-enabled.  Although significant work has been done towards that goal, it is not complete.  Continue compiling at your own risk." 1>&2
    fi
#    if test "$tcl_ok" = "yes"; then
#	AC_MSG_RESULT(yes)
#	TCL_THREADS=1
#	AC_DEFINE(TCL_THREADS)
#	AC_DEFINE(_REENTRANT)
#
#	AC_CHECK_LIB(pthread,pthread_mutex_init,tcl_ok=yes,tcl_ok=no)
#	if test "$tcl_ok" = "yes"; then
#	    # The space is needed
#	    THREADS_LIBS=" -lpthread"
#	else
#	    TCL_THREADS=0
#	    AC_MSG_WARN("Don t know how to find pthread lib on your system - you must disable thread support or edit the LIBS in the Makefile...")
#	fi
#    else
#	TCL_THREADS=0
#	AC_MSG_RESULT(no (default))
#    fi
a1320 1
    echo "$ac_t""no (default)" 1>&6
a1324 5
#
# Ok, lets find the tcl configuration
# First, look for one uninstalled.  
# the alternative search directory is invoked by --with-tcl
#
d1326 3
a1328 8
if test x"${no_tcl}" = x ; then
  # we reset no_tcl in case something fails here
  no_tcl=true
  # Check whether --with-tcl or --without-tcl was given.
if test "${with_tcl+set}" = set; then
  withval="$with_tcl"
  with_tclconfig=${withval}
fi
d1330 18
a1347 11
  echo $ac_n "checking for Tcl configuration""... $ac_c" 1>&6
echo "configure:1032: checking for Tcl configuration" >&5
  if eval "test \"`echo '$''{'ac_cv_c_tclconfig'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  

  # First check to see if --with-tcl was specified.
  if test x"${with_tclconfig}" != x ; then
    if test -f "${with_tclconfig}/tclConfig.sh" ; then
      ac_cv_c_tclconfig=`(cd ${with_tclconfig}; pwd)`
d1349 2
a1350 1
      { echo "configure: error: ${with_tclconfig} directory doesn't contain tclConfig.sh" 1>&2; exit 1; }
d1352 22
d1375 2
d1378 1
a1378 40
  # then check for a private Tcl installation
  if test x"${ac_cv_c_tclconfig}" = x ; then
    for i in \
		../tcl \
		`ls -dr ../tcl[9].[0-9].[0-9] ../tcl[9].[0-9] 2>/dev/null` \
		`ls -dr ../tcl[8].[2-9].[0-9] ../tcl[8].[2-9] 2>/dev/null` \
		../../tcl \
		`ls -dr ../../tcl[9].[0-9].[0-9] ../../tcl[9].[0-9] 2>/dev/null` \
		`ls -dr ../../tcl[8].[2-9].[0-9] ../../tcl[8].[2-9] 2>/dev/null` \
		../../../tcl \
		`ls -dr ../../../tcl[9].[0-9].[0-9] ../../../tcl[9].[0-9] 2>/dev/null` \
		`ls -dr ../../../tcl[8].[2-9].[0-9] ../../../tcl[8].[2-9] 2>/dev/null` ; do
      if test -f "$i/unix/tclConfig.sh" ; then
        ac_cv_c_tclconfig=`(cd $i/unix; pwd)`
	break
      fi
    done
  fi
  # check in a few common install locations
  if test x"${ac_cv_c_tclconfig}" = x ; then
    for i in `ls -d ${prefix}/lib /usr/local/lib 2>/dev/null` ; do
      if test -f "$i/tclConfig.sh" ; then
        ac_cv_c_tclconfig=`(cd $i; pwd)`
	break
      fi
    done
  fi
  # check in a few other private locations
  if test x"${ac_cv_c_tclconfig}" = x ; then
    for i in \
		${srcdir}/../tcl \
		`ls -dr ${srcdir}/../tcl[9].[0-9].[0-9] ${srcdir}/../tcl[9].[0-9] 2>/dev/null` \
		`ls -dr ${srcdir}/../tcl[8].[2-9].[0-9] ${srcdir}/../tcl[8].[2-9] 2>/dev/null` ; do
      if test -f "$i/unix/tclConfig.sh" ; then
        ac_cv_c_tclconfig=`(cd $i/unix; pwd)`
	break
      fi
    done
  fi
  
a1379 9

  if test x"${ac_cv_c_tclconfig}" = x ; then
    TCLCONFIG="# no Tcl configs found"
    echo "configure: warning: Can't find Tcl configuration definitions" 1>&2
  else
    no_tcl=
    TCLCONFIG=${ac_cv_c_tclconfig}/tclConfig.sh
    echo "$ac_t""found $TCLCONFIG" 1>&6
  fi
d1381 18
d1400 8
a1408 1
    . $TCLCONFIG
a1409 3
    
    
    
d1412 1
d1414 1
a1414 1
    
a1415 1
    
d1417 2
a1418 4
# Tcl defines TCL_SHLIB_SUFFIX but TCL_SHARED_LIB_SUFFIX then looks for it
# as just SHLIB_SUFFIX.  How bizarre.
    SHLIB_SUFFIX=$TCL_SHLIB_SUFFIX
    
a1419 1
    
a1420 8
# if Tcl's build directory has been removed, TCL_LIB_SPEC should
# be used instead of TCL_BUILD_LIB_SPEC
SAVELIBS=$LIBS
# eval used to expand out TCL_DBGX
eval "LIBS=\"$TCL_BUILD_LIB_SPEC $TCL_LIBS\""
echo $ac_n "checking Tcl build library""... $ac_c" 1>&6
echo "configure:1125: checking Tcl build library" >&5
echo "$ac_t""$LIBS" 1>&6
a1421 15
echo $ac_n "checking for Tcl_CreateCommand""... $ac_c" 1>&6
echo "configure:1129: checking for Tcl_CreateCommand" >&5
if eval "test \"`echo '$''{'ac_cv_func_Tcl_CreateCommand'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1134 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char Tcl_CreateCommand(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char Tcl_CreateCommand();
a1422 1
int main() {
a1423 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_Tcl_CreateCommand) || defined (__stub___Tcl_CreateCommand)
choke me
#else
Tcl_CreateCommand();
#endif
a1424 13
; return 0; }
EOF
if { (eval echo configure:1157: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_Tcl_CreateCommand=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_Tcl_CreateCommand=no"
fi
rm -f conftest*
fi
a1425 6
if eval "test \"`echo '$ac_cv_func_'Tcl_CreateCommand`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	echo $ac_n "checking if Tcl library build specification is valid""... $ac_c" 1>&6
echo "configure:1173: checking if Tcl library build specification is valid" >&5
	echo "$ac_t""yes" 1>&6
a1426 2
else
  echo "$ac_t""no" 1>&6
d1428 24
a1451 6
	TCL_BUILD_LIB_SPEC=$TCL_LIB_SPEC
	# Can't pull the following CHECKING call out since it will be
	# broken up by the CHECK_FUNC just above.
	echo $ac_n "checking if Tcl library build specification is valid""... $ac_c" 1>&6
echo "configure:1183: checking if Tcl library build specification is valid" >&5
	echo "$ac_t""no" 1>&6
a1452 1
fi
d1454 2
a1455 1
LIBS=$SAVELIBS
d1457 1
a1457 2
    
    
d1459 2
a1460 1
    
a1462 2
CC=$TCL_CC
EXP_AND_TCL_LIBS=$TCL_LIBS
a1463 5
#
# Ok, lets find the tk configuration
# First, look for one uninstalled.  
# the alternative search directory is invoked by --with-tk
#
d1465 9
a1473 8
if test x"${no_tk}" = x ; then
  # we reset no_tk in case something fails here
  no_tk=true
  # Check whether --with-tk or --without-tk was given.
if test "${with_tk+set}" = set; then
  withval="$with_tk"
  with_tkconfig=${withval}
fi
d1475 20
a1494 14
  echo $ac_n "checking for Tk configuration""... $ac_c" 1>&6
echo "configure:1215: checking for Tk configuration" >&5
  if eval "test \"`echo '$''{'ac_cv_c_tkconfig'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  

  # First check to see if --with-tk was specified.
  if test x"${with_tkconfig}" != x ; then
    if test -f "${with_tkconfig}/tkConfig.sh" ; then
      ac_cv_c_tkconfig=`(cd ${with_tkconfig}; pwd)`
    else
      { echo "configure: error: ${with_tkconfig} directory doesn't contain tkConfig.sh" 1>&2; exit 1; }
    fi
d1496 2
d1499 10
a1508 40
  # then check for a private Tk library
  if test x"${ac_cv_c_tkconfig}" = x ; then
    for i in \
		../tk \
		`ls -dr ../tk[4-9].[0-9].[0-9] ../tk[4-9].[0-9] 2>/dev/null` \
		`ls -dr ../tk[4-9].[0-9].[0-9] ../tk[4-9].[0-9] 2>/dev/null` \
		../../tk \
		`ls -dr ../../tk[4-9].[0-9].[0-9] ../../tk[4-9].[0-9] 2>/dev/null` \
		`ls -dr ../../tk[4-9].[0-9].[0-9] ../../tk[4-9].[0-9] 2>/dev/null` \
		../../../tk \
		`ls -dr ../../../tk[4-9].[0-9].[0-9] ../../../tk[4-9].[0-9] 2>/dev/null` \
		`ls -dr ../../../tk[4-9].[0-9].[0-9] ../../../tk[4-9].[0-9] 2>/dev/null` ; do
      if test -f "$i/unix/tkConfig.sh" ; then
        ac_cv_c_tkconfig=`(cd $i/unix; pwd)`
	break
      fi
    done
  fi
  # check in a few common install locations
  if test x"${ac_cv_c_tkconfig}" = x ; then
    for i in `ls -d ${prefix}/lib /usr/local/lib 2>/dev/null` ; do
      if test -f "$i/tkConfig.sh" ; then
        ac_cv_c_tkconfig=`(cd $i; pwd)`
	break
      fi
    done
  fi
  # check in a few other private locations
  if test x"${ac_cv_c_tkconfig}" = x ; then
    for i in \
		${srcdir}/../tk \
		`ls -dr ${srcdir}/../tk[4-9].[0-9].[0-9] ${srcdir}/../tk[4-9].[0-9] 2>/dev/null` \
		`ls -dr ${srcdir}/../tk[4-9].[0-9].[0-9] ${srcdir}/../tk[4-9].[0-9] 2>/dev/null` ; do
      if test -f "$i/unix/tkConfig.sh" ; then
        ac_cv_c_tkconfig=`(cd $i/unix; pwd)`
	break
      fi
    done
  fi
  
a1510 9
  if test x"${ac_cv_c_tkconfig}" = x ; then
    TKCONFIG="# no Tk configs found"
    echo "configure: warning: Can't find Tk configuration definitions" 1>&2
  else
    no_tk=
    TKCONFIG=${ac_cv_c_tkconfig}/tkConfig.sh
    echo "$ac_t""found $TKCONFIG" 1>&6
  fi
fi
d1512 9
d1522 3
a1525 3
    if test -f "$TKCONFIG" ; then
      . $TKCONFIG
    fi
a1526 2
    
    
d1528 149
a1676 2
    
    
a1678 2
    
    
a1679 20
# if Tk's build directory has been removed, TK_LIB_SPEC should
# be used instead of TK_BUILD_LIB_SPEC
SAVELIBS=$LIBS
# eval used to expand out TK_DBGX
eval "LIBS=\"$TK_BUILD_LIB_SPEC $TCL_BUILD_LIB_SPEC $TK_LIBS\""
echo $ac_n "checking for Tk_Init""... $ac_c" 1>&6
echo "configure:1304: checking for Tk_Init" >&5
if eval "test \"`echo '$''{'ac_cv_func_Tk_Init'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1309 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char Tk_Init(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char Tk_Init();
a1680 1
int main() {
a1681 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_Tk_Init) || defined (__stub___Tk_Init)
choke me
#else
Tk_Init();
#endif
a1682 13
; return 0; }
EOF
if { (eval echo configure:1332: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_Tk_Init=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_Tk_Init=no"
fi
rm -f conftest*
fi
a1683 6
if eval "test \"`echo '$ac_cv_func_'Tk_Init`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	echo $ac_n "checking if Tk library build specification is valid""... $ac_c" 1>&6
echo "configure:1348: checking if Tk library build specification is valid" >&5
	echo "$ac_t""yes" 1>&6
a1684 2
else
  echo "$ac_t""no" 1>&6
a1685 6
	TK_BUILD_LIB_SPEC=$TK_LIB_SPEC
	# Can't pull the following CHECKING call out since it will be
	# broken up by the CHECK_FUNC just above.
	echo $ac_n "checking if Tk library build specification is valid""... $ac_c" 1>&6
echo "configure:1358: checking if Tk library build specification is valid" >&5
	echo "$ac_t""no" 1>&6
a1686 1
fi
a1687 1
LIBS=$SAVELIBS
a1688 2
    
    
a1689 1
EXP_AND_TK_LIBS=$TK_LIBS
a1691 6
# If we cannot compile and link a trivial program, we can't expect anything to work
echo $ac_n "checking whether the compiler ($CC) actually works""... $ac_c" 1>&6
echo "configure:1373: checking whether the compiler ($CC) actually works" >&5
cat > conftest.$ac_ext <<EOF
#line 1375 "configure"
#include "confdefs.h"
d1693 2
a1694 14
int main() {
/* don't need anything here */
; return 0; }
EOF
if { (eval echo configure:1382: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  c_compiles=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  c_compiles=no
fi
rm -f conftest*
a1695 18
cat > conftest.$ac_ext <<EOF
#line 1394 "configure"
#include "confdefs.h"

int main() {
/* don't need anything here */
; return 0; }
EOF
if { (eval echo configure:1401: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  c_links=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  c_links=no
fi
rm -f conftest*
a1696 3
if test x"${c_compiles}" = x"no" ; then
  { echo "configure: error: the native compiler is broken and won't compile." 1>&2; exit 1; }
fi
d1698 5
a1702 4
if test x"${c_links}" = x"no" ; then
  { echo "configure: error: the native compiler is broken and won't link." 1>&2; exit 1; }
fi
echo "$ac_t""yes" 1>&6
d1704 3
d1708 92
a1799 37
# this'll use a BSD compatible install or our included install-sh
# Find a good install program.  We prefer a C program (faster),
# so one script is as good as another.  But avoid the broken or
# incompatible versions:
# SysV /etc/install, /usr/sbin/install
# SunOS /usr/etc/install
# IRIX /sbin/install
# AIX /bin/install
# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
# AFS /usr/afsws/bin/install, which mishandles nonexistent args
# SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
# ./install, which can be erroneously created by make from ./install.sh.
echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
echo "configure:1435: checking for a BSD compatible install" >&5
if test -z "$INSTALL"; then
if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS=":"
  for ac_dir in $PATH; do
    # Account for people who put trailing slashes in PATH elements.
    case "$ac_dir/" in
    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
    *)
      # OSF1 and SCO ODT 3.0 have their own names for install.
      # Don't use installbsd from OSF since it installs stuff as root
      # by default.
      for ac_prog in ginstall scoinst install; do
        if test -f $ac_dir/$ac_prog; then
	  if test $ac_prog = install &&
            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
	    # AIX install.  It has an incompatible calling convention.
	    :
	  else
	    ac_cv_path_install="$ac_dir/$ac_prog -c"
	    break 2
	  fi
d1801 45
a1845 5
      done
      ;;
    esac
  done
  IFS="$ac_save_IFS"
a1846 12
fi
  if test "${ac_cv_path_install+set}" = set; then
    INSTALL="$ac_cv_path_install"
  else
    # As a last resort, use the slow shell script.  We don't cache a
    # path for INSTALL within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the path is relative.
    INSTALL="$ac_install_sh"
  fi
fi
echo "$ac_t""$INSTALL" 1>&6
a1847 3
# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
# It thinks the first close brace ends the variable substitution.
test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'
a1848 1
test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'
a1849 1
test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'
a1851 30
# Tcl sets TCL_RANLIB appropriately for shared library if --enable-shared
# Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1492: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_RANLIB="ranlib"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_prog_RANLIB" && ac_cv_prog_RANLIB=":"
fi
fi
RANLIB="$ac_cv_prog_RANLIB"
if test -n "$RANLIB"; then
  echo "$ac_t""$RANLIB" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
a1852 1
UNSHARED_RANLIB=$RANLIB
a1853 2
# these are the other subdirectories we need to configure
subdirs="testsuite"
a1855 85
# This is for LynxOS, which needs a flag to force true POSIX when
# building.  The flag varies depending how old the compiler is.
# -X is for the old "cc" and "gcc" (based on 1.42)
# -mposix is for the new gcc (at least 2.5.8)
# This modifies the value of $CC to have the POSIX flag added
# so it'll configure correctly
echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
echo "configure:1532: checking how to run the C preprocessor" >&5
# On Suns, sometimes $CPP names a directory.
if test -n "$CPP" && test -d "$CPP"; then
  CPP=
fi
if test -z "$CPP"; then
if eval "test \"`echo '$''{'ac_cv_prog_CPP'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
    # This must be in double quotes, not single quotes, because CPP may get
  # substituted into the Makefile and "${CC-cc}" will confuse make.
  CPP="${CC-cc} -E"
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp.
  cat > conftest.$ac_ext <<EOF
#line 1547 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1553: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -E -traditional-cpp"
  cat > conftest.$ac_ext <<EOF
#line 1564 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1570: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -nologo -E"
  cat > conftest.$ac_ext <<EOF
#line 1581 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1587: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP=/lib/cpp
fi
rm -f conftest*
fi
rm -f conftest*
fi
rm -f conftest*
  ac_cv_prog_CPP="$CPP"
fi
  CPP="$ac_cv_prog_CPP"
else
  ac_cv_prog_CPP="$CPP"
fi
echo "$ac_t""$CPP" 1>&6
a1857 14
echo $ac_n "checking if running LynxOS""... $ac_c" 1>&6
echo "configure:1613: checking if running LynxOS" >&5
if eval "test \"`echo '$''{'ac_cv_os_lynx'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1618 "configure"
#include "confdefs.h"
/*
 * The old Lynx "cc" only defines "Lynx", but the newer one uses "__Lynx__"
 */
#if defined(__Lynx__) || defined(Lynx)
yes
#endif
a1858 10
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  rm -rf conftest*
  ac_cv_os_lynx=yes
else
  rm -rf conftest*
  ac_cv_os_lynx=no
fi
rm -f conftest*
d1860 4
a1863 1
fi
a1864 6
#
if test "$ac_cv_os_lynx" = "yes" ; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define LYNX 1
EOF
d1866 24
a1889 8
  echo $ac_n "checking whether -mposix or -X is available""... $ac_c" 1>&6
echo "configure:1648: checking whether -mposix or -X is available" >&5
  if eval "test \"`echo '$''{'ac_cv_c_posix_flag'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1653 "configure"
#include "confdefs.h"
a1890 1
int main() {
d1892 6
a1897 22
  /*
   * This flag varies depending on how old the compiler is.
   * -X is for the old "cc" and "gcc" (based on 1.42).
   * -mposix is for the new gcc (at least 2.5.8).
   */
  #if defined(__GNUC__) && __GNUC__ >= 2
  choke me
  #endif
  
; return 0; }
EOF
if { (eval echo configure:1669: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_c_posix_flag=" -mposix"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_c_posix_flag=" -X"
fi
rm -f conftest*
fi
a1898 5
  CC="$CC $ac_cv_c_posix_flag"
  echo "$ac_t""$ac_cv_c_posix_flag" 1>&6
  else
  echo "$ac_t""no" 1>&6
fi
d1900 8
d1909 12
a1920 4
echo $ac_n "checking for ANSI C header files""... $ac_c" 1>&6
echo "configure:1689: checking for ANSI C header files" >&5
if eval "test \"`echo '$''{'ac_cv_header_stdc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d1922 2
a1923 14
  cat > conftest.$ac_ext <<EOF
#line 1694 "configure"
#include "confdefs.h"
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1702: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  ac_cv_header_stdc=yes
d1925 15
a1939 5
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_header_stdc=no
d1941 4
a1944 12
rm -f conftest*

if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
cat > conftest.$ac_ext <<EOF
#line 1719 "configure"
#include "confdefs.h"
#include <string.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "memchr" >/dev/null 2>&1; then
  :
d1946 2
a1947 2
  rm -rf conftest*
  ac_cv_header_stdc=no
a1948 1
rm -f conftest*
d1951 25
d1977 6
a1982 10
if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
cat > conftest.$ac_ext <<EOF
#line 1737 "configure"
#include "confdefs.h"
#include <stdlib.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "free" >/dev/null 2>&1; then
  :
d1984 2
a1985 2
  rm -rf conftest*
  ac_cv_header_stdc=no
a1986 1
rm -f conftest*
d1988 3
d1993 8
a2000 4
if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
if test "$cross_compiling" = yes; then
  :
d2002 2
a2003 15
  cat > conftest.$ac_ext <<EOF
#line 1758 "configure"
#include "confdefs.h"
#include <ctype.h>
#define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
#define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int main () { int i; for (i = 0; i < 256; i++)
if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);
exit (0); }

EOF
if { (eval echo configure:1769: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  :
d2005 14
a2018 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_header_stdc=no
a2019 1
rm -fr conftest*
d2021 7
a2027 1

a2028 7
fi

echo "$ac_t""$ac_cv_header_stdc" 1>&6
if test $ac_cv_header_stdc = yes; then
  cat >> confdefs.h <<\EOF
#define STDC_HEADERS 1
EOF
d2031 8
a2038 5

echo $ac_n "checking for pid_t""... $ac_c" 1>&6
echo "configure:1793: checking for pid_t" >&5
if eval "test \"`echo '$''{'ac_cv_type_pid_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d2040 2
a2041 13
  cat > conftest.$ac_ext <<EOF
#line 1798 "configure"
#include "confdefs.h"
#include <sys/types.h>
#if STDC_HEADERS
#include <stdlib.h>
#include <stddef.h>
#endif
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "(^|[^a-zA-Z_0-9])pid_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
  rm -rf conftest*
  ac_cv_type_pid_t=yes
d2043 13
a2055 4
  rm -rf conftest*
  ac_cv_type_pid_t=no
fi
rm -f conftest*
a2057 6
echo "$ac_t""$ac_cv_type_pid_t" 1>&6
if test $ac_cv_type_pid_t = no; then
  cat >> confdefs.h <<\EOF
#define pid_t int
EOF

d2059 4
a2062 5

echo $ac_n "checking return type of signal handlers""... $ac_c" 1>&6
echo "configure:1826: checking return type of signal handlers" >&5
if eval "test \"`echo '$''{'ac_cv_type_signal'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d2064 3
a2066 13
  cat > conftest.$ac_ext <<EOF
#line 1831 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <signal.h>
#ifdef signal
#undef signal
#endif
#ifdef __cplusplus
extern "C" void (*signal (int, void (*)(int)))(int);
#else
void (*signal ()) ();
#endif
d2068 1
a2068 7
int main() {
int i;
; return 0; }
EOF
if { (eval echo configure:1848: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_type_signal=void
d2070 1
a2070 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_type_signal=int
d2072 274
a2345 1
rm -f conftest*
d2347 84
d2432 90
a2521 4
echo "$ac_t""$ac_cv_type_signal" 1>&6
cat >> confdefs.h <<EOF
#define RETSIGTYPE $ac_cv_type_signal
EOF
d2523 30
d2554 14
a2567 4
echo $ac_n "checking whether time.h and sys/time.h may both be included""... $ac_c" 1>&6
echo "configure:1867: checking whether time.h and sys/time.h may both be included" >&5
if eval "test \"`echo '$''{'ac_cv_header_time'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d2569 21
a2589 3
  cat > conftest.$ac_ext <<EOF
#line 1872 "configure"
#include "confdefs.h"
d2591 222
a2812 9
#include <sys/time.h>
#include <time.h>
int main() {
struct tm *tp;
; return 0; }
EOF
if { (eval echo configure:1881: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_header_time=yes
d2814 3
a2816 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_header_time=no
d2818 2
d2821 4
d2827 3
a2829 5
echo "$ac_t""$ac_cv_header_time" 1>&6
if test $ac_cv_header_time = yes; then
  cat >> confdefs.h <<\EOF
#define TIME_WITH_SYS_TIME 1
EOF
d2832 6
d2839 14
a2852 4
echo $ac_n "checking for sys/wait.h that is POSIX.1 compatible""... $ac_c" 1>&6
echo "configure:1902: checking for sys/wait.h that is POSIX.1 compatible" >&5
if eval "test \"`echo '$''{'ac_cv_header_sys_wait_h'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d2854 22
a2875 7
  cat > conftest.$ac_ext <<EOF
#line 1907 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <sys/wait.h>
#ifndef WEXITSTATUS
#define WEXITSTATUS(stat_val) ((unsigned)(stat_val) >> 8)
d2877 106
a2982 2
#ifndef WIFEXITED
#define WIFEXITED(stat_val) (((stat_val) & 255) == 0)
d2984 67
a3050 14
int main() {
int s;
wait (&s);
s = WIFEXITED (s) ? WEXITSTATUS (s) : 1;
; return 0; }
EOF
if { (eval echo configure:1923: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_header_sys_wait_h=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_header_sys_wait_h=no
d3052 13
a3064 1
rm -f conftest*
d3067 63
a3129 5
echo "$ac_t""$ac_cv_header_sys_wait_h" 1>&6
if test $ac_cv_header_sys_wait_h = yes; then
  cat >> confdefs.h <<\EOF
#define HAVE_SYS_WAIT_H 1
EOF
d3132 10646
d13779 3
a13782 6
# Check whether --enable-symbols or --disable-symbols was given.
if test "${enable_symbols+set}" = set; then
  enableval="$enable_symbols"
  enable_symbols=$enableval
else
  enable_symbols=no
a13784 11
if test "$enable_symbols" = "no"; then
  EXP_CFLAGS="$TCL_EXTRA_CFLAGS"
else
  EXP_CFLAGS="-g $TCL_EXTRA_CFLAGS"
  # This is always "g" for unix.
  DBGX=g
fi
case "${host}" in
 # Use -g on all systems but Linux where it upsets the dynamic X libraries.
  i[3456]86-*-linux*)	EXP_CFLAGS="" ;;
esac
d13786 2
a13787 2
echo $ac_n "checking if running Mach""... $ac_c" 1>&6
echo "configure:1965: checking if running Mach" >&5
d13797 2
a13798 1
  echo "$ac_t""yes" 1>&6
d13800 2
a13801 1
  echo "$ac_t""no" 1>&6
d13804 2
a13805 2
echo $ac_n "checking if running MachTen""... $ac_c" 1>&6
echo "configure:1981: checking if running MachTen" >&5
d13808 2
a13809 1
  echo "$ac_t""yes" 1>&6
d13812 2
a13813 1
  echo "$ac_t""no" 1>&6
d13816 2
a13817 2
echo $ac_n "checking if on Pyramid""... $ac_c" 1>&6
echo "configure:1991: checking if on Pyramid" >&5
d13819 2
a13820 1
  echo "$ac_t""yes" 1>&6
d13823 2
a13824 1
  echo "$ac_t""no" 1>&6
d13828 2
a13829 2
echo $ac_n "checking if on Apollo""... $ac_c" 1>&6
echo "configure:2001: checking if on Apollo" >&5
d13831 2
a13832 1
  echo "$ac_t""yes" 1>&6
d13835 2
a13836 1
  echo "$ac_t""no" 1>&6
d13840 2
a13841 2
echo $ac_n "checking if on Interactive""... $ac_c" 1>&6
echo "configure:2011: checking if on Interactive" >&5
d13843 2
a13844 1
  echo "$ac_t""yes" 1>&6
d13847 2
a13848 1
  echo "$ac_t""no" 1>&6
d13852 2
a13853 2
echo $ac_n "checking stty to use""... $ac_c" 1>&6
echo "configure:2021: checking stty to use" >&5
d13859 2
a13860 4
echo "$ac_t""$STTY_BIN" 1>&6
cat >> confdefs.h <<\EOF
#define STTY_BIN 1
EOF
d13862 2
a13863 3

echo $ac_n "checking if stty reads stdout""... $ac_c" 1>&6
echo "configure:2034: checking if stty reads stdout" >&5
d13907 3
a13909 2
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
d13911 1
a13911 1
EOF
d13914 2
a13915 1
  echo "$ac_t""no" 1>&6
d13920 2
a13921 2
echo $ac_n "checking if running Solaris""... $ac_c" 1>&6
echo "configure:2090: checking if running Solaris" >&5
d13928 3
a13930 2
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
d13932 1
a13932 1
EOF
d13935 2
a13936 1
  echo "$ac_t""no" 1>&6
d13939 21
a13960 10
# On a few systems, libm.a is the same as libc.a
# Don't bother to test against Tcl and Tk libs, they always include -lm
echo $ac_n "checking for sin""... $ac_c" 1>&6
echo "configure:2110: checking for sin" >&5
if eval "test \"`echo '$''{'ac_cv_func_sin'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2115 "configure"
#include "confdefs.h"
d13962 3
a13964 8
    which can conflict with char sin(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char sin();

int main() {
d13966 2
a13967 5
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_sin) || defined (__stub___sin)
choke me
d13969 1
a13969 1
sin();
d13972 1
a13972 22
; return 0; }
EOF
if { (eval echo configure:2138: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_sin=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_sin=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'sin`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
LIBS="${LIBS} -lm" 
fi

a13973 19
# On Interactive UNIX, -Xp must be added to LIBS in order to find strftime.
# This test should really be done by Tcl.  So just check Tcl's definition.
# If defective, add to all three LIBS.  (It's not actually necessary for
# EXP_LIBS since -Xp will just be ignored the way that EXP_LIBS is used in
# the Makefile, but we include it for consistency.)
if test $iunix -eq 1 ; then
  EXP_LIBS=$LIBS
  LIBS=$EXP_AND_TCL_LIBS
  echo $ac_n "checking for strftime""... $ac_c" 1>&6
echo "configure:2168: checking for strftime" >&5
if eval "test \"`echo '$''{'ac_cv_func_strftime'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2173 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char strftime(); below.  */
#include <assert.h>
d13975 4
d13980 2
a13981 5
    builtin and then its argument prototype would still apply.  */
char strftime();

int main() {

d13988 4
a13991 1
strftime();
d13994 43
a14036 16
; return 0; }
EOF
if { (eval echo configure:2196: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_strftime=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_strftime=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'strftime`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a14038 174
  echo "$ac_t""no" 1>&6

	EXP_LIBS="${LIBS} -Xp" 
	EXP_AND_TCL_LIBS="${LIBS} -Xp" 
	EXP_AND_TK_LIBS="${LIBS} -Xp" 
	
fi

  LIBS=EXP_LIBS
fi

#
# Ok, lets find the tcl source trees so we can use the headers
#

#
# Ok, lets find the tcl source trees so we can use the headers
# Warning: transition of version 9 to 10 will break this algorithm
# because 10 sorts before 9. We also look for just tcl. We have to
# be careful that we don't match stuff like tclX by accident.
# the alternative search directory is involked by --with-tclinclude
#
no_tcl=true
echo $ac_n "checking for Tcl private headers""... $ac_c" 1>&6
echo "configure:2236: checking for Tcl private headers" >&5
# Check whether --with-tclinclude or --without-tclinclude was given.
if test "${with_tclinclude+set}" = set; then
  withval="$with_tclinclude"
  with_tclinclude=${withval}
fi

if eval "test \"`echo '$''{'ac_cv_c_tclh'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
# first check to see if --with-tclinclude was specified
if test x"${with_tclinclude}" != x ; then
  if test -f ${with_tclinclude}/tclInt.h ; then
    ac_cv_c_tclh=`(cd ${with_tclinclude}; pwd)`
  elif test -f ${with_tclinclude}/generic/tclInt.h ; then
    ac_cv_c_tclh=`(cd ${with_tclinclude}/generic; pwd)`
  else
    { echo "configure: error: ${with_tclinclude} directory doesn't contain private headers" 1>&2; exit 1; }
  fi
fi

# next check if it came with Tcl configuration file
if test x"${ac_cv_c_tclconfig}" != x ; then
  if test -f $ac_cv_c_tclconfig/../generic/tclInt.h ; then
    ac_cv_c_tclh=`(cd $ac_cv_c_tclconfig/../generic; pwd)`
  fi
fi

# next check in private source directory
#
# since ls returns lowest version numbers first, reverse its output
if test x"${ac_cv_c_tclh}" = x ; then
  for i in \
		${srcdir}/../tcl \
		`ls -dr ${srcdir}/../tcl[9].[0-9].[0-9] ${srcdir}/../tcl[9].[0-9] 2>/dev/null` \
		`ls -dr ${srcdir}/../tcl[8].[2-9].[0-9] ${srcdir}/../tcl[8].[2-9] 2>/dev/null` \
		${srcdir}/../../tcl \
		`ls -dr ${srcdir}/../../tcl[9].[0-9].[0-9] ${srcdir}/../../tcl[9].[0-9] 2>/dev/null` \
		`ls -dr ${srcdir}/../../tcl[8].[2-9].[0-9] ${srcdir}/../../tcl[8].[2-9] 2>/dev/null` \
		${srcdir}/../../../tcl \
		`ls -dr ${srcdir}/../../../tcl[9].[0-9].[0-9] ${srcdir}/../../../tcl[9].[0-9] 2>/dev/null ` \
		`ls -dr ${srcdir}/../../../tcl[8].[2-9].[0-9] ${srcdir}/../../../tcl[8].[2-9] 2>/dev/null ` ; do
    if test -f $i/generic/tclInt.h ; then
      ac_cv_c_tclh=`(cd $i/generic; pwd)`
      break
    fi
  done
fi
# finally check in a few common install locations
#
# since ls returns lowest version numbers first, reverse its output
if test x"${ac_cv_c_tclh}" = x ; then
  for i in \
		`ls -dr /usr/local/src/tcl[9].[0-9].[0-9] /usr/local/src/tcl[9].[0-9] 2>/dev/null` \
		`ls -dr /usr/local/src/tcl[8].[2-9].[0-9] /usr/local/src/tcl[8].[2-9] 2>/dev/null` \
		`ls -dr /usr/local/lib/tcl[9].[0-9].[0-9] /usr/local/lib/tcl[9].[0-9] 2>/dev/null` \
		`ls -dr /usr/local/lib/tcl[8].[2-9].[0-9] /usr/local/lib/tcl[8].[2-9] 2>/dev/null` \
		/usr/local/src/tcl \
		/usr/local/lib/tcl \
		${prefix}/include ; do
    if test -f $i/generic/tclInt.h ; then
      ac_cv_c_tclh=`(cd $i/generic; pwd)`
      break
    fi
  done
fi
# see if one is installed
if test x"${ac_cv_c_tclh}" = x ; then
   ac_safe=`echo "tclInt.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for tclInt.h""... $ac_c" 1>&6
echo "configure:2307: checking for tclInt.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2312 "configure"
#include "confdefs.h"
#include <tclInt.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2317: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  ac_cv_c_tclh=installed
else
  echo "$ac_t""no" 1>&6
ac_cv_c_tclh=""
fi

fi

fi

if test x"${ac_cv_c_tclh}" = x ; then
  TCLHDIR="# no Tcl private headers found"
  TCLHDIRDASHI="# no Tcl private headers found"
  { echo "configure: error: Can't find Tcl private headers" 1>&2; exit 1; }
fi
if test x"${ac_cv_c_tclh}" != x ; then
  no_tcl=""
  if test x"${ac_cv_c_tclh}" = x"installed" ; then
    echo "$ac_t""is installed" 1>&6
    TCLHDIR=""
    TCLHDIRDASHI=""
    TCL_LIBRARY=""
  else
    echo "$ac_t""found in ${ac_cv_c_tclh}" 1>&6
    # this hack is cause the TCLHDIR won't print if there is a "-I" in it.
    TCLHDIR="${ac_cv_c_tclh}"
    TCLHDIRDASHI="-I${ac_cv_c_tclh} -I`dirname ${ac_cv_c_tclh}`/unix"
    TCL_LIBRARY=`echo $TCLHDIR | sed -e 's/generic//'`library
  fi
fi





if test x"$no_tcl" = x"true" ; then
    echo "	ERROR: Can't find Tcl headers or library."
    echo "	See README for information on how to obtain Tcl."
    echo "	If Tcl is installed, see INSTALL on how to tell"
    echo "	configure where Tcl is installed."
    exit 1
fi

# have to know whether we're generating shared libs before configuring debugger
echo $ac_n "checking type of library to build""... $ac_c" 1>&6
echo "configure:2378: checking type of library to build" >&5
# Check whether --enable-shared or --disable-shared was given.
if test "${enable_shared+set}" = set; then
  enableval="$enable_shared"
  enable_shared=$enableval
else
  enable_shared=no
fi
d14040 1
a14040 5
if test "$enable_shared" = "yes" && test "x${TCL_SHLIB_SUFFIX}" != "x" ; then
  echo "$ac_t""both shared and unshared" 1>&6
else
  echo "$ac_t""unshared" 1>&6
fi
a14041 9
# now see if we can/should use Tcl stubs
echo $ac_n "checking whether to use Tcl stubs""... $ac_c" 1>&6
echo "configure:2395: checking whether to use Tcl stubs" >&5
# Check whether --enable-stubs or --disable-stubs was given.
if test "${enable_stubs+set}" = set; then
  enableval="$enable_stubs"
  enable_stubs=$enableval
else
  enable_stubs=no
a14043 5
if test "$enable_shared" = "yes" && test "$enable_stubs" = "yes" && test "x${TCL_SUPPORTS_STUBS}" = "x1"; then
  echo "$ac_t""yes" 1>&6
  EXP_CFLAGS="$EXP_CFLAGS -DUSE_TCL_STUBS"
else
  echo "$ac_t""no" 1>&6
d14055 1
a14055 1
# 
d14102 22
a14123 3
echo "Begin tests for function/library dependencies.  Tests may be repeated"
echo "up to three times.  First test is for building Expect's shared library."
echo "Second set is for building with Tcl.  Third is for building with Tk."
a14124 11
######################################################################
# required by Sequent ptx2
unset ac_cv_func_gethostname
echo $ac_n "checking for gethostname""... $ac_c" 1>&6
echo "configure:2475: checking for gethostname" >&5
if eval "test \"`echo '$''{'ac_cv_func_gethostname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2480 "configure"
#include "confdefs.h"
d14126 12
a14137 2
    which can conflict with char gethostname(); below.  */
#include <assert.h>
d14139 4
d14144 2
a14145 5
    builtin and then its argument prototype would still apply.  */
char gethostname();

int main() {

d14149 1
a14149 1
#if defined (__stub_gethostname) || defined (__stub___gethostname)
d14152 4
a14155 1
gethostname();
d14158 46
a14203 21
; return 0; }
EOF
if { (eval echo configure:2503: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_gethostname=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_gethostname=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'gethostname`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  gethostname=1 
else
  echo "$ac_t""no" 1>&6
gethostname=0
fi
a14204 30
if test $gethostname -eq 0 ; then
  unset ac_cv_lib_inet_gethostname
  echo $ac_n "checking for gethostname in -linet""... $ac_c" 1>&6
echo "configure:2526: checking for gethostname in -linet" >&5
ac_lib_var=`echo inet'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-linet  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2534 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();

int main() {
gethostname()
; return 0; }
EOF
if { (eval echo configure:2545: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
a14205 2
rm -f conftest*
LIBS="$ac_save_LIBS"
d14207 14
a14220 7
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -linet"
else
  echo "$ac_t""no" 1>&6
fi
a14221 13
fi
# save results and retry for Tcl
EXP_LIBS=$LIBS
LIBS=$EXP_AND_TCL_LIBS
unset ac_cv_func_gethostname
echo $ac_n "checking for gethostname""... $ac_c" 1>&6
echo "configure:2571: checking for gethostname" >&5
if eval "test \"`echo '$''{'ac_cv_func_gethostname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2576 "configure"
#include "confdefs.h"
d14223 3
a14225 6
    which can conflict with char gethostname(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();
d14227 2
a14228 7
int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_gethostname) || defined (__stub___gethostname)
choke me
d14230 1
a14230 1
gethostname();
d14233 1
a14233 63
; return 0; }
EOF
if { (eval echo configure:2599: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_gethostname=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_gethostname=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'gethostname`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  gethostname=1 
else
  echo "$ac_t""no" 1>&6
gethostname=0
fi

if test $gethostname -eq 0 ; then
  unset ac_cv_lib_inet_gethostname
  echo $ac_n "checking for gethostname in -linet""... $ac_c" 1>&6
echo "configure:2622: checking for gethostname in -linet" >&5
ac_lib_var=`echo inet'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-linet  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2630 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();

int main() {
gethostname()
; return 0; }
EOF
if { (eval echo configure:2641: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -linet"
else
  echo "$ac_t""no" 1>&6
fi
a14234 16
fi
# save Tcl results and retry for Tk
EXP_AND_TCL_LIBS=$LIBS
LIBS=$EXP_AND_TK_LIBS
unset ac_cv_func_gethostname
echo $ac_n "checking for gethostname""... $ac_c" 1>&6
echo "configure:2667: checking for gethostname" >&5
if eval "test \"`echo '$''{'ac_cv_func_gethostname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2672 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char gethostname(); below.  */
#include <assert.h>
d14236 4
d14241 2
a14242 5
    builtin and then its argument prototype would still apply.  */
char gethostname();

int main() {

d14246 1
a14246 1
#if defined (__stub_gethostname) || defined (__stub___gethostname)
d14249 1
a14249 1
gethostname();
d14251 50
a14301 12
; return 0; }
EOF
if { (eval echo configure:2695: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_gethostname=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_gethostname=no"
fi
rm -f conftest*
d14304 14
a14317 7
if eval "test \"`echo '$ac_cv_func_'gethostname`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  gethostname=1 
else
  echo "$ac_t""no" 1>&6
gethostname=0
fi
d14319 4
a14322 33
if test $gethostname -eq 0 ; then
  unset ac_cv_lib_inet_gethostname
  echo $ac_n "checking for gethostname in -linet""... $ac_c" 1>&6
echo "configure:2718: checking for gethostname in -linet" >&5
ac_lib_var=`echo inet'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-linet  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2726 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();

int main() {
gethostname()
; return 0; }
EOF
if { (eval echo configure:2737: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
d14324 5
a14328 7
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -linet"
else
  echo "$ac_t""no" 1>&6
fi
d14330 1
a14330 4
fi
# save Tk results and reset for Expect
EXP_AND_TK_LIBS=$LIBS
LIBS=$EXP_LIBS
a14331 14
######################################################################
# required by Fischman's ISC 4.0
unset ac_cv_func_socket
echo $ac_n "checking for socket""... $ac_c" 1>&6
echo "configure:2766: checking for socket" >&5
if eval "test \"`echo '$''{'ac_cv_func_socket'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2771 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char socket(); below.  */
#include <assert.h>
d14333 4
d14338 2
a14339 5
    builtin and then its argument prototype would still apply.  */
char socket();

int main() {

d14343 1
a14343 1
#if defined (__stub_socket) || defined (__stub___socket)
d14346 4
a14349 1
socket();
d14352 47
a14398 12
; return 0; }
EOF
if { (eval echo configure:2794: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_socket=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_socket=no"
fi
rm -f conftest*
d14401 19
a14419 7
if eval "test \"`echo '$ac_cv_func_'socket`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  socket=1 
else
  echo "$ac_t""no" 1>&6
socket=0
fi
d14421 5
a14425 33
if test $socket -eq 0 ; then
  unset ac_cv_lib_inet_socket
  echo $ac_n "checking for socket in -linet""... $ac_c" 1>&6
echo "configure:2817: checking for socket in -linet" >&5
ac_lib_var=`echo inet'_'socket | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-linet  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2825 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char socket();

int main() {
socket()
; return 0; }
EOF
if { (eval echo configure:2836: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
d14427 1
a14427 7
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -linet"
else
  echo "$ac_t""no" 1>&6
fi
a14428 16
fi
# save results and retry for Tcl
EXP_LIBS=$LIBS
LIBS=$EXP_AND_TCL_LIBS
unset ac_cv_func_socket
echo $ac_n "checking for socket""... $ac_c" 1>&6
echo "configure:2862: checking for socket" >&5
if eval "test \"`echo '$''{'ac_cv_func_socket'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2867 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char socket(); below.  */
#include <assert.h>
d14430 4
d14435 2
a14436 5
    builtin and then its argument prototype would still apply.  */
char socket();

int main() {

d14440 1
a14440 1
#if defined (__stub_socket) || defined (__stub___socket)
d14443 4
a14446 1
socket();
d14449 47
a14495 12
; return 0; }
EOF
if { (eval echo configure:2890: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_socket=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_socket=no"
fi
rm -f conftest*
d14498 19
a14516 7
if eval "test \"`echo '$ac_cv_func_'socket`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  socket=1 
else
  echo "$ac_t""no" 1>&6
socket=0
fi
d14518 5
a14522 33
if test $socket -eq 0 ; then
  unset ac_cv_lib_inet_socket
  echo $ac_n "checking for socket in -linet""... $ac_c" 1>&6
echo "configure:2913: checking for socket in -linet" >&5
ac_lib_var=`echo inet'_'socket | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-linet  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2921 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char socket();

int main() {
socket()
; return 0; }
EOF
if { (eval echo configure:2932: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
d14524 1
a14524 7
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -linet"
else
  echo "$ac_t""no" 1>&6
fi
a14525 16
fi
# save Tcl results and retry for Tk
EXP_AND_TCL_LIBS=$LIBS
LIBS=$EXP_AND_TK_LIBS
unset ac_cv_func_socket
echo $ac_n "checking for socket""... $ac_c" 1>&6
echo "configure:2958: checking for socket" >&5
if eval "test \"`echo '$''{'ac_cv_func_socket'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2963 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char socket(); below.  */
#include <assert.h>
d14527 4
d14532 2
a14533 5
    builtin and then its argument prototype would still apply.  */
char socket();

int main() {

d14537 1
a14537 1
#if defined (__stub_socket) || defined (__stub___socket)
d14540 1
a14540 1
socket();
d14542 50
a14592 12
; return 0; }
EOF
if { (eval echo configure:2986: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_socket=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_socket=no"
fi
rm -f conftest*
d14595 14
a14608 7
if eval "test \"`echo '$ac_cv_func_'socket`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  socket=1 
else
  echo "$ac_t""no" 1>&6
socket=0
fi
d14610 4
a14613 33
if test $socket -eq 0 ; then
  unset ac_cv_lib_inet_socket
  echo $ac_n "checking for socket in -linet""... $ac_c" 1>&6
echo "configure:3009: checking for socket in -linet" >&5
ac_lib_var=`echo inet'_'socket | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-linet  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3017 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char socket();

int main() {
socket()
; return 0; }
EOF
if { (eval echo configure:3028: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
d14615 5
a14619 7
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -linet"
else
  echo "$ac_t""no" 1>&6
fi
d14621 1
a14621 4
fi
# save Tk results and reset for Expect
EXP_AND_TK_LIBS=$LIBS
LIBS=$EXP_LIBS
a14622 13
######################################################################
unset ac_cv_func_select
echo $ac_n "checking for select""... $ac_c" 1>&6
echo "configure:3056: checking for select" >&5
if eval "test \"`echo '$''{'ac_cv_func_select'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3061 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char select(); below.  */
#include <assert.h>
d14624 4
d14629 2
a14630 5
    builtin and then its argument prototype would still apply.  */
char select();

int main() {

d14634 1
a14634 1
#if defined (__stub_select) || defined (__stub___select)
d14637 4
a14640 1
select();
d14643 47
a14689 12
; return 0; }
EOF
if { (eval echo configure:3084: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_select=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_select=no"
fi
rm -f conftest*
d14692 53
a14744 3
if eval "test \"`echo '$ac_cv_func_'select`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  select=1 
d14746 2
a14747 3
  echo "$ac_t""no" 1>&6
select=0
fi
d14749 2
a14750 33
if test $select -eq 0 ; then
  unset ac_cv_lib_inet_select
  echo $ac_n "checking for select in -linet""... $ac_c" 1>&6
echo "configure:3107: checking for select in -linet" >&5
ac_lib_var=`echo inet'_'select | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-linet  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3115 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char select();

int main() {
select()
; return 0; }
EOF
if { (eval echo configure:3126: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
d14753 2
a14754 6
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -linet"
else
  echo "$ac_t""no" 1>&6
fi
d14756 10
a14765 20
fi
# save results and retry for Tcl
EXP_LIBS=$LIBS
LIBS=$EXP_AND_TCL_LIBS
unset ac_cv_func_select
echo $ac_n "checking for select""... $ac_c" 1>&6
echo "configure:3152: checking for select" >&5
if eval "test \"`echo '$''{'ac_cv_func_select'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3157 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char select(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char select();
d14767 7
a14773 1
int main() {
d14775 4
a14778 5
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_select) || defined (__stub___select)
choke me
d14780 1
a14780 1
select();
d14782 18
a14800 13
; return 0; }
EOF
if { (eval echo configure:3180: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_select=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_select=no"
fi
rm -f conftest*
fi
a14801 3
if eval "test \"`echo '$ac_cv_func_'select`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  select=1 
d14803 3
a14805 3
  echo "$ac_t""no" 1>&6
select=0
fi
d14807 3
a14809 33
if test $select -eq 0 ; then
  unset ac_cv_lib_inet_select
  echo $ac_n "checking for select in -linet""... $ac_c" 1>&6
echo "configure:3203: checking for select in -linet" >&5
ac_lib_var=`echo inet'_'select | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-linet  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3211 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char select();

int main() {
select()
; return 0; }
EOF
if { (eval echo configure:3222: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
d14812 1
a14812 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -linet"
else
  echo "$ac_t""no" 1>&6
d14815 7
a14821 20
fi
# save Tcl results and retry for Tk
EXP_AND_TCL_LIBS=$LIBS
LIBS=$EXP_AND_TK_LIBS
unset ac_cv_func_select
echo $ac_n "checking for select""... $ac_c" 1>&6
echo "configure:3248: checking for select" >&5
if eval "test \"`echo '$''{'ac_cv_func_select'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3253 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char select(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char select();
d14823 7
a14829 1
int main() {
d14831 8
a14838 5
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_select) || defined (__stub___select)
choke me
d14840 1
a14840 1
select();
d14842 33
a14875 10
; return 0; }
EOF
if { (eval echo configure:3276: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_select=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_select=no"
d14877 1
a14877 1
rm -f conftest*
d14880 18
a14897 3
if eval "test \"`echo '$ac_cv_func_'select`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  select=1 
d14899 6
a14904 2
  echo "$ac_t""no" 1>&6
select=0
d14907 8
a14914 7
if test $select -eq 0 ; then
  unset ac_cv_lib_inet_select
  echo $ac_n "checking for select in -linet""... $ac_c" 1>&6
echo "configure:3299: checking for select in -linet" >&5
ac_lib_var=`echo inet'_'select | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d14916 60
a14975 25
  ac_save_LIBS="$LIBS"
LIBS="-linet  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3307 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char select();

int main() {
select()
; return 0; }
EOF
if { (eval echo configure:3318: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
a14976 4
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -linet"
d14978 8
a14985 1
  echo "$ac_t""no" 1>&6
d14987 1
a14987 1

a14988 3
# save Tk results and reset for Expect
EXP_AND_TK_LIBS=$LIBS
LIBS=$EXP_LIBS
d14990 6
a14995 17
######################################################################
unset ac_cv_func_getpseudotty
echo $ac_n "checking for getpseudotty""... $ac_c" 1>&6
echo "configure:3346: checking for getpseudotty" >&5
if eval "test \"`echo '$''{'ac_cv_func_getpseudotty'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3351 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char getpseudotty(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char getpseudotty();
d14997 10
a15006 10
int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_getpseudotty) || defined (__stub___getpseudotty)
choke me
#else
getpseudotty();
#endif
d15008 6
a15013 13
; return 0; }
EOF
if { (eval echo configure:3374: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_getpseudotty=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_getpseudotty=no"
fi
rm -f conftest*
fi
a15014 3
if eval "test \"`echo '$ac_cv_func_'getpseudotty`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  getpseudotty=1 
d15016 2
a15017 2
  echo "$ac_t""no" 1>&6
getpseudotty=0
d15020 9
a15028 7
if test $getpseudotty -eq 0 ; then
  unset ac_cv_lib_seq_getpseudotty
  echo $ac_n "checking for getpseudotty in -lseq""... $ac_c" 1>&6
echo "configure:3397: checking for getpseudotty in -lseq" >&5
ac_lib_var=`echo seq'_'getpseudotty | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15030 2
a15031 22
  ac_save_LIBS="$LIBS"
LIBS="-lseq  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3405 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char getpseudotty();

int main() {
getpseudotty()
; return 0; }
EOF
if { (eval echo configure:3416: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
a15032 2
rm -f conftest*
LIBS="$ac_save_LIBS"
d15034 11
a15045 7
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo seq | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF
d15047 3
a15049 1
  LIBS="-lseq $LIBS"
d15051 2
a15052 2
else
  echo "$ac_t""no" 1>&6
d15055 2
a15057 19
# save results and retry for Tcl
EXP_LIBS=$LIBS
LIBS=$EXP_AND_TCL_LIBS
unset ac_cv_func_getpseudotty
echo $ac_n "checking for getpseudotty""... $ac_c" 1>&6
echo "configure:3449: checking for getpseudotty" >&5
if eval "test \"`echo '$''{'ac_cv_func_getpseudotty'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3454 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char getpseudotty(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char getpseudotty();
d15059 2
a15060 1
int main() {
d15062 14
a15075 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_getpseudotty) || defined (__stub___getpseudotty)
choke me
#else
getpseudotty();
#endif
d15077 3
a15079 12
; return 0; }
EOF
if { (eval echo configure:3477: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_getpseudotty=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_getpseudotty=no"
fi
rm -f conftest*
d15082 20
a15101 3
if eval "test \"`echo '$ac_cv_func_'getpseudotty`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  getpseudotty=1 
d15103 2
a15104 3
  echo "$ac_t""no" 1>&6
getpseudotty=0
fi
a15105 30
if test $getpseudotty -eq 0 ; then
  unset ac_cv_lib_seq_getpseudotty
  echo $ac_n "checking for getpseudotty in -lseq""... $ac_c" 1>&6
echo "configure:3500: checking for getpseudotty in -lseq" >&5
ac_lib_var=`echo seq'_'getpseudotty | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lseq  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3508 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char getpseudotty();

int main() {
getpseudotty()
; return 0; }
EOF
if { (eval echo configure:3519: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
a15107 1
LIBS="$ac_save_LIBS"
a15108 8
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo seq | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF
d15110 8
a15117 1
  LIBS="-lseq $LIBS"
d15120 2
a15121 1
  echo "$ac_t""no" 1>&6
d15124 12
a15136 19
# save Tcl results and retry for Tk
EXP_AND_TCL_LIBS=$LIBS
LIBS=$EXP_AND_TK_LIBS
unset ac_cv_func_getpseudotty
echo $ac_n "checking for getpseudotty""... $ac_c" 1>&6
echo "configure:3552: checking for getpseudotty" >&5
if eval "test \"`echo '$''{'ac_cv_func_getpseudotty'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3557 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char getpseudotty(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char getpseudotty();
d15138 11
a15148 1
int main() {
d15150 6
a15155 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_getpseudotty) || defined (__stub___getpseudotty)
choke me
#else
getpseudotty();
#endif
d15157 3
a15159 12
; return 0; }
EOF
if { (eval echo configure:3580: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_getpseudotty=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_getpseudotty=no"
fi
rm -f conftest*
d15162 14
a15175 3
if eval "test \"`echo '$ac_cv_func_'getpseudotty`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  getpseudotty=1 
d15177 8
a15184 3
  echo "$ac_t""no" 1>&6
getpseudotty=0
fi
d15186 52
a15237 30
if test $getpseudotty -eq 0 ; then
  unset ac_cv_lib_seq_getpseudotty
  echo $ac_n "checking for getpseudotty in -lseq""... $ac_c" 1>&6
echo "configure:3603: checking for getpseudotty in -lseq" >&5
ac_lib_var=`echo seq'_'getpseudotty | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lseq  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3611 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char getpseudotty();

int main() {
getpseudotty()
; return 0; }
EOF
if { (eval echo configure:3622: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
a15238 2
rm -f conftest*
LIBS="$ac_save_LIBS"
d15240 14
a15253 8
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo seq | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF
d15255 4
a15258 1
  LIBS="-lseq $LIBS"
d15260 5
a15264 3
else
  echo "$ac_t""no" 1>&6
fi
d15266 1
a15266 4
fi
# save Tk results and reset for Expect
EXP_AND_TK_LIBS=$LIBS
LIBS=$EXP_LIBS
a15267 14
######################################################################
# Check for FreeBSD/NetBSD openpty()
unset ac_cv_func_openpty
echo $ac_n "checking for openpty""... $ac_c" 1>&6
echo "configure:3658: checking for openpty" >&5
if eval "test \"`echo '$''{'ac_cv_func_openpty'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3663 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char openpty(); below.  */
#include <assert.h>
d15269 4
d15274 2
a15275 5
    builtin and then its argument prototype would still apply.  */
char openpty();

int main() {

d15279 1
a15279 1
#if defined (__stub_openpty) || defined (__stub___openpty)
d15282 4
a15285 1
openpty();
d15288 44
a15331 17
; return 0; }
EOF
if { (eval echo configure:3686: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_openpty=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_openpty=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'openpty`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  openpty=1 
d15333 1
a15333 2
  echo "$ac_t""no" 1>&6
openpty=0
a15335 7
if test $openpty -eq 0 ; then
  unset ac_cv_lib_util_openpty
  echo $ac_n "checking for openpty in -lutil""... $ac_c" 1>&6
echo "configure:3709: checking for openpty in -lutil" >&5
ac_lib_var=`echo util'_'openpty | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15337 2
a15338 22
  ac_save_LIBS="$LIBS"
LIBS="-lutil  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3717 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char openpty();

int main() {
openpty()
; return 0; }
EOF
if { (eval echo configure:3728: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
a15339 2
rm -f conftest*
LIBS="$ac_save_LIBS"
d15341 8
a15348 10
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	# we only need to define OPENPTY once, but since we are overriding
	# the default behavior, we must also handle augment LIBS too.
	# This needn't be done in the 2nd and 3rd tests.
	cat >> confdefs.h <<\EOF
#define HAVE_OPENPTY 1
EOF
d15350 2
a15351 2
	LIBS="$LIBS -lutil"
  
d15353 2
a15354 1
  echo "$ac_t""no" 1>&6
d15357 17
a15373 13
fi
# save results and retry for Tcl
EXP_LIBS=$LIBS
LIBS=$EXP_AND_TCL_LIBS
unset ac_cv_func_openpty
echo $ac_n "checking for openpty""... $ac_c" 1>&6
echo "configure:3763: checking for openpty" >&5
if eval "test \"`echo '$''{'ac_cv_func_openpty'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3768 "configure"
#include "confdefs.h"
d15375 12
a15386 2
    which can conflict with char openpty(); below.  */
#include <assert.h>
d15388 4
d15393 2
a15394 5
    builtin and then its argument prototype would still apply.  */
char openpty();

int main() {

d15398 1
a15398 1
#if defined (__stub_openpty) || defined (__stub___openpty)
d15401 4
a15404 1
openpty();
d15407 44
a15450 12
; return 0; }
EOF
if { (eval echo configure:3791: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_openpty=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_openpty=no"
fi
rm -f conftest*
d15453 14
a15466 7
if eval "test \"`echo '$ac_cv_func_'openpty`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  openpty=1 
else
  echo "$ac_t""no" 1>&6
openpty=0
fi
d15468 4
a15471 33
if test $openpty -eq 0 ; then
  unset ac_cv_lib_util_openpty
  echo $ac_n "checking for openpty in -lutil""... $ac_c" 1>&6
echo "configure:3814: checking for openpty in -lutil" >&5
ac_lib_var=`echo util'_'openpty | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lutil  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3822 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char openpty();

int main() {
openpty()
; return 0; }
EOF
if { (eval echo configure:3833: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
d15473 5
a15477 7
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	cat >> confdefs.h <<\EOF
#define HAVE_OPENPTY 1
EOF
d15479 1
a15479 5
	LIBS="$LIBS -lutil"
  
else
  echo "$ac_t""no" 1>&6
fi
a15480 16
fi
# save Tcl results and retry for Tk
EXP_AND_TCL_LIBS=$LIBS
LIBS=$EXP_AND_TK_LIBS
unset ac_cv_func_openpty
echo $ac_n "checking for openpty""... $ac_c" 1>&6
echo "configure:3865: checking for openpty" >&5
if eval "test \"`echo '$''{'ac_cv_func_openpty'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3870 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char openpty(); below.  */
#include <assert.h>
d15482 4
d15487 2
a15488 5
    builtin and then its argument prototype would still apply.  */
char openpty();

int main() {

d15492 1
a15492 1
#if defined (__stub_openpty) || defined (__stub___openpty)
d15495 4
a15498 1
openpty();
d15501 44
a15544 12
; return 0; }
EOF
if { (eval echo configure:3893: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_openpty=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_openpty=no"
fi
rm -f conftest*
d15547 4
a15550 7
if eval "test \"`echo '$ac_cv_func_'openpty`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  openpty=1 
else
  echo "$ac_t""no" 1>&6
openpty=0
fi
d15552 3
a15554 142
if test $openpty -eq 0 ; then
  unset ac_cv_lib_util_openpty
  echo $ac_n "checking for openpty in -lutil""... $ac_c" 1>&6
echo "configure:3916: checking for openpty in -lutil" >&5
ac_lib_var=`echo util'_'openpty | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lutil  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3924 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char openpty();

int main() {
openpty()
; return 0; }
EOF
if { (eval echo configure:3935: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	cat >> confdefs.h <<\EOF
#define HAVE_OPENPTY 1
EOF

	LIBS="$LIBS -lutil"
  
else
  echo "$ac_t""no" 1>&6
fi

fi
# save Tk results and reset for Expect
EXP_AND_TK_LIBS=$LIBS
LIBS=$EXP_LIBS

######################################################################
# End of library/func checking
######################################################################

# Hand patches to library/func checking.

echo $ac_n "checking if running Sequent running SVR4""... $ac_c" 1>&6
echo "configure:3973: checking if running Sequent running SVR4" >&5
if test "$host_alias" = "i386-sequent-sysv4" ; then
 EXP_AND_TCL_LIBS="-lnsl -lsocket -lm"
  echo "$ac_t""yes" 1>&6
else
 echo "$ac_t""no" 1>&6
fi

######################################################################
#
# Look for various header files
#
ac_safe=`echo "sys/sysmacros.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for sys/sysmacros.h""... $ac_c" 1>&6
echo "configure:3987: checking for sys/sysmacros.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3992 "configure"
#include "confdefs.h"
#include <sys/sysmacros.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:3997: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_SYSMACROS_H 1
EOF

else
  echo "$ac_t""no" 1>&6
fi

ac_safe=`echo "stdlib.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for stdlib.h""... $ac_c" 1>&6
echo "configure:4023: checking for stdlib.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4028 "configure"
#include "confdefs.h"
#include <stdlib.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:4033: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
cat >> confdefs.h <<\EOF
#define NO_STDLIB_H 1
EOF
d15558 8
a15565 5
ac_safe=`echo "inttypes.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for inttypes.h""... $ac_c" 1>&6
echo "configure:4060: checking for inttypes.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15567 32
a15598 25
  cat > conftest.$ac_ext <<EOF
#line 4065 "configure"
#include "confdefs.h"
#include <inttypes.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:4070: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_INTTYPES_H 1
EOF
d15601 3
a15603 2
  echo "$ac_t""no" 1>&6
fi
d15605 3
a15608 26
# Oddly, some systems have stdarg but don't support prototypes
# Tcl avoids the whole issue by not using stdarg on UNIX at all!

ac_safe=`echo "varargs.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for varargs.h""... $ac_c" 1>&6
echo "configure:4100: checking for varargs.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4105 "configure"
#include "confdefs.h"
#include <varargs.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:4110: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d15610 1
a15610 1
rm -f conftest*
d15612 15
a15626 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_VARARGS_H 1
EOF
d15629 27
a15655 2
  echo "$ac_t""no" 1>&6
fi
d15657 3
a15659 31
ac_safe=`echo "unistd.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for unistd.h""... $ac_c" 1>&6
echo "configure:4136: checking for unistd.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4141 "configure"
#include "confdefs.h"
#include <unistd.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:4146: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_UNISTD_H 1
EOF
d15662 7
a15668 2
  echo "$ac_t""no" 1>&6
fi
a15669 25
# If no stropts.h, then the svr4 implementation is broken.
# At least it is on my Debian "potato" system. - Rob Savoye
ac_safe=`echo "sys/stropts.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for sys/stropts.h""... $ac_c" 1>&6
echo "configure:4174: checking for sys/stropts.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4179 "configure"
#include "confdefs.h"
#include <sys/stropts.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:4184: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d15671 1
a15671 1
rm -f conftest*
d15673 8
a15680 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_STROPTS_H 1
EOF
d15683 6
a15688 3
  echo "$ac_t""no" 1>&6
svr4_ptys_broken=1
fi
d15690 25
a15714 31
ac_safe=`echo "sys/sysconfig.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for sys/sysconfig.h""... $ac_c" 1>&6
echo "configure:4211: checking for sys/sysconfig.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4216 "configure"
#include "confdefs.h"
#include <sys/sysconfig.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:4221: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_SYSCONF_H 1
EOF
d15716 3
a15718 3
else
  echo "$ac_t""no" 1>&6
fi
a15719 5
ac_safe=`echo "sys/fcntl.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for sys/fcntl.h""... $ac_c" 1>&6
echo "configure:4247: checking for sys/fcntl.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15721 3
a15723 25
  cat > conftest.$ac_ext <<EOF
#line 4252 "configure"
#include "confdefs.h"
#include <sys/fcntl.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:4257: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_SYS_FCNTL_H 1
EOF
d15725 3
a15727 3
else
  echo "$ac_t""no" 1>&6
fi
a15728 23
ac_safe=`echo "sys/select.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for sys/select.h""... $ac_c" 1>&6
echo "configure:4283: checking for sys/select.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4288 "configure"
#include "confdefs.h"
#include <sys/select.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:4293: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d15730 1
a15730 1
rm -f conftest*
a15731 8
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_SYS_SELECT_H 1
EOF

else
  echo "$ac_t""no" 1>&6
d15734 6
a15739 31
ac_safe=`echo "sys/time.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for sys/time.h""... $ac_c" 1>&6
echo "configure:4319: checking for sys/time.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4324 "configure"
#include "confdefs.h"
#include <sys/time.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:4329: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_SYS_TIME_H 1
EOF
d15742 6
a15747 2
  echo "$ac_t""no" 1>&6
fi
d15749 27
a15775 31
ac_safe=`echo "sys/ptem.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for sys/ptem.h""... $ac_c" 1>&6
echo "configure:4355: checking for sys/ptem.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4360 "configure"
#include "confdefs.h"
#include <sys/ptem.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:4365: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_SYS_PTEM_H 1
EOF
d15777 2
a15778 3
else
  echo "$ac_t""no" 1>&6
fi
a15779 5
ac_safe=`echo "sys/strredir.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for sys/strredir.h""... $ac_c" 1>&6
echo "configure:4391: checking for sys/strredir.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15781 3
a15783 25
  cat > conftest.$ac_ext <<EOF
#line 4396 "configure"
#include "confdefs.h"
#include <sys/strredir.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:4401: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_STRREDIR_H 1
EOF
d15785 3
a15787 3
else
  echo "$ac_t""no" 1>&6
fi
a15788 23
ac_safe=`echo "sys/strpty.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for sys/strpty.h""... $ac_c" 1>&6
echo "configure:4427: checking for sys/strpty.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4432 "configure"
#include "confdefs.h"
#include <sys/strpty.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:4437: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d15790 1
a15790 1
rm -f conftest*
d15792 7
a15798 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_STRPTY_H 1
EOF
d15801 6
a15806 2
  echo "$ac_t""no" 1>&6
fi
d15808 27
d15836 2
a15838 40
echo $ac_n "checking for sys/bsdtypes.h""... $ac_c" 1>&6
echo "configure:4464: checking for sys/bsdtypes.h" >&5
if test "ISC_${ISC}" = "ISC_1"   ;    then
   echo "$ac_t""yes" 1>&6
   # if on ISC 1, we need <sys/bsdtypes.h> to get FD_SET macros
   for ac_hdr in sys/bsdtypes.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:4472: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4477 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:4482: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
EOF
 
d15840 8
a15847 1
  echo "$ac_t""no" 1>&6
d15849 1
a15849 4
done

else
   echo "$ac_t""no" 1>&6
d15852 8
a15859 18
#
# Look for functions that may be missing
#
echo $ac_n "checking for memmove""... $ac_c" 1>&6
echo "configure:4516: checking for memmove" >&5
if eval "test \"`echo '$''{'ac_cv_func_memmove'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4521 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char memmove(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char memmove();
d15861 7
a15867 1
int main() {
d15869 3
a15871 5
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_memmove) || defined (__stub___memmove)
choke me
d15873 1
a15873 1
memmove();
d15875 27
a15902 10
; return 0; }
EOF
if { (eval echo configure:4544: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_memmove=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_memmove=no"
d15904 1
a15904 1
rm -f conftest*
d15907 21
a15927 9
if eval "test \"`echo '$ac_cv_func_'memmove`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_MEMMOVE 1
EOF

else
  echo "$ac_t""no" 1>&6
fi
a15928 8
echo $ac_n "checking for sysconf""... $ac_c" 1>&6
echo "configure:4567: checking for sysconf" >&5
if eval "test \"`echo '$''{'ac_cv_func_sysconf'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4572 "configure"
#include "confdefs.h"
d15930 3
a15932 8
    which can conflict with char sysconf(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char sysconf();

int main() {
d15934 2
a15935 5
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_sysconf) || defined (__stub___sysconf)
choke me
d15937 1
a15937 1
sysconf();
d15940 1
a15940 23
; return 0; }
EOF
if { (eval echo configure:4595: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_sysconf=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_sysconf=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'sysconf`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_SYSCONF 1
EOF

else
  echo "$ac_t""no" 1>&6
fi
a15941 11
echo $ac_n "checking for strftime""... $ac_c" 1>&6
echo "configure:4618: checking for strftime" >&5
if eval "test \"`echo '$''{'ac_cv_func_strftime'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4623 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char strftime(); below.  */
#include <assert.h>
d15943 4
d15948 2
a15949 5
    builtin and then its argument prototype would still apply.  */
char strftime();

int main() {

d15953 1
a15953 1
#if defined (__stub_strftime) || defined (__stub___strftime)
d15956 4
a15959 1
strftime();
d15962 44
a16005 10
; return 0; }
EOF
if { (eval echo configure:4646: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_strftime=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_strftime=no"
a16006 8
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'strftime`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_STRFTIME 1
EOF
d16008 14
a16021 3
else
  echo "$ac_t""no" 1>&6
fi
a16022 8
echo $ac_n "checking for strchr""... $ac_c" 1>&6
echo "configure:4669: checking for strchr" >&5
if eval "test \"`echo '$''{'ac_cv_func_strchr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4674 "configure"
#include "confdefs.h"
d16024 3
a16026 8
    which can conflict with char strchr(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char strchr();

int main() {
d16028 2
a16029 5
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_strchr) || defined (__stub___strchr)
choke me
d16031 1
a16031 1
strchr();
d16034 1
a16034 23
; return 0; }
EOF
if { (eval echo configure:4697: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_strchr=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_strchr=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'strchr`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_STRCHR 1
EOF

else
  echo "$ac_t""no" 1>&6
fi
a16035 11
echo $ac_n "checking for timezone""... $ac_c" 1>&6
echo "configure:4720: checking for timezone" >&5
if eval "test \"`echo '$''{'ac_cv_func_timezone'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4725 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char timezone(); below.  */
#include <assert.h>
d16037 4
d16042 2
a16043 5
    builtin and then its argument prototype would still apply.  */
char timezone();

int main() {

d16047 1
a16047 1
#if defined (__stub_timezone) || defined (__stub___timezone)
d16050 4
a16053 1
timezone();
d16056 44
a16099 10
; return 0; }
EOF
if { (eval echo configure:4748: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_timezone=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_timezone=no"
d16101 22
a16122 1
rm -f conftest*
a16124 5
if eval "test \"`echo '$ac_cv_func_'timezone`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_TIMEZONE 1
EOF
d16126 17
a16142 3
else
  echo "$ac_t""no" 1>&6
fi
a16143 8
echo $ac_n "checking for siglongjmp""... $ac_c" 1>&6
echo "configure:4771: checking for siglongjmp" >&5
if eval "test \"`echo '$''{'ac_cv_func_siglongjmp'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4776 "configure"
#include "confdefs.h"
d16145 12
a16156 2
    which can conflict with char siglongjmp(); below.  */
#include <assert.h>
d16158 4
d16163 2
a16164 5
    builtin and then its argument prototype would still apply.  */
char siglongjmp();

int main() {

d16168 1
a16168 1
#if defined (__stub_siglongjmp) || defined (__stub___siglongjmp)
d16171 4
a16174 1
siglongjmp();
d16177 46
a16222 19
; return 0; }
EOF
if { (eval echo configure:4799: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_siglongjmp=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_siglongjmp=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'siglongjmp`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_SIGLONGJMP 1
EOF
a16223 2
else
  echo "$ac_t""no" 1>&6
d16225 1
d16228 17
a16244 8
# dnl check for memcpy by hand
# because Unixware 2.0 handles it specially and refuses to compile
# autoconf's automatic test that is a call with no arguments
echo $ac_n "checking for memcpy""... $ac_c" 1>&6
echo "configure:4826: checking for memcpy" >&5
cat > conftest.$ac_ext <<EOF
#line 4828 "configure"
#include "confdefs.h"
d16246 4
a16249 1
int main() {
d16251 5
a16255 11
char *s1, *s2;
memcpy(s1,s2,0);

; return 0; }
EOF
if { (eval echo configure:4838: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
	cat >> confdefs.h <<\EOF
#define HAVE_MEMCPY 1
EOF
d16257 1
a16257 6
	
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d16259 13
a16271 21
fi
rm -f conftest*

# Some systems only define WNOHANG if _POSIX_SOURCE is defined
# The following merely tests that sys/wait.h can be included
# and if so that WNOHANG is not defined.  The only place I've
# seen this is ISC.
echo $ac_n "checking if WNOHANG requires _POSIX_SOURCE""... $ac_c" 1>&6
echo "configure:4860: checking if WNOHANG requires _POSIX_SOURCE" >&5
if test "$cross_compiling" = yes; then
  { echo "configure: error: Expect can't be cross compiled" 1>&2; exit 1; }

else
  cat > conftest.$ac_ext <<EOF
#line 4866 "configure"
#include "confdefs.h"

#include <sys/wait.h>
main() {
#ifndef WNOHANG
	return 0;
d16273 1
a16273 1
	return 1;
d16275 1
d16277 1
a16277 7
EOF
if { (eval echo configure:4878: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  echo "$ac_t""yes" 1>&6
	cat >> confdefs.h <<\EOF
#define WNOHANG_REQUIRES_POSIX_SOURCE 1
EOF
d16279 46
a16324 6

else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  echo "$ac_t""no" 1>&6
d16327 1
a16327 2
rm -fr conftest*
fi
d16330 5
a16334 6
echo $ac_n "checking if any value exists for WNOHANG""... $ac_c" 1>&6
echo "configure:4898: checking if any value exists for WNOHANG" >&5
rm -rf wnohang
if test "$cross_compiling" = yes; then
  { echo "configure: error: Expect can't be cross compiled" 1>&2; exit 1; }

d16336 14
a16349 3
  cat > conftest.$ac_ext <<EOF
#line 4905 "configure"
#include "confdefs.h"
d16351 9
a16359 11
#include <stdio.h>
#include <sys/wait.h>
main() {
#ifdef WNOHANG
	FILE *fp = fopen("wnohang","w");
	fprintf(fp,"%d",WNOHANG);
	fclose(fp);
	return 0;
#else
	return 1;
#endif
d16361 13
a16373 10
EOF
if { (eval echo configure:4921: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  echo "$ac_t""yes" 1>&6
	cat >> confdefs.h <<EOF
#define WNOHANG_BACKUP_VALUE `cat wnohang`
EOF

	rm -f wnohang

d16375 3
a16377 8
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  echo "$ac_t""no" 1>&6
	cat >> confdefs.h <<\EOF
#define WNOHANG_BACKUP_VALUE 1
EOF

d16379 4
a16383 1
rm -fr conftest*
d16385 3
d16389 3
a16391 39

#-----Stolen from Tcl's configure file-------------------------------
#	The check below checks whether <sys/wait.h> defines the type
#	"union wait" correctly.  It's needed because of weirdness in
#	HP-UX where "union wait" is defined in both the BSD and SYS-V
#	environments.  Checking the usability of WIFEXITED seems to do
#	the trick.
#--------------------------------------------------------------------

echo $ac_n "checking union wait""... $ac_c" 1>&6
echo "configure:4954: checking union wait" >&5
cat > conftest.$ac_ext <<EOF
#line 4956 "configure"
#include "confdefs.h"
#include <sys/types.h> 
#include <sys/wait.h>
int main() {

union wait x;
WIFEXITED(x);		/* Generates compiler error if WIFEXITED
			 * uses an int. */

; return 0; }
EOF
if { (eval echo configure:4968: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  tcl_ok=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  tcl_ok=no
fi
rm -f conftest*
echo "$ac_t""$tcl_ok" 1>&6
if test $tcl_ok = no; then
    cat >> confdefs.h <<\EOF
#define NO_UNION_WAIT 1
EOF
a16395 1

d16397 1
a16397 1
# check how signals work
d16399 2
a16400 22

# Check for the data type of the mask used in select().
# This picks up HP braindamage which defines fd_set and then 
# proceeds to ignore it and use int.
# Pattern matching on int could be loosened.
# Can't use ac_header_egrep since that doesn't see prototypes with K&R cpp.
echo $ac_n "checking mask type of select""... $ac_c" 1>&6
echo "configure:4998: checking mask type of select" >&5
if egrep "select\(size_t, int" /usr/include/sys/time.h >/dev/null 2>&1; then
  echo "$ac_t""int" 1>&6
  cat >> confdefs.h <<\EOF
#define SELECT_MASK_TYPE int
EOF

else
  echo "$ac_t""none" 1>&6
fi


# FIXME: check if alarm exists
echo $ac_n "checking if signals need to be re-armed""... $ac_c" 1>&6
echo "configure:5012: checking if signals need to be re-armed" >&5
d16402 3
a16404 1
  echo "configure: warning: Expect can't be cross compiled" 1>&2
d16407 6
a16412 21
  cat > conftest.$ac_ext <<EOF
#line 5018 "configure"
#include "confdefs.h"

#include <signal.h>
#define RETSIGTYPE $retsigtype

int signal_rearms = 0;

RETSIGTYPE
child_sigint_handler(n)
int n;
{
}

RETSIGTYPE
parent_sigint_handler(n)
int n;
{
signal_rearms++;
}
d16414 2
d16418 2
a16419 1
	signal(SIGINT,parent_sigint_handler);
d16421 1
a16421 12
	if (0 == fork()) {
		signal(SIGINT,child_sigint_handler);
		kill(getpid(),SIGINT);
		kill(getpid(),SIGINT);
		kill(getppid(),SIGINT);
	} else {
		int status;

		wait(&status);
		unlink("core");
		exit(signal_rearms);
	}
d16423 15
a16437 7
EOF
if { (eval echo configure:5057: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  echo "$ac_t""yes" 1>&6
	cat >> confdefs.h <<\EOF
#define REARM_SIG 1
EOF
d16439 6
d16446 3
a16448 5
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  echo "$ac_t""no" 1>&6
d16451 1
a16451 1
rm -fr conftest*
d16455 5
a16459 6
# HPUX7 has trouble with the big cat so split it
# Owen Rees <rtor@@ansa.co.uk> 29Mar93 
SEDDEFS="${SEDDEFS}CONFEOF
cat >> conftest.sed <<CONFEOF
"
#
d16461 1
a16461 10
# There are multiple versions of getpty, alas.
# I don't remember who has the first one, but Convex just added one
# so check for it.  Unfortunately, there is no header so the only
# reasonable way to make sure is to look it we are on a Convex.
echo $ac_n "checking if on Convex""... $ac_c" 1>&6
echo "configure:5088: checking if on Convex" >&5
convex=0
case "${host}" in
  c[12]-*-*)		convex=1;;
esac
d16463 8
a16470 5
if test $convex -eq 1 ; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define CONVEX 1
EOF
d16472 20
d16493 1
a16493 1
  echo "$ac_t""no" 1>&6
d16495 17
a16511 11

EXP_LDFLAGS="$LDFLAGS"

echo $ac_n "checking if on NeXT""... $ac_c" 1>&6
echo "configure:5107: checking if on NeXT" >&5
if test -r /NextApps ; then
  echo "$ac_t""yes" 1>&6
  # "-m" flag suppresses complaints about multiple strtod
  EXP_LDFLAGS="$EXP_LDFLAGS -m"
else
  echo "$ac_t""no" 1>&6
d16513 3
d16517 3
a16520 8
echo $ac_n "checking if on HP""... $ac_c" 1>&6
echo "configure:5118: checking if on HP" >&5
if test "x`(uname) 2>/dev/null`" = xHP-UX; then
  echo "$ac_t""yes" 1>&6
  hp=1
else
  echo "$ac_t""no" 1>&6
  hp=0
d16523 2
a16524 6
echo $ac_n "checking sane default stty arguments""... $ac_c" 1>&6
echo "configure:5128: checking sane default stty arguments" >&5
DEFAULT_STTY_ARGS="sane"

if test $mach -eq 1 ; then
	DEFAULT_STTY_ARGS="cooked"
d16527 7
a16533 3
if test $hp -eq 1 ; then
	DEFAULT_STTY_ARGS="sane kill "
fi
a16534 1
echo "$ac_t""$DEFAULT_STTY_ARG" 1>&6
d16536 8
a16543 13
# Look for various features to determine what kind of pty
# we have. For some weird reason, ac_compile_check would not
# work, but ac_test_program does.
#
echo $ac_n "checking for HP style pty allocation""... $ac_c" 1>&6
echo "configure:5146: checking for HP style pty allocation" >&5
# following test fails on DECstations and other things that don't grok -c
# but that's ok, since they don't have PTYMs anyway
if test -r /dev/ptym/ptyp0 2>/dev/null ; then
    echo "$ac_t""yes" 1>&6
    cat >> confdefs.h <<\EOF
#define HAVE_PTYM 1
EOF
d16546 3
a16548 2
    echo "$ac_t""no" 1>&6
fi
d16550 2
a16551 19
echo $ac_n "checking for HP style pty trapping""... $ac_c" 1>&6
echo "configure:5160: checking for HP style pty trapping" >&5
cat > conftest.$ac_ext <<EOF
#line 5162 "configure"
#include "confdefs.h"
#include <sys/ptyio.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "struct.*request_info" >/dev/null 2>&1; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
	cat >> confdefs.h <<\EOF
#define HAVE_PTYTRAP 1
EOF


else
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d16553 7
a16560 1
rm -f conftest*
d16562 1
d16564 4
a16567 7
echo $ac_n "checking for AIX new-style pty allocation""... $ac_c" 1>&6
echo "configure:5184: checking for AIX new-style pty allocation" >&5
if test -r /dev/ptc -a -r /dev/pts ; then
    echo "$ac_t""yes" 1>&6
    cat >> confdefs.h <<\EOF
#define HAVE_PTC_PTS 1
EOF
d16569 9
d16579 6
a16584 1
    echo "$ac_t""no" 1>&6
d16587 4
a16590 16
echo $ac_n "checking for SGI old-style pty allocation""... $ac_c" 1>&6
echo "configure:5196: checking for SGI old-style pty allocation" >&5
if test -r /dev/ptc -a ! -r /dev/pts ; then
    echo "$ac_t""yes" 1>&6
    cat >> confdefs.h <<\EOF
#define HAVE_PTC 1
EOF

else
    echo "$ac_t""no" 1>&6
fi

# On SCO OpenServer, two types of ptys are available: SVR4 streams and c-list.
# The library routines to open the SVR4 ptys are broken on certain systems and
# the SCO command to increase the number of ptys only configure c-list ones
# anyway.  So we chose these, which have a special numbering scheme.
d16592 4
a16595 13
echo $ac_n "checking for SCO style pty allocation""... $ac_c" 1>&6
echo "configure:5213: checking for SCO style pty allocation" >&5
sco_ptys=""
case "${host}" in
  *-sco3.2v[45]*)	sco_clist_ptys=1 svr4_ptys_broken=1;;
esac

if test x"${sco_clist_ptys}" != x"" ; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_SCO_CLIST_PTYS 1
EOF

d16597 3
a16599 1
  echo "$ac_t""no" 1>&6
d16602 12
a16613 40
echo $ac_n "checking for SVR4 style pty allocation""... $ac_c" 1>&6
echo "configure:5230: checking for SVR4 style pty allocation" >&5
if test -r /dev/ptmx -a "x$svr4_ptys_broken" = x ; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_PTMX 1
EOF

  # aargg. Some systems need libpt.a to use /dev/ptmx
  echo $ac_n "checking for libpts="-lpt" in -lpt""... $ac_c" 1>&6
echo "configure:5239: checking for libpts="-lpt" in -lpt" >&5
ac_lib_var=`echo pt'_'libpts="-lpt" | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lpt  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 5247 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char libpts="-lpt"();

int main() {
libpts="-lpt"()
; return 0; }
EOF
if { (eval echo configure:5258: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
d16615 1
a16615 7
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  libpts=""
else
  echo "$ac_t""no" 1>&6
fi
d16617 2
a16618 15
  echo $ac_n "checking for ptsname""... $ac_c" 1>&6
echo "configure:5279: checking for ptsname" >&5
if eval "test \"`echo '$''{'ac_cv_func_ptsname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 5284 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char ptsname(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char ptsname();
d16620 2
a16621 23
int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_ptsname) || defined (__stub___ptsname)
choke me
#else
ptsname();
#endif

; return 0; }
EOF
if { (eval echo configure:5307: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_ptsname=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_ptsname=no"
fi
rm -f conftest*
d16624 2
a16625 6
if eval "test \"`echo '$ac_cv_func_'ptsname`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
LIBS="${LIBS} $libpts"
d16628 3
a16630 16
  # I've never seen Tcl or Tk include -lpt so don't bother with explicit test
  echo $ac_n "checking for ptsname""... $ac_c" 1>&6
echo "configure:5329: checking for ptsname" >&5
if eval "test \"`echo '$''{'ac_cv_func_ptsname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 5334 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char ptsname(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char ptsname();
d16632 2
a16633 1
int main() {
d16635 2
a16636 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_ptsname) || defined (__stub___ptsname)
choke me
#else
ptsname();
#endif
d16638 1
a16638 13
; return 0; }
EOF
if { (eval echo configure:5357: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_ptsname=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_ptsname=no"
fi
rm -f conftest*
fi
d16640 3
a16642 34
if eval "test \"`echo '$ac_cv_func_'ptsname`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
EXP_AND_TCL_LIBS="${EXP_AND_TCL_LIBS} $libpts"
fi

  echo $ac_n "checking for ptsname""... $ac_c" 1>&6
echo "configure:5378: checking for ptsname" >&5
if eval "test \"`echo '$''{'ac_cv_func_ptsname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 5383 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char ptsname(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char ptsname();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_ptsname) || defined (__stub___ptsname)
choke me
#else
ptsname();
#endif
a16643 13
; return 0; }
EOF
if { (eval echo configure:5406: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_ptsname=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_ptsname=no"
fi
rm -f conftest*
fi
a16644 7
if eval "test \"`echo '$ac_cv_func_'ptsname`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
EXP_AND_TK_LIBS="${EXP_AND_TK_LIBS} $libpts"
fi
a16645 3
else
  echo "$ac_t""no" 1>&6
fi
a16646 8
# In OSF/1 case, SVR4 are somewhat different.
# Gregory Depp <depp@@osf.org> 17Aug93
echo $ac_n "checking for OSF/1 style pty allocation""... $ac_c" 1>&6
echo "configure:5433: checking for OSF/1 style pty allocation" >&5
if test -r /dev/ptmx_bsd ; then
    cat >> confdefs.h <<\EOF
#define HAVE_PTMX_BSD 1
EOF
a16647 4
    echo "$ac_t""yes" 1>&6
else
    echo "$ac_t""no" 1>&6
fi
a16648 17
tcgetattr=0
tcsetattr=0
echo $ac_n "checking for tcgetattr""... $ac_c" 1>&6
echo "configure:5447: checking for tcgetattr" >&5
if eval "test \"`echo '$''{'ac_cv_func_tcgetattr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 5452 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char tcgetattr(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char tcgetattr();
a16649 1
int main() {
a16650 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_tcgetattr) || defined (__stub___tcgetattr)
choke me
#else
tcgetattr();
#endif
a16651 13
; return 0; }
EOF
if { (eval echo configure:5475: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_tcgetattr=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_tcgetattr=no"
fi
rm -f conftest*
fi
a16652 6
if eval "test \"`echo '$ac_cv_func_'tcgetattr`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  tcgetattr=1
else
  echo "$ac_t""no" 1>&6
fi
a16653 15
echo $ac_n "checking for tcsetattr""... $ac_c" 1>&6
echo "configure:5495: checking for tcsetattr" >&5
if eval "test \"`echo '$''{'ac_cv_func_tcsetattr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 5500 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char tcsetattr(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char tcsetattr();
a16654 1
int main() {
a16655 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_tcsetattr) || defined (__stub___tcsetattr)
choke me
#else
tcsetattr();
#endif
a16656 13
; return 0; }
EOF
if { (eval echo configure:5523: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_tcsetattr=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_tcsetattr=no"
fi
rm -f conftest*
fi
a16657 6
if eval "test \"`echo '$ac_cv_func_'tcsetattr`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  tcsetattr=1
else
  echo "$ac_t""no" 1>&6
fi
a16658 4
if test $tcgetattr -eq 1 -a $tcsetattr -eq 1 ; then
    cat >> confdefs.h <<\EOF
#define HAVE_TCSETATTR 1
EOF
a16659 3
    cat >> confdefs.h <<\EOF
#define POSIX 1
EOF
d16661 6
a16666 1
fi
a16667 5
# first check for the pure bsd
echo $ac_n "checking for struct sgttyb""... $ac_c" 1>&6
echo "configure:5555: checking for struct sgttyb" >&5
if test "$cross_compiling" = yes; then
  { echo "configure: error: Expect can't be cross compiled" 1>&2; exit 1; }
d16669 8
a16676 4
else
  cat > conftest.$ac_ext <<EOF
#line 5561 "configure"
#include "confdefs.h"
a16677 13
#include <sgtty.h>
main()
{
  struct sgttyb tmp;
  exit(0);
}
EOF
if { (eval echo configure:5571: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  echo "$ac_t""yes" 1>&6
        cat >> confdefs.h <<\EOF
#define HAVE_SGTTYB 1
EOF
d16679 35
a16713 1
        PTY_TYPE=sgttyb
a16714 5
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  echo "$ac_t""no" 1>&6
a16715 3
fi
rm -fr conftest*
fi
d16718 6
a16723 3
# mach systems have include files for unimplemented features
# so avoid doing following test on those systems
if test $mach -eq 0 ; then
a16724 8
  # next check for the older style ttys
  # note that if we detect termio.h (only), we still set PTY_TYPE=termios
  # since that just controls which of pty_XXXX.c file is use and
  # pty_termios.c is set up to handle pty_termio.
  echo $ac_n "checking for struct termio""... $ac_c" 1>&6
echo "configure:5600: checking for struct termio" >&5
  if test "$cross_compiling" = yes; then
  { echo "configure: error: Expect can't be cross compiled" 1>&2; exit 1; }
d16726 34
a16759 16
else
  cat > conftest.$ac_ext <<EOF
#line 5606 "configure"
#include "confdefs.h"
#include <termio.h>
  main()
  {
    struct termio tmp;
    exit(0);
  }
EOF
if { (eval echo configure:5615: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  cat >> confdefs.h <<\EOF
#define HAVE_TERMIO 1
EOF
a16760 2
        PTY_TYPE=termios
        echo "$ac_t""yes" 1>&6
a16761 5
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  echo "$ac_t""no" 1>&6
a16762 3
fi
rm -fr conftest*
fi
d16765 10
a16774 10
  # now check for the new style ttys (not yet posix)
  echo $ac_n "checking for struct termios""... $ac_c" 1>&6
echo "configure:5637: checking for struct termios" >&5
  if test "$cross_compiling" = yes; then
  { echo "configure: error: Expect can't be cross compiled" 1>&2; exit 1; }
  
else
  cat > conftest.$ac_ext <<EOF
#line 5643 "configure"
#include "confdefs.h"
a16775 16
  /* including termios.h on Solaris 5.6 fails unless inttypes.h included */
#  ifdef HAVE_INTTYPES_H
#  include <inttypes.h>
#  endif
#  include <termios.h>
  main()
  {
    struct termios tmp;
    exit(0);
  }
EOF
if { (eval echo configure:5657: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  cat >> confdefs.h <<\EOF
#define HAVE_TERMIOS 1
EOF
a16776 12
        PTY_TYPE=termios
        echo "$ac_t""yes" 1>&6
  
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  echo "$ac_t""no" 1>&6
  
fi
rm -fr conftest*
fi
a16777 1
fi
d16779 4
a16782 4
echo $ac_n "checking if TCGETS or TCGETA in termios.h""... $ac_c" 1>&6
echo "configure:5679: checking if TCGETS or TCGETA in termios.h" >&5
if test "$cross_compiling" = yes; then
  { echo "configure: error: Expect can't be cross compiled" 1>&2; exit 1; }
a16783 4
else
  cat > conftest.$ac_ext <<EOF
#line 5685 "configure"
#include "confdefs.h"
a16784 18
/* including termios.h on Solaris 5.6 fails unless inttypes.h included */
#ifdef HAVE_INTTYPES_H
#include <inttypes.h>
#endif
#include <termios.h>
main() {
#if defined(TCGETS) || defined(TCGETA)
	return 0;
#else
	return 1;
#endif
}
EOF
if { (eval echo configure:5701: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  cat >> confdefs.h <<\EOF
#define HAVE_TCGETS_OR_TCGETA_IN_TERMIOS_H 1
EOF
d16786 4
a16789 1
	echo "$ac_t""yes" 1>&6
a16790 5
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  echo "$ac_t""no" 1>&6
a16791 3
fi
rm -fr conftest*
fi
a16793 4
echo $ac_n "checking if TIOCGWINSZ in termios.h""... $ac_c" 1>&6
echo "configure:5721: checking if TIOCGWINSZ in termios.h" >&5
if test "$cross_compiling" = yes; then
  { echo "configure: error: Expect can't be cross compiled" 1>&2; exit 1; }
d16795 8
a16802 4
else
  cat > conftest.$ac_ext <<EOF
#line 5727 "configure"
#include "confdefs.h"
a16803 18
/* including termios.h on Solaris 5.6 fails unless inttypes.h included */
#ifdef HAVE_INTTYPES_H
#include <inttypes.h>
#endif
#include <termios.h>
main() {
#ifdef TIOCGWINSZ
	return 0;
#else
	return 1;
#endif
}
EOF
if { (eval echo configure:5743: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  cat >> confdefs.h <<\EOF
#define HAVE_TIOCGWINSZ_IN_TERMIOS_H 1
EOF
a16804 1
	echo "$ac_t""yes" 1>&6
d16806 1
a16806 5
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  echo "$ac_t""no" 1>&6
a16807 3
fi
rm -fr conftest*
fi
d16810 1
a16810 6
# finally check for Cray style ttys
echo $ac_n "checking for Cray-style ptys""... $ac_c" 1>&6
echo "configure:5764: checking for Cray-style ptys" >&5
SETUID=":"
if test "$cross_compiling" = yes; then
  { echo "configure: error: Expect can't be cross compiled" 1>&2; exit 1; }
a16811 4
else
  cat > conftest.$ac_ext <<EOF
#line 5771 "configure"
#include "confdefs.h"
a16812 7
main(){
#ifdef CRAY
	return 0;
#else
	return 1;
#endif
}
d16814 1
a16814 6
EOF
if { (eval echo configure:5783: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  PTY_TYPE=unicos
	SETUID="chmod u+s"
	echo "$ac_t""yes" 1>&6
a16815 5
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  echo "$ac_t""no" 1>&6
a16816 3
fi
rm -fr conftest*
fi
d16818 1
a16819 22
#
# Check for select and/or poll. If both exist, we prefer select.
# if neither exists, define SIMPLE_EVENT.
#
select=0
poll=0
unset ac_cv_func_select
echo $ac_n "checking for select""... $ac_c" 1>&6
echo "configure:5808: checking for select" >&5
if eval "test \"`echo '$''{'ac_cv_func_select'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 5813 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char select(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char select();
a16820 1
int main() {
d16822 1
a16822 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_select) || defined (__stub___select)
choke me
#else
select();
#endif
a16823 13
; return 0; }
EOF
if { (eval echo configure:5836: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_select=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_select=no"
fi
rm -f conftest*
fi
a16824 6
if eval "test \"`echo '$ac_cv_func_'select`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  select=1
else
  echo "$ac_t""no" 1>&6
fi
a16825 15
echo $ac_n "checking for poll""... $ac_c" 1>&6
echo "configure:5856: checking for poll" >&5
if eval "test \"`echo '$''{'ac_cv_func_poll'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 5861 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char poll(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char poll();
d16827 21
a16847 1
int main() {
a16848 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_poll) || defined (__stub___poll)
choke me
#else
poll();
#endif
a16849 13
; return 0; }
EOF
if { (eval echo configure:5884: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_poll=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_poll=no"
fi
rm -f conftest*
fi
a16850 6
if eval "test \"`echo '$ac_cv_func_'poll`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  poll=1
else
  echo "$ac_t""no" 1>&6
fi
d16852 10
a16861 17
echo $ac_n "checking event handling""... $ac_c" 1>&6
echo "configure:5904: checking event handling" >&5
if test $select -eq 1 ; then
  EVENT_TYPE=select
  EVENT_ABLE=event
  echo "$ac_t""via select" 1>&6
elif test $poll -eq 1 ; then
  EVENT_TYPE=poll
  EVENT_ABLE=event
  echo "$ac_t""via poll" 1>&6
else
  EVENT_TYPE=simple
  EVENT_ABLE=noevent
  echo "$ac_t""none" 1>&6
  cat >> confdefs.h <<\EOF
#define SIMPLE_EVENT 1
EOF
a16862 1
fi
a16863 17
for ac_func in _getpty
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:5926: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 5931 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();
d16865 5
a16869 1
int main() {
a16870 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif
d16872 9
a16880 13
; return 0; }
EOF
if { (eval echo configure:5954: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi
d16882 5
a16886 11
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done
d16888 38
a16925 17
for ac_func in getpty
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:5981: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 5986 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();
d16927 6
a16932 1
int main() {
a16933 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif
a16934 13
; return 0; }
EOF
if { (eval echo configure:6009: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi
a16935 11
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done
a16937 12
# following test sets SETPGRP_VOID if setpgrp takes 0 args, else takes 2
echo $ac_n "checking whether setpgrp takes no argument""... $ac_c" 1>&6
echo "configure:6036: checking whether setpgrp takes no argument" >&5
if eval "test \"`echo '$''{'ac_cv_func_setpgrp_void'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  { echo "configure: error: cannot check setpgrp if cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 6044 "configure"
#include "confdefs.h"
a16938 3
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
a16939 11
/*
 * If this system has a BSD-style setpgrp, which takes arguments, exit
 * successfully.
 */
main()
{
    if (setpgrp(1,1) == -1)
	exit(0);
    else
	exit(1);
}
d16941 8
a16948 12
EOF
if { (eval echo configure:6064: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_func_setpgrp_void=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_func_setpgrp_void=yes
fi
rm -fr conftest*
fi
d16951 8
a16958 1
fi
d16960 18
a16977 5
echo "$ac_t""$ac_cv_func_setpgrp_void" 1>&6
if test $ac_cv_func_setpgrp_void = yes; then
  cat >> confdefs.h <<\EOF
#define SETPGRP_VOID 1
EOF
d16982 10
a16991 7
#
# check for timezones
#
echo $ac_n "checking for SV-style timezone""... $ac_c" 1>&6
echo "configure:6092: checking for SV-style timezone" >&5
if test "$cross_compiling" = yes; then
  { echo "configure: error: Expect can't be cross compiled" 1>&2; exit 1; }
a16992 4
else
  cat > conftest.$ac_ext <<EOF
#line 6098 "configure"
#include "confdefs.h"
a16993 6
extern char *tzname[2];
extern int daylight;
main()
{
  int *x = &daylight;
  char **y = tzname;
d16995 5
a16999 8
  exit(0);
}
EOF
if { (eval echo configure:6111: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  cat >> confdefs.h <<\EOF
#define HAVE_SV_TIMEZONE 1
EOF
d17001 3
a17003 6
	echo "$ac_t""yes" 1>&6
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  echo "$ac_t""no" 1>&6
a17004 3
fi
rm -fr conftest*
fi
d17006 3
d17010 13
a17022 7
# only look for Tk stuff if we have X11 and user doesn't say not to
# Check whether --with-x or --without-x was given.
if test "${with_x+set}" = set; then
  withval="$with_x"
  :
else
  with_x=yes
d17025 3
a17027 4
if test "$with_x" = "no"; then
   no_tk=true
else
   
d17029 40
a17068 35
# Ok, lets find the tk source trees so we can use the headers
# If the directory (presumably symlink) named "tk" exists, use that one
# in preference to any others.  Same logic is used when choosing library
# and again with Tcl. The search order is the best place to look first, then in
# decreasing significance. The loop breaks if the trigger file is found.
# Note the gross little conversion here of srcdir by cd'ing to the found
# directory. This converts the path from a relative to an absolute, so
# recursive cache variables for the path will work right. We check all
# the possible paths in one loop rather than many seperate loops to speed
# things up.
# the alternative search directory is involked by --with-tkinclude
#
#no_tk=true
echo $ac_n "checking for Tk private headers""... $ac_c" 1>&6
echo "configure:6157: checking for Tk private headers" >&5
# Check whether --with-tkinclude or --without-tkinclude was given.
if test "${with_tkinclude+set}" = set; then
  withval="$with_tkinclude"
  with_tkinclude=${withval}
fi

if eval "test \"`echo '$''{'ac_cv_c_tkh'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
# first check to see if --with-tkinclude was specified
if test x"${with_tkinclude}" != x ; then
  if test -f ${with_tkinclude}/tk.h ; then
    ac_cv_c_tkh=`(cd ${with_tkinclude}; pwd)`
  elif test -f ${with_tkinclude}/generic/tk.h ; then
    ac_cv_c_tkh=`(cd ${with_tkinclude}/generic; pwd)`
  else
    { echo "configure: error: ${with_tkinclude} directory doesn't contain private headers" 1>&2; exit 1; }
  fi
fi
d17070 1
a17070 6
# next check if it came with Tk configuration file
if test x"${ac_cv_c_tkconfig}" != x ; then
  if test -f $ac_cv_c_tkconfig/../generic/tk.h ; then
    ac_cv_c_tkh=`(cd $ac_cv_c_tkconfig/../generic; pwd)`
  fi
fi
a17071 73
# next check in private source directory
#
# since ls returns lowest version numbers first, reverse its output
if test x"${ac_cv_c_tkh}" = x ; then
  for i in \
		${srcdir}/../tk \
		`ls -dr ${srcdir}/../tk[4-9].[0-9].[0-9] ${srcdir}/../tk[4-9].[0-9] 2>/dev/null` \
		`ls -dr ${srcdir}/../tk[4-9].[0-9].[0-9] ${srcdir}/../tk[4-9].[0-9] 2>/dev/null` \
		${srcdir}/../../tk \
		`ls -dr ${srcdir}/../../tk[4-9].[0-9].[0-9] ${srcdir}/../../tk[4-9].[0-9] 2>/dev/null` \
		`ls -dr ${srcdir}/../../tk[4-9].[0-9].[0-9] ${srcdir}/../../tk[4-9].[0-9] 2>/dev/null` \
		${srcdir}/../../../tk \
		`ls -dr ${srcdir}/../../../tk[4-9].[0-9].[0-9] ${srcdir}/../../../tk[4-9].[0-9] 2>/dev/null ` \
		`ls -dr ${srcdir}/../../../tk[4-9].[0-9].[0-9] ${srcdir}/../../../tk[4-9].[0-9] 2>/dev/null ` ; do
    if test -f $i/generic/tk.h ; then
      ac_cv_c_tkh=`(cd $i/generic; pwd)`
      break
    fi
  done
fi
# finally check in a few common install locations
#
# since ls returns lowest version numbers first, reverse its output
if test x"${ac_cv_c_tkh}" = x ; then
  for i in \
		`ls -dr /usr/local/src/tk[4-9].[0-9].[0-9] /usr/local/src/tk[4-9].[0-9] 2>/dev/null` \
		`ls -dr /usr/local/src/tk[4-9].[0-9].[0-9] /usr/local/src/tk[4-9].[0-9] 2>/dev/null` \
		`ls -dr /usr/local/lib/tk[4-9].[0-9].[0-9] /usr/local/lib/tk[4-9].[0-9] 2>/dev/null` \
		`ls -dr /usr/local/lib/tk[4-9].[0-9].[0-9] /usr/local/lib/tk[4-9].[0-9] 2>/dev/null` \
		/usr/local/src/tk \
		/usr/local/lib/tk \
		${prefix}/include ; do
    if test -f $i/generic/tk.h ; then
      ac_cv_c_tkh=`(cd $i/generic; pwd)`
      break
    fi
  done
fi
# see if one is installed
if test x"${ac_cv_c_tkh}" = x ; then
   ac_safe=`echo "tk.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for tk.h""... $ac_c" 1>&6
echo "configure:6228: checking for tk.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 6233 "configure"
#include "confdefs.h"
#include <tk.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:6238: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  ac_cv_c_tkh=installed
else
  echo "$ac_t""no" 1>&6
ac_cv_c_tkh=""
fi
a17072 1
fi
d17074 11
a17084 1
fi
d17086 28
a17113 14
if test x"${ac_cv_c_tkh}" != x ; then
#  no_tk=""
  if test x"${ac_cv_c_tkh}" = x"installed" ; then
    echo "$ac_t""is installed" 1>&6
    TKHDIRDASHI=""
  else
    echo "$ac_t""found in ${ac_cv_c_tkh}" 1>&6
    # this hack is cause the TKHDIRDASHI won't print if there is a "-I" in it.
    TKHDIRDASHI="-I${ac_cv_c_tkh}"
  fi
else
  TKHDIRDASHI="# no Tk directory found"
  echo "configure: warning: Can't find Tk private headers" 1>&2
  no_tk=true
d17117 5
d17123 12
a17134 16
fi
if test x"$no_tk" != x"true" ; then
# libexpectk no longer exists
#  X_PROGS="expectk \$(LIBEXPECTK)"
  X_PROGS=expectk
# should really generate following symbol, but I'm hitting configure's limit on substs.
  X_PROGS_INSTALLED=expectk_installed
else
  X_PROGS="# no X support on this system"
  echo "configure: warning: No X based programs will be built" 1>&2
  echo "	WARNING: Can't find Tk headers or library.  You can still"
  echo "	build expect, but not expectk.  See Expect's README for"
  echo "	information on how to obtain Tk.  If Tk is installed, see"
  echo "	Expect's INSTALL on how to tell configure where Tk is"
  echo "	installed."
fi
d17136 11
a17146 8
# consume these flags so that user can invoke Expect's configure with
# the same command as Tcl's configure
# Check whether --enable-load or --disable-load was given.
if test "${enable_load+set}" = set; then
  enableval="$enable_load"
  disable_dl=$enableval
else
  disable_dl=no
d17150 32
a17181 6
# Check whether --enable-gcc or --disable-gcc was given.
if test "${enable_gcc+set}" = set; then
  enableval="$enable_gcc"
  enable_gcc=$enableval
else
  enable_gcc=no
d17185 16
a17200 5
# Following comment stolen from Tcl's configure.in:
#   Note:  in the following variable, it's important to use the absolute
#   path name of the Tcl directory rather than "..":  this is because
#   AIX remembers this path and will attempt to use it at run-time to look
#   up the Tcl library.
d17202 11
a17212 42
if test "${TCL_LIB_VERSIONS_OK}" = "ok"; then
    EXP_LIB_VERSION=$EXP_VERSION
else
    EXP_LIB_VERSION=$EXP_VERSION_NODOTS
fi
if test $iunix -eq 1 ; then
    EXP_LIB_VERSION=$EXP_VERSION_NODOTS
fi

# also remove dots on systems that don't support filenames > 14
# (are there systems which support shared libs and restrict filename lengths!?)
echo $ac_n "checking for long file names""... $ac_c" 1>&6
echo "configure:6337: checking for long file names" >&5
if eval "test \"`echo '$''{'ac_cv_sys_long_file_names'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_cv_sys_long_file_names=yes
# Test for long file names in all the places we know might matter:
#      .		the current directory, where building will happen
#      $prefix/lib	where we will be installing things
#      $exec_prefix/lib	likewise
# eval it to expand exec_prefix.
#      $TMPDIR		if set, where it might want to write temporary files
# if $TMPDIR is not set:
#      /tmp		where it might want to write temporary files
#      /var/tmp		likewise
#      /usr/tmp		likewise
if test -n "$TMPDIR" && test -d "$TMPDIR" && test -w "$TMPDIR"; then
  ac_tmpdirs="$TMPDIR"
else
  ac_tmpdirs='/tmp /var/tmp /usr/tmp'
fi
for ac_dir in  . $ac_tmpdirs `eval echo $prefix/lib $exec_prefix/lib` ; do
  test -d $ac_dir || continue
  test -w $ac_dir || continue # It is less confusing to not echo anything here.
  (echo 1 > $ac_dir/conftest9012345) 2>/dev/null
  (echo 2 > $ac_dir/conftest9012346) 2>/dev/null
  val=`cat $ac_dir/conftest9012345 2>/dev/null`
  if test ! -f $ac_dir/conftest9012345 || test "$val" != 1; then
    ac_cv_sys_long_file_names=no
    rm -f $ac_dir/conftest9012345 $ac_dir/conftest9012346 2>/dev/null
    break
d17214 24
a17237 1
  rm -f $ac_dir/conftest9012345 $ac_dir/conftest9012346 2>/dev/null
d17239 33
a17271 1
fi
a17272 5
echo "$ac_t""$ac_cv_sys_long_file_names" 1>&6
if test $ac_cv_sys_long_file_names = yes; then
  cat >> confdefs.h <<\EOF
#define HAVE_LONG_FILE_NAMES 1
EOF
d17274 6
a17279 1
fi
d17281 4
a17284 2
if test $ac_cv_sys_long_file_names = no; then
    EXP_LIB_VERSION=$EXP_VERSION_NODOTS
d17287 13
a17299 17
EXP_BUILD_LIB_SPEC="-L`pwd` -lexpect${EXP_LIB_VERSION}${DBGX}"
EXP_LIB_SPEC="-L\${tcl_libdir} -lexpect${EXP_LIB_VERSION}${DBGX}"
EXP_UNSHARED_LIB_FILE=libexpect${EXP_LIB_VERSION}${DBGX}.a

# The TCL_SHARED_LIB_SUFFIX macro below relies on the DBGX macro,
# which is set way far above here.  Don't set it to the value of
# TCL_DBGX, or you'll run into problems if you build Tcl with symbols
# and expect without (and vice versa?)

echo $ac_n "checking for type of library to build""... $ac_c" 1>&6
echo "configure:6394: checking for type of library to build" >&5
if test "$enable_shared" = "yes" && test "x${TCL_SHLIB_SUFFIX}" != "x" ; then
  EXP_SHLIB_CFLAGS=$TCL_SHLIB_CFLAGS
  eval "EXP_SHARED_LIB_FILE=libexpect${TCL_SHARED_LIB_SUFFIX}"
  EXP_LIB_FILE=$EXP_SHARED_LIB_FILE
  EXP_LIB_FILES="$EXP_SHARED_LIB_FILE $EXP_UNSHARED_LIB_FILE"
  echo "$ac_t""both shared and unshared" 1>&6
d17301 1
a17301 5
  EXP_SHLIB_CFLAGS=
  EXP_SHARED_LIB_FILE="reconfigure_Tcl_for_shared_library"
  EXP_LIB_FILE=$EXP_UNSHARED_LIB_FILE
  EXP_LIB_FILES="$EXP_UNSHARED_LIB_FILE"
  echo "$ac_t""unshared" 1>&6
d17303 1
d17305 2
a17306 9
# Sigh - Tcl defines SHLIB_LD_LIBS to be either empty or ${LIBS} and
# LIBS is intended to be expanded by Make.  But since we're too close
# to hitting config's max symbols, pack everything together here and
# do test ourselves.  Ugh.  
#
if test "$enable_stubs" = "yes"; then
    EXP_SHLIB_LD_LIBS="$TCL_BUILD_STUB_LIB_SPEC $TCL_DL_LIBS $LIBS $LIBS -lc"
elif test "x$TCL_SHLIB_LD_LIBS" = "x" ; then
	EXP_SHLIB_LD_LIBS="$LIBS"
d17308 2
a17309 3
	# seems a little strange to build in Tcl's build-lib, but
	# that's what Tk does.
	  EXP_SHLIB_LD_LIBS="$TCL_BUILD_LIB_SPEC $TCL_DL_LIBS $LIBS -lc"
d17312 1
a17312 12
#--------------------------------------------------------------------
# This section is based on analogous thing in Tk installation. - DEL
#	Various manipulations on the search path used at runtime to
#	find shared libraries:
#	2. On systems such as AIX and Ultrix that use "-L" as the
#	   search path option, colons cannot be used to separate
#	   directories from each other. Change colons to " -L".
#	3. Create two sets of search flags, one for use in cc lines
#	   and the other for when the linker is invoked directly.  In
#	   the second case, '-Wl,' must be stripped off and commas must
#	   be replaced by spaces.
#--------------------------------------------------------------------
d17314 2
a17315 1
LIB_RUNTIME_DIR='${LIB_RUNTIME_DIR}'
d17317 2
a17318 2
# If Tcl and Expect are installed in different places, adjust the library
# search path to reflect this.
a17319 11
if test x"$no_tk" = x"true" ; then
  if test "$TCL_EXEC_PREFIX" != "$exec_prefix"; then
    LIB_RUNTIME_DIR="${LIB_RUNTIME_DIR}:${TCL_EXEC_PREFIX}/lib"
  fi
else
  if test "$TK_EXEC_PREFIX" != "$exec_prefix"; then
    LIB_RUNTIME_DIR="${LIB_RUNTIME_DIR}:${TK_EXEC_PREFIX}/lib"
    # no need to include TCL's search path, because TK does it already
    # (it is actually appended later, via TK_LD_SEARCH_FLAGS trick below)
  fi
fi
d17321 5
a17325 3
if test "${TCL_LD_SEARCH_FLAGS}" = '-L${LIB_RUNTIME_DIR}'; then
    LIB_RUNTIME_DIR=`echo ${LIB_RUNTIME_DIR} |sed -e 's/:/ -L/g'`
fi
d17327 2
a17328 3
# The eval below is tricky!  It *evaluates* the string in
# ..._CC_SEARCH_FLAGS, which causes a substitution of the
# variable LIB_RUNTIME_DIR.
d17330 1
a17330 7
if test x"$no_tk" = x"true" ; then
  eval "EXP_CC_SEARCH_FLAGS=\"$TCL_CC_SEARCH_FLAGS\""
  EXP_LD_SEARCH_FLAGS=${TCL_LD_SEARCH_FLAGS}
else
  eval "EXP_CC_SEARCH_FLAGS=\"$TK_CC_SEARCH_FLAGS\""
  EXP_LD_SEARCH_FLAGS=${TK_LD_SEARCH_FLAGS}
fi
d17332 11
a17342 4
# now broken out into EXP_AND_TCL_LIBS and EXP_AND_TK_LIBS.  Had to do this
# in order to avoid repeating lib specs to which some systems object.
EXP_AND_TCL_LIBS="$EXP_AND_TCL_LIBS $EXP_CC_SEARCH_FLAGS"
EXP_AND_TK_LIBS="$EXP_AND_TK_LIBS $EXP_CC_SEARCH_FLAGS"
d17344 2
a17345 3
#
# Set up makefile substitutions
#
d17347 5
d17353 4
d17358 4
d17363 3
d17367 3
d17371 3
d17375 1
d17377 3
d17381 1
d17383 7
d17391 2
d17394 2
d17397 2
d17400 5
d17406 6
d17413 22
d17436 30
d17467 6
d17474 1
d17476 3
d17480 1
d17482 4
d17487 6
d17494 1
d17500 12
a17511 1
trap '' 1 2 15
d17513 8
a17520 1
trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15
d17522 9
a17530 3
test "x$prefix" = xNONE && prefix=$ac_default_prefix
# Let make expand exec_prefix.
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
d17532 1
a17532 6
# Any assignment to VPATH causes Sun make to only execute
# the first set of double-colon rules, so remove it if not needed.
# If there is a colon in the path, we need to keep it.
if test "x$srcdir" = x.; then
  ac_vpsub='/^[ 	]*VPATH[ 	]*=[^:]*$/d'
fi
d17534 12
a17545 1
trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15
d17547 1
a17547 1
DEFS=-DHAVE_CONFIG_H
d17549 1
a17549 2
# Without the "./", some shells look in PATH for config.status.
: ${CONFIG_STATUS=./config.status}
a17550 8
echo creating $CONFIG_STATUS
rm -f $CONFIG_STATUS
cat > $CONFIG_STATUS <<EOF
#! /bin/sh
# Generated automatically by configure.
# Run this file to recreate the current configuration.
# This directory was configured as follows,
# on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
d17552 1
a17552 1
# $0 $ac_configure_args
a17553 2
# Compiler output produced by configure, useful for debugging
# configure, is in ./config.log if it exists.
d17555 211
a17765 13
ac_cs_usage="Usage: $CONFIG_STATUS [--recheck] [--version] [--help]"
for ac_option
do
  case "\$ac_option" in
  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
    echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
    exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
  -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
    echo "$CONFIG_STATUS generated by autoconf version 2.13"
    exit 0 ;;
  -help | --help | --hel | --he | --h)
    echo "\$ac_cs_usage"; exit 0 ;;
  *) echo "\$ac_cs_usage"; exit 1 ;;
a17766 1
done
d17768 63
a17830 2
ac_given_srcdir=$srcdir
ac_given_INSTALL="$INSTALL"
d17832 38
a17869 105
trap 'rm -fr `echo "Makefile \
	pkgIndex expect_cf.h" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
EOF
cat >> $CONFIG_STATUS <<EOF

# Protect against being on the right side of a sed subst in config.status.
sed 's/%@@/@@@@/; s/@@%/@@@@/; s/%g\$/@@g/; /@@g\$/s/[\\\\&%]/\\\\&/g;
 s/@@@@/%@@/; s/@@@@/@@%/; s/@@g\$/%g/' > conftest.subs <<\\CEOF
$ac_vpsub
$extrasub
s%@@SHELL@@%$SHELL%g
s%@@CFLAGS@@%$CFLAGS%g
s%@@CPPFLAGS@@%$CPPFLAGS%g
s%@@CXXFLAGS@@%$CXXFLAGS%g
s%@@FFLAGS@@%$FFLAGS%g
s%@@DEFS@@%$DEFS%g
s%@@LDFLAGS@@%$LDFLAGS%g
s%@@LIBS@@%$LIBS%g
s%@@exec_prefix@@%$exec_prefix%g
s%@@prefix@@%$prefix%g
s%@@program_transform_name@@%$program_transform_name%g
s%@@bindir@@%$bindir%g
s%@@sbindir@@%$sbindir%g
s%@@libexecdir@@%$libexecdir%g
s%@@datadir@@%$datadir%g
s%@@sysconfdir@@%$sysconfdir%g
s%@@sharedstatedir@@%$sharedstatedir%g
s%@@localstatedir@@%$localstatedir%g
s%@@libdir@@%$libdir%g
s%@@includedir@@%$includedir%g
s%@@oldincludedir@@%$oldincludedir%g
s%@@infodir@@%$infodir%g
s%@@mandir@@%$mandir%g
s%@@found@@%$found%g
s%@@host@@%$host%g
s%@@host_alias@@%$host_alias%g
s%@@host_cpu@@%$host_cpu%g
s%@@host_vendor@@%$host_vendor%g
s%@@host_os@@%$host_os%g
s%@@target@@%$target%g
s%@@target_alias@@%$target_alias%g
s%@@target_cpu@@%$target_cpu%g
s%@@target_vendor@@%$target_vendor%g
s%@@target_os@@%$target_os%g
s%@@build@@%$build%g
s%@@build_alias@@%$build_alias%g
s%@@build_cpu@@%$build_cpu%g
s%@@build_vendor@@%$build_vendor%g
s%@@build_os@@%$build_os%g
s%@@CC@@%$CC%g
s%@@TCL_DEFS@@%$TCL_DEFS%g
s%@@TCL_DELETEME@@%$TCL_DELETEME%g
s%@@TCL_DBGX@@%$TCL_DBGX%g
s%@@TCL_EXEC_PREFIX@@%$TCL_EXEC_PREFIX%g
s%@@TCL_SHLIB_LD@@%$TCL_SHLIB_LD%g
s%@@SHLIB_SUFFIX@@%$SHLIB_SUFFIX%g
s%@@TCL_LD_FLAGS@@%$TCL_LD_FLAGS%g
s%@@TCL_BUILD_LIB_SPEC@@%$TCL_BUILD_LIB_SPEC%g
s%@@TCL_LIB_SPEC@@%$TCL_LIB_SPEC%g
s%@@TCL_SHARED_LIB_SUFFIX@@%$TCL_SHARED_LIB_SUFFIX%g
s%@@TK_VERSION@@%$TK_VERSION%g
s%@@TK_DEFS@@%$TK_DEFS%g
s%@@TK_DBGX@@%$TK_DBGX%g
s%@@TK_XINCLUDES@@%$TK_XINCLUDES%g
s%@@TK_XLIBSW@@%$TK_XLIBSW%g
s%@@TK_BUILD_LIB_SPEC@@%$TK_BUILD_LIB_SPEC%g
s%@@TK_LIB_SPEC@@%$TK_LIB_SPEC%g
s%@@INSTALL_PROGRAM@@%$INSTALL_PROGRAM%g
s%@@INSTALL_SCRIPT@@%$INSTALL_SCRIPT%g
s%@@INSTALL_DATA@@%$INSTALL_DATA%g
s%@@RANLIB@@%$RANLIB%g
s%@@subdirs@@%$subdirs%g
s%@@CPP@@%$CPP%g
s%@@TCLHDIR@@%$TCLHDIR%g
s%@@TCLHDIRDASHI@@%$TCLHDIRDASHI%g
s%@@TCL_LIBRARY@@%$TCL_LIBRARY%g
s%@@TKHDIRDASHI@@%$TKHDIRDASHI%g
s%@@EXP_MAJOR_VERSION@@%$EXP_MAJOR_VERSION%g
s%@@EXP_MINOR_VERSION@@%$EXP_MINOR_VERSION%g
s%@@EXP_MICRO_VERSION@@%$EXP_MICRO_VERSION%g
s%@@EXP_VERSION_FULL@@%$EXP_VERSION_FULL%g
s%@@EXP_VERSION@@%$EXP_VERSION%g
s%@@EXP_CONFIG_SHELL@@%$EXP_CONFIG_SHELL%g
s%@@EXP_SHARED_LIB_FILE@@%$EXP_SHARED_LIB_FILE%g
s%@@EXP_UNSHARED_LIB_FILE@@%$EXP_UNSHARED_LIB_FILE%g
s%@@EXP_SHLIB_CFLAGS@@%$EXP_SHLIB_CFLAGS%g
s%@@EXP_LIB_FILE@@%$EXP_LIB_FILE%g
s%@@EXP_LIB_FILES@@%$EXP_LIB_FILES%g
s%@@EXP_BUILD_LIB_SPEC@@%$EXP_BUILD_LIB_SPEC%g
s%@@EXP_LIB_SPEC@@%$EXP_LIB_SPEC%g
s%@@EXP_CFLAGS@@%$EXP_CFLAGS%g
s%@@EXP_LDFLAGS@@%$EXP_LDFLAGS%g
s%@@EXP_LD_SEARCH_FLAGS@@%$EXP_LD_SEARCH_FLAGS%g
s%@@TCL_LD_SEARCH_FLAGS@@%$TCL_LD_SEARCH_FLAGS%g
s%@@EXP_AND_TCL_LIBS@@%$EXP_AND_TCL_LIBS%g
s%@@EXP_AND_TK_LIBS@@%$EXP_AND_TK_LIBS%g
s%@@EXP_SHLIB_LD_LIBS@@%$EXP_SHLIB_LD_LIBS%g
s%@@X_PROGS@@%$X_PROGS%g
s%@@PTY_TYPE@@%$PTY_TYPE%g
s%@@EVENT_TYPE@@%$EVENT_TYPE%g
s%@@EVENT_ABLE@@%$EVENT_ABLE%g
s%@@SETUID@@%$SETUID%g
s%@@UNSHARED_RANLIB@@%$UNSHARED_RANLIB%g
s%@@DEFAULT_STTY_ARGS@@%$DEFAULT_STTY_ARGS%g
s%@@STTY_BIN@@%$STTY_BIN%g
a17870 2
CEOF
EOF
d17872 4
a17875 1
cat >> $CONFIG_STATUS <<\EOF
d17877 10
a17886 17
# Split the substitutions into bite-sized pieces for seds with
# small command number limits, like on Digital OSF/1 and HP-UX.
ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
ac_file=1 # Number of current file.
ac_beg=1 # First line for current file.
ac_end=$ac_max_sed_cmds # Line after last line for current file.
ac_more_lines=:
ac_sed_cmds=""
while $ac_more_lines; do
  if test $ac_beg -gt 1; then
    sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
  else
    sed "${ac_end}q" conftest.subs > conftest.s$ac_file
  fi
  if test ! -s conftest.s$ac_file; then
    ac_more_lines=false
    rm -f conftest.s$ac_file
d17888 1
a17888 8
    if test -z "$ac_sed_cmds"; then
      ac_sed_cmds="sed -f conftest.s$ac_file"
    else
      ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
    fi
    ac_file=`expr $ac_file + 1`
    ac_beg=$ac_end
    ac_end=`expr $ac_end + $ac_max_sed_cmds`
d17890 2
a17891 5
done
if test -z "$ac_sed_cmds"; then
  ac_sed_cmds=cat
fi
EOF
d17893 53
a17945 1
cat >> $CONFIG_STATUS <<EOF
d17947 3
a17949 11
CONFIG_FILES=\${CONFIG_FILES-"Makefile \
	pkgIndex"}
EOF
cat >> $CONFIG_STATUS <<\EOF
for ac_file in .. $CONFIG_FILES; do if test "x$ac_file" != x..; then
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
  esac
d17951 64
a18014 19
  # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.

  # Remove last slash and all that follows it.  Not all systems have dirname.
  ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
  if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
    # The file is in a subdirectory.
    test ! -d "$ac_dir" && mkdir "$ac_dir"
    ac_dir_suffix="/`echo $ac_dir|sed 's%^\./%%'`"
    # A "../" for each directory in $ac_dir_suffix.
    ac_dots=`echo $ac_dir_suffix|sed 's%/[^/]*%../%g'`
  else
    ac_dir_suffix= ac_dots=
  fi

  case "$ac_given_srcdir" in
  .)  srcdir=.
      if test -z "$ac_dots"; then top_srcdir=.
      else top_srcdir=`echo $ac_dots|sed 's%/$%%'`; fi ;;
  /*) srcdir="$ac_given_srcdir$ac_dir_suffix"; top_srcdir="$ac_given_srcdir" ;;
d18016 3
a18018 3
    srcdir="$ac_dots$ac_given_srcdir$ac_dir_suffix"
    top_srcdir="$ac_dots$ac_given_srcdir" ;;
  esac
d18020 38
a18057 4
  case "$ac_given_INSTALL" in
  [/$]*) INSTALL="$ac_given_INSTALL" ;;
  *) INSTALL="$ac_dots$ac_given_INSTALL" ;;
  esac
a18058 8
  echo creating "$ac_file"
  rm -f "$ac_file"
  configure_input="Generated automatically from `echo $ac_file_in|sed 's%.*/%%'` by configure."
  case "$ac_file" in
  *Makefile*) ac_comsub="1i\\
# $configure_input" ;;
  *) ac_comsub= ;;
  esac
d18060 4
a18063 42
  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  sed -e "$ac_comsub
s%@@configure_input@@%$configure_input%g
s%@@srcdir@@%$srcdir%g
s%@@top_srcdir@@%$top_srcdir%g
s%@@INSTALL@@%$INSTALL%g
" $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
fi; done
rm -f conftest.s*

# These sed commands are passed to sed as "A NAME B NAME C VALUE D", where
# NAME is the cpp macro being defined and VALUE is the value it is being given.
#
# ac_d sets the value in "#define NAME VALUE" lines.
ac_dA='s%^\([ 	]*\)#\([ 	]*define[ 	][ 	]*\)'
ac_dB='\([ 	][ 	]*\)[^ 	]*%\1#\2'
ac_dC='\3'
ac_dD='%g'
# ac_u turns "#undef NAME" with trailing blanks into "#define NAME VALUE".
ac_uA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_uB='\([ 	]\)%\1#\2define\3'
ac_uC=' '
ac_uD='\4%g'
# ac_e turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
ac_eA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_eB='$%\1#\2define\3'
ac_eC=' '
ac_eD='%g'

if test "${CONFIG_HEADERS+set}" != set; then
EOF
cat >> $CONFIG_STATUS <<EOF
  CONFIG_HEADERS="expect_cf.h"
EOF
cat >> $CONFIG_STATUS <<\EOF
fi
for ac_file in .. $CONFIG_HEADERS; do if test "x$ac_file" != x..; then
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
d18065 2
d18068 1
a18068 1
  echo creating $ac_file
d18070 2
a18071 79
  rm -f conftest.frag conftest.in conftest.out
  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  cat $ac_file_inputs > conftest.in

EOF

# Transform confdefs.h into a sed script conftest.vals that substitutes
# the proper values into config.h.in to produce config.h.  And first:
# Protect against being on the right side of a sed subst in config.status.
# Protect against being in an unquoted here document in config.status.
rm -f conftest.vals
cat > conftest.hdr <<\EOF
s/[\\&%]/\\&/g
s%[\\$`]%\\&%g
s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD}%gp
s%ac_d%ac_u%gp
s%ac_u%ac_e%gp
EOF
sed -n -f conftest.hdr confdefs.h > conftest.vals
rm -f conftest.hdr

# This sed command replaces #undef with comments.  This is necessary, for
# example, in the case of _POSIX_SOURCE, which is predefined and required
# on some systems where configure will not decide to define it.
cat >> conftest.vals <<\EOF
s%^[ 	]*#[ 	]*undef[ 	][ 	]*[a-zA-Z_][a-zA-Z_0-9]*%/* & */%
EOF

# Break up conftest.vals because some shells have a limit on
# the size of here documents, and old seds have small limits too.

rm -f conftest.tail
while :
do
  ac_lines=`grep -c . conftest.vals`
  # grep -c gives empty output for an empty file on some AIX systems.
  if test -z "$ac_lines" || test "$ac_lines" -eq 0; then break; fi
  # Write a limited-size here document to conftest.frag.
  echo '  cat > conftest.frag <<CEOF' >> $CONFIG_STATUS
  sed ${ac_max_here_lines}q conftest.vals >> $CONFIG_STATUS
  echo 'CEOF
  sed -f conftest.frag conftest.in > conftest.out
  rm -f conftest.in
  mv conftest.out conftest.in
' >> $CONFIG_STATUS
  sed 1,${ac_max_here_lines}d conftest.vals > conftest.tail
  rm -f conftest.vals
  mv conftest.tail conftest.vals
done
rm -f conftest.vals

cat >> $CONFIG_STATUS <<\EOF
  rm -f conftest.frag conftest.h
  echo "/* $ac_file.  Generated automatically by configure.  */" > conftest.h
  cat conftest.in >> conftest.h
  rm -f conftest.in
  if cmp -s $ac_file conftest.h 2>/dev/null; then
    echo "$ac_file is unchanged"
    rm -f conftest.h
  else
    # Remove last slash and all that follows it.  Not all systems have dirname.
      ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
      if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
      # The file is in a subdirectory.
      test ! -d "$ac_dir" && mkdir "$ac_dir"
    fi
    rm -f $ac_file
    mv conftest.h $ac_file
  fi
fi; done

EOF
cat >> $CONFIG_STATUS <<EOF

EOF
cat >> $CONFIG_STATUS <<\EOF
chmod +x ${srcdir}/install-sh ${srcdir}/mkinstalldirs
exit 0
EOF
d18073 23
a18095 2
rm -fr confdefs* $ac_clean_files
test "$no_create" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1
d18097 3
d18110 1
a18110 1
    case "$ac_arg" in
d18115 4
a18118 1
    | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
d18124 4
d18132 6
a18137 1
  for ac_config_dir in testsuite; do
d18141 1
a18141 3
    if test ! -d $srcdir/$ac_config_dir; then
      continue
    fi
d18143 52
a18194 1
    echo configuring in $ac_config_dir
d18196 38
a18233 12
    case "$srcdir" in
    .) ;;
    *)
      if test -d ./$ac_config_dir || mkdir ./$ac_config_dir; then :;
      else
        { echo "configure: error: can not create `pwd`/$ac_config_dir" 1>&2; exit 1; }
      fi
      ;;
    esac

    ac_popdir=`pwd`
    cd $ac_config_dir
a18234 2
      # A "../" for each directory in /$ac_config_dir.
      ac_dots=`echo $ac_config_dir|sed -e 's%^\./%%' -e 's%[^/]$%&/%' -e 's%[^/]*/%../%g'`
d18236 1
a18236 8
    case "$srcdir" in
    .) # No --srcdir option.  We are building in place.
      ac_sub_srcdir=$srcdir ;;
    /*) # Absolute path.
      ac_sub_srcdir=$srcdir/$ac_config_dir ;;
    *) # Relative path.
      ac_sub_srcdir=$ac_dots$srcdir/$ac_config_dir ;;
    esac
d18239 5
a18243 3
    if test -f $ac_sub_srcdir/configure; then
      ac_sub_configure=$ac_sub_srcdir/configure
    elif test -f $ac_sub_srcdir/configure.in; then
d18246 2
a18247 1
      echo "configure: warning: no configuration information is in $ac_config_dir" 1>&2
a18252 1

d18254 2
a18255 2
      case "$cache_file" in
      /*) ac_sub_cache_file=$cache_file ;;
d18257 1
a18257 1
        ac_sub_cache_file="$ac_dots$cache_file" ;;
a18258 4
  case "$ac_given_INSTALL" in
        [/$]*) INSTALL="$ac_given_INSTALL" ;;
        *) INSTALL="$ac_dots$ac_given_INSTALL" ;;
        esac
d18260 2
a18261 1
      echo "running ${CONFIG_SHELL-/bin/sh} $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_sub_srcdir"
d18263 5
a18267 5
      if eval ${CONFIG_SHELL-/bin/sh} $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_sub_srcdir
      then :
      else
        { echo "configure: error: $ac_sub_configure failed for $ac_config_dir" 1>&2; exit 1; }
      fi
@


5.54
log
@
	* Merged changes from the official version 5.42b0 of expect into
	  the SF sources. See details below (In the ChangeLog).
@
text
@d543 1
a543 1
EXP_MINOR_VERSION=42
@


5.53
log
@
	* aclocal.m4 (TCLHDIRDASHI): Extended with path to unix headers as
	  well.
	* expect_tcl.h: Added inclusion of <stdio.h>.
	  Both changes required for Expect to compile against Tcl 8.5
	  after the header reform.
	* configure: Regenerated.
@
text
@d543 1
a543 1
EXP_MINOR_VERSION=41
d2019 13
d2033 1
a2033 1
echo "configure:2021: checking if stty reads stdout" >&5
d2068 1
a2068 1
  /bin/stty > /dev/null 2> /dev/null
d2089 1
a2089 1
echo "configure:2077: checking if running Solaris" >&5
d2109 1
a2109 1
echo "configure:2097: checking for sin" >&5
d2114 1
a2114 1
#line 2102 "configure"
d2137 1
a2137 1
if { (eval echo configure:2125: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2167 1
a2167 1
echo "configure:2155: checking for strftime" >&5
d2172 1
a2172 1
#line 2160 "configure"
d2195 1
a2195 1
if { (eval echo configure:2183: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2235 1
a2235 1
echo "configure:2223: checking for Tcl private headers" >&5
d2306 1
a2306 1
echo "configure:2294: checking for tclInt.h" >&5
d2311 1
a2311 1
#line 2299 "configure"
d2316 1
a2316 1
{ (eval echo configure:2304: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2377 1
a2377 1
echo "configure:2365: checking type of library to build" >&5
d2394 1
a2394 1
echo "configure:2382: checking whether to use Tcl stubs" >&5
d2474 1
a2474 1
echo "configure:2462: checking for gethostname" >&5
d2479 1
a2479 1
#line 2467 "configure"
d2502 1
a2502 1
if { (eval echo configure:2490: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2525 1
a2525 1
echo "configure:2513: checking for gethostname in -linet" >&5
d2533 1
a2533 1
#line 2521 "configure"
d2544 1
a2544 1
if { (eval echo configure:2532: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2570 1
a2570 1
echo "configure:2558: checking for gethostname" >&5
d2575 1
a2575 1
#line 2563 "configure"
d2598 1
a2598 1
if { (eval echo configure:2586: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2621 1
a2621 1
echo "configure:2609: checking for gethostname in -linet" >&5
d2629 1
a2629 1
#line 2617 "configure"
d2640 1
a2640 1
if { (eval echo configure:2628: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2666 1
a2666 1
echo "configure:2654: checking for gethostname" >&5
d2671 1
a2671 1
#line 2659 "configure"
d2694 1
a2694 1
if { (eval echo configure:2682: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2717 1
a2717 1
echo "configure:2705: checking for gethostname in -linet" >&5
d2725 1
a2725 1
#line 2713 "configure"
d2736 1
a2736 1
if { (eval echo configure:2724: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2765 1
a2765 1
echo "configure:2753: checking for socket" >&5
d2770 1
a2770 1
#line 2758 "configure"
d2793 1
a2793 1
if { (eval echo configure:2781: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2816 1
a2816 1
echo "configure:2804: checking for socket in -linet" >&5
d2824 1
a2824 1
#line 2812 "configure"
d2835 1
a2835 1
if { (eval echo configure:2823: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2861 1
a2861 1
echo "configure:2849: checking for socket" >&5
d2866 1
a2866 1
#line 2854 "configure"
d2889 1
a2889 1
if { (eval echo configure:2877: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2912 1
a2912 1
echo "configure:2900: checking for socket in -linet" >&5
d2920 1
a2920 1
#line 2908 "configure"
d2931 1
a2931 1
if { (eval echo configure:2919: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2957 1
a2957 1
echo "configure:2945: checking for socket" >&5
d2962 1
a2962 1
#line 2950 "configure"
d2985 1
a2985 1
if { (eval echo configure:2973: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3008 1
a3008 1
echo "configure:2996: checking for socket in -linet" >&5
d3016 1
a3016 1
#line 3004 "configure"
d3027 1
a3027 1
if { (eval echo configure:3015: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3055 1
a3055 1
echo "configure:3043: checking for select" >&5
d3060 1
a3060 1
#line 3048 "configure"
d3083 1
a3083 1
if { (eval echo configure:3071: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3106 1
a3106 1
echo "configure:3094: checking for select in -linet" >&5
d3114 1
a3114 1
#line 3102 "configure"
d3125 1
a3125 1
if { (eval echo configure:3113: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3151 1
a3151 1
echo "configure:3139: checking for select" >&5
d3156 1
a3156 1
#line 3144 "configure"
d3179 1
a3179 1
if { (eval echo configure:3167: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3202 1
a3202 1
echo "configure:3190: checking for select in -linet" >&5
d3210 1
a3210 1
#line 3198 "configure"
d3221 1
a3221 1
if { (eval echo configure:3209: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3247 1
a3247 1
echo "configure:3235: checking for select" >&5
d3252 1
a3252 1
#line 3240 "configure"
d3275 1
a3275 1
if { (eval echo configure:3263: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3298 1
a3298 1
echo "configure:3286: checking for select in -linet" >&5
d3306 1
a3306 1
#line 3294 "configure"
d3317 1
a3317 1
if { (eval echo configure:3305: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3345 1
a3345 1
echo "configure:3333: checking for getpseudotty" >&5
d3350 1
a3350 1
#line 3338 "configure"
d3373 1
a3373 1
if { (eval echo configure:3361: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3396 1
a3396 1
echo "configure:3384: checking for getpseudotty in -lseq" >&5
d3404 1
a3404 1
#line 3392 "configure"
d3415 1
a3415 1
if { (eval echo configure:3403: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3448 1
a3448 1
echo "configure:3436: checking for getpseudotty" >&5
d3453 1
a3453 1
#line 3441 "configure"
d3476 1
a3476 1
if { (eval echo configure:3464: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3499 1
a3499 1
echo "configure:3487: checking for getpseudotty in -lseq" >&5
d3507 1
a3507 1
#line 3495 "configure"
d3518 1
a3518 1
if { (eval echo configure:3506: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3551 1
a3551 1
echo "configure:3539: checking for getpseudotty" >&5
d3556 1
a3556 1
#line 3544 "configure"
d3579 1
a3579 1
if { (eval echo configure:3567: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3602 1
a3602 1
echo "configure:3590: checking for getpseudotty in -lseq" >&5
d3610 1
a3610 1
#line 3598 "configure"
d3621 1
a3621 1
if { (eval echo configure:3609: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3657 1
a3657 1
echo "configure:3645: checking for openpty" >&5
d3662 1
a3662 1
#line 3650 "configure"
d3685 1
a3685 1
if { (eval echo configure:3673: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3708 1
a3708 1
echo "configure:3696: checking for openpty in -lutil" >&5
d3716 1
a3716 1
#line 3704 "configure"
d3727 1
a3727 1
if { (eval echo configure:3715: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3762 1
a3762 1
echo "configure:3750: checking for openpty" >&5
d3767 1
a3767 1
#line 3755 "configure"
d3790 1
a3790 1
if { (eval echo configure:3778: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3813 1
a3813 1
echo "configure:3801: checking for openpty in -lutil" >&5
d3821 1
a3821 1
#line 3809 "configure"
d3832 1
a3832 1
if { (eval echo configure:3820: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3864 1
a3864 1
echo "configure:3852: checking for openpty" >&5
d3869 1
a3869 1
#line 3857 "configure"
d3892 1
a3892 1
if { (eval echo configure:3880: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3915 1
a3915 1
echo "configure:3903: checking for openpty in -lutil" >&5
d3923 1
a3923 1
#line 3911 "configure"
d3934 1
a3934 1
if { (eval echo configure:3922: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3972 1
a3972 1
echo "configure:3960: checking if running Sequent running SVR4" >&5
d3986 1
a3986 1
echo "configure:3974: checking for sys/sysmacros.h" >&5
d3991 1
a3991 1
#line 3979 "configure"
d3996 1
a3996 1
{ (eval echo configure:3984: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4022 1
a4022 1
echo "configure:4010: checking for stdlib.h" >&5
d4027 1
a4027 1
#line 4015 "configure"
d4032 1
a4032 1
{ (eval echo configure:4020: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4059 1
a4059 1
echo "configure:4047: checking for inttypes.h" >&5
d4064 1
a4064 1
#line 4052 "configure"
d4069 1
a4069 1
{ (eval echo configure:4057: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4099 1
a4099 1
echo "configure:4087: checking for varargs.h" >&5
d4104 1
a4104 1
#line 4092 "configure"
d4109 1
a4109 1
{ (eval echo configure:4097: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4135 1
a4135 1
echo "configure:4123: checking for unistd.h" >&5
d4140 1
a4140 1
#line 4128 "configure"
d4145 1
a4145 1
{ (eval echo configure:4133: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4173 1
a4173 1
echo "configure:4161: checking for sys/stropts.h" >&5
d4178 1
a4178 1
#line 4166 "configure"
d4183 1
a4183 1
{ (eval echo configure:4171: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4210 1
a4210 1
echo "configure:4198: checking for sys/sysconfig.h" >&5
d4215 1
a4215 1
#line 4203 "configure"
d4220 1
a4220 1
{ (eval echo configure:4208: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4246 1
a4246 1
echo "configure:4234: checking for sys/fcntl.h" >&5
d4251 1
a4251 1
#line 4239 "configure"
d4256 1
a4256 1
{ (eval echo configure:4244: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4282 1
a4282 1
echo "configure:4270: checking for sys/select.h" >&5
d4287 1
a4287 1
#line 4275 "configure"
d4292 1
a4292 1
{ (eval echo configure:4280: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4318 1
a4318 1
echo "configure:4306: checking for sys/time.h" >&5
d4323 1
a4323 1
#line 4311 "configure"
d4328 1
a4328 1
{ (eval echo configure:4316: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4354 1
a4354 1
echo "configure:4342: checking for sys/ptem.h" >&5
d4359 1
a4359 1
#line 4347 "configure"
d4364 1
a4364 1
{ (eval echo configure:4352: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4390 1
a4390 1
echo "configure:4378: checking for sys/strredir.h" >&5
d4395 1
a4395 1
#line 4383 "configure"
d4400 1
a4400 1
{ (eval echo configure:4388: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4426 1
a4426 1
echo "configure:4414: checking for sys/strpty.h" >&5
d4431 1
a4431 1
#line 4419 "configure"
d4436 1
a4436 1
{ (eval echo configure:4424: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4463 1
a4463 1
echo "configure:4451: checking for sys/bsdtypes.h" >&5
d4471 1
a4471 1
echo "configure:4459: checking for $ac_hdr" >&5
d4476 1
a4476 1
#line 4464 "configure"
d4481 1
a4481 1
{ (eval echo configure:4469: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4515 1
a4515 1
echo "configure:4503: checking for memmove" >&5
d4520 1
a4520 1
#line 4508 "configure"
d4543 1
a4543 1
if { (eval echo configure:4531: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4566 1
a4566 1
echo "configure:4554: checking for sysconf" >&5
d4571 1
a4571 1
#line 4559 "configure"
d4594 1
a4594 1
if { (eval echo configure:4582: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4617 1
a4617 1
echo "configure:4605: checking for strftime" >&5
d4622 1
a4622 1
#line 4610 "configure"
d4645 1
a4645 1
if { (eval echo configure:4633: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4668 1
a4668 1
echo "configure:4656: checking for strchr" >&5
d4673 1
a4673 1
#line 4661 "configure"
d4696 1
a4696 1
if { (eval echo configure:4684: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4719 1
a4719 1
echo "configure:4707: checking for timezone" >&5
d4724 1
a4724 1
#line 4712 "configure"
d4747 1
a4747 1
if { (eval echo configure:4735: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4770 1
a4770 1
echo "configure:4758: checking for siglongjmp" >&5
d4775 1
a4775 1
#line 4763 "configure"
d4798 1
a4798 1
if { (eval echo configure:4786: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4825 1
a4825 1
echo "configure:4813: checking for memcpy" >&5
d4827 1
a4827 1
#line 4815 "configure"
d4837 1
a4837 1
if { (eval echo configure:4825: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4859 1
a4859 1
echo "configure:4847: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4865 1
a4865 1
#line 4853 "configure"
d4877 1
a4877 1
if { (eval echo configure:4865: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4897 1
a4897 1
echo "configure:4885: checking if any value exists for WNOHANG" >&5
d4904 1
a4904 1
#line 4892 "configure"
d4920 1
a4920 1
if { (eval echo configure:4908: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4953 1
a4953 1
echo "configure:4941: checking union wait" >&5
d4955 1
a4955 1
#line 4943 "configure"
d4967 1
a4967 1
if { (eval echo configure:4955: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4997 1
a4997 1
echo "configure:4985: checking mask type of select" >&5
d5011 1
a5011 1
echo "configure:4999: checking if signals need to be re-armed" >&5
d5017 1
a5017 1
#line 5005 "configure"
d5056 1
a5056 1
if { (eval echo configure:5044: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5087 1
a5087 1
echo "configure:5075: checking if on Convex" >&5
d5106 1
a5106 1
echo "configure:5094: checking if on NeXT" >&5
d5117 1
a5117 1
echo "configure:5105: checking if on HP" >&5
d5127 1
a5127 1
echo "configure:5115: checking sane default stty arguments" >&5
d5145 1
a5145 1
echo "configure:5133: checking for HP style pty allocation" >&5
d5159 1
a5159 1
echo "configure:5147: checking for HP style pty trapping" >&5
d5161 1
a5161 1
#line 5149 "configure"
d5183 1
a5183 1
echo "configure:5171: checking for AIX new-style pty allocation" >&5
d5195 1
a5195 1
echo "configure:5183: checking for SGI old-style pty allocation" >&5
d5212 1
a5212 1
echo "configure:5200: checking for SCO style pty allocation" >&5
d5229 1
a5229 1
echo "configure:5217: checking for SVR4 style pty allocation" >&5
d5238 1
a5238 1
echo "configure:5226: checking for libpts="-lpt" in -lpt" >&5
d5246 1
a5246 1
#line 5234 "configure"
d5257 1
a5257 1
if { (eval echo configure:5245: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5278 1
a5278 1
echo "configure:5266: checking for ptsname" >&5
d5283 1
a5283 1
#line 5271 "configure"
d5306 1
a5306 1
if { (eval echo configure:5294: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5328 1
a5328 1
echo "configure:5316: checking for ptsname" >&5
d5333 1
a5333 1
#line 5321 "configure"
d5356 1
a5356 1
if { (eval echo configure:5344: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5377 1
a5377 1
echo "configure:5365: checking for ptsname" >&5
d5382 1
a5382 1
#line 5370 "configure"
d5405 1
a5405 1
if { (eval echo configure:5393: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5432 1
a5432 1
echo "configure:5420: checking for OSF/1 style pty allocation" >&5
d5446 1
a5446 1
echo "configure:5434: checking for tcgetattr" >&5
d5451 1
a5451 1
#line 5439 "configure"
d5474 1
a5474 1
if { (eval echo configure:5462: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5494 1
a5494 1
echo "configure:5482: checking for tcsetattr" >&5
d5499 1
a5499 1
#line 5487 "configure"
d5522 1
a5522 1
if { (eval echo configure:5510: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5554 1
a5554 1
echo "configure:5542: checking for struct sgttyb" >&5
d5560 1
a5560 1
#line 5548 "configure"
d5570 1
a5570 1
if { (eval echo configure:5558: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5599 1
a5599 1
echo "configure:5587: checking for struct termio" >&5
d5605 1
a5605 1
#line 5593 "configure"
d5614 1
a5614 1
if { (eval echo configure:5602: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5636 1
a5636 1
echo "configure:5624: checking for struct termios" >&5
d5642 1
a5642 1
#line 5630 "configure"
d5656 1
a5656 1
if { (eval echo configure:5644: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5678 1
a5678 1
echo "configure:5666: checking if TCGETS or TCGETA in termios.h" >&5
d5684 1
a5684 1
#line 5672 "configure"
d5700 1
a5700 1
if { (eval echo configure:5688: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5720 1
a5720 1
echo "configure:5708: checking if TIOCGWINSZ in termios.h" >&5
d5726 1
a5726 1
#line 5714 "configure"
d5742 1
a5742 1
if { (eval echo configure:5730: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5763 1
a5763 1
echo "configure:5751: checking for Cray-style ptys" >&5
d5770 1
a5770 1
#line 5758 "configure"
d5782 1
a5782 1
if { (eval echo configure:5770: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5807 1
a5807 1
echo "configure:5795: checking for select" >&5
d5812 1
a5812 1
#line 5800 "configure"
d5835 1
a5835 1
if { (eval echo configure:5823: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5855 1
a5855 1
echo "configure:5843: checking for poll" >&5
d5860 1
a5860 1
#line 5848 "configure"
d5883 1
a5883 1
if { (eval echo configure:5871: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5903 1
a5903 1
echo "configure:5891: checking event handling" >&5
d5925 1
a5925 1
echo "configure:5913: checking for $ac_func" >&5
d5930 1
a5930 1
#line 5918 "configure"
d5953 1
a5953 1
if { (eval echo configure:5941: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5980 1
a5980 1
echo "configure:5968: checking for $ac_func" >&5
d5985 1
a5985 1
#line 5973 "configure"
d6008 1
a6008 1
if { (eval echo configure:5996: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6035 1
a6035 1
echo "configure:6023: checking whether setpgrp takes no argument" >&5
d6043 1
a6043 1
#line 6031 "configure"
d6063 1
a6063 1
if { (eval echo configure:6051: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d6091 1
a6091 1
echo "configure:6079: checking for SV-style timezone" >&5
d6097 1
a6097 1
#line 6085 "configure"
d6110 1
a6110 1
if { (eval echo configure:6098: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d6156 1
a6156 1
echo "configure:6144: checking for Tk private headers" >&5
d6227 1
a6227 1
echo "configure:6215: checking for tk.h" >&5
d6232 1
a6232 1
#line 6220 "configure"
d6237 1
a6237 1
{ (eval echo configure:6225: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d6336 1
a6336 1
echo "configure:6324: checking for long file names" >&5
d6393 1
a6393 1
echo "configure:6381: checking for type of library to build" >&5
d6505 1
d6665 1
@


5.52
log
@
	* Merged changes from the official version 5.41 of expect into the
	  SF sources. See details below.

	  --------------------
	  Simon Taylor <simon@@unisolve.com.xau> provided fix for interact
	  -o which was completely broken by 5.40.1.

	  Added scroll support to official tkterm.  Copied all fixes
	  from/to term_expect to/from tkterm.

	  Kiran Madabhushi <maskiran@@hotmail.xcom> encountered interact
	  diagnostics incorrectly pointing to expect_background.  Also,
	  found multiple -o flags behaving unexpectedly.  Added diag.

	  Kristoffer Eriksson <ske@@pkmab.xse> noted typo in SIMPLE code in
	  exp_inter.c.  However, this is extremely unlikely to affect any
	  machines.

	  Reinhard Max <max@@suse.xcom> noted that "make test" failed when
	  run in the background.  The log testcase was testing the
	  send_tty command.  Added code in both Expect and in the test to
	  handle this.
	  --------------------
@
text
@d2345 1
a2345 1
    TCLHDIRDASHI="-I${ac_cv_c_tclh}"
@


5.51
log
@
	* Merged changes from the official version 5.40 of expect into the
	  SF sources. See details below. Partially already done (Rich
	  Kennedy's patch).

	  --------------------
	  Eric Raymond <esr@@snark.thyrsus.xcom> provided troff-related
	  fixes for the expect, lib, and dislocate man pages.

	  Rich Kennedy <rickenne@@cisco.xcom> noted a bug having to do
	  with our caching of whether we have registered a filehandler.
	  This broke when Tcl was setting a handler on the same file.

	  Ken Pizzini <ken.pizzini@@explicate.xorg> provided patch for
	  leak in spawn error handling.

	  Pete Lancashire <plancashire@@columbia.xcom> noted autopasswd
	  example broke on Solaris which capitalized prompts.
	  --------------------
@
text
@d543 1
a543 1
EXP_MINOR_VERSION=40
@


5.50
log
@
	* Merged changes from the official version 5.39 of expect into the
	  SF sources. See details below. Partially already done.

	  --------------------
	  Poorva Gupta <poorva@@cup.hp.xcom> noted that grantpt/unlockpt
	  order was backward.  Strange that this was never a prob before!

	  Eric Raymond <esr@@snark.thyrsus.xcom> provided a troff-related
	  fix for the multixterm man page.

	  Nicolas Roeser <n-roeser@@gmx.xnet> noted confusion with md5 so I
	  made the Expect page more explicit about which file that hash
	  was based on.

	  Josh Purinton noted that earlier fix wasn't quite right.  Exit
	  on INT/TERM should cause Expect to exit with signal embedded in
	  status.  He also requested I obfuscate email addresses in this
	  file.

	  Guido Ostkamp <Guido.Ostkamp@@t-online.xde> and Igor Sobrado
	  <sobrado@@string1.ciencias.uniovi.xes> noted that fixline1
	  rewrote scripts to be expect scripts even if they were expectk
	  scripts.

	  Dirk Petera <dirkpetera@@yahoo.xcom> noted that any_spawn_id used
	  to work but did no longer.  Looks like a bug left over from the
	  the I18L conversion.  Fixed.

	  Steve Szabo noted exp_log_file -open channel failed.  Fixed.

	  Fixed bug from 5.31 that prevent stty from returning messages
	  from underlying program.

	  Thomas Dickey <dickey@@herndon4.his.xcom> noted that ncurses
	  ignores 2-char term names because of, well, poor assumptions and
	  coding.  Changed tkterm to use longer names.

	  Heath Moore <hmoore@@systran.xcom> noted that exp_clib could lock
	  up if remtime happened to be precisely 0.  Recoded to avoid.

	  At request of Per Otterholm <otterholm@@telia.xcom>, wrote script
	  to read from stdin and echo passwords (exercise 9 in Tk chapter
	  of Expect book).  Added to example directory as passwdprompt.

	  Josh Purinton <josh@@purinton.xorg> pointed out that by default,
	  SIGINT/TERM should cause expect's return status to be 1, not 0.

	  Paul Reithmuller <paul.reithmuller@@eng.sun.xcom> noted that
	  unbuffer shouldn't postprocess its output.  Added stty_init.

	  Mordechai T. Abzug <morty@@sanctuary.arbutus.md.xus> noted that
	  log_file wasn't recording -append status.

	  James Kelly <macubergeek@@comcast.xnet> noted weather example
	  needed new source.

	  Dimitar Haralanov <mitko@@tahoenetworks.xcom> noted that interact
	  dumped core with interact { timeout 1 }
	  --------------------
@
text
@d543 1
a543 1
EXP_MINOR_VERSION=39
@


5.49
log
@
	* configure.in: Removed the check of configure against
	  configure.in and Makefile.in. It is a hassle to deal with when
	  trying to build straight from CVS, making unsupervised automatic
	  builds difficult
@
text
@d543 1
a543 1
EXP_MINOR_VERSION=38
@


5.48
log
@
	* configure.in:   Made expect aware of tcl stubs. Derived from the
	* exp_command.h:  patches to expect done by Steve Landers
	* exp_command.c:  <stevel@@digital-smarties.com>. Modifications:
	* exp_main_sub.c  No global cmdinfo structures for 'close' and
	* exp_main_exp.c: 'return'. Made this per-interpreter information
	* exp_main_tk.c:  as it should be. Using interp assoc data for this.

	NOTE: stubs is not default, but has to be activated via '--enable-stubs'.

	* configure:      Regenerated.
@
text
@d594 5
a598 14
echo $ac_n "checking configure up to date""... $ac_c" 1>&6
echo "configure:596: checking configure up to date" >&5
for i in `ls -tr ${srcdir}/configure ${srcdir}/configure.in ${srcdir}/Makefile.in` ; do
  newest=$i
done
if test "$srcdir/configure" = "$newest" ; then
  echo "$ac_t""yes" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
if test $found = "no" -a "$newest" != "$srcdir/configure" ; then
  echo "configure: warning: $srcdir/configure appears to be old ($srcdir/configure.in and/or $srcdir/Makefile.in are newer) and the autoconf program to fix this situation was not found.  If you've no idea what this means, enter the command \"touch $srcdir/configure\" and restart $srcdir/configure." 1>&2
  exit
fi
d647 1
a647 1
echo "configure:657: checking host system type" >&5
d668 1
a668 1
echo "configure:678: checking target system type" >&5
d686 1
a686 1
echo "configure:696: checking build system type" >&5
d716 1
a716 1
echo "configure:726: checking shell to use within Make" >&5
d750 1
a750 1
echo "configure:760: checking for $ac_word" >&5
d780 1
a780 1
echo "configure:790: checking for $ac_word" >&5
d831 1
a831 1
echo "configure:841: checking for $ac_word" >&5
d863 1
a863 1
echo "configure:873: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
d874 1
a874 1
#line 884 "configure"
d879 1
a879 1
if { (eval echo configure:889: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d905 1
a905 1
echo "configure:915: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
d910 1
a910 1
echo "configure:920: checking whether we are using GNU C" >&5
d919 1
a919 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:929: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d938 1
a938 1
echo "configure:948: checking whether ${CC-cc} accepts -g" >&5
d978 1
a978 1
echo "configure:988: checking for building with threads" >&5
d1031 1
a1031 1
echo "configure:1041: checking for Tcl configuration" >&5
d1124 1
a1124 1
echo "configure:1134: checking Tcl build library" >&5
d1128 1
a1128 1
echo "configure:1138: checking for Tcl_CreateCommand" >&5
d1133 1
a1133 1
#line 1143 "configure"
d1156 1
a1156 1
if { (eval echo configure:1166: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1172 1
a1172 1
echo "configure:1182: checking if Tcl library build specification is valid" >&5
d1182 1
a1182 1
echo "configure:1192: checking if Tcl library build specification is valid" >&5
d1214 1
a1214 1
echo "configure:1224: checking for Tk configuration" >&5
d1303 1
a1303 1
echo "configure:1313: checking for Tk_Init" >&5
d1308 1
a1308 1
#line 1318 "configure"
d1331 1
a1331 1
if { (eval echo configure:1341: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1347 1
a1347 1
echo "configure:1357: checking if Tk library build specification is valid" >&5
d1357 1
a1357 1
echo "configure:1367: checking if Tk library build specification is valid" >&5
d1372 1
a1372 1
echo "configure:1382: checking whether the compiler ($CC) actually works" >&5
d1374 1
a1374 1
#line 1384 "configure"
d1381 1
a1381 1
if { (eval echo configure:1391: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1393 1
a1393 1
#line 1403 "configure"
d1400 1
a1400 1
if { (eval echo configure:1410: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1434 1
a1434 1
echo "configure:1444: checking for a BSD compatible install" >&5
d1491 1
a1491 1
echo "configure:1501: checking for $ac_word" >&5
d1531 1
a1531 1
echo "configure:1541: checking how to run the C preprocessor" >&5
d1546 1
a1546 1
#line 1556 "configure"
d1552 1
a1552 1
{ (eval echo configure:1562: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1563 1
a1563 1
#line 1573 "configure"
d1569 1
a1569 1
{ (eval echo configure:1579: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1580 1
a1580 1
#line 1590 "configure"
d1586 1
a1586 1
{ (eval echo configure:1596: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1612 1
a1612 1
echo "configure:1622: checking if running LynxOS" >&5
d1617 1
a1617 1
#line 1627 "configure"
d1647 1
a1647 1
echo "configure:1657: checking whether -mposix or -X is available" >&5
d1652 1
a1652 1
#line 1662 "configure"
d1668 1
a1668 1
if { (eval echo configure:1678: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1688 1
a1688 1
echo "configure:1698: checking for ANSI C header files" >&5
d1693 1
a1693 1
#line 1703 "configure"
d1701 1
a1701 1
{ (eval echo configure:1711: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1718 1
a1718 1
#line 1728 "configure"
d1736 1
a1736 1
#line 1746 "configure"
d1757 1
a1757 1
#line 1767 "configure"
d1768 1
a1768 1
if { (eval echo configure:1778: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d1792 1
a1792 1
echo "configure:1802: checking for pid_t" >&5
d1797 1
a1797 1
#line 1807 "configure"
d1825 1
a1825 1
echo "configure:1835: checking return type of signal handlers" >&5
d1830 1
a1830 1
#line 1840 "configure"
d1847 1
a1847 1
if { (eval echo configure:1857: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1866 1
a1866 1
echo "configure:1876: checking whether time.h and sys/time.h may both be included" >&5
d1871 1
a1871 1
#line 1881 "configure"
d1880 1
a1880 1
if { (eval echo configure:1890: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1901 1
a1901 1
echo "configure:1911: checking for sys/wait.h that is POSIX.1 compatible" >&5
d1906 1
a1906 1
#line 1916 "configure"
d1922 1
a1922 1
if { (eval echo configure:1932: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1964 1
a1964 1
echo "configure:1974: checking if running Mach" >&5
d1980 1
a1980 1
echo "configure:1990: checking if running MachTen" >&5
d1990 1
a1990 1
echo "configure:2000: checking if on Pyramid" >&5
d2000 1
a2000 1
echo "configure:2010: checking if on Apollo" >&5
d2010 1
a2010 1
echo "configure:2020: checking if on Interactive" >&5
d2020 1
a2020 1
echo "configure:2030: checking if stty reads stdout" >&5
d2076 1
a2076 1
echo "configure:2086: checking if running Solaris" >&5
d2096 1
a2096 1
echo "configure:2106: checking for sin" >&5
d2101 1
a2101 1
#line 2111 "configure"
d2124 1
a2124 1
if { (eval echo configure:2134: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2154 1
a2154 1
echo "configure:2164: checking for strftime" >&5
d2159 1
a2159 1
#line 2169 "configure"
d2182 1
a2182 1
if { (eval echo configure:2192: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2222 1
a2222 1
echo "configure:2232: checking for Tcl private headers" >&5
d2293 1
a2293 1
echo "configure:2303: checking for tclInt.h" >&5
d2298 1
a2298 1
#line 2308 "configure"
d2303 1
a2303 1
{ (eval echo configure:2313: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2364 1
a2364 1
echo "configure:2374: checking type of library to build" >&5
d2381 1
a2381 1
echo "configure:2391: checking whether to use Tcl stubs" >&5
d2461 1
a2461 1
echo "configure:2471: checking for gethostname" >&5
d2466 1
a2466 1
#line 2476 "configure"
d2489 1
a2489 1
if { (eval echo configure:2499: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2512 1
a2512 1
echo "configure:2522: checking for gethostname in -linet" >&5
d2520 1
a2520 1
#line 2530 "configure"
d2531 1
a2531 1
if { (eval echo configure:2541: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2557 1
a2557 1
echo "configure:2567: checking for gethostname" >&5
d2562 1
a2562 1
#line 2572 "configure"
d2585 1
a2585 1
if { (eval echo configure:2595: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2608 1
a2608 1
echo "configure:2618: checking for gethostname in -linet" >&5
d2616 1
a2616 1
#line 2626 "configure"
d2627 1
a2627 1
if { (eval echo configure:2637: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2653 1
a2653 1
echo "configure:2663: checking for gethostname" >&5
d2658 1
a2658 1
#line 2668 "configure"
d2681 1
a2681 1
if { (eval echo configure:2691: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2704 1
a2704 1
echo "configure:2714: checking for gethostname in -linet" >&5
d2712 1
a2712 1
#line 2722 "configure"
d2723 1
a2723 1
if { (eval echo configure:2733: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2752 1
a2752 1
echo "configure:2762: checking for socket" >&5
d2757 1
a2757 1
#line 2767 "configure"
d2780 1
a2780 1
if { (eval echo configure:2790: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2803 1
a2803 1
echo "configure:2813: checking for socket in -linet" >&5
d2811 1
a2811 1
#line 2821 "configure"
d2822 1
a2822 1
if { (eval echo configure:2832: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2848 1
a2848 1
echo "configure:2858: checking for socket" >&5
d2853 1
a2853 1
#line 2863 "configure"
d2876 1
a2876 1
if { (eval echo configure:2886: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2899 1
a2899 1
echo "configure:2909: checking for socket in -linet" >&5
d2907 1
a2907 1
#line 2917 "configure"
d2918 1
a2918 1
if { (eval echo configure:2928: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2944 1
a2944 1
echo "configure:2954: checking for socket" >&5
d2949 1
a2949 1
#line 2959 "configure"
d2972 1
a2972 1
if { (eval echo configure:2982: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2995 1
a2995 1
echo "configure:3005: checking for socket in -linet" >&5
d3003 1
a3003 1
#line 3013 "configure"
d3014 1
a3014 1
if { (eval echo configure:3024: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3042 1
a3042 1
echo "configure:3052: checking for select" >&5
d3047 1
a3047 1
#line 3057 "configure"
d3070 1
a3070 1
if { (eval echo configure:3080: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3093 1
a3093 1
echo "configure:3103: checking for select in -linet" >&5
d3101 1
a3101 1
#line 3111 "configure"
d3112 1
a3112 1
if { (eval echo configure:3122: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3138 1
a3138 1
echo "configure:3148: checking for select" >&5
d3143 1
a3143 1
#line 3153 "configure"
d3166 1
a3166 1
if { (eval echo configure:3176: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3189 1
a3189 1
echo "configure:3199: checking for select in -linet" >&5
d3197 1
a3197 1
#line 3207 "configure"
d3208 1
a3208 1
if { (eval echo configure:3218: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3234 1
a3234 1
echo "configure:3244: checking for select" >&5
d3239 1
a3239 1
#line 3249 "configure"
d3262 1
a3262 1
if { (eval echo configure:3272: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3285 1
a3285 1
echo "configure:3295: checking for select in -linet" >&5
d3293 1
a3293 1
#line 3303 "configure"
d3304 1
a3304 1
if { (eval echo configure:3314: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3332 1
a3332 1
echo "configure:3342: checking for getpseudotty" >&5
d3337 1
a3337 1
#line 3347 "configure"
d3360 1
a3360 1
if { (eval echo configure:3370: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3383 1
a3383 1
echo "configure:3393: checking for getpseudotty in -lseq" >&5
d3391 1
a3391 1
#line 3401 "configure"
d3402 1
a3402 1
if { (eval echo configure:3412: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3435 1
a3435 1
echo "configure:3445: checking for getpseudotty" >&5
d3440 1
a3440 1
#line 3450 "configure"
d3463 1
a3463 1
if { (eval echo configure:3473: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3486 1
a3486 1
echo "configure:3496: checking for getpseudotty in -lseq" >&5
d3494 1
a3494 1
#line 3504 "configure"
d3505 1
a3505 1
if { (eval echo configure:3515: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3538 1
a3538 1
echo "configure:3548: checking for getpseudotty" >&5
d3543 1
a3543 1
#line 3553 "configure"
d3566 1
a3566 1
if { (eval echo configure:3576: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3589 1
a3589 1
echo "configure:3599: checking for getpseudotty in -lseq" >&5
d3597 1
a3597 1
#line 3607 "configure"
d3608 1
a3608 1
if { (eval echo configure:3618: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3644 1
a3644 1
echo "configure:3654: checking for openpty" >&5
d3649 1
a3649 1
#line 3659 "configure"
d3672 1
a3672 1
if { (eval echo configure:3682: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3695 1
a3695 1
echo "configure:3705: checking for openpty in -lutil" >&5
d3703 1
a3703 1
#line 3713 "configure"
d3714 1
a3714 1
if { (eval echo configure:3724: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3749 1
a3749 1
echo "configure:3759: checking for openpty" >&5
d3754 1
a3754 1
#line 3764 "configure"
d3777 1
a3777 1
if { (eval echo configure:3787: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3800 1
a3800 1
echo "configure:3810: checking for openpty in -lutil" >&5
d3808 1
a3808 1
#line 3818 "configure"
d3819 1
a3819 1
if { (eval echo configure:3829: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3851 1
a3851 1
echo "configure:3861: checking for openpty" >&5
d3856 1
a3856 1
#line 3866 "configure"
d3879 1
a3879 1
if { (eval echo configure:3889: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3902 1
a3902 1
echo "configure:3912: checking for openpty in -lutil" >&5
d3910 1
a3910 1
#line 3920 "configure"
d3921 1
a3921 1
if { (eval echo configure:3931: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3959 1
a3959 1
echo "configure:3969: checking if running Sequent running SVR4" >&5
d3973 1
a3973 1
echo "configure:3983: checking for sys/sysmacros.h" >&5
d3978 1
a3978 1
#line 3988 "configure"
d3983 1
a3983 1
{ (eval echo configure:3993: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4009 1
a4009 1
echo "configure:4019: checking for stdlib.h" >&5
d4014 1
a4014 1
#line 4024 "configure"
d4019 1
a4019 1
{ (eval echo configure:4029: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4046 1
a4046 1
echo "configure:4056: checking for inttypes.h" >&5
d4051 1
a4051 1
#line 4061 "configure"
d4056 1
a4056 1
{ (eval echo configure:4066: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4086 1
a4086 1
echo "configure:4096: checking for varargs.h" >&5
d4091 1
a4091 1
#line 4101 "configure"
d4096 1
a4096 1
{ (eval echo configure:4106: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4122 1
a4122 1
echo "configure:4132: checking for unistd.h" >&5
d4127 1
a4127 1
#line 4137 "configure"
d4132 1
a4132 1
{ (eval echo configure:4142: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4160 1
a4160 1
echo "configure:4170: checking for sys/stropts.h" >&5
d4165 1
a4165 1
#line 4175 "configure"
d4170 1
a4170 1
{ (eval echo configure:4180: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4197 1
a4197 1
echo "configure:4207: checking for sys/sysconfig.h" >&5
d4202 1
a4202 1
#line 4212 "configure"
d4207 1
a4207 1
{ (eval echo configure:4217: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4233 1
a4233 1
echo "configure:4243: checking for sys/fcntl.h" >&5
d4238 1
a4238 1
#line 4248 "configure"
d4243 1
a4243 1
{ (eval echo configure:4253: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4269 1
a4269 1
echo "configure:4279: checking for sys/select.h" >&5
d4274 1
a4274 1
#line 4284 "configure"
d4279 1
a4279 1
{ (eval echo configure:4289: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4305 1
a4305 1
echo "configure:4315: checking for sys/time.h" >&5
d4310 1
a4310 1
#line 4320 "configure"
d4315 1
a4315 1
{ (eval echo configure:4325: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4341 1
a4341 1
echo "configure:4351: checking for sys/ptem.h" >&5
d4346 1
a4346 1
#line 4356 "configure"
d4351 1
a4351 1
{ (eval echo configure:4361: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4377 1
a4377 1
echo "configure:4387: checking for sys/strredir.h" >&5
d4382 1
a4382 1
#line 4392 "configure"
d4387 1
a4387 1
{ (eval echo configure:4397: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4413 1
a4413 1
echo "configure:4423: checking for sys/strpty.h" >&5
d4418 1
a4418 1
#line 4428 "configure"
d4423 1
a4423 1
{ (eval echo configure:4433: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4450 1
a4450 1
echo "configure:4460: checking for sys/bsdtypes.h" >&5
d4458 1
a4458 1
echo "configure:4468: checking for $ac_hdr" >&5
d4463 1
a4463 1
#line 4473 "configure"
d4468 1
a4468 1
{ (eval echo configure:4478: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4502 1
a4502 1
echo "configure:4512: checking for memmove" >&5
d4507 1
a4507 1
#line 4517 "configure"
d4530 1
a4530 1
if { (eval echo configure:4540: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4553 1
a4553 1
echo "configure:4563: checking for sysconf" >&5
d4558 1
a4558 1
#line 4568 "configure"
d4581 1
a4581 1
if { (eval echo configure:4591: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4604 1
a4604 1
echo "configure:4614: checking for strftime" >&5
d4609 1
a4609 1
#line 4619 "configure"
d4632 1
a4632 1
if { (eval echo configure:4642: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4655 1
a4655 1
echo "configure:4665: checking for strchr" >&5
d4660 1
a4660 1
#line 4670 "configure"
d4683 1
a4683 1
if { (eval echo configure:4693: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4706 1
a4706 1
echo "configure:4716: checking for timezone" >&5
d4711 1
a4711 1
#line 4721 "configure"
d4734 1
a4734 1
if { (eval echo configure:4744: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4757 1
a4757 1
echo "configure:4767: checking for siglongjmp" >&5
d4762 1
a4762 1
#line 4772 "configure"
d4785 1
a4785 1
if { (eval echo configure:4795: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4812 1
a4812 1
echo "configure:4822: checking for memcpy" >&5
d4814 1
a4814 1
#line 4824 "configure"
d4824 1
a4824 1
if { (eval echo configure:4834: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4846 1
a4846 1
echo "configure:4856: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4852 1
a4852 1
#line 4862 "configure"
d4864 1
a4864 1
if { (eval echo configure:4874: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4884 1
a4884 1
echo "configure:4894: checking if any value exists for WNOHANG" >&5
d4891 1
a4891 1
#line 4901 "configure"
d4907 1
a4907 1
if { (eval echo configure:4917: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4940 1
a4940 1
echo "configure:4950: checking union wait" >&5
d4942 1
a4942 1
#line 4952 "configure"
d4954 1
a4954 1
if { (eval echo configure:4964: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4984 1
a4984 1
echo "configure:4994: checking mask type of select" >&5
d4998 1
a4998 1
echo "configure:5008: checking if signals need to be re-armed" >&5
d5004 1
a5004 1
#line 5014 "configure"
d5043 1
a5043 1
if { (eval echo configure:5053: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5074 1
a5074 1
echo "configure:5084: checking if on Convex" >&5
d5093 1
a5093 1
echo "configure:5103: checking if on NeXT" >&5
d5104 1
a5104 1
echo "configure:5114: checking if on HP" >&5
d5114 1
a5114 1
echo "configure:5124: checking sane default stty arguments" >&5
d5132 1
a5132 1
echo "configure:5142: checking for HP style pty allocation" >&5
d5146 1
a5146 1
echo "configure:5156: checking for HP style pty trapping" >&5
d5148 1
a5148 1
#line 5158 "configure"
d5170 1
a5170 1
echo "configure:5180: checking for AIX new-style pty allocation" >&5
d5182 1
a5182 1
echo "configure:5192: checking for SGI old-style pty allocation" >&5
d5199 1
a5199 1
echo "configure:5209: checking for SCO style pty allocation" >&5
d5216 1
a5216 1
echo "configure:5226: checking for SVR4 style pty allocation" >&5
d5225 1
a5225 1
echo "configure:5235: checking for libpts="-lpt" in -lpt" >&5
d5233 1
a5233 1
#line 5243 "configure"
d5244 1
a5244 1
if { (eval echo configure:5254: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5265 1
a5265 1
echo "configure:5275: checking for ptsname" >&5
d5270 1
a5270 1
#line 5280 "configure"
d5293 1
a5293 1
if { (eval echo configure:5303: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5315 1
a5315 1
echo "configure:5325: checking for ptsname" >&5
d5320 1
a5320 1
#line 5330 "configure"
d5343 1
a5343 1
if { (eval echo configure:5353: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5364 1
a5364 1
echo "configure:5374: checking for ptsname" >&5
d5369 1
a5369 1
#line 5379 "configure"
d5392 1
a5392 1
if { (eval echo configure:5402: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5419 1
a5419 1
echo "configure:5429: checking for OSF/1 style pty allocation" >&5
d5433 1
a5433 1
echo "configure:5443: checking for tcgetattr" >&5
d5438 1
a5438 1
#line 5448 "configure"
d5461 1
a5461 1
if { (eval echo configure:5471: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5481 1
a5481 1
echo "configure:5491: checking for tcsetattr" >&5
d5486 1
a5486 1
#line 5496 "configure"
d5509 1
a5509 1
if { (eval echo configure:5519: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5541 1
a5541 1
echo "configure:5551: checking for struct sgttyb" >&5
d5547 1
a5547 1
#line 5557 "configure"
d5557 1
a5557 1
if { (eval echo configure:5567: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5586 1
a5586 1
echo "configure:5596: checking for struct termio" >&5
d5592 1
a5592 1
#line 5602 "configure"
d5601 1
a5601 1
if { (eval echo configure:5611: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5623 1
a5623 1
echo "configure:5633: checking for struct termios" >&5
d5629 1
a5629 1
#line 5639 "configure"
d5643 1
a5643 1
if { (eval echo configure:5653: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5665 1
a5665 1
echo "configure:5675: checking if TCGETS or TCGETA in termios.h" >&5
d5671 1
a5671 1
#line 5681 "configure"
d5687 1
a5687 1
if { (eval echo configure:5697: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5707 1
a5707 1
echo "configure:5717: checking if TIOCGWINSZ in termios.h" >&5
d5713 1
a5713 1
#line 5723 "configure"
d5729 1
a5729 1
if { (eval echo configure:5739: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5750 1
a5750 1
echo "configure:5760: checking for Cray-style ptys" >&5
d5757 1
a5757 1
#line 5767 "configure"
d5769 1
a5769 1
if { (eval echo configure:5779: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5794 1
a5794 1
echo "configure:5804: checking for select" >&5
d5799 1
a5799 1
#line 5809 "configure"
d5822 1
a5822 1
if { (eval echo configure:5832: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5842 1
a5842 1
echo "configure:5852: checking for poll" >&5
d5847 1
a5847 1
#line 5857 "configure"
d5870 1
a5870 1
if { (eval echo configure:5880: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5890 1
a5890 1
echo "configure:5900: checking event handling" >&5
d5912 1
a5912 1
echo "configure:5922: checking for $ac_func" >&5
d5917 1
a5917 1
#line 5927 "configure"
d5940 1
a5940 1
if { (eval echo configure:5950: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5967 1
a5967 1
echo "configure:5977: checking for $ac_func" >&5
d5972 1
a5972 1
#line 5982 "configure"
d5995 1
a5995 1
if { (eval echo configure:6005: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6022 1
a6022 1
echo "configure:6032: checking whether setpgrp takes no argument" >&5
d6030 1
a6030 1
#line 6040 "configure"
d6050 1
a6050 1
if { (eval echo configure:6060: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d6078 1
a6078 1
echo "configure:6088: checking for SV-style timezone" >&5
d6084 1
a6084 1
#line 6094 "configure"
d6097 1
a6097 1
if { (eval echo configure:6107: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d6143 1
a6143 1
echo "configure:6153: checking for Tk private headers" >&5
d6214 1
a6214 1
echo "configure:6224: checking for tk.h" >&5
d6219 1
a6219 1
#line 6229 "configure"
d6224 1
a6224 1
{ (eval echo configure:6234: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d6323 1
a6323 1
echo "configure:6333: checking for long file names" >&5
d6380 1
a6380 1
echo "configure:6390: checking for type of library to build" >&5
@


5.47
log
@	* configure: regen'ed
	* configure.in: use tcl_libdir in EXP_LIB_SPEC instead of
	${INSTALL_ROOT}${exec_prefix}/lib (steffen)

	* exp_main_tk.c (Tk_Init2): don't call XSynchronize on OS X.
@
text
@d27 2
d567 1
a567 1
echo "configure:566: checking for $ac_word" >&5
d595 1
a595 1
echo "configure:594: checking configure up to date" >&5
d656 1
a656 1
echo "configure:655: checking host system type" >&5
d677 1
a677 1
echo "configure:676: checking target system type" >&5
d695 1
a695 1
echo "configure:694: checking build system type" >&5
d725 1
a725 1
echo "configure:724: checking shell to use within Make" >&5
d759 1
a759 1
echo "configure:758: checking for $ac_word" >&5
d789 1
a789 1
echo "configure:788: checking for $ac_word" >&5
d840 1
a840 1
echo "configure:839: checking for $ac_word" >&5
d872 1
a872 1
echo "configure:871: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
d883 1
a883 1
#line 882 "configure"
d888 1
a888 1
if { (eval echo configure:887: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d914 1
a914 1
echo "configure:913: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
d919 1
a919 1
echo "configure:918: checking whether we are using GNU C" >&5
d928 1
a928 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:927: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d947 1
a947 1
echo "configure:946: checking whether ${CC-cc} accepts -g" >&5
d987 1
a987 1
echo "configure:986: checking for building with threads" >&5
d1040 1
a1040 1
echo "configure:1039: checking for Tcl configuration" >&5
d1133 1
a1133 1
echo "configure:1132: checking Tcl build library" >&5
d1137 1
a1137 1
echo "configure:1136: checking for Tcl_CreateCommand" >&5
d1142 1
a1142 1
#line 1141 "configure"
d1165 1
a1165 1
if { (eval echo configure:1164: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1181 1
a1181 1
echo "configure:1180: checking if Tcl library build specification is valid" >&5
d1191 1
a1191 1
echo "configure:1190: checking if Tcl library build specification is valid" >&5
d1223 1
a1223 1
echo "configure:1222: checking for Tk configuration" >&5
d1312 1
a1312 1
echo "configure:1311: checking for Tk_Init" >&5
d1317 1
a1317 1
#line 1316 "configure"
d1340 1
a1340 1
if { (eval echo configure:1339: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1356 1
a1356 1
echo "configure:1355: checking if Tk library build specification is valid" >&5
d1366 1
a1366 1
echo "configure:1365: checking if Tk library build specification is valid" >&5
d1381 1
a1381 1
echo "configure:1380: checking whether the compiler ($CC) actually works" >&5
d1383 1
a1383 1
#line 1382 "configure"
d1390 1
a1390 1
if { (eval echo configure:1389: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1402 1
a1402 1
#line 1401 "configure"
d1409 1
a1409 1
if { (eval echo configure:1408: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1443 1
a1443 1
echo "configure:1442: checking for a BSD compatible install" >&5
d1500 1
a1500 1
echo "configure:1499: checking for $ac_word" >&5
d1540 1
a1540 1
echo "configure:1539: checking how to run the C preprocessor" >&5
d1555 1
a1555 1
#line 1554 "configure"
d1561 1
a1561 1
{ (eval echo configure:1560: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1572 1
a1572 1
#line 1571 "configure"
d1578 1
a1578 1
{ (eval echo configure:1577: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1589 1
a1589 1
#line 1588 "configure"
d1595 1
a1595 1
{ (eval echo configure:1594: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1621 1
a1621 1
echo "configure:1620: checking if running LynxOS" >&5
d1626 1
a1626 1
#line 1625 "configure"
d1656 1
a1656 1
echo "configure:1655: checking whether -mposix or -X is available" >&5
d1661 1
a1661 1
#line 1660 "configure"
d1677 1
a1677 1
if { (eval echo configure:1676: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1697 1
a1697 1
echo "configure:1696: checking for ANSI C header files" >&5
d1702 1
a1702 1
#line 1701 "configure"
d1710 1
a1710 1
{ (eval echo configure:1709: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1727 1
a1727 1
#line 1726 "configure"
d1745 1
a1745 1
#line 1744 "configure"
d1766 1
a1766 1
#line 1765 "configure"
d1777 1
a1777 1
if { (eval echo configure:1776: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d1801 1
a1801 1
echo "configure:1800: checking for pid_t" >&5
d1806 1
a1806 1
#line 1805 "configure"
d1834 1
a1834 1
echo "configure:1833: checking return type of signal handlers" >&5
d1839 1
a1839 1
#line 1838 "configure"
d1856 1
a1856 1
if { (eval echo configure:1855: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1875 1
a1875 1
echo "configure:1874: checking whether time.h and sys/time.h may both be included" >&5
d1880 1
a1880 1
#line 1879 "configure"
d1889 1
a1889 1
if { (eval echo configure:1888: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1910 1
a1910 1
echo "configure:1909: checking for sys/wait.h that is POSIX.1 compatible" >&5
d1915 1
a1915 1
#line 1914 "configure"
d1931 1
a1931 1
if { (eval echo configure:1930: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1973 1
a1973 1
echo "configure:1972: checking if running Mach" >&5
d1989 1
a1989 1
echo "configure:1988: checking if running MachTen" >&5
d1999 1
a1999 1
echo "configure:1998: checking if on Pyramid" >&5
d2009 1
a2009 1
echo "configure:2008: checking if on Apollo" >&5
d2019 1
a2019 1
echo "configure:2018: checking if on Interactive" >&5
d2029 1
a2029 1
echo "configure:2028: checking if stty reads stdout" >&5
d2085 1
a2085 1
echo "configure:2084: checking if running Solaris" >&5
d2105 1
a2105 1
echo "configure:2104: checking for sin" >&5
d2110 1
a2110 1
#line 2109 "configure"
d2133 1
a2133 1
if { (eval echo configure:2132: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2163 1
a2163 1
echo "configure:2162: checking for strftime" >&5
d2168 1
a2168 1
#line 2167 "configure"
d2191 1
a2191 1
if { (eval echo configure:2190: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2231 1
a2231 1
echo "configure:2230: checking for Tcl private headers" >&5
d2302 1
a2302 1
echo "configure:2301: checking for tclInt.h" >&5
d2307 1
a2307 1
#line 2306 "configure"
d2312 1
a2312 1
{ (eval echo configure:2311: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2373 1
a2373 1
echo "configure:2372: checking type of library to build" >&5
d2388 18
d2470 1
a2470 1
echo "configure:2451: checking for gethostname" >&5
d2475 1
a2475 1
#line 2456 "configure"
d2498 1
a2498 1
if { (eval echo configure:2479: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2521 1
a2521 1
echo "configure:2502: checking for gethostname in -linet" >&5
d2529 1
a2529 1
#line 2510 "configure"
d2540 1
a2540 1
if { (eval echo configure:2521: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2566 1
a2566 1
echo "configure:2547: checking for gethostname" >&5
d2571 1
a2571 1
#line 2552 "configure"
d2594 1
a2594 1
if { (eval echo configure:2575: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2617 1
a2617 1
echo "configure:2598: checking for gethostname in -linet" >&5
d2625 1
a2625 1
#line 2606 "configure"
d2636 1
a2636 1
if { (eval echo configure:2617: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2662 1
a2662 1
echo "configure:2643: checking for gethostname" >&5
d2667 1
a2667 1
#line 2648 "configure"
d2690 1
a2690 1
if { (eval echo configure:2671: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2713 1
a2713 1
echo "configure:2694: checking for gethostname in -linet" >&5
d2721 1
a2721 1
#line 2702 "configure"
d2732 1
a2732 1
if { (eval echo configure:2713: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2761 1
a2761 1
echo "configure:2742: checking for socket" >&5
d2766 1
a2766 1
#line 2747 "configure"
d2789 1
a2789 1
if { (eval echo configure:2770: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2812 1
a2812 1
echo "configure:2793: checking for socket in -linet" >&5
d2820 1
a2820 1
#line 2801 "configure"
d2831 1
a2831 1
if { (eval echo configure:2812: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2857 1
a2857 1
echo "configure:2838: checking for socket" >&5
d2862 1
a2862 1
#line 2843 "configure"
d2885 1
a2885 1
if { (eval echo configure:2866: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2908 1
a2908 1
echo "configure:2889: checking for socket in -linet" >&5
d2916 1
a2916 1
#line 2897 "configure"
d2927 1
a2927 1
if { (eval echo configure:2908: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2953 1
a2953 1
echo "configure:2934: checking for socket" >&5
d2958 1
a2958 1
#line 2939 "configure"
d2981 1
a2981 1
if { (eval echo configure:2962: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3004 1
a3004 1
echo "configure:2985: checking for socket in -linet" >&5
d3012 1
a3012 1
#line 2993 "configure"
d3023 1
a3023 1
if { (eval echo configure:3004: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3051 1
a3051 1
echo "configure:3032: checking for select" >&5
d3056 1
a3056 1
#line 3037 "configure"
d3079 1
a3079 1
if { (eval echo configure:3060: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3102 1
a3102 1
echo "configure:3083: checking for select in -linet" >&5
d3110 1
a3110 1
#line 3091 "configure"
d3121 1
a3121 1
if { (eval echo configure:3102: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3147 1
a3147 1
echo "configure:3128: checking for select" >&5
d3152 1
a3152 1
#line 3133 "configure"
d3175 1
a3175 1
if { (eval echo configure:3156: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3198 1
a3198 1
echo "configure:3179: checking for select in -linet" >&5
d3206 1
a3206 1
#line 3187 "configure"
d3217 1
a3217 1
if { (eval echo configure:3198: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3243 1
a3243 1
echo "configure:3224: checking for select" >&5
d3248 1
a3248 1
#line 3229 "configure"
d3271 1
a3271 1
if { (eval echo configure:3252: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3294 1
a3294 1
echo "configure:3275: checking for select in -linet" >&5
d3302 1
a3302 1
#line 3283 "configure"
d3313 1
a3313 1
if { (eval echo configure:3294: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3341 1
a3341 1
echo "configure:3322: checking for getpseudotty" >&5
d3346 1
a3346 1
#line 3327 "configure"
d3369 1
a3369 1
if { (eval echo configure:3350: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3392 1
a3392 1
echo "configure:3373: checking for getpseudotty in -lseq" >&5
d3400 1
a3400 1
#line 3381 "configure"
d3411 1
a3411 1
if { (eval echo configure:3392: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3444 1
a3444 1
echo "configure:3425: checking for getpseudotty" >&5
d3449 1
a3449 1
#line 3430 "configure"
d3472 1
a3472 1
if { (eval echo configure:3453: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3495 1
a3495 1
echo "configure:3476: checking for getpseudotty in -lseq" >&5
d3503 1
a3503 1
#line 3484 "configure"
d3514 1
a3514 1
if { (eval echo configure:3495: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3547 1
a3547 1
echo "configure:3528: checking for getpseudotty" >&5
d3552 1
a3552 1
#line 3533 "configure"
d3575 1
a3575 1
if { (eval echo configure:3556: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3598 1
a3598 1
echo "configure:3579: checking for getpseudotty in -lseq" >&5
d3606 1
a3606 1
#line 3587 "configure"
d3617 1
a3617 1
if { (eval echo configure:3598: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3653 1
a3653 1
echo "configure:3634: checking for openpty" >&5
d3658 1
a3658 1
#line 3639 "configure"
d3681 1
a3681 1
if { (eval echo configure:3662: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3704 1
a3704 1
echo "configure:3685: checking for openpty in -lutil" >&5
d3712 1
a3712 1
#line 3693 "configure"
d3723 1
a3723 1
if { (eval echo configure:3704: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3758 1
a3758 1
echo "configure:3739: checking for openpty" >&5
d3763 1
a3763 1
#line 3744 "configure"
d3786 1
a3786 1
if { (eval echo configure:3767: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3809 1
a3809 1
echo "configure:3790: checking for openpty in -lutil" >&5
d3817 1
a3817 1
#line 3798 "configure"
d3828 1
a3828 1
if { (eval echo configure:3809: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3860 1
a3860 1
echo "configure:3841: checking for openpty" >&5
d3865 1
a3865 1
#line 3846 "configure"
d3888 1
a3888 1
if { (eval echo configure:3869: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3911 1
a3911 1
echo "configure:3892: checking for openpty in -lutil" >&5
d3919 1
a3919 1
#line 3900 "configure"
d3930 1
a3930 1
if { (eval echo configure:3911: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3968 1
a3968 1
echo "configure:3949: checking if running Sequent running SVR4" >&5
d3982 1
a3982 1
echo "configure:3963: checking for sys/sysmacros.h" >&5
d3987 1
a3987 1
#line 3968 "configure"
d3992 1
a3992 1
{ (eval echo configure:3973: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4018 1
a4018 1
echo "configure:3999: checking for stdlib.h" >&5
d4023 1
a4023 1
#line 4004 "configure"
d4028 1
a4028 1
{ (eval echo configure:4009: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4055 1
a4055 1
echo "configure:4036: checking for inttypes.h" >&5
d4060 1
a4060 1
#line 4041 "configure"
d4065 1
a4065 1
{ (eval echo configure:4046: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4095 1
a4095 1
echo "configure:4076: checking for varargs.h" >&5
d4100 1
a4100 1
#line 4081 "configure"
d4105 1
a4105 1
{ (eval echo configure:4086: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4131 1
a4131 1
echo "configure:4112: checking for unistd.h" >&5
d4136 1
a4136 1
#line 4117 "configure"
d4141 1
a4141 1
{ (eval echo configure:4122: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4169 1
a4169 1
echo "configure:4150: checking for sys/stropts.h" >&5
d4174 1
a4174 1
#line 4155 "configure"
d4179 1
a4179 1
{ (eval echo configure:4160: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4206 1
a4206 1
echo "configure:4187: checking for sys/sysconfig.h" >&5
d4211 1
a4211 1
#line 4192 "configure"
d4216 1
a4216 1
{ (eval echo configure:4197: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4242 1
a4242 1
echo "configure:4223: checking for sys/fcntl.h" >&5
d4247 1
a4247 1
#line 4228 "configure"
d4252 1
a4252 1
{ (eval echo configure:4233: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4278 1
a4278 1
echo "configure:4259: checking for sys/select.h" >&5
d4283 1
a4283 1
#line 4264 "configure"
d4288 1
a4288 1
{ (eval echo configure:4269: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4314 1
a4314 1
echo "configure:4295: checking for sys/time.h" >&5
d4319 1
a4319 1
#line 4300 "configure"
d4324 1
a4324 1
{ (eval echo configure:4305: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4350 1
a4350 1
echo "configure:4331: checking for sys/ptem.h" >&5
d4355 1
a4355 1
#line 4336 "configure"
d4360 1
a4360 1
{ (eval echo configure:4341: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4386 1
a4386 1
echo "configure:4367: checking for sys/strredir.h" >&5
d4391 1
a4391 1
#line 4372 "configure"
d4396 1
a4396 1
{ (eval echo configure:4377: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4422 1
a4422 1
echo "configure:4403: checking for sys/strpty.h" >&5
d4427 1
a4427 1
#line 4408 "configure"
d4432 1
a4432 1
{ (eval echo configure:4413: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4459 1
a4459 1
echo "configure:4440: checking for sys/bsdtypes.h" >&5
d4467 1
a4467 1
echo "configure:4448: checking for $ac_hdr" >&5
d4472 1
a4472 1
#line 4453 "configure"
d4477 1
a4477 1
{ (eval echo configure:4458: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4511 1
a4511 1
echo "configure:4492: checking for memmove" >&5
d4516 1
a4516 1
#line 4497 "configure"
d4539 1
a4539 1
if { (eval echo configure:4520: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4562 1
a4562 1
echo "configure:4543: checking for sysconf" >&5
d4567 1
a4567 1
#line 4548 "configure"
d4590 1
a4590 1
if { (eval echo configure:4571: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4613 1
a4613 1
echo "configure:4594: checking for strftime" >&5
d4618 1
a4618 1
#line 4599 "configure"
d4641 1
a4641 1
if { (eval echo configure:4622: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4664 1
a4664 1
echo "configure:4645: checking for strchr" >&5
d4669 1
a4669 1
#line 4650 "configure"
d4692 1
a4692 1
if { (eval echo configure:4673: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4715 1
a4715 1
echo "configure:4696: checking for timezone" >&5
d4720 1
a4720 1
#line 4701 "configure"
d4743 1
a4743 1
if { (eval echo configure:4724: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4766 1
a4766 1
echo "configure:4747: checking for siglongjmp" >&5
d4771 1
a4771 1
#line 4752 "configure"
d4794 1
a4794 1
if { (eval echo configure:4775: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4821 1
a4821 1
echo "configure:4802: checking for memcpy" >&5
d4823 1
a4823 1
#line 4804 "configure"
d4833 1
a4833 1
if { (eval echo configure:4814: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4855 1
a4855 1
echo "configure:4836: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4861 1
a4861 1
#line 4842 "configure"
d4873 1
a4873 1
if { (eval echo configure:4854: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4893 1
a4893 1
echo "configure:4874: checking if any value exists for WNOHANG" >&5
d4900 1
a4900 1
#line 4881 "configure"
d4916 1
a4916 1
if { (eval echo configure:4897: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4949 1
a4949 1
echo "configure:4930: checking union wait" >&5
d4951 1
a4951 1
#line 4932 "configure"
d4963 1
a4963 1
if { (eval echo configure:4944: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4993 1
a4993 1
echo "configure:4974: checking mask type of select" >&5
d5007 1
a5007 1
echo "configure:4988: checking if signals need to be re-armed" >&5
d5013 1
a5013 1
#line 4994 "configure"
d5052 1
a5052 1
if { (eval echo configure:5033: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5083 1
a5083 1
echo "configure:5064: checking if on Convex" >&5
d5102 1
a5102 1
echo "configure:5083: checking if on NeXT" >&5
d5113 1
a5113 1
echo "configure:5094: checking if on HP" >&5
d5123 1
a5123 1
echo "configure:5104: checking sane default stty arguments" >&5
d5141 1
a5141 1
echo "configure:5122: checking for HP style pty allocation" >&5
d5155 1
a5155 1
echo "configure:5136: checking for HP style pty trapping" >&5
d5157 1
a5157 1
#line 5138 "configure"
d5179 1
a5179 1
echo "configure:5160: checking for AIX new-style pty allocation" >&5
d5191 1
a5191 1
echo "configure:5172: checking for SGI old-style pty allocation" >&5
d5208 1
a5208 1
echo "configure:5189: checking for SCO style pty allocation" >&5
d5225 1
a5225 1
echo "configure:5206: checking for SVR4 style pty allocation" >&5
d5234 1
a5234 1
echo "configure:5215: checking for libpts="-lpt" in -lpt" >&5
d5242 1
a5242 1
#line 5223 "configure"
d5253 1
a5253 1
if { (eval echo configure:5234: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5274 1
a5274 1
echo "configure:5255: checking for ptsname" >&5
d5279 1
a5279 1
#line 5260 "configure"
d5302 1
a5302 1
if { (eval echo configure:5283: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5324 1
a5324 1
echo "configure:5305: checking for ptsname" >&5
d5329 1
a5329 1
#line 5310 "configure"
d5352 1
a5352 1
if { (eval echo configure:5333: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5373 1
a5373 1
echo "configure:5354: checking for ptsname" >&5
d5378 1
a5378 1
#line 5359 "configure"
d5401 1
a5401 1
if { (eval echo configure:5382: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5428 1
a5428 1
echo "configure:5409: checking for OSF/1 style pty allocation" >&5
d5442 1
a5442 1
echo "configure:5423: checking for tcgetattr" >&5
d5447 1
a5447 1
#line 5428 "configure"
d5470 1
a5470 1
if { (eval echo configure:5451: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5490 1
a5490 1
echo "configure:5471: checking for tcsetattr" >&5
d5495 1
a5495 1
#line 5476 "configure"
d5518 1
a5518 1
if { (eval echo configure:5499: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5550 1
a5550 1
echo "configure:5531: checking for struct sgttyb" >&5
d5556 1
a5556 1
#line 5537 "configure"
d5566 1
a5566 1
if { (eval echo configure:5547: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5595 1
a5595 1
echo "configure:5576: checking for struct termio" >&5
d5601 1
a5601 1
#line 5582 "configure"
d5610 1
a5610 1
if { (eval echo configure:5591: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5632 1
a5632 1
echo "configure:5613: checking for struct termios" >&5
d5638 1
a5638 1
#line 5619 "configure"
d5652 1
a5652 1
if { (eval echo configure:5633: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5674 1
a5674 1
echo "configure:5655: checking if TCGETS or TCGETA in termios.h" >&5
d5680 1
a5680 1
#line 5661 "configure"
d5696 1
a5696 1
if { (eval echo configure:5677: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5716 1
a5716 1
echo "configure:5697: checking if TIOCGWINSZ in termios.h" >&5
d5722 1
a5722 1
#line 5703 "configure"
d5738 1
a5738 1
if { (eval echo configure:5719: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5759 1
a5759 1
echo "configure:5740: checking for Cray-style ptys" >&5
d5766 1
a5766 1
#line 5747 "configure"
d5778 1
a5778 1
if { (eval echo configure:5759: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5803 1
a5803 1
echo "configure:5784: checking for select" >&5
d5808 1
a5808 1
#line 5789 "configure"
d5831 1
a5831 1
if { (eval echo configure:5812: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5851 1
a5851 1
echo "configure:5832: checking for poll" >&5
d5856 1
a5856 1
#line 5837 "configure"
d5879 1
a5879 1
if { (eval echo configure:5860: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5899 1
a5899 1
echo "configure:5880: checking event handling" >&5
d5921 1
a5921 1
echo "configure:5902: checking for $ac_func" >&5
d5926 1
a5926 1
#line 5907 "configure"
d5949 1
a5949 1
if { (eval echo configure:5930: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5976 1
a5976 1
echo "configure:5957: checking for $ac_func" >&5
d5981 1
a5981 1
#line 5962 "configure"
d6004 1
a6004 1
if { (eval echo configure:5985: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6031 1
a6031 1
echo "configure:6012: checking whether setpgrp takes no argument" >&5
d6039 1
a6039 1
#line 6020 "configure"
d6059 1
a6059 1
if { (eval echo configure:6040: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d6087 1
a6087 1
echo "configure:6068: checking for SV-style timezone" >&5
d6093 1
a6093 1
#line 6074 "configure"
d6106 1
a6106 1
if { (eval echo configure:6087: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d6152 1
a6152 1
echo "configure:6133: checking for Tk private headers" >&5
d6223 1
a6223 1
echo "configure:6204: checking for tk.h" >&5
d6228 1
a6228 1
#line 6209 "configure"
d6233 1
a6233 1
{ (eval echo configure:6214: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d6332 1
a6332 1
echo "configure:6313: checking for long file names" >&5
d6389 1
a6389 1
echo "configure:6370: checking for type of library to build" >&5
d6409 3
a6411 1
if test "x$TCL_SHLIB_LD_LIBS" = "x" ; then
d6416 1
a6416 1
	EXP_SHLIB_LD_LIBS="$TCL_BUILD_LIB_SPEC $TCL_DL_LIBS $LIBS -lc"
@


5.46
log
@
	* Merged changes from the official version 5.38 of expect into the
	  SF sources. See details below.

	* Makefile.in: Added generation of MD5 checksum for distributed
	  archive.
	* rftp:         Bugfix by Curt Schroeder, see HISTORY
	* HISTORY:      Updated with new info.
	* configure:    Updated version info.
	* configure.in: Updated version info.
@
text
@d6360 1
a6360 1
EXP_LIB_SPEC="-L\${INSTALL_ROOT}\${exec_prefix}/lib -lexpect${EXP_LIB_VERSION}${DBGX}"
@


5.45
log
@multixterm fixes
@
text
@d541 2
a542 2
EXP_MINOR_VERSION=37
EXP_MICRO_VERSION=2
@


5.44
log
@misc updates
@
text
@d542 1
a542 1
EXP_MICRO_VERSION=0
@


5.43
log
@Documented trap -code's inability to work when Tcl is sitting in the event loop.  Brought patch level and HISTORY file up to sync.
@
text
@d541 2
a542 2
EXP_MINOR_VERSION=34
EXP_MICRO_VERSION=1
@


5.42
log
@
	* Resynchronization of SourceForge with Don's sources to Expect
	  version 5.34. The changes are

	  Don Porter <don.porter@@nist.gov> provided package-related fixes
	  for test suite.

	  Brian Theado <brian.theado@@usa.net> noted that interact's -re
	  support broke when offsets kicked in.  Turned out that the
	  regexp engine supports them during execution but the results are
	  delivered RELATIVE to the offset.  (I suspect this was done
	  due to expediency.)
@
text
@d542 1
a542 1
EXP_MICRO_VERSION=0
@


5.41
log
@
Upgrading to 5.33.
@
text
@d541 1
a541 1
EXP_MINOR_VERSION=33
@


5.40
log
@Cleaned up HISTORY and marked configure.in with new version.
@
text
@d541 2
a542 2
EXP_MINOR_VERSION=32
EXP_MICRO_VERSION=2
@


5.40.2.1
log
@Upgrading to 5.33.
@
text
@d541 2
a542 2
EXP_MINOR_VERSION=33
EXP_MICRO_VERSION=0
@


5.40.2.2
log
@
	* Resynchronization of SourceForge with Don's sources to Expect
	  version 5.34. The changes are

	  Don Porter <don.porter@@nist.gov> provided package-related fixes
	  for test suite.

	  Brian Theado <brian.theado@@usa.net> noted that interact's -re
	  support broke when offsets kicked in.  Turned out that the
	  regexp engine supports them during execution but the results are
	  delivered RELATIVE to the offset.  (I suspect this was done
	  due to expediency.)
@
text
@d541 1
a541 1
EXP_MINOR_VERSION=34
@


5.39
log
@Fix to allow compilation on new Digital OSF boxes.
@
text
@d542 1
a542 1
EXP_MICRO_VERSION=0
@


5.38
log
@Fixed printf formats in several pty diags.
@
text
@d541 2
a542 2
EXP_MINOR_VERSION=31
EXP_MICRO_VERSION=8
@


5.37
log
@Fix for Debian SVR4 ptys.
@
text
@d542 1
a542 1
EXP_MICRO_VERSION=7
@


5.36
log
@Fixed yet another --enable-threads configure bug.
@
text
@d542 1
a542 1
EXP_MICRO_VERSION=5
d4145 2
d4149 1
a4149 1
echo "configure:4148: checking for sys/stropts.h" >&5
d4154 1
a4154 1
#line 4153 "configure"
d4159 1
a4159 1
{ (eval echo configure:4158: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4181 1
d4186 1
a4186 1
echo "configure:4184: checking for sys/sysconfig.h" >&5
d4191 1
a4191 1
#line 4189 "configure"
d4196 1
a4196 1
{ (eval echo configure:4194: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4222 1
a4222 1
echo "configure:4220: checking for sys/fcntl.h" >&5
d4227 1
a4227 1
#line 4225 "configure"
d4232 1
a4232 1
{ (eval echo configure:4230: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4258 1
a4258 1
echo "configure:4256: checking for sys/select.h" >&5
d4263 1
a4263 1
#line 4261 "configure"
d4268 1
a4268 1
{ (eval echo configure:4266: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4294 1
a4294 1
echo "configure:4292: checking for sys/time.h" >&5
d4299 1
a4299 1
#line 4297 "configure"
d4304 1
a4304 1
{ (eval echo configure:4302: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4330 1
a4330 1
echo "configure:4328: checking for sys/ptem.h" >&5
d4335 1
a4335 1
#line 4333 "configure"
d4340 1
a4340 1
{ (eval echo configure:4338: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4366 1
a4366 1
echo "configure:4364: checking for sys/strredir.h" >&5
d4371 1
a4371 1
#line 4369 "configure"
d4376 1
a4376 1
{ (eval echo configure:4374: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4402 1
a4402 1
echo "configure:4400: checking for sys/strpty.h" >&5
d4407 1
a4407 1
#line 4405 "configure"
d4412 1
a4412 1
{ (eval echo configure:4410: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4439 1
a4439 1
echo "configure:4437: checking for sys/bsdtypes.h" >&5
d4447 1
a4447 1
echo "configure:4445: checking for $ac_hdr" >&5
d4452 1
a4452 1
#line 4450 "configure"
d4457 1
a4457 1
{ (eval echo configure:4455: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4491 1
a4491 1
echo "configure:4489: checking for memmove" >&5
d4496 1
a4496 1
#line 4494 "configure"
d4519 1
a4519 1
if { (eval echo configure:4517: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4542 1
a4542 1
echo "configure:4540: checking for sysconf" >&5
d4547 1
a4547 1
#line 4545 "configure"
d4570 1
a4570 1
if { (eval echo configure:4568: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4593 1
a4593 1
echo "configure:4591: checking for strftime" >&5
d4598 1
a4598 1
#line 4596 "configure"
d4621 1
a4621 1
if { (eval echo configure:4619: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4644 1
a4644 1
echo "configure:4642: checking for strchr" >&5
d4649 1
a4649 1
#line 4647 "configure"
d4672 1
a4672 1
if { (eval echo configure:4670: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4695 1
a4695 1
echo "configure:4693: checking for timezone" >&5
d4700 1
a4700 1
#line 4698 "configure"
d4723 1
a4723 1
if { (eval echo configure:4721: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4746 1
a4746 1
echo "configure:4744: checking for siglongjmp" >&5
d4751 1
a4751 1
#line 4749 "configure"
d4774 1
a4774 1
if { (eval echo configure:4772: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4801 1
a4801 1
echo "configure:4799: checking for memcpy" >&5
d4803 1
a4803 1
#line 4801 "configure"
d4813 1
a4813 1
if { (eval echo configure:4811: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4835 1
a4835 1
echo "configure:4833: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4841 1
a4841 1
#line 4839 "configure"
d4853 1
a4853 1
if { (eval echo configure:4851: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4873 1
a4873 1
echo "configure:4871: checking if any value exists for WNOHANG" >&5
d4880 1
a4880 1
#line 4878 "configure"
d4896 1
a4896 1
if { (eval echo configure:4894: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4929 1
a4929 1
echo "configure:4927: checking union wait" >&5
d4931 1
a4931 1
#line 4929 "configure"
d4943 1
a4943 1
if { (eval echo configure:4941: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4973 1
a4973 1
echo "configure:4971: checking mask type of select" >&5
d4987 1
a4987 1
echo "configure:4985: checking if signals need to be re-armed" >&5
d4993 1
a4993 1
#line 4991 "configure"
d5032 1
a5032 1
if { (eval echo configure:5030: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5063 1
a5063 1
echo "configure:5061: checking if on Convex" >&5
d5082 1
a5082 1
echo "configure:5080: checking if on NeXT" >&5
d5093 1
a5093 1
echo "configure:5091: checking if on HP" >&5
d5103 1
a5103 1
echo "configure:5101: checking sane default stty arguments" >&5
d5121 1
a5121 1
echo "configure:5119: checking for HP style pty allocation" >&5
d5135 1
a5135 1
echo "configure:5133: checking for HP style pty trapping" >&5
d5137 1
a5137 1
#line 5135 "configure"
d5159 1
a5159 1
echo "configure:5157: checking for AIX new-style pty allocation" >&5
d5171 1
a5171 1
echo "configure:5169: checking for SGI old-style pty allocation" >&5
d5188 1
a5188 1
echo "configure:5186: checking for SCO style pty allocation" >&5
d5205 1
a5205 1
echo "configure:5203: checking for SVR4 style pty allocation" >&5
d5213 40
d5254 1
a5254 1
echo "configure:5212: checking for ptsname" >&5
d5259 1
a5259 1
#line 5217 "configure"
d5282 1
a5282 1
if { (eval echo configure:5240: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5299 1
a5299 1
LIBS="${LIBS} -lpt"
d5304 1
a5304 1
echo "configure:5262: checking for ptsname" >&5
d5309 1
a5309 1
#line 5267 "configure"
d5332 1
a5332 1
if { (eval echo configure:5290: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5349 1
a5349 1
EXP_AND_TCL_LIBS="${EXP_AND_TCL_LIBS} -lpt"
d5353 1
a5353 1
echo "configure:5311: checking for ptsname" >&5
d5358 1
a5358 1
#line 5316 "configure"
d5381 1
a5381 1
if { (eval echo configure:5339: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5398 1
a5398 1
EXP_AND_TK_LIBS="${EXP_AND_TK_LIBS} -lpt"
d5408 1
a5408 1
echo "configure:5366: checking for OSF/1 style pty allocation" >&5
d5422 1
a5422 1
echo "configure:5380: checking for tcgetattr" >&5
d5427 1
a5427 1
#line 5385 "configure"
d5450 1
a5450 1
if { (eval echo configure:5408: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5470 1
a5470 1
echo "configure:5428: checking for tcsetattr" >&5
d5475 1
a5475 1
#line 5433 "configure"
d5498 1
a5498 1
if { (eval echo configure:5456: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5530 1
a5530 1
echo "configure:5488: checking for struct sgttyb" >&5
d5536 1
a5536 1
#line 5494 "configure"
d5546 1
a5546 1
if { (eval echo configure:5504: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5575 1
a5575 1
echo "configure:5533: checking for struct termio" >&5
d5581 1
a5581 1
#line 5539 "configure"
d5590 1
a5590 1
if { (eval echo configure:5548: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5612 1
a5612 1
echo "configure:5570: checking for struct termios" >&5
d5618 1
a5618 1
#line 5576 "configure"
d5632 1
a5632 1
if { (eval echo configure:5590: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5654 1
a5654 1
echo "configure:5612: checking if TCGETS or TCGETA in termios.h" >&5
d5660 1
a5660 1
#line 5618 "configure"
d5676 1
a5676 1
if { (eval echo configure:5634: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5696 1
a5696 1
echo "configure:5654: checking if TIOCGWINSZ in termios.h" >&5
d5702 1
a5702 1
#line 5660 "configure"
d5718 1
a5718 1
if { (eval echo configure:5676: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5739 1
a5739 1
echo "configure:5697: checking for Cray-style ptys" >&5
d5746 1
a5746 1
#line 5704 "configure"
d5758 1
a5758 1
if { (eval echo configure:5716: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5783 1
a5783 1
echo "configure:5741: checking for select" >&5
d5788 1
a5788 1
#line 5746 "configure"
d5811 1
a5811 1
if { (eval echo configure:5769: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5831 1
a5831 1
echo "configure:5789: checking for poll" >&5
d5836 1
a5836 1
#line 5794 "configure"
d5859 1
a5859 1
if { (eval echo configure:5817: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5879 1
a5879 1
echo "configure:5837: checking event handling" >&5
d5901 1
a5901 1
echo "configure:5859: checking for $ac_func" >&5
d5906 1
a5906 1
#line 5864 "configure"
d5929 1
a5929 1
if { (eval echo configure:5887: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5956 1
a5956 1
echo "configure:5914: checking for $ac_func" >&5
d5961 1
a5961 1
#line 5919 "configure"
d5984 1
a5984 1
if { (eval echo configure:5942: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6011 1
a6011 1
echo "configure:5969: checking whether setpgrp takes no argument" >&5
d6019 1
a6019 1
#line 5977 "configure"
d6039 1
a6039 1
if { (eval echo configure:5997: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d6067 1
a6067 1
echo "configure:6025: checking for SV-style timezone" >&5
d6073 1
a6073 1
#line 6031 "configure"
d6086 1
a6086 1
if { (eval echo configure:6044: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d6132 1
a6132 1
echo "configure:6090: checking for Tk private headers" >&5
d6203 1
a6203 1
echo "configure:6161: checking for tk.h" >&5
d6208 1
a6208 1
#line 6166 "configure"
d6213 1
a6213 1
{ (eval echo configure:6171: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d6312 1
a6312 1
echo "configure:6270: checking for long file names" >&5
d6369 1
a6369 1
echo "configure:6327: checking for type of library to build" >&5
@


5.35
log
@Removed redundant check for --enable-threads.
@
text
@d542 1
a542 1
EXP_MICRO_VERSION=4
@


5.34
log
@Fixed errors for SCO pty allocation.  Could also affect certain other
systems that make thousands of simultaneous pty allocations.

Fixed HP shared lib config prob.
@
text
@a33 2
ac_help="$ac_help
  --enable-threads        build with threads"
d565 1
a565 1
echo "configure:568: checking for $ac_word" >&5
d593 1
a593 1
echo "configure:596: checking configure up to date" >&5
d654 1
a654 1
echo "configure:657: checking host system type" >&5
d675 1
a675 1
echo "configure:678: checking target system type" >&5
d693 1
a693 1
echo "configure:696: checking build system type" >&5
d723 1
a723 1
echo "configure:726: checking shell to use within Make" >&5
d757 1
a757 1
echo "configure:760: checking for $ac_word" >&5
d787 1
a787 1
echo "configure:790: checking for $ac_word" >&5
d838 1
a838 1
echo "configure:841: checking for $ac_word" >&5
d870 1
a870 1
echo "configure:873: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
d881 1
a881 1
#line 884 "configure"
d886 1
a886 1
if { (eval echo configure:889: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d912 1
a912 1
echo "configure:915: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
d917 1
a917 1
echo "configure:920: checking whether we are using GNU C" >&5
d926 1
a926 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:929: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d945 1
a945 1
echo "configure:948: checking whether ${CC-cc} accepts -g" >&5
d985 1
a985 1
echo "configure:988: checking for building with threads" >&5
d995 3
d1038 1
a1038 1
echo "configure:1038: checking for Tcl configuration" >&5
d1131 1
a1131 1
echo "configure:1131: checking Tcl build library" >&5
d1135 1
a1135 1
echo "configure:1135: checking for Tcl_CreateCommand" >&5
d1140 1
a1140 1
#line 1140 "configure"
d1163 1
a1163 1
if { (eval echo configure:1163: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1179 1
a1179 1
echo "configure:1179: checking if Tcl library build specification is valid" >&5
d1189 1
a1189 1
echo "configure:1189: checking if Tcl library build specification is valid" >&5
d1221 1
a1221 1
echo "configure:1221: checking for Tk configuration" >&5
d1310 1
a1310 1
echo "configure:1310: checking for Tk_Init" >&5
d1315 1
a1315 1
#line 1315 "configure"
d1338 1
a1338 1
if { (eval echo configure:1338: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1354 1
a1354 1
echo "configure:1354: checking if Tk library build specification is valid" >&5
d1364 1
a1364 1
echo "configure:1364: checking if Tk library build specification is valid" >&5
d1379 1
a1379 1
echo "configure:1379: checking whether the compiler ($CC) actually works" >&5
d1381 1
a1381 1
#line 1381 "configure"
d1388 1
a1388 1
if { (eval echo configure:1388: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1400 1
a1400 1
#line 1400 "configure"
d1407 1
a1407 1
if { (eval echo configure:1407: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1441 1
a1441 1
echo "configure:1441: checking for a BSD compatible install" >&5
d1498 1
a1498 1
echo "configure:1498: checking for $ac_word" >&5
d1538 1
a1538 1
echo "configure:1538: checking how to run the C preprocessor" >&5
d1553 1
a1553 1
#line 1553 "configure"
d1559 1
a1559 1
{ (eval echo configure:1559: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1570 1
a1570 1
#line 1570 "configure"
d1576 1
a1576 1
{ (eval echo configure:1576: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1587 1
a1587 1
#line 1587 "configure"
d1593 1
a1593 1
{ (eval echo configure:1593: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1619 1
a1619 1
echo "configure:1619: checking if running LynxOS" >&5
d1624 1
a1624 1
#line 1624 "configure"
d1654 1
a1654 1
echo "configure:1654: checking whether -mposix or -X is available" >&5
d1659 1
a1659 1
#line 1659 "configure"
d1675 1
a1675 1
if { (eval echo configure:1675: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1695 1
a1695 1
echo "configure:1695: checking for ANSI C header files" >&5
d1700 1
a1700 1
#line 1700 "configure"
d1708 1
a1708 1
{ (eval echo configure:1708: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1725 1
a1725 1
#line 1725 "configure"
d1743 1
a1743 1
#line 1743 "configure"
d1764 1
a1764 1
#line 1764 "configure"
d1775 1
a1775 1
if { (eval echo configure:1775: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d1799 1
a1799 1
echo "configure:1799: checking for pid_t" >&5
d1804 1
a1804 1
#line 1804 "configure"
d1832 1
a1832 1
echo "configure:1832: checking return type of signal handlers" >&5
d1837 1
a1837 1
#line 1837 "configure"
d1854 1
a1854 1
if { (eval echo configure:1854: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1873 1
a1873 1
echo "configure:1873: checking whether time.h and sys/time.h may both be included" >&5
d1878 1
a1878 1
#line 1878 "configure"
d1887 1
a1887 1
if { (eval echo configure:1887: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1908 1
a1908 1
echo "configure:1908: checking for sys/wait.h that is POSIX.1 compatible" >&5
d1913 1
a1913 1
#line 1913 "configure"
d1929 1
a1929 1
if { (eval echo configure:1929: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1971 1
a1971 1
echo "configure:1971: checking if running Mach" >&5
d1987 1
a1987 1
echo "configure:1987: checking if running MachTen" >&5
d1997 1
a1997 1
echo "configure:1997: checking if on Pyramid" >&5
d2007 1
a2007 1
echo "configure:2007: checking if on Apollo" >&5
d2017 1
a2017 1
echo "configure:2017: checking if on Interactive" >&5
d2027 1
a2027 1
echo "configure:2027: checking if stty reads stdout" >&5
d2083 1
a2083 1
echo "configure:2083: checking if running Solaris" >&5
d2103 1
a2103 1
echo "configure:2103: checking for sin" >&5
d2108 1
a2108 1
#line 2108 "configure"
d2131 1
a2131 1
if { (eval echo configure:2131: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2161 1
a2161 1
echo "configure:2161: checking for strftime" >&5
d2166 1
a2166 1
#line 2166 "configure"
d2189 1
a2189 1
if { (eval echo configure:2189: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2229 1
a2229 1
echo "configure:2229: checking for Tcl private headers" >&5
d2300 1
a2300 1
echo "configure:2300: checking for tclInt.h" >&5
d2305 1
a2305 1
#line 2305 "configure"
d2310 1
a2310 1
{ (eval echo configure:2310: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2371 1
a2371 1
echo "configure:2371: checking type of library to build" >&5
d2450 1
a2450 1
echo "configure:2450: checking for gethostname" >&5
d2455 1
a2455 1
#line 2455 "configure"
d2478 1
a2478 1
if { (eval echo configure:2478: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2501 1
a2501 1
echo "configure:2501: checking for gethostname in -linet" >&5
d2509 1
a2509 1
#line 2509 "configure"
d2520 1
a2520 1
if { (eval echo configure:2520: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2546 1
a2546 1
echo "configure:2546: checking for gethostname" >&5
d2551 1
a2551 1
#line 2551 "configure"
d2574 1
a2574 1
if { (eval echo configure:2574: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2597 1
a2597 1
echo "configure:2597: checking for gethostname in -linet" >&5
d2605 1
a2605 1
#line 2605 "configure"
d2616 1
a2616 1
if { (eval echo configure:2616: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2642 1
a2642 1
echo "configure:2642: checking for gethostname" >&5
d2647 1
a2647 1
#line 2647 "configure"
d2670 1
a2670 1
if { (eval echo configure:2670: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2693 1
a2693 1
echo "configure:2693: checking for gethostname in -linet" >&5
d2701 1
a2701 1
#line 2701 "configure"
d2712 1
a2712 1
if { (eval echo configure:2712: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2741 1
a2741 1
echo "configure:2741: checking for socket" >&5
d2746 1
a2746 1
#line 2746 "configure"
d2769 1
a2769 1
if { (eval echo configure:2769: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2792 1
a2792 1
echo "configure:2792: checking for socket in -linet" >&5
d2800 1
a2800 1
#line 2800 "configure"
d2811 1
a2811 1
if { (eval echo configure:2811: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2837 1
a2837 1
echo "configure:2837: checking for socket" >&5
d2842 1
a2842 1
#line 2842 "configure"
d2865 1
a2865 1
if { (eval echo configure:2865: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2888 1
a2888 1
echo "configure:2888: checking for socket in -linet" >&5
d2896 1
a2896 1
#line 2896 "configure"
d2907 1
a2907 1
if { (eval echo configure:2907: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2933 1
a2933 1
echo "configure:2933: checking for socket" >&5
d2938 1
a2938 1
#line 2938 "configure"
d2961 1
a2961 1
if { (eval echo configure:2961: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2984 1
a2984 1
echo "configure:2984: checking for socket in -linet" >&5
d2992 1
a2992 1
#line 2992 "configure"
d3003 1
a3003 1
if { (eval echo configure:3003: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3031 1
a3031 1
echo "configure:3031: checking for select" >&5
d3036 1
a3036 1
#line 3036 "configure"
d3059 1
a3059 1
if { (eval echo configure:3059: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3082 1
a3082 1
echo "configure:3082: checking for select in -linet" >&5
d3090 1
a3090 1
#line 3090 "configure"
d3101 1
a3101 1
if { (eval echo configure:3101: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3127 1
a3127 1
echo "configure:3127: checking for select" >&5
d3132 1
a3132 1
#line 3132 "configure"
d3155 1
a3155 1
if { (eval echo configure:3155: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3178 1
a3178 1
echo "configure:3178: checking for select in -linet" >&5
d3186 1
a3186 1
#line 3186 "configure"
d3197 1
a3197 1
if { (eval echo configure:3197: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3223 1
a3223 1
echo "configure:3223: checking for select" >&5
d3228 1
a3228 1
#line 3228 "configure"
d3251 1
a3251 1
if { (eval echo configure:3251: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3274 1
a3274 1
echo "configure:3274: checking for select in -linet" >&5
d3282 1
a3282 1
#line 3282 "configure"
d3293 1
a3293 1
if { (eval echo configure:3293: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3321 1
a3321 1
echo "configure:3321: checking for getpseudotty" >&5
d3326 1
a3326 1
#line 3326 "configure"
d3349 1
a3349 1
if { (eval echo configure:3349: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3372 1
a3372 1
echo "configure:3372: checking for getpseudotty in -lseq" >&5
d3380 1
a3380 1
#line 3380 "configure"
d3391 1
a3391 1
if { (eval echo configure:3391: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3424 1
a3424 1
echo "configure:3424: checking for getpseudotty" >&5
d3429 1
a3429 1
#line 3429 "configure"
d3452 1
a3452 1
if { (eval echo configure:3452: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3475 1
a3475 1
echo "configure:3475: checking for getpseudotty in -lseq" >&5
d3483 1
a3483 1
#line 3483 "configure"
d3494 1
a3494 1
if { (eval echo configure:3494: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3527 1
a3527 1
echo "configure:3527: checking for getpseudotty" >&5
d3532 1
a3532 1
#line 3532 "configure"
d3555 1
a3555 1
if { (eval echo configure:3555: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3578 1
a3578 1
echo "configure:3578: checking for getpseudotty in -lseq" >&5
d3586 1
a3586 1
#line 3586 "configure"
d3597 1
a3597 1
if { (eval echo configure:3597: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3633 1
a3633 1
echo "configure:3633: checking for openpty" >&5
d3638 1
a3638 1
#line 3638 "configure"
d3661 1
a3661 1
if { (eval echo configure:3661: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3684 1
a3684 1
echo "configure:3684: checking for openpty in -lutil" >&5
d3692 1
a3692 1
#line 3692 "configure"
d3703 1
a3703 1
if { (eval echo configure:3703: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3738 1
a3738 1
echo "configure:3738: checking for openpty" >&5
d3743 1
a3743 1
#line 3743 "configure"
d3766 1
a3766 1
if { (eval echo configure:3766: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3789 1
a3789 1
echo "configure:3789: checking for openpty in -lutil" >&5
d3797 1
a3797 1
#line 3797 "configure"
d3808 1
a3808 1
if { (eval echo configure:3808: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3840 1
a3840 1
echo "configure:3840: checking for openpty" >&5
d3845 1
a3845 1
#line 3845 "configure"
d3868 1
a3868 1
if { (eval echo configure:3868: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3891 1
a3891 1
echo "configure:3891: checking for openpty in -lutil" >&5
d3899 1
a3899 1
#line 3899 "configure"
d3910 1
a3910 1
if { (eval echo configure:3910: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3948 1
a3948 1
echo "configure:3948: checking if running Sequent running SVR4" >&5
d3962 1
a3962 1
echo "configure:3962: checking for sys/sysmacros.h" >&5
d3967 1
a3967 1
#line 3967 "configure"
d3972 1
a3972 1
{ (eval echo configure:3972: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3998 1
a3998 1
echo "configure:3998: checking for stdlib.h" >&5
d4003 1
a4003 1
#line 4003 "configure"
d4008 1
a4008 1
{ (eval echo configure:4008: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4035 1
a4035 1
echo "configure:4035: checking for inttypes.h" >&5
d4040 1
a4040 1
#line 4040 "configure"
d4045 1
a4045 1
{ (eval echo configure:4045: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4075 1
a4075 1
echo "configure:4075: checking for varargs.h" >&5
d4080 1
a4080 1
#line 4080 "configure"
d4085 1
a4085 1
{ (eval echo configure:4085: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4111 1
a4111 1
echo "configure:4111: checking for unistd.h" >&5
d4116 1
a4116 1
#line 4116 "configure"
d4121 1
a4121 1
{ (eval echo configure:4121: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4147 1
a4147 1
echo "configure:4147: checking for sys/stropts.h" >&5
d4152 1
a4152 1
#line 4152 "configure"
d4157 1
a4157 1
{ (eval echo configure:4157: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4183 1
a4183 1
echo "configure:4183: checking for sys/sysconfig.h" >&5
d4188 1
a4188 1
#line 4188 "configure"
d4193 1
a4193 1
{ (eval echo configure:4193: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4219 1
a4219 1
echo "configure:4219: checking for sys/fcntl.h" >&5
d4224 1
a4224 1
#line 4224 "configure"
d4229 1
a4229 1
{ (eval echo configure:4229: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4255 1
a4255 1
echo "configure:4255: checking for sys/select.h" >&5
d4260 1
a4260 1
#line 4260 "configure"
d4265 1
a4265 1
{ (eval echo configure:4265: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4291 1
a4291 1
echo "configure:4291: checking for sys/time.h" >&5
d4296 1
a4296 1
#line 4296 "configure"
d4301 1
a4301 1
{ (eval echo configure:4301: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4327 1
a4327 1
echo "configure:4327: checking for sys/ptem.h" >&5
d4332 1
a4332 1
#line 4332 "configure"
d4337 1
a4337 1
{ (eval echo configure:4337: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4363 1
a4363 1
echo "configure:4363: checking for sys/strredir.h" >&5
d4368 1
a4368 1
#line 4368 "configure"
d4373 1
a4373 1
{ (eval echo configure:4373: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4399 1
a4399 1
echo "configure:4399: checking for sys/strpty.h" >&5
d4404 1
a4404 1
#line 4404 "configure"
d4409 1
a4409 1
{ (eval echo configure:4409: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4436 1
a4436 1
echo "configure:4436: checking for sys/bsdtypes.h" >&5
d4444 1
a4444 1
echo "configure:4444: checking for $ac_hdr" >&5
d4449 1
a4449 1
#line 4449 "configure"
d4454 1
a4454 1
{ (eval echo configure:4454: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4488 1
a4488 1
echo "configure:4488: checking for memmove" >&5
d4493 1
a4493 1
#line 4493 "configure"
d4516 1
a4516 1
if { (eval echo configure:4516: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4539 1
a4539 1
echo "configure:4539: checking for sysconf" >&5
d4544 1
a4544 1
#line 4544 "configure"
d4567 1
a4567 1
if { (eval echo configure:4567: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4590 1
a4590 1
echo "configure:4590: checking for strftime" >&5
d4595 1
a4595 1
#line 4595 "configure"
d4618 1
a4618 1
if { (eval echo configure:4618: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4641 1
a4641 1
echo "configure:4641: checking for strchr" >&5
d4646 1
a4646 1
#line 4646 "configure"
d4669 1
a4669 1
if { (eval echo configure:4669: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4692 1
a4692 1
echo "configure:4692: checking for timezone" >&5
d4697 1
a4697 1
#line 4697 "configure"
d4720 1
a4720 1
if { (eval echo configure:4720: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4743 1
a4743 1
echo "configure:4743: checking for siglongjmp" >&5
d4748 1
a4748 1
#line 4748 "configure"
d4771 1
a4771 1
if { (eval echo configure:4771: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4798 1
a4798 1
echo "configure:4798: checking for memcpy" >&5
d4800 1
a4800 1
#line 4800 "configure"
d4810 1
a4810 1
if { (eval echo configure:4810: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4832 1
a4832 1
echo "configure:4832: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4838 1
a4838 1
#line 4838 "configure"
d4850 1
a4850 1
if { (eval echo configure:4850: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4870 1
a4870 1
echo "configure:4870: checking if any value exists for WNOHANG" >&5
d4877 1
a4877 1
#line 4877 "configure"
d4893 1
a4893 1
if { (eval echo configure:4893: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4926 1
a4926 1
echo "configure:4926: checking union wait" >&5
d4928 1
a4928 1
#line 4928 "configure"
d4940 1
a4940 1
if { (eval echo configure:4940: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4970 1
a4970 1
echo "configure:4970: checking mask type of select" >&5
d4984 1
a4984 1
echo "configure:4984: checking if signals need to be re-armed" >&5
d4990 1
a4990 1
#line 4990 "configure"
d5029 1
a5029 1
if { (eval echo configure:5029: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5060 1
a5060 1
echo "configure:5060: checking if on Convex" >&5
d5079 1
a5079 1
echo "configure:5079: checking if on NeXT" >&5
d5090 1
a5090 1
echo "configure:5090: checking if on HP" >&5
d5100 1
a5100 1
echo "configure:5100: checking sane default stty arguments" >&5
d5118 1
a5118 1
echo "configure:5118: checking for HP style pty allocation" >&5
d5132 1
a5132 1
echo "configure:5132: checking for HP style pty trapping" >&5
d5134 1
a5134 1
#line 5134 "configure"
d5156 1
a5156 1
echo "configure:5156: checking for AIX new-style pty allocation" >&5
d5168 1
a5168 1
echo "configure:5168: checking for SGI old-style pty allocation" >&5
d5185 1
a5185 1
echo "configure:5185: checking for SCO style pty allocation" >&5
d5202 1
a5202 1
echo "configure:5202: checking for SVR4 style pty allocation" >&5
d5211 1
a5211 1
echo "configure:5211: checking for ptsname" >&5
d5216 1
a5216 1
#line 5216 "configure"
d5239 1
a5239 1
if { (eval echo configure:5239: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5261 1
a5261 1
echo "configure:5261: checking for ptsname" >&5
d5266 1
a5266 1
#line 5266 "configure"
d5289 1
a5289 1
if { (eval echo configure:5289: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5310 1
a5310 1
echo "configure:5310: checking for ptsname" >&5
d5315 1
a5315 1
#line 5315 "configure"
d5338 1
a5338 1
if { (eval echo configure:5338: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5365 1
a5365 1
echo "configure:5365: checking for OSF/1 style pty allocation" >&5
d5379 1
a5379 1
echo "configure:5379: checking for tcgetattr" >&5
d5384 1
a5384 1
#line 5384 "configure"
d5407 1
a5407 1
if { (eval echo configure:5407: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5427 1
a5427 1
echo "configure:5427: checking for tcsetattr" >&5
d5432 1
a5432 1
#line 5432 "configure"
d5455 1
a5455 1
if { (eval echo configure:5455: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5487 1
a5487 1
echo "configure:5487: checking for struct sgttyb" >&5
d5493 1
a5493 1
#line 5493 "configure"
d5503 1
a5503 1
if { (eval echo configure:5503: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5532 1
a5532 1
echo "configure:5532: checking for struct termio" >&5
d5538 1
a5538 1
#line 5538 "configure"
d5547 1
a5547 1
if { (eval echo configure:5547: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5569 1
a5569 1
echo "configure:5569: checking for struct termios" >&5
d5575 1
a5575 1
#line 5575 "configure"
d5589 1
a5589 1
if { (eval echo configure:5589: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5611 1
a5611 1
echo "configure:5611: checking if TCGETS or TCGETA in termios.h" >&5
d5617 1
a5617 1
#line 5617 "configure"
d5633 1
a5633 1
if { (eval echo configure:5633: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5653 1
a5653 1
echo "configure:5653: checking if TIOCGWINSZ in termios.h" >&5
d5659 1
a5659 1
#line 5659 "configure"
d5675 1
a5675 1
if { (eval echo configure:5675: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5696 1
a5696 1
echo "configure:5696: checking for Cray-style ptys" >&5
d5703 1
a5703 1
#line 5703 "configure"
d5715 1
a5715 1
if { (eval echo configure:5715: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5740 1
a5740 1
echo "configure:5740: checking for select" >&5
d5745 1
a5745 1
#line 5745 "configure"
d5768 1
a5768 1
if { (eval echo configure:5768: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5788 1
a5788 1
echo "configure:5788: checking for poll" >&5
d5793 1
a5793 1
#line 5793 "configure"
d5816 1
a5816 1
if { (eval echo configure:5816: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5836 1
a5836 1
echo "configure:5836: checking event handling" >&5
d5858 1
a5858 1
echo "configure:5858: checking for $ac_func" >&5
d5863 1
a5863 1
#line 5863 "configure"
d5886 1
a5886 1
if { (eval echo configure:5886: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5913 1
a5913 1
echo "configure:5913: checking for $ac_func" >&5
d5918 1
a5918 1
#line 5918 "configure"
d5941 1
a5941 1
if { (eval echo configure:5941: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5968 1
a5968 1
echo "configure:5968: checking whether setpgrp takes no argument" >&5
d5976 1
a5976 1
#line 5976 "configure"
d5996 1
a5996 1
if { (eval echo configure:5996: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d6024 1
a6024 1
echo "configure:6024: checking for SV-style timezone" >&5
d6030 1
a6030 1
#line 6030 "configure"
d6043 1
a6043 1
if { (eval echo configure:6043: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d6089 1
a6089 1
echo "configure:6089: checking for Tk private headers" >&5
d6160 1
a6160 1
echo "configure:6160: checking for tk.h" >&5
d6165 1
a6165 1
#line 6165 "configure"
d6170 1
a6170 1
{ (eval echo configure:6170: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
a6250 12
# Check whether --enable-threads or --disable-threads was given.
if test "${enable_threads+set}" = set; then
  enableval="$enable_threads"
  enable_threads=$enableval
else
  enable_threads=no
fi

if test "$enable_threads=yes"; then
  echo "configure: warning: Expect is not fully thread-enabled.  Although significant work has been done towards that goal, it is not complete.  Continue compiling at your own risk." 1>&2
fi

d6269 1
a6269 1
echo "configure:6281: checking for long file names" >&5
d6326 1
a6326 1
echo "configure:6338: checking for type of library to build" >&5
@


5.33
log
@Merge of expect5-31-branch to mainline
@
text
@d34 2
d544 1
a544 1
EXP_MICRO_VERSION=3
d567 1
a567 1
echo "configure:566: checking for $ac_word" >&5
a593 1
found=no
d595 1
a595 1
echo "configure:595: checking configure up to date" >&5
d656 1
a656 1
echo "configure:656: checking host system type" >&5
d677 1
a677 1
echo "configure:677: checking target system type" >&5
d695 1
a695 1
echo "configure:695: checking build system type" >&5
d725 1
a725 1
echo "configure:725: checking shell to use within Make" >&5
d759 1
a759 1
echo "configure:759: checking for $ac_word" >&5
d789 1
a789 1
echo "configure:789: checking for $ac_word" >&5
d840 1
a840 1
echo "configure:840: checking for $ac_word" >&5
d872 1
a872 1
echo "configure:872: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
d883 1
a883 1
#line 883 "configure"
d888 1
a888 1
if { (eval echo configure:888: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d914 1
a914 1
echo "configure:914: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
d919 1
a919 1
echo "configure:919: checking whether we are using GNU C" >&5
d928 1
a928 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:928: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d947 1
a947 1
echo "configure:947: checking whether ${CC-cc} accepts -g" >&5
d987 1
a987 1
echo "configure:987: checking for building with threads" >&5
d1037 1
a1037 1
echo "configure:1037: checking for Tcl configuration" >&5
d1130 1
a1130 1
echo "configure:1130: checking Tcl build library" >&5
d1134 1
a1134 1
echo "configure:1134: checking for Tcl_CreateCommand" >&5
d1139 1
a1139 1
#line 1139 "configure"
d1162 1
a1162 1
if { (eval echo configure:1162: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1178 1
a1178 1
echo "configure:1178: checking if Tcl library build specification is valid" >&5
d1188 1
a1188 1
echo "configure:1188: checking if Tcl library build specification is valid" >&5
d1220 1
a1220 1
echo "configure:1220: checking for Tk configuration" >&5
d1309 1
a1309 1
echo "configure:1309: checking for Tk_Init" >&5
d1314 1
a1314 1
#line 1314 "configure"
d1337 1
a1337 1
if { (eval echo configure:1337: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1353 1
a1353 1
echo "configure:1353: checking if Tk library build specification is valid" >&5
d1363 1
a1363 1
echo "configure:1363: checking if Tk library build specification is valid" >&5
d1378 1
a1378 1
echo "configure:1378: checking whether the compiler ($CC) actually works" >&5
d1380 1
a1380 1
#line 1380 "configure"
d1387 1
a1387 1
if { (eval echo configure:1387: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1399 1
a1399 1
#line 1399 "configure"
d1406 1
a1406 1
if { (eval echo configure:1406: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1440 1
a1440 1
echo "configure:1440: checking for a BSD compatible install" >&5
d1497 1
a1497 1
echo "configure:1497: checking for $ac_word" >&5
d1537 1
a1537 1
echo "configure:1537: checking how to run the C preprocessor" >&5
d1552 1
a1552 1
#line 1552 "configure"
d1558 1
a1558 1
{ (eval echo configure:1558: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1569 1
a1569 1
#line 1569 "configure"
d1575 1
a1575 1
{ (eval echo configure:1575: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1586 1
a1586 1
#line 1586 "configure"
d1592 1
a1592 1
{ (eval echo configure:1592: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1618 1
a1618 1
echo "configure:1618: checking if running LynxOS" >&5
d1623 1
a1623 1
#line 1623 "configure"
d1653 1
a1653 1
echo "configure:1653: checking whether -mposix or -X is available" >&5
d1658 1
a1658 1
#line 1658 "configure"
d1674 1
a1674 1
if { (eval echo configure:1674: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1694 1
a1694 1
echo "configure:1694: checking for ANSI C header files" >&5
d1699 1
a1699 1
#line 1699 "configure"
d1707 1
a1707 1
{ (eval echo configure:1707: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1724 1
a1724 1
#line 1724 "configure"
d1742 1
a1742 1
#line 1742 "configure"
d1763 1
a1763 1
#line 1763 "configure"
d1774 1
a1774 1
if { (eval echo configure:1774: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d1798 1
a1798 1
echo "configure:1798: checking for pid_t" >&5
d1803 1
a1803 1
#line 1803 "configure"
d1831 1
a1831 1
echo "configure:1831: checking return type of signal handlers" >&5
d1836 1
a1836 1
#line 1836 "configure"
d1853 1
a1853 1
if { (eval echo configure:1853: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1872 1
a1872 1
echo "configure:1872: checking whether time.h and sys/time.h may both be included" >&5
d1877 1
a1877 1
#line 1877 "configure"
d1886 1
a1886 1
if { (eval echo configure:1886: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1907 1
a1907 1
echo "configure:1907: checking for sys/wait.h that is POSIX.1 compatible" >&5
d1912 1
a1912 1
#line 1912 "configure"
d1928 1
a1928 1
if { (eval echo configure:1928: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1970 1
a1970 1
echo "configure:1970: checking if running Mach" >&5
d1986 1
a1986 1
echo "configure:1986: checking if running MachTen" >&5
d1996 1
a1996 1
echo "configure:1996: checking if on Pyramid" >&5
d2006 1
a2006 1
echo "configure:2006: checking if on Apollo" >&5
d2016 1
a2016 1
echo "configure:2016: checking if on Interactive" >&5
d2026 1
a2026 1
echo "configure:2026: checking if stty reads stdout" >&5
d2082 1
a2082 1
echo "configure:2082: checking if running Solaris" >&5
d2102 1
a2102 1
echo "configure:2102: checking for sin" >&5
d2107 1
a2107 1
#line 2107 "configure"
d2130 1
a2130 1
if { (eval echo configure:2130: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2160 1
a2160 1
echo "configure:2160: checking for strftime" >&5
d2165 1
a2165 1
#line 2165 "configure"
d2188 1
a2188 1
if { (eval echo configure:2188: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2228 1
a2228 1
echo "configure:2228: checking for Tcl private headers" >&5
d2299 1
a2299 1
echo "configure:2299: checking for tclInt.h" >&5
d2304 1
a2304 1
#line 2304 "configure"
d2309 1
a2309 1
{ (eval echo configure:2309: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2370 1
a2370 1
echo "configure:2370: checking type of library to build" >&5
d2449 1
a2449 1
echo "configure:2449: checking for gethostname" >&5
d2454 1
a2454 1
#line 2454 "configure"
d2477 1
a2477 1
if { (eval echo configure:2477: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2500 1
a2500 1
echo "configure:2500: checking for gethostname in -linet" >&5
d2508 1
a2508 1
#line 2508 "configure"
d2519 1
a2519 1
if { (eval echo configure:2519: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2545 1
a2545 1
echo "configure:2545: checking for gethostname" >&5
d2550 1
a2550 1
#line 2550 "configure"
d2573 1
a2573 1
if { (eval echo configure:2573: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2596 1
a2596 1
echo "configure:2596: checking for gethostname in -linet" >&5
d2604 1
a2604 1
#line 2604 "configure"
d2615 1
a2615 1
if { (eval echo configure:2615: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2641 1
a2641 1
echo "configure:2641: checking for gethostname" >&5
d2646 1
a2646 1
#line 2646 "configure"
d2669 1
a2669 1
if { (eval echo configure:2669: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2692 1
a2692 1
echo "configure:2692: checking for gethostname in -linet" >&5
d2700 1
a2700 1
#line 2700 "configure"
d2711 1
a2711 1
if { (eval echo configure:2711: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2740 1
a2740 1
echo "configure:2740: checking for socket" >&5
d2745 1
a2745 1
#line 2745 "configure"
d2768 1
a2768 1
if { (eval echo configure:2768: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2791 1
a2791 1
echo "configure:2791: checking for socket in -linet" >&5
d2799 1
a2799 1
#line 2799 "configure"
d2810 1
a2810 1
if { (eval echo configure:2810: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2836 1
a2836 1
echo "configure:2836: checking for socket" >&5
d2841 1
a2841 1
#line 2841 "configure"
d2864 1
a2864 1
if { (eval echo configure:2864: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2887 1
a2887 1
echo "configure:2887: checking for socket in -linet" >&5
d2895 1
a2895 1
#line 2895 "configure"
d2906 1
a2906 1
if { (eval echo configure:2906: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2932 1
a2932 1
echo "configure:2932: checking for socket" >&5
d2937 1
a2937 1
#line 2937 "configure"
d2960 1
a2960 1
if { (eval echo configure:2960: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2983 1
a2983 1
echo "configure:2983: checking for socket in -linet" >&5
d2991 1
a2991 1
#line 2991 "configure"
d3002 1
a3002 1
if { (eval echo configure:3002: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3030 1
a3030 1
echo "configure:3030: checking for select" >&5
d3035 1
a3035 1
#line 3035 "configure"
d3058 1
a3058 1
if { (eval echo configure:3058: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3081 1
a3081 1
echo "configure:3081: checking for select in -linet" >&5
d3089 1
a3089 1
#line 3089 "configure"
d3100 1
a3100 1
if { (eval echo configure:3100: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3126 1
a3126 1
echo "configure:3126: checking for select" >&5
d3131 1
a3131 1
#line 3131 "configure"
d3154 1
a3154 1
if { (eval echo configure:3154: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3177 1
a3177 1
echo "configure:3177: checking for select in -linet" >&5
d3185 1
a3185 1
#line 3185 "configure"
d3196 1
a3196 1
if { (eval echo configure:3196: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3222 1
a3222 1
echo "configure:3222: checking for select" >&5
d3227 1
a3227 1
#line 3227 "configure"
d3250 1
a3250 1
if { (eval echo configure:3250: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3273 1
a3273 1
echo "configure:3273: checking for select in -linet" >&5
d3281 1
a3281 1
#line 3281 "configure"
d3292 1
a3292 1
if { (eval echo configure:3292: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3320 1
a3320 1
echo "configure:3320: checking for getpseudotty" >&5
d3325 1
a3325 1
#line 3325 "configure"
d3348 1
a3348 1
if { (eval echo configure:3348: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3371 1
a3371 1
echo "configure:3371: checking for getpseudotty in -lseq" >&5
d3379 1
a3379 1
#line 3379 "configure"
d3390 1
a3390 1
if { (eval echo configure:3390: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3423 1
a3423 1
echo "configure:3423: checking for getpseudotty" >&5
d3428 1
a3428 1
#line 3428 "configure"
d3451 1
a3451 1
if { (eval echo configure:3451: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3474 1
a3474 1
echo "configure:3474: checking for getpseudotty in -lseq" >&5
d3482 1
a3482 1
#line 3482 "configure"
d3493 1
a3493 1
if { (eval echo configure:3493: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3526 1
a3526 1
echo "configure:3526: checking for getpseudotty" >&5
d3531 1
a3531 1
#line 3531 "configure"
d3554 1
a3554 1
if { (eval echo configure:3554: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3577 1
a3577 1
echo "configure:3577: checking for getpseudotty in -lseq" >&5
d3585 1
a3585 1
#line 3585 "configure"
d3596 1
a3596 1
if { (eval echo configure:3596: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3632 1
a3632 1
echo "configure:3632: checking for openpty" >&5
d3637 1
a3637 1
#line 3637 "configure"
d3660 1
a3660 1
if { (eval echo configure:3660: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3683 1
a3683 1
echo "configure:3683: checking for openpty in -lutil" >&5
d3691 1
a3691 1
#line 3691 "configure"
d3702 1
a3702 1
if { (eval echo configure:3702: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3737 1
a3737 1
echo "configure:3737: checking for openpty" >&5
d3742 1
a3742 1
#line 3742 "configure"
d3765 1
a3765 1
if { (eval echo configure:3765: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3788 1
a3788 1
echo "configure:3788: checking for openpty in -lutil" >&5
d3796 1
a3796 1
#line 3796 "configure"
d3807 1
a3807 1
if { (eval echo configure:3807: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3839 1
a3839 1
echo "configure:3839: checking for openpty" >&5
d3844 1
a3844 1
#line 3844 "configure"
d3867 1
a3867 1
if { (eval echo configure:3867: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3890 1
a3890 1
echo "configure:3890: checking for openpty in -lutil" >&5
d3898 1
a3898 1
#line 3898 "configure"
d3909 1
a3909 1
if { (eval echo configure:3909: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3947 1
a3947 1
echo "configure:3947: checking if running Sequent running SVR4" >&5
d3961 1
a3961 1
echo "configure:3961: checking for sys/sysmacros.h" >&5
d3966 1
a3966 1
#line 3966 "configure"
d3971 1
a3971 1
{ (eval echo configure:3971: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3997 1
a3997 1
echo "configure:3997: checking for stdlib.h" >&5
d4002 1
a4002 1
#line 4002 "configure"
d4007 1
a4007 1
{ (eval echo configure:4007: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4034 1
a4034 1
echo "configure:4034: checking for inttypes.h" >&5
d4039 1
a4039 1
#line 4039 "configure"
d4044 1
a4044 1
{ (eval echo configure:4044: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4074 1
a4074 1
echo "configure:4074: checking for varargs.h" >&5
d4079 1
a4079 1
#line 4079 "configure"
d4084 1
a4084 1
{ (eval echo configure:4084: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4110 1
a4110 1
echo "configure:4110: checking for unistd.h" >&5
d4115 1
a4115 1
#line 4115 "configure"
d4120 1
a4120 1
{ (eval echo configure:4120: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4146 1
a4146 1
echo "configure:4146: checking for sys/stropts.h" >&5
d4151 1
a4151 1
#line 4151 "configure"
d4156 1
a4156 1
{ (eval echo configure:4156: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4182 1
a4182 1
echo "configure:4182: checking for sys/sysconfig.h" >&5
d4187 1
a4187 1
#line 4187 "configure"
d4192 1
a4192 1
{ (eval echo configure:4192: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4218 1
a4218 1
echo "configure:4218: checking for sys/fcntl.h" >&5
d4223 1
a4223 1
#line 4223 "configure"
d4228 1
a4228 1
{ (eval echo configure:4228: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4254 1
a4254 1
echo "configure:4254: checking for sys/select.h" >&5
d4259 1
a4259 1
#line 4259 "configure"
d4264 1
a4264 1
{ (eval echo configure:4264: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4290 1
a4290 1
echo "configure:4290: checking for sys/time.h" >&5
d4295 1
a4295 1
#line 4295 "configure"
d4300 1
a4300 1
{ (eval echo configure:4300: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4326 1
a4326 1
echo "configure:4326: checking for sys/ptem.h" >&5
d4331 1
a4331 1
#line 4331 "configure"
d4336 1
a4336 1
{ (eval echo configure:4336: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4362 1
a4362 1
echo "configure:4362: checking for sys/strredir.h" >&5
d4367 1
a4367 1
#line 4367 "configure"
d4372 1
a4372 1
{ (eval echo configure:4372: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4398 1
a4398 1
echo "configure:4398: checking for sys/strpty.h" >&5
d4403 1
a4403 1
#line 4403 "configure"
d4408 1
a4408 1
{ (eval echo configure:4408: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4435 1
a4435 1
echo "configure:4435: checking for sys/bsdtypes.h" >&5
d4443 1
a4443 1
echo "configure:4443: checking for $ac_hdr" >&5
d4448 1
a4448 1
#line 4448 "configure"
d4453 1
a4453 1
{ (eval echo configure:4453: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4487 1
a4487 1
echo "configure:4487: checking for memmove" >&5
d4492 1
a4492 1
#line 4492 "configure"
d4515 1
a4515 1
if { (eval echo configure:4515: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4538 1
a4538 1
echo "configure:4538: checking for sysconf" >&5
d4543 1
a4543 1
#line 4543 "configure"
d4566 1
a4566 1
if { (eval echo configure:4566: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4589 1
a4589 1
echo "configure:4589: checking for strftime" >&5
d4594 1
a4594 1
#line 4594 "configure"
d4617 1
a4617 1
if { (eval echo configure:4617: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4640 1
a4640 1
echo "configure:4640: checking for strchr" >&5
d4645 1
a4645 1
#line 4645 "configure"
d4668 1
a4668 1
if { (eval echo configure:4668: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4691 1
a4691 1
echo "configure:4691: checking for timezone" >&5
d4696 1
a4696 1
#line 4696 "configure"
d4719 1
a4719 1
if { (eval echo configure:4719: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4742 1
a4742 1
echo "configure:4742: checking for siglongjmp" >&5
d4747 1
a4747 1
#line 4747 "configure"
d4770 1
a4770 1
if { (eval echo configure:4770: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4797 1
a4797 1
echo "configure:4797: checking for memcpy" >&5
d4799 1
a4799 1
#line 4799 "configure"
d4809 1
a4809 1
if { (eval echo configure:4809: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4831 1
a4831 1
echo "configure:4831: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4837 1
a4837 1
#line 4837 "configure"
d4849 1
a4849 1
if { (eval echo configure:4849: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4869 1
a4869 1
echo "configure:4869: checking if any value exists for WNOHANG" >&5
d4876 1
a4876 1
#line 4876 "configure"
d4892 1
a4892 1
if { (eval echo configure:4892: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4925 1
a4925 1
echo "configure:4925: checking union wait" >&5
d4927 1
a4927 1
#line 4927 "configure"
d4939 1
a4939 1
if { (eval echo configure:4939: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4969 1
a4969 1
echo "configure:4969: checking mask type of select" >&5
d4983 1
a4983 1
echo "configure:4983: checking if signals need to be re-armed" >&5
d4989 1
a4989 1
#line 4989 "configure"
d5028 1
a5028 1
if { (eval echo configure:5028: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5059 1
a5059 1
echo "configure:5059: checking if on Convex" >&5
d5078 1
a5078 1
echo "configure:5078: checking if on NeXT" >&5
d5089 1
a5089 1
echo "configure:5089: checking if on HP" >&5
d5099 1
a5099 1
echo "configure:5099: checking sane default stty arguments" >&5
d5117 1
a5117 1
echo "configure:5117: checking for HP style pty allocation" >&5
d5131 1
a5131 1
echo "configure:5131: checking for HP style pty trapping" >&5
d5133 1
a5133 1
#line 5133 "configure"
d5155 1
a5155 1
echo "configure:5155: checking for AIX new-style pty allocation" >&5
d5167 1
a5167 1
echo "configure:5167: checking for SGI old-style pty allocation" >&5
d5184 1
a5184 1
echo "configure:5184: checking for SCO style pty allocation" >&5
d5201 1
a5201 1
echo "configure:5201: checking for SVR4 style pty allocation" >&5
d5210 1
a5210 1
echo "configure:5210: checking for ptsname" >&5
d5215 1
a5215 1
#line 5215 "configure"
d5238 1
a5238 1
if { (eval echo configure:5238: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5260 1
a5260 1
echo "configure:5260: checking for ptsname" >&5
d5265 1
a5265 1
#line 5265 "configure"
d5288 1
a5288 1
if { (eval echo configure:5288: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5309 1
a5309 1
echo "configure:5309: checking for ptsname" >&5
d5314 1
a5314 1
#line 5314 "configure"
d5337 1
a5337 1
if { (eval echo configure:5337: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5364 1
a5364 1
echo "configure:5364: checking for OSF/1 style pty allocation" >&5
d5378 1
a5378 1
echo "configure:5378: checking for tcgetattr" >&5
d5383 1
a5383 1
#line 5383 "configure"
d5406 1
a5406 1
if { (eval echo configure:5406: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5426 1
a5426 1
echo "configure:5426: checking for tcsetattr" >&5
d5431 1
a5431 1
#line 5431 "configure"
d5454 1
a5454 1
if { (eval echo configure:5454: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5486 1
a5486 1
echo "configure:5486: checking for struct sgttyb" >&5
d5492 1
a5492 1
#line 5492 "configure"
d5502 1
a5502 1
if { (eval echo configure:5502: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5531 1
a5531 1
echo "configure:5531: checking for struct termio" >&5
d5537 1
a5537 1
#line 5537 "configure"
d5546 1
a5546 1
if { (eval echo configure:5546: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5568 1
a5568 1
echo "configure:5568: checking for struct termios" >&5
d5574 1
a5574 1
#line 5574 "configure"
d5588 1
a5588 1
if { (eval echo configure:5588: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5610 1
a5610 1
echo "configure:5610: checking if TCGETS or TCGETA in termios.h" >&5
d5616 1
a5616 1
#line 5616 "configure"
d5632 1
a5632 1
if { (eval echo configure:5632: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5652 1
a5652 1
echo "configure:5652: checking if TIOCGWINSZ in termios.h" >&5
d5658 1
a5658 1
#line 5658 "configure"
d5674 1
a5674 1
if { (eval echo configure:5674: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5695 1
a5695 1
echo "configure:5695: checking for Cray-style ptys" >&5
d5702 1
a5702 1
#line 5702 "configure"
d5714 1
a5714 1
if { (eval echo configure:5714: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5739 1
a5739 1
echo "configure:5739: checking for select" >&5
d5744 1
a5744 1
#line 5744 "configure"
d5767 1
a5767 1
if { (eval echo configure:5767: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5787 1
a5787 1
echo "configure:5787: checking for poll" >&5
d5792 1
a5792 1
#line 5792 "configure"
d5815 1
a5815 1
if { (eval echo configure:5815: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5835 1
a5835 1
echo "configure:5835: checking event handling" >&5
d5857 1
a5857 1
echo "configure:5857: checking for $ac_func" >&5
d5862 1
a5862 1
#line 5862 "configure"
d5885 1
a5885 1
if { (eval echo configure:5885: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5912 1
a5912 1
echo "configure:5912: checking for $ac_func" >&5
d5917 1
a5917 1
#line 5917 "configure"
d5940 1
a5940 1
if { (eval echo configure:5940: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5967 1
a5967 1
echo "configure:5967: checking whether setpgrp takes no argument" >&5
d5975 1
a5975 1
#line 5975 "configure"
d5995 1
a5995 1
if { (eval echo configure:5995: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d6023 1
a6023 1
echo "configure:6023: checking for SV-style timezone" >&5
d6029 1
a6029 1
#line 6029 "configure"
d6042 1
a6042 1
if { (eval echo configure:6042: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d6088 1
a6088 1
echo "configure:6088: checking for Tk private headers" >&5
d6159 1
a6159 1
echo "configure:6159: checking for tk.h" >&5
d6164 1
a6164 1
#line 6164 "configure"
d6169 1
a6169 1
{ (eval echo configure:6169: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d6250 12
d6280 1
a6280 1
echo "configure:6268: checking for long file names" >&5
d6337 1
a6337 1
echo "configure:6325: checking for type of library to build" >&5
d6400 1
a6400 1
# TCL_LD_SEARCH_FLAGS, which causes a substitution of the
d6404 2
a6405 15
  eval "EXP_CC_SEARCH_FLAGS=\"$TCL_LD_SEARCH_FLAGS\""
else
  eval "EXP_CC_SEARCH_FLAGS=\"$TK_LD_SEARCH_FLAGS\""
fi

# TCL_LD_SEARCH_FLAGS is only valid when used with the compiler, $CC.
# Expect needs to use these flags with the linker, though.  If the
# linker and the compiler are not the same program (as they aren't on
# Solaris 2.7) then we need to transform the flags into something that
# the linker understands.

LD_PROG=`echo ${TCL_SHLIB_LD} | sed -e "s| .*||"`
CC_PROG=`echo ${CC} | sed -e "s| .*||"`
if test x"$LD_PROG" = x"$CC_PROG" ; then
    EXP_LD_SEARCH_FLAGS=${EXP_CC_SEARCH_FLAGS}
d6407 2
a6408 1
    EXP_LD_SEARCH_FLAGS=`echo ${EXP_CC_SEARCH_FLAGS} |sed -e "s|-Wl,||g" -e "s|,| |g"`
@


5.32
log
@It should now be possible to configure expect with the same configure
arguments used to configure Tcl.

Makefile targets now consistent with Tcl Makefile targets.
@
text
@d15 2
a20 2
  --enable-threads        build with threads (not supported)"
ac_help="$ac_help
d541 2
a542 2
EXP_MINOR_VERSION=30
EXP_MICRO_VERSION=0
d553 55
d655 1
a655 1
echo "configure:601: checking host system type" >&5
d676 1
a676 1
echo "configure:622: checking target system type" >&5
d694 1
a694 1
echo "configure:640: checking build system type" >&5
d724 1
a724 1
echo "configure:670: checking shell to use within Make" >&5
d734 19
d754 28
a781 13
#
# Ok, lets find the tcl configuration
# First, look for one uninstalled.  
# the alternative search directory is invoked by --with-tcl
#

if test x"${no_tcl}" = x ; then
  # we reset no_tcl in case something fails here
  no_tcl=true
  # Check whether --with-tcl or --without-tcl was given.
if test "${with_tcl+set}" = set; then
  withval="$with_tcl"
  with_tclconfig=${withval}
d784 6
a789 3
  echo $ac_n "checking for Tcl configuration""... $ac_c" 1>&6
echo "configure:697: checking for Tcl configuration" >&5
  if eval "test \"`echo '$''{'ac_cv_c_tclconfig'+set}'`\" = set"; then
d792 15
a806 8
  

  # First check to see if --with-tcl was specified.
  if test x"${with_tclconfig}" != x ; then
    if test -f "${with_tclconfig}/tclConfig.sh" ; then
      ac_cv_c_tclconfig=`(cd ${with_tclconfig}; pwd)`
    else
      { echo "configure: error: ${with_tclconfig} directory doesn't contain tclConfig.sh" 1>&2; exit 1; }
d808 14
d823 9
d833 30
a862 36
  # then check for a private Tcl installation
  if test x"${ac_cv_c_tclconfig}" = x ; then
    for i in \
		../tcl \
		`ls -dr ../tcl[7-9].[0-9].[0-9] ../tcl[7-9].[0-9] 2>/dev/null` \
		../../tcl \
		`ls -dr ../../tcl[7-9].[0-9].[0-9] ../../tcl[7-9].[0-9] 2>/dev/null` \
		../../../tcl \
		`ls -dr ../../../tcl[7-9].[0-9].[0-9] ../../../tcl[7-9].[0-9] 2>/dev/null` ; do
      if test -f "$i/unix/tclConfig.sh" ; then
        ac_cv_c_tclconfig=`(cd $i/unix; pwd)`
	break
      fi
    done
  fi
  # check in a few common install locations
  if test x"${ac_cv_c_tclconfig}" = x ; then
    for i in `ls -d ${prefix}/lib /usr/local/lib 2>/dev/null` ; do
      if test -f "$i/tclConfig.sh" ; then
        ac_cv_c_tclconfig=`(cd $i; pwd)`
	break
      fi
    done
  fi
  # check in a few other private locations
  if test x"${ac_cv_c_tclconfig}" = x ; then
    for i in \
		${srcdir}/../tcl \
		`ls -dr ${srcdir}/../tcl[7-9].[0-9].[0-9] ${srcdir}/../tcl[7-9].[0-9] 2>/dev/null` ; do
      if test -f "$i/unix/tclConfig.sh" ; then
        ac_cv_c_tclconfig=`(cd $i/unix; pwd)`
	break
      fi
    done
  fi
  
d864 2
a865 8

  if test x"${ac_cv_c_tclconfig}" = x ; then
    TCLCONFIG="# no Tcl configs found"
    echo "configure: warning: Can't find Tcl configuration definitions" 1>&2
  else
    no_tcl=
    TCLCONFIG=${ac_cv_c_tclconfig}/tclConfig.sh
    echo "$ac_t""found $TCLCONFIG" 1>&6
d867 1
d870 2
d873 6
a878 1
    . $TCLCONFIG
d880 1
a880 3
    
    
    
d882 2
d885 22
d908 205
a1112 1
    
d1128 4
d1133 1
a1133 1
echo "configure:786: checking for Tcl_CreateCommand" >&5
d1138 1
a1138 1
#line 791 "configure"
d1161 1
a1161 1
if { (eval echo configure:814: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1177 1
a1177 1
echo "configure:830: checking if Tcl library build specification is valid" >&5
d1187 1
a1187 1
echo "configure:840: checking if Tcl library build specification is valid" >&5
d1219 1
a1219 1
echo "configure:872: checking for Tk configuration" >&5
d1239 1
d1242 1
d1244 1
d1265 1
d1275 8
a1282 271

  if test x"${ac_cv_c_tkconfig}" = x ; then
    TKCONFIG="# no Tk configs found"
    echo "configure: warning: Can't find Tk configuration definitions" 1>&2
  else
    no_tk=
    TKCONFIG=${ac_cv_c_tkconfig}/tkConfig.sh
    echo "$ac_t""found $TKCONFIG" 1>&6
  fi
fi



    if test -f "$TKCONFIG" ; then
      . $TKCONFIG
    fi

    
    

    
    


    
    

# if Tk's build directory has been removed, TK_LIB_SPEC should
# be used instead of TK_BUILD_LIB_SPEC
SAVELIBS=$LIBS
# eval used to expand out TK_DBGX
eval "LIBS=\"$TK_BUILD_LIB_SPEC $TK_LIBS\""
echo $ac_n "checking for Tk_Main""... $ac_c" 1>&6
echo "configure:957: checking for Tk_Main" >&5
if eval "test \"`echo '$''{'ac_cv_func_Tk_Main'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 962 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char Tk_Main(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char Tk_Main();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_Tk_Main) || defined (__stub___Tk_Main)
choke me
#else
Tk_Main();
#endif

; return 0; }
EOF
if { (eval echo configure:985: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_Tk_Main=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_Tk_Main=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'Tk_Main`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	echo $ac_n "checking if Tk library build specification is valid""... $ac_c" 1>&6
echo "configure:1001: checking if Tk library build specification is valid" >&5
	echo "$ac_t""yes" 1>&6

else
  echo "$ac_t""no" 1>&6

	TK_BUILD_LIB_SPEC=$TK_LIB_SPEC
	# Can't pull the following CHECKING call out since it will be
	# broken up by the CHECK_FUNC just above.
	echo $ac_n "checking if Tk library build specification is valid""... $ac_c" 1>&6
echo "configure:1011: checking if Tk library build specification is valid" >&5
	echo "$ac_t""no" 1>&6

fi

LIBS=$SAVELIBS

    
    

EXP_AND_TK_LIBS=$TK_LIBS

#------------------------------------------------------------------------
# Hook for when threading is supported in Expect.  The --enable-threads
# flag currently has no effect.
#------------------------------------------------------------------------


    echo $ac_n "checking for building with threads""... $ac_c" 1>&6
echo "configure:1030: checking for building with threads" >&5
    # Check whether --enable-threads or --disable-threads was given.
if test "${enable_threads+set}" = set; then
  enableval="$enable_threads"
  tcl_ok=$enableval
else
  tcl_ok=no
fi


#    if test "$tcl_ok" = "yes"; then
#	AC_MSG_RESULT(yes)
#	TCL_THREADS=1
#	AC_DEFINE(TCL_THREADS)
#	AC_DEFINE(_REENTRANT)
#
#	AC_CHECK_LIB(pthread,pthread_mutex_init,tcl_ok=yes,tcl_ok=no)
#	if test "$tcl_ok" = "yes"; then
#	    # The space is needed
#	    THREADS_LIBS=" -lpthread"
#	else
#	    TCL_THREADS=0
#	    AC_MSG_WARN("Don t know how to find pthread lib on your system - you must disable thread support or edit the LIBS in the Makefile...")
#	fi
#    else
#	TCL_THREADS=0
#	AC_MSG_RESULT(no (default))
#    fi

    echo "$ac_t""no (default)" 1>&6



# An explanation is in order for the strange things going on with the
# various LIBS.  There are three separate definitions for LIBS.  The
# reason is that some systems require shared libraries include
# references to their dependent libraries, i.e., any additional
# libraries that must be linked to.  And some systems get upset if the
# references are repeated on the link line.  So therefore, we create
# one for Expect and Tk (EXP_AND_TK_LIBS), one for Expect and Tcl
# (EXP_AND_TCL_LIBS), and finally, one for building Expect's own
# shared library.  Tcl's tclConfig.sh insists that any shared libs
# that it "helps" build must pass the libraries as LIBS (see comment
# near end of this configure file).  I would do but since we're close
# to hitting config's max symbols, we take one short cut and pack the
# LIBS into EXP_SHLIB_LD_LIBS (which is basically what Tcl wants to do
# for us).  The point, however, is that there's no separate LIBS or
# EXP_LIBS symbol passed out of configure.  One additional point for
# confusion is that LIBS is what configure uses to do all library
# tests, so we have to swap definitions of LIBS peridically.  When we
# are swapping out the one for Expect's shared library, we save it in
# EXP_LIBS.  Sigh.

OLD_CFLAGS=$CFLAGS
# Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1087: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="gcc"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1117: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_prog_rejected=no
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
        ac_prog_rejected=yes
	continue
      fi
      ac_cv_prog_CC="cc"
      break
    fi
  done
  IFS="$ac_save_ifs"
if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# -gt 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    set dummy "$ac_dir/$ac_word" "$@@"
    shift
    ac_cv_prog_CC="$@@"
  fi
fi
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

  if test -z "$CC"; then
    case "`uname -s`" in
    *win32* | *WIN32*)
      # Extract the first word of "cl", so it can be a program name with args.
set dummy cl; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1168: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="cl"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
 ;;
    esac
a1283 1
  test -z "$CC" && { echo "configure: error: no acceptable cc found in \$PATH" 1>&2; exit 1; }
a1285 2
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
echo "configure:1200: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
a1286 6
ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross
d1288 6
a1293 1
cat > conftest.$ac_ext << EOF
d1295 2
a1296 2
#line 1211 "configure"
#include "confdefs.h"
a1297 22
main(){return(0);}
EOF
if { (eval echo configure:1216: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  ac_cv_prog_cc_works=yes
  # If we can't run a trivial program, we are probably using a cross compiler.
  if (./conftest; exit) 2>/dev/null; then
    ac_cv_prog_cc_cross=no
  else
    ac_cv_prog_cc_cross=yes
  fi
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_prog_cc_works=no
fi
rm -fr conftest*
ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross
d1299 2
a1300 8
echo "$ac_t""$ac_cv_prog_cc_works" 1>&6
if test $ac_cv_prog_cc_works = no; then
  { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
fi
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
echo "configure:1242: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
cross_compiling=$ac_cv_prog_cc_cross
d1302 8
a1309 3
echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
echo "configure:1247: checking whether we are using GNU C" >&5
if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
d1312 20
a1331 3
  cat > conftest.c <<EOF
#ifdef __GNUC__
  yes;
d1333 2
d1336 3
a1338 2
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1256: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
  ac_cv_prog_gcc=yes
d1340 4
a1343 1
  ac_cv_prog_gcc=no
d1345 1
d1348 6
a1353 1
echo "$ac_t""$ac_cv_prog_gcc" 1>&6
a1354 2
if test $ac_cv_prog_gcc = yes; then
  GCC=yes
d1356 9
a1364 1
  GCC=
d1367 1
a1367 15
ac_test_CFLAGS="${CFLAGS+set}"
ac_save_CFLAGS="$CFLAGS"
CFLAGS=
echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
echo "configure:1275: checking whether ${CC-cc} accepts -g" >&5
if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo 'void f(){}' > conftest.c
if test -z "`${CC-cc} -g -c conftest.c 2>&1`"; then
  ac_cv_prog_cc_g=yes
else
  ac_cv_prog_cc_g=no
fi
rm -f conftest*
d1369 2
a1370 1
fi
d1372 1
a1372 16
echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
if test "$ac_test_CFLAGS" = set; then
  CFLAGS="$ac_save_CFLAGS"
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi
a1373 1
CFLAGS=$OLD_CFLAGS
d1377 1
a1377 1
echo "configure:1310: checking whether the compiler ($CC) actually works" >&5
d1379 1
a1379 1
#line 1312 "configure"
d1386 1
a1386 1
if { (eval echo configure:1319: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1398 1
a1398 1
#line 1331 "configure"
d1405 1
a1405 1
if { (eval echo configure:1338: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1439 1
a1439 1
echo "configure:1372: checking for a BSD compatible install" >&5
d1496 1
a1496 1
echo "configure:1429: checking for $ac_word" >&5
d1536 1
a1536 1
echo "configure:1469: checking how to run the C preprocessor" >&5
d1551 1
a1551 1
#line 1484 "configure"
d1557 1
a1557 1
{ (eval echo configure:1490: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1568 1
a1568 1
#line 1501 "configure"
d1574 1
a1574 1
{ (eval echo configure:1507: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1585 1
a1585 1
#line 1518 "configure"
d1591 1
a1591 1
{ (eval echo configure:1524: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1617 1
a1617 1
echo "configure:1550: checking if running LynxOS" >&5
d1622 1
a1622 1
#line 1555 "configure"
d1652 1
a1652 1
echo "configure:1585: checking whether -mposix or -X is available" >&5
d1657 1
a1657 1
#line 1590 "configure"
d1673 1
a1673 1
if { (eval echo configure:1606: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1693 1
a1693 1
echo "configure:1626: checking for ANSI C header files" >&5
d1698 1
a1698 1
#line 1631 "configure"
d1706 1
a1706 1
{ (eval echo configure:1639: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1723 1
a1723 1
#line 1656 "configure"
d1741 1
a1741 1
#line 1674 "configure"
d1762 1
a1762 1
#line 1695 "configure"
d1773 1
a1773 1
if { (eval echo configure:1706: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d1797 1
a1797 1
echo "configure:1730: checking for pid_t" >&5
d1802 1
a1802 1
#line 1735 "configure"
d1830 1
a1830 1
echo "configure:1763: checking return type of signal handlers" >&5
d1835 1
a1835 1
#line 1768 "configure"
d1852 1
a1852 1
if { (eval echo configure:1785: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1871 1
a1871 1
echo "configure:1804: checking whether time.h and sys/time.h may both be included" >&5
d1876 1
a1876 1
#line 1809 "configure"
d1885 1
a1885 1
if { (eval echo configure:1818: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1906 1
a1906 1
echo "configure:1839: checking for sys/wait.h that is POSIX.1 compatible" >&5
d1911 1
a1911 1
#line 1844 "configure"
d1927 1
a1927 1
if { (eval echo configure:1860: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1960 2
d1969 1
a1969 1
echo "configure:1900: checking if running Mach" >&5
d1985 1
a1985 1
echo "configure:1916: checking if running MachTen" >&5
d1995 1
a1995 1
echo "configure:1926: checking if on Pyramid" >&5
d2005 1
a2005 1
echo "configure:1936: checking if on Apollo" >&5
d2015 1
a2015 1
echo "configure:1946: checking if on Interactive" >&5
d2025 1
a2025 1
echo "configure:1956: checking if stty reads stdout" >&5
d2081 1
a2081 1
echo "configure:2012: checking if running Solaris" >&5
d2101 1
a2101 1
echo "configure:2032: checking for sin" >&5
d2106 1
a2106 1
#line 2037 "configure"
d2129 1
a2129 1
if { (eval echo configure:2060: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2159 1
a2159 1
echo "configure:2090: checking for strftime" >&5
d2164 1
a2164 1
#line 2095 "configure"
d2187 1
a2187 1
if { (eval echo configure:2118: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2227 1
a2227 1
echo "configure:2158: checking for Tcl private headers" >&5
d2262 2
a2263 1
		`ls -dr ${srcdir}/../tcl[7-9].[0-9].[0-9] ${srcdir}/../tcl[7-9].[0-9] 2>/dev/null` \
d2265 2
a2266 1
		`ls -dr ${srcdir}/../../tcl[7-9].[0-9].[0-9] ${srcdir}/../../tcl[7-9].[0-9] 2>/dev/null` \
d2268 2
a2269 1
		`ls -dr ${srcdir}/../../../tcl[7-9].[0-9].[0-9] ${srcdir}/../../../tcl[7-9].[0-9] 2>/dev/null ` ; do
d2281 4
a2284 2
		`ls -dr /usr/local/src/tcl[7-9].[0-9].[0-9] /usr/local/src/tcl[7-9].[0-9] 2>/dev/null` \
		`ls -dr /usr/local/lib/tcl[7-9].[0-9].[0-9] /usr/local/lib/tcl[7-9].[0-9] 2>/dev/null` \
d2298 1
a2298 1
echo "configure:2224: checking for tclInt.h" >&5
d2303 1
a2303 1
#line 2229 "configure"
d2308 1
a2308 1
{ (eval echo configure:2234: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2369 1
a2369 1
echo "configure:2295: checking type of library to build" >&5
d2448 1
a2448 1
echo "configure:2374: checking for gethostname" >&5
d2453 1
a2453 1
#line 2379 "configure"
d2476 1
a2476 1
if { (eval echo configure:2402: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2499 1
a2499 1
echo "configure:2425: checking for gethostname in -linet" >&5
d2507 1
a2507 1
#line 2433 "configure"
d2518 1
a2518 1
if { (eval echo configure:2444: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2544 1
a2544 1
echo "configure:2470: checking for gethostname" >&5
d2549 1
a2549 1
#line 2475 "configure"
d2572 1
a2572 1
if { (eval echo configure:2498: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2595 1
a2595 1
echo "configure:2521: checking for gethostname in -linet" >&5
d2603 1
a2603 1
#line 2529 "configure"
d2614 1
a2614 1
if { (eval echo configure:2540: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2640 1
a2640 1
echo "configure:2566: checking for gethostname" >&5
d2645 1
a2645 1
#line 2571 "configure"
d2668 1
a2668 1
if { (eval echo configure:2594: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2691 1
a2691 1
echo "configure:2617: checking for gethostname in -linet" >&5
d2699 1
a2699 1
#line 2625 "configure"
d2710 1
a2710 1
if { (eval echo configure:2636: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2739 1
a2739 1
echo "configure:2665: checking for socket" >&5
d2744 1
a2744 1
#line 2670 "configure"
d2767 1
a2767 1
if { (eval echo configure:2693: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2790 1
a2790 1
echo "configure:2716: checking for socket in -linet" >&5
d2798 1
a2798 1
#line 2724 "configure"
d2809 1
a2809 1
if { (eval echo configure:2735: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2835 1
a2835 1
echo "configure:2761: checking for socket" >&5
d2840 1
a2840 1
#line 2766 "configure"
d2863 1
a2863 1
if { (eval echo configure:2789: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2886 1
a2886 1
echo "configure:2812: checking for socket in -linet" >&5
d2894 1
a2894 1
#line 2820 "configure"
d2905 1
a2905 1
if { (eval echo configure:2831: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2931 1
a2931 1
echo "configure:2857: checking for socket" >&5
d2936 1
a2936 1
#line 2862 "configure"
d2959 1
a2959 1
if { (eval echo configure:2885: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2982 1
a2982 1
echo "configure:2908: checking for socket in -linet" >&5
d2990 1
a2990 1
#line 2916 "configure"
d3001 1
a3001 1
if { (eval echo configure:2927: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3029 1
a3029 1
echo "configure:2955: checking for select" >&5
d3034 1
a3034 1
#line 2960 "configure"
d3057 1
a3057 1
if { (eval echo configure:2983: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3080 1
a3080 1
echo "configure:3006: checking for select in -linet" >&5
d3088 1
a3088 1
#line 3014 "configure"
d3099 1
a3099 1
if { (eval echo configure:3025: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3125 1
a3125 1
echo "configure:3051: checking for select" >&5
d3130 1
a3130 1
#line 3056 "configure"
d3153 1
a3153 1
if { (eval echo configure:3079: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3176 1
a3176 1
echo "configure:3102: checking for select in -linet" >&5
d3184 1
a3184 1
#line 3110 "configure"
d3195 1
a3195 1
if { (eval echo configure:3121: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3221 1
a3221 1
echo "configure:3147: checking for select" >&5
d3226 1
a3226 1
#line 3152 "configure"
d3249 1
a3249 1
if { (eval echo configure:3175: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3272 1
a3272 1
echo "configure:3198: checking for select in -linet" >&5
d3280 1
a3280 1
#line 3206 "configure"
d3291 1
a3291 1
if { (eval echo configure:3217: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3319 1
a3319 1
echo "configure:3245: checking for getpseudotty" >&5
d3324 1
a3324 1
#line 3250 "configure"
d3347 1
a3347 1
if { (eval echo configure:3273: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3370 1
a3370 1
echo "configure:3296: checking for getpseudotty in -lseq" >&5
d3378 1
a3378 1
#line 3304 "configure"
d3389 1
a3389 1
if { (eval echo configure:3315: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3422 1
a3422 1
echo "configure:3348: checking for getpseudotty" >&5
d3427 1
a3427 1
#line 3353 "configure"
d3450 1
a3450 1
if { (eval echo configure:3376: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3473 1
a3473 1
echo "configure:3399: checking for getpseudotty in -lseq" >&5
d3481 1
a3481 1
#line 3407 "configure"
d3492 1
a3492 1
if { (eval echo configure:3418: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3525 1
a3525 1
echo "configure:3451: checking for getpseudotty" >&5
d3530 1
a3530 1
#line 3456 "configure"
d3553 1
a3553 1
if { (eval echo configure:3479: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3576 1
a3576 1
echo "configure:3502: checking for getpseudotty in -lseq" >&5
d3584 1
a3584 1
#line 3510 "configure"
d3595 1
a3595 1
if { (eval echo configure:3521: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3631 1
a3631 1
echo "configure:3557: checking for openpty" >&5
d3636 1
a3636 1
#line 3562 "configure"
d3659 1
a3659 1
if { (eval echo configure:3585: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3682 1
a3682 1
echo "configure:3608: checking for openpty in -lutil" >&5
d3690 1
a3690 1
#line 3616 "configure"
d3701 1
a3701 1
if { (eval echo configure:3627: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3736 1
a3736 1
echo "configure:3662: checking for openpty" >&5
d3741 1
a3741 1
#line 3667 "configure"
d3764 1
a3764 1
if { (eval echo configure:3690: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3787 1
a3787 1
echo "configure:3713: checking for openpty in -lutil" >&5
d3795 1
a3795 1
#line 3721 "configure"
d3806 1
a3806 1
if { (eval echo configure:3732: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3838 1
a3838 1
echo "configure:3764: checking for openpty" >&5
d3843 1
a3843 1
#line 3769 "configure"
d3866 1
a3866 1
if { (eval echo configure:3792: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3889 1
a3889 1
echo "configure:3815: checking for openpty in -lutil" >&5
d3897 1
a3897 1
#line 3823 "configure"
d3908 1
a3908 1
if { (eval echo configure:3834: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3946 1
a3946 1
echo "configure:3872: checking if running Sequent running SVR4" >&5
d3960 1
a3960 1
echo "configure:3886: checking for sys/sysmacros.h" >&5
d3965 1
a3965 1
#line 3891 "configure"
d3970 1
a3970 1
{ (eval echo configure:3896: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3996 1
a3996 1
echo "configure:3922: checking for stdlib.h" >&5
d4001 1
a4001 1
#line 3927 "configure"
d4006 1
a4006 1
{ (eval echo configure:3932: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4033 1
a4033 1
echo "configure:3959: checking for inttypes.h" >&5
d4038 1
a4038 1
#line 3964 "configure"
d4043 1
a4043 1
{ (eval echo configure:3969: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4073 1
a4073 1
echo "configure:3999: checking for varargs.h" >&5
d4078 1
a4078 1
#line 4004 "configure"
d4083 1
a4083 1
{ (eval echo configure:4009: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4109 1
a4109 1
echo "configure:4035: checking for unistd.h" >&5
d4114 1
a4114 1
#line 4040 "configure"
d4119 1
a4119 1
{ (eval echo configure:4045: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4145 1
a4145 1
echo "configure:4071: checking for sys/stropts.h" >&5
d4150 1
a4150 1
#line 4076 "configure"
d4155 1
a4155 1
{ (eval echo configure:4081: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4181 1
a4181 1
echo "configure:4107: checking for sys/sysconfig.h" >&5
d4186 1
a4186 1
#line 4112 "configure"
d4191 1
a4191 1
{ (eval echo configure:4117: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4217 1
a4217 1
echo "configure:4143: checking for sys/fcntl.h" >&5
d4222 1
a4222 1
#line 4148 "configure"
d4227 1
a4227 1
{ (eval echo configure:4153: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4253 1
a4253 1
echo "configure:4179: checking for sys/select.h" >&5
d4258 1
a4258 1
#line 4184 "configure"
d4263 1
a4263 1
{ (eval echo configure:4189: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4289 1
a4289 1
echo "configure:4215: checking for sys/time.h" >&5
d4294 1
a4294 1
#line 4220 "configure"
d4299 1
a4299 1
{ (eval echo configure:4225: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4325 1
a4325 1
echo "configure:4251: checking for sys/ptem.h" >&5
d4330 1
a4330 1
#line 4256 "configure"
d4335 1
a4335 1
{ (eval echo configure:4261: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4361 1
a4361 1
echo "configure:4287: checking for sys/strredir.h" >&5
d4366 1
a4366 1
#line 4292 "configure"
d4371 1
a4371 1
{ (eval echo configure:4297: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4397 1
a4397 1
echo "configure:4323: checking for sys/strpty.h" >&5
d4402 1
a4402 1
#line 4328 "configure"
d4407 1
a4407 1
{ (eval echo configure:4333: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4434 1
a4434 1
echo "configure:4360: checking for sys/bsdtypes.h" >&5
d4442 1
a4442 1
echo "configure:4368: checking for $ac_hdr" >&5
d4447 1
a4447 1
#line 4373 "configure"
d4452 1
a4452 1
{ (eval echo configure:4378: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4486 1
a4486 1
echo "configure:4412: checking for memmove" >&5
d4491 1
a4491 1
#line 4417 "configure"
d4514 1
a4514 1
if { (eval echo configure:4440: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4537 1
a4537 1
echo "configure:4463: checking for sysconf" >&5
d4542 1
a4542 1
#line 4468 "configure"
d4565 1
a4565 1
if { (eval echo configure:4491: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4588 1
a4588 1
echo "configure:4514: checking for strftime" >&5
d4593 1
a4593 1
#line 4519 "configure"
d4616 1
a4616 1
if { (eval echo configure:4542: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4639 1
a4639 1
echo "configure:4565: checking for strchr" >&5
d4644 1
a4644 1
#line 4570 "configure"
d4667 1
a4667 1
if { (eval echo configure:4593: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4690 1
a4690 1
echo "configure:4616: checking for timezone" >&5
d4695 1
a4695 1
#line 4621 "configure"
d4718 1
a4718 1
if { (eval echo configure:4644: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4740 51
d4796 1
a4796 1
echo "configure:4671: checking for memcpy" >&5
d4798 1
a4798 1
#line 4673 "configure"
d4808 1
a4808 1
if { (eval echo configure:4683: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4830 1
a4830 1
echo "configure:4705: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4836 1
a4836 1
#line 4711 "configure"
d4848 1
a4848 1
if { (eval echo configure:4723: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4868 1
a4868 1
echo "configure:4743: checking if any value exists for WNOHANG" >&5
d4875 1
a4875 1
#line 4750 "configure"
d4891 1
a4891 1
if { (eval echo configure:4766: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4915 43
d4968 1
a4968 1
echo "configure:4800: checking mask type of select" >&5
d4982 1
a4982 1
echo "configure:4814: checking if signals need to be re-armed" >&5
d4988 1
a4988 1
#line 4820 "configure"
d5027 1
a5027 1
if { (eval echo configure:4859: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5058 1
a5058 1
echo "configure:4890: checking if on Convex" >&5
d5077 1
a5077 1
echo "configure:4909: checking if on NeXT" >&5
d5088 1
a5088 1
echo "configure:4920: checking if on HP" >&5
d5098 1
a5098 1
echo "configure:4930: checking sane default stty arguments" >&5
d5116 1
a5116 1
echo "configure:4948: checking for HP style pty allocation" >&5
d5130 1
a5130 1
echo "configure:4962: checking for HP style pty trapping" >&5
d5132 1
a5132 1
#line 4964 "configure"
d5154 1
a5154 1
echo "configure:4986: checking for AIX new-style pty allocation" >&5
d5166 1
a5166 1
echo "configure:4998: checking for SGI old-style pty allocation" >&5
d5183 1
a5183 1
echo "configure:5015: checking for SCO style pty allocation" >&5
d5200 1
a5200 1
echo "configure:5032: checking for SVR4 style pty allocation" >&5
d5209 1
a5209 1
echo "configure:5041: checking for ptsname" >&5
d5214 1
a5214 1
#line 5046 "configure"
d5237 1
a5237 1
if { (eval echo configure:5069: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5259 1
a5259 1
echo "configure:5091: checking for ptsname" >&5
d5264 1
a5264 1
#line 5096 "configure"
d5287 1
a5287 1
if { (eval echo configure:5119: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5308 1
a5308 1
echo "configure:5140: checking for ptsname" >&5
d5313 1
a5313 1
#line 5145 "configure"
d5336 1
a5336 1
if { (eval echo configure:5168: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5363 1
a5363 1
echo "configure:5195: checking for OSF/1 style pty allocation" >&5
d5377 1
a5377 1
echo "configure:5209: checking for tcgetattr" >&5
d5382 1
a5382 1
#line 5214 "configure"
d5405 1
a5405 1
if { (eval echo configure:5237: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5425 1
a5425 1
echo "configure:5257: checking for tcsetattr" >&5
d5430 1
a5430 1
#line 5262 "configure"
d5453 1
a5453 1
if { (eval echo configure:5285: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5485 1
a5485 1
echo "configure:5317: checking for struct sgttyb" >&5
d5491 1
a5491 1
#line 5323 "configure"
d5501 1
a5501 1
if { (eval echo configure:5333: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5530 1
a5530 1
echo "configure:5362: checking for struct termio" >&5
d5536 1
a5536 1
#line 5368 "configure"
d5545 1
a5545 1
if { (eval echo configure:5377: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5567 1
a5567 1
echo "configure:5399: checking for struct termios" >&5
d5573 1
a5573 1
#line 5405 "configure"
d5587 1
a5587 1
if { (eval echo configure:5419: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5609 1
a5609 1
echo "configure:5441: checking if TCGETS or TCGETA in termios.h" >&5
d5615 1
a5615 1
#line 5447 "configure"
d5631 1
a5631 1
if { (eval echo configure:5463: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5651 1
a5651 1
echo "configure:5483: checking if TIOCGWINSZ in termios.h" >&5
d5657 1
a5657 1
#line 5489 "configure"
d5673 1
a5673 1
if { (eval echo configure:5505: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5694 1
a5694 1
echo "configure:5526: checking for Cray-style ptys" >&5
d5701 1
a5701 1
#line 5533 "configure"
d5713 1
a5713 1
if { (eval echo configure:5545: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5738 1
a5738 1
echo "configure:5570: checking for select" >&5
d5743 1
a5743 1
#line 5575 "configure"
d5766 1
a5766 1
if { (eval echo configure:5598: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5786 1
a5786 1
echo "configure:5618: checking for poll" >&5
d5791 1
a5791 1
#line 5623 "configure"
d5814 1
a5814 1
if { (eval echo configure:5646: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5834 1
a5834 1
echo "configure:5666: checking event handling" >&5
d5856 1
a5856 1
echo "configure:5688: checking for $ac_func" >&5
d5861 1
a5861 1
#line 5693 "configure"
d5884 1
a5884 1
if { (eval echo configure:5716: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5911 1
a5911 1
echo "configure:5743: checking for $ac_func" >&5
d5916 1
a5916 1
#line 5748 "configure"
d5939 1
a5939 1
if { (eval echo configure:5771: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5964 54
d6022 1
a6022 1
echo "configure:5800: checking for SV-style timezone" >&5
d6028 1
a6028 1
#line 5806 "configure"
d6041 1
a6041 1
if { (eval echo configure:5819: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d6087 1
a6087 1
echo "configure:5865: checking for Tk private headers" >&5
d6123 1
d6126 1
d6128 1
d6142 2
d6158 1
a6158 1
echo "configure:5931: checking for tk.h" >&5
d6163 1
a6163 1
#line 5936 "configure"
d6168 1
a6168 1
{ (eval echo configure:5941: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d6267 1
a6267 1
echo "configure:6040: checking for long file names" >&5
d6314 8
a6321 9
EXP_BUILD_LIB_SPEC="-L`pwd` -lexpect${EXP_LIB_VERSION}"
EXP_LIB_SPEC="-L\${INSTALL_ROOT}\${exec_prefix}/lib -lexpect${EXP_LIB_VERSION}"
EXP_UNSHARED_LIB_FILE=libexpect${EXP_LIB_VERSION}${TCL_DBGX}.a

# The TCL_SHARED_LIB_SUFFIX macro below relies on the DBGX macro.
# This needs to be set to the value of TCL_DBGX so the correct value
# propagated correctly.

DBGX=$TCL_DBGX
d6324 1
a6324 1
echo "configure:6098: checking for type of library to build" >&5
a6326 1
#  EXP_SHARED_LIB_FILE=libexpect$EXP_LIB_VERSION$TCL_DBGX$TCL_SHLIB_SUFFIX
d6395 14
a6408 1
EXP_LD_SEARCH_FLAGS=`echo ${EXP_CC_SEARCH_FLAGS} |sed -e "s|-Wl,||g" -e "s|,| |g"`
d6412 2
a6413 2
EXP_AND_TCL_LIBS="$EXP_AND_TCL_LIBS $EXP_LD_SEARCH_FLAGS"
EXP_AND_TK_LIBS="$EXP_AND_TK_LIBS $EXP_LD_SEARCH_FLAGS"
d6445 1
d6501 2
a6502 1
trap 'rm -fr `echo "Makefile pkgIndex expect_cf.h" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
d6534 1
d6550 1
a6567 1
s%@@CC@@%$CC%g
d6594 1
d6646 2
a6647 1
CONFIG_FILES=\${CONFIG_FILES-"Makefile pkgIndex"}
d6818 1
a6818 1

@


5.31
log
@Version number fix
@
text
@d15 1
a15 1
  --with-tclconfig           directory containing tcl configuration (tclConfig.sh)"
d17 3
a19 1
  --with-tkconfig           directory containing tk configuration (tkConfig.sh)"
d600 1
a600 1
echo "configure:599: checking host system type" >&5
d621 1
a621 1
echo "configure:620: checking target system type" >&5
d639 1
a639 1
echo "configure:638: checking build system type" >&5
d669 1
a669 1
echo "configure:668: checking shell to use within Make" >&5
d683 1
a683 1
# the alternative search directory is invoked by --with-tclconfig
d689 3
a691 3
  # Check whether --with-tclconfig or --without-tclconfig was given.
if test "${with_tclconfig+set}" = set; then
  withval="$with_tclconfig"
d696 1
a696 1
echo "configure:695: checking for Tcl configuration" >&5
d702 1
a702 1
  # First check to see if --with-tclconfig was specified.
d785 1
a785 1
echo "configure:784: checking for Tcl_CreateCommand" >&5
d790 1
a790 1
#line 789 "configure"
d813 1
a813 1
if { (eval echo configure:812: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d829 1
a829 1
echo "configure:828: checking if Tcl library build specification is valid" >&5
d839 1
a839 1
echo "configure:838: checking if Tcl library build specification is valid" >&5
d858 1
a858 1
# the alternative search directory is invoked by --with-tkconfig
d864 3
a866 3
  # Check whether --with-tkconfig or --without-tkconfig was given.
if test "${with_tkconfig+set}" = set; then
  withval="$with_tkconfig"
d871 1
a871 1
echo "configure:870: checking for Tk configuration" >&5
d877 1
a877 1
  # First check to see if --with-tkconfig was specified.
d956 1
a956 1
echo "configure:955: checking for Tk_Main" >&5
d961 1
a961 1
#line 960 "configure"
d984 1
a984 1
if { (eval echo configure:983: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1000 1
a1000 1
echo "configure:999: checking if Tk library build specification is valid" >&5
d1010 1
a1010 1
echo "configure:1009: checking if Tk library build specification is valid" >&5
d1022 40
d1086 1
a1086 1
echo "configure:1045: checking for $ac_word" >&5
d1116 1
a1116 1
echo "configure:1075: checking for $ac_word" >&5
d1167 1
a1167 1
echo "configure:1126: checking for $ac_word" >&5
d1199 1
a1199 1
echo "configure:1158: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
d1210 1
a1210 1
#line 1169 "configure"
d1215 1
a1215 1
if { (eval echo configure:1174: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1241 1
a1241 1
echo "configure:1200: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
d1246 1
a1246 1
echo "configure:1205: checking whether we are using GNU C" >&5
d1255 1
a1255 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1214: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d1274 1
a1274 1
echo "configure:1233: checking whether ${CC-cc} accepts -g" >&5
d1309 1
a1309 1
echo "configure:1268: checking whether the compiler ($CC) actually works" >&5
d1311 1
a1311 1
#line 1270 "configure"
d1318 1
a1318 1
if { (eval echo configure:1277: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1330 1
a1330 1
#line 1289 "configure"
d1337 1
a1337 1
if { (eval echo configure:1296: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1371 1
a1371 1
echo "configure:1330: checking for a BSD compatible install" >&5
d1428 1
a1428 1
echo "configure:1387: checking for $ac_word" >&5
d1468 1
a1468 1
echo "configure:1427: checking how to run the C preprocessor" >&5
d1483 1
a1483 1
#line 1442 "configure"
d1489 1
a1489 1
{ (eval echo configure:1448: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1500 1
a1500 1
#line 1459 "configure"
d1506 1
a1506 1
{ (eval echo configure:1465: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1517 1
a1517 1
#line 1476 "configure"
d1523 1
a1523 1
{ (eval echo configure:1482: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1549 1
a1549 1
echo "configure:1508: checking if running LynxOS" >&5
d1554 1
a1554 1
#line 1513 "configure"
d1584 1
a1584 1
echo "configure:1543: checking whether -mposix or -X is available" >&5
d1589 1
a1589 1
#line 1548 "configure"
d1605 1
a1605 1
if { (eval echo configure:1564: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1625 1
a1625 1
echo "configure:1584: checking for ANSI C header files" >&5
d1630 1
a1630 1
#line 1589 "configure"
d1638 1
a1638 1
{ (eval echo configure:1597: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1655 1
a1655 1
#line 1614 "configure"
d1673 1
a1673 1
#line 1632 "configure"
d1694 1
a1694 1
#line 1653 "configure"
d1705 1
a1705 1
if { (eval echo configure:1664: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d1729 1
a1729 1
echo "configure:1688: checking for pid_t" >&5
d1734 1
a1734 1
#line 1693 "configure"
d1762 1
a1762 1
echo "configure:1721: checking return type of signal handlers" >&5
d1767 1
a1767 1
#line 1726 "configure"
d1784 1
a1784 1
if { (eval echo configure:1743: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1803 1
a1803 1
echo "configure:1762: checking whether time.h and sys/time.h may both be included" >&5
d1808 1
a1808 1
#line 1767 "configure"
d1817 1
a1817 1
if { (eval echo configure:1776: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1838 1
a1838 1
echo "configure:1797: checking for sys/wait.h that is POSIX.1 compatible" >&5
d1843 1
a1843 1
#line 1802 "configure"
d1859 1
a1859 1
if { (eval echo configure:1818: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1899 1
a1899 1
echo "configure:1858: checking if running Mach" >&5
d1915 1
a1915 1
echo "configure:1874: checking if running MachTen" >&5
d1925 1
a1925 1
echo "configure:1884: checking if on Pyramid" >&5
d1935 1
a1935 1
echo "configure:1894: checking if on Apollo" >&5
d1945 1
a1945 1
echo "configure:1904: checking if on Interactive" >&5
d1955 1
a1955 1
echo "configure:1914: checking if stty reads stdout" >&5
d2011 1
a2011 1
echo "configure:1970: checking if running Solaris" >&5
d2031 1
a2031 1
echo "configure:1990: checking for sin" >&5
d2036 1
a2036 1
#line 1995 "configure"
d2059 1
a2059 1
if { (eval echo configure:2018: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2089 1
a2089 1
echo "configure:2048: checking for strftime" >&5
d2094 1
a2094 1
#line 2053 "configure"
d2117 1
a2117 1
if { (eval echo configure:2076: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2157 1
a2157 1
echo "configure:2116: checking for Tcl private headers" >&5
d2223 1
a2223 1
echo "configure:2182: checking for tclInt.h" >&5
d2228 1
a2228 1
#line 2187 "configure"
d2233 1
a2233 1
{ (eval echo configure:2192: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2294 1
a2294 1
echo "configure:2253: checking type of library to build" >&5
d2373 1
a2373 1
echo "configure:2332: checking for gethostname" >&5
d2378 1
a2378 1
#line 2337 "configure"
d2401 1
a2401 1
if { (eval echo configure:2360: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2424 1
a2424 1
echo "configure:2383: checking for gethostname in -linet" >&5
d2432 1
a2432 1
#line 2391 "configure"
d2443 1
a2443 1
if { (eval echo configure:2402: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2469 1
a2469 1
echo "configure:2428: checking for gethostname" >&5
d2474 1
a2474 1
#line 2433 "configure"
d2497 1
a2497 1
if { (eval echo configure:2456: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2520 1
a2520 1
echo "configure:2479: checking for gethostname in -linet" >&5
d2528 1
a2528 1
#line 2487 "configure"
d2539 1
a2539 1
if { (eval echo configure:2498: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2565 1
a2565 1
echo "configure:2524: checking for gethostname" >&5
d2570 1
a2570 1
#line 2529 "configure"
d2593 1
a2593 1
if { (eval echo configure:2552: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2616 1
a2616 1
echo "configure:2575: checking for gethostname in -linet" >&5
d2624 1
a2624 1
#line 2583 "configure"
d2635 1
a2635 1
if { (eval echo configure:2594: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2664 1
a2664 1
echo "configure:2623: checking for socket" >&5
d2669 1
a2669 1
#line 2628 "configure"
d2692 1
a2692 1
if { (eval echo configure:2651: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2715 1
a2715 1
echo "configure:2674: checking for socket in -linet" >&5
d2723 1
a2723 1
#line 2682 "configure"
d2734 1
a2734 1
if { (eval echo configure:2693: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2760 1
a2760 1
echo "configure:2719: checking for socket" >&5
d2765 1
a2765 1
#line 2724 "configure"
d2788 1
a2788 1
if { (eval echo configure:2747: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2811 1
a2811 1
echo "configure:2770: checking for socket in -linet" >&5
d2819 1
a2819 1
#line 2778 "configure"
d2830 1
a2830 1
if { (eval echo configure:2789: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2856 1
a2856 1
echo "configure:2815: checking for socket" >&5
d2861 1
a2861 1
#line 2820 "configure"
d2884 1
a2884 1
if { (eval echo configure:2843: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2907 1
a2907 1
echo "configure:2866: checking for socket in -linet" >&5
d2915 1
a2915 1
#line 2874 "configure"
d2926 1
a2926 1
if { (eval echo configure:2885: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2954 1
a2954 1
echo "configure:2913: checking for select" >&5
d2959 1
a2959 1
#line 2918 "configure"
d2982 1
a2982 1
if { (eval echo configure:2941: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3005 1
a3005 1
echo "configure:2964: checking for select in -linet" >&5
d3013 1
a3013 1
#line 2972 "configure"
d3024 1
a3024 1
if { (eval echo configure:2983: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3050 1
a3050 1
echo "configure:3009: checking for select" >&5
d3055 1
a3055 1
#line 3014 "configure"
d3078 1
a3078 1
if { (eval echo configure:3037: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3101 1
a3101 1
echo "configure:3060: checking for select in -linet" >&5
d3109 1
a3109 1
#line 3068 "configure"
d3120 1
a3120 1
if { (eval echo configure:3079: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3146 1
a3146 1
echo "configure:3105: checking for select" >&5
d3151 1
a3151 1
#line 3110 "configure"
d3174 1
a3174 1
if { (eval echo configure:3133: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3197 1
a3197 1
echo "configure:3156: checking for select in -linet" >&5
d3205 1
a3205 1
#line 3164 "configure"
d3216 1
a3216 1
if { (eval echo configure:3175: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3244 1
a3244 1
echo "configure:3203: checking for getpseudotty" >&5
d3249 1
a3249 1
#line 3208 "configure"
d3272 1
a3272 1
if { (eval echo configure:3231: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3295 1
a3295 1
echo "configure:3254: checking for getpseudotty in -lseq" >&5
d3303 1
a3303 1
#line 3262 "configure"
d3314 1
a3314 1
if { (eval echo configure:3273: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3347 1
a3347 1
echo "configure:3306: checking for getpseudotty" >&5
d3352 1
a3352 1
#line 3311 "configure"
d3375 1
a3375 1
if { (eval echo configure:3334: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3398 1
a3398 1
echo "configure:3357: checking for getpseudotty in -lseq" >&5
d3406 1
a3406 1
#line 3365 "configure"
d3417 1
a3417 1
if { (eval echo configure:3376: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3450 1
a3450 1
echo "configure:3409: checking for getpseudotty" >&5
d3455 1
a3455 1
#line 3414 "configure"
d3478 1
a3478 1
if { (eval echo configure:3437: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3501 1
a3501 1
echo "configure:3460: checking for getpseudotty in -lseq" >&5
d3509 1
a3509 1
#line 3468 "configure"
d3520 1
a3520 1
if { (eval echo configure:3479: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3556 1
a3556 1
echo "configure:3515: checking for openpty" >&5
d3561 1
a3561 1
#line 3520 "configure"
d3584 1
a3584 1
if { (eval echo configure:3543: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3607 1
a3607 1
echo "configure:3566: checking for openpty in -lutil" >&5
d3615 1
a3615 1
#line 3574 "configure"
d3626 1
a3626 1
if { (eval echo configure:3585: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3661 1
a3661 1
echo "configure:3620: checking for openpty" >&5
d3666 1
a3666 1
#line 3625 "configure"
d3689 1
a3689 1
if { (eval echo configure:3648: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3712 1
a3712 1
echo "configure:3671: checking for openpty in -lutil" >&5
d3720 1
a3720 1
#line 3679 "configure"
d3731 1
a3731 1
if { (eval echo configure:3690: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3763 1
a3763 1
echo "configure:3722: checking for openpty" >&5
d3768 1
a3768 1
#line 3727 "configure"
d3791 1
a3791 1
if { (eval echo configure:3750: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3814 1
a3814 1
echo "configure:3773: checking for openpty in -lutil" >&5
d3822 1
a3822 1
#line 3781 "configure"
d3833 1
a3833 1
if { (eval echo configure:3792: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3871 1
a3871 1
echo "configure:3830: checking if running Sequent running SVR4" >&5
d3885 1
a3885 1
echo "configure:3844: checking for sys/sysmacros.h" >&5
d3890 1
a3890 1
#line 3849 "configure"
d3895 1
a3895 1
{ (eval echo configure:3854: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3921 1
a3921 1
echo "configure:3880: checking for stdlib.h" >&5
d3926 1
a3926 1
#line 3885 "configure"
d3931 1
a3931 1
{ (eval echo configure:3890: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3958 1
a3958 1
echo "configure:3917: checking for inttypes.h" >&5
d3963 1
a3963 1
#line 3922 "configure"
d3968 1
a3968 1
{ (eval echo configure:3927: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3998 1
a3998 1
echo "configure:3957: checking for varargs.h" >&5
d4003 1
a4003 1
#line 3962 "configure"
d4008 1
a4008 1
{ (eval echo configure:3967: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4034 1
a4034 1
echo "configure:3993: checking for unistd.h" >&5
d4039 1
a4039 1
#line 3998 "configure"
d4044 1
a4044 1
{ (eval echo configure:4003: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4070 1
a4070 1
echo "configure:4029: checking for sys/stropts.h" >&5
d4075 1
a4075 1
#line 4034 "configure"
d4080 1
a4080 1
{ (eval echo configure:4039: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4106 1
a4106 1
echo "configure:4065: checking for sys/sysconfig.h" >&5
d4111 1
a4111 1
#line 4070 "configure"
d4116 1
a4116 1
{ (eval echo configure:4075: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4142 1
a4142 1
echo "configure:4101: checking for sys/fcntl.h" >&5
d4147 1
a4147 1
#line 4106 "configure"
d4152 1
a4152 1
{ (eval echo configure:4111: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4178 1
a4178 1
echo "configure:4137: checking for sys/select.h" >&5
d4183 1
a4183 1
#line 4142 "configure"
d4188 1
a4188 1
{ (eval echo configure:4147: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4214 1
a4214 1
echo "configure:4173: checking for sys/time.h" >&5
d4219 1
a4219 1
#line 4178 "configure"
d4224 1
a4224 1
{ (eval echo configure:4183: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4250 1
a4250 1
echo "configure:4209: checking for sys/ptem.h" >&5
d4255 1
a4255 1
#line 4214 "configure"
d4260 1
a4260 1
{ (eval echo configure:4219: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4286 1
a4286 1
echo "configure:4245: checking for sys/strredir.h" >&5
d4291 1
a4291 1
#line 4250 "configure"
d4296 1
a4296 1
{ (eval echo configure:4255: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4322 1
a4322 1
echo "configure:4281: checking for sys/strpty.h" >&5
d4327 1
a4327 1
#line 4286 "configure"
d4332 1
a4332 1
{ (eval echo configure:4291: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4359 1
a4359 1
echo "configure:4318: checking for sys/bsdtypes.h" >&5
d4367 1
a4367 1
echo "configure:4326: checking for $ac_hdr" >&5
d4372 1
a4372 1
#line 4331 "configure"
d4377 1
a4377 1
{ (eval echo configure:4336: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4411 1
a4411 1
echo "configure:4370: checking for memmove" >&5
d4416 1
a4416 1
#line 4375 "configure"
d4439 1
a4439 1
if { (eval echo configure:4398: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4462 1
a4462 1
echo "configure:4421: checking for sysconf" >&5
d4467 1
a4467 1
#line 4426 "configure"
d4490 1
a4490 1
if { (eval echo configure:4449: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4513 1
a4513 1
echo "configure:4472: checking for strftime" >&5
d4518 1
a4518 1
#line 4477 "configure"
d4541 1
a4541 1
if { (eval echo configure:4500: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4564 1
a4564 1
echo "configure:4523: checking for strchr" >&5
d4569 1
a4569 1
#line 4528 "configure"
d4592 1
a4592 1
if { (eval echo configure:4551: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4615 1
a4615 1
echo "configure:4574: checking for timezone" >&5
d4620 1
a4620 1
#line 4579 "configure"
d4643 1
a4643 1
if { (eval echo configure:4602: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4670 1
a4670 1
echo "configure:4629: checking for memcpy" >&5
d4672 1
a4672 1
#line 4631 "configure"
d4682 1
a4682 1
if { (eval echo configure:4641: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4704 1
a4704 1
echo "configure:4663: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4710 1
a4710 1
#line 4669 "configure"
d4722 1
a4722 1
if { (eval echo configure:4681: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4742 1
a4742 1
echo "configure:4701: checking if any value exists for WNOHANG" >&5
d4749 1
a4749 1
#line 4708 "configure"
d4765 1
a4765 1
if { (eval echo configure:4724: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4799 1
a4799 1
echo "configure:4758: checking mask type of select" >&5
d4813 1
a4813 1
echo "configure:4772: checking if signals need to be re-armed" >&5
d4819 1
a4819 1
#line 4778 "configure"
d4858 1
a4858 1
if { (eval echo configure:4817: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4889 1
a4889 1
echo "configure:4848: checking if on Convex" >&5
d4908 1
a4908 1
echo "configure:4867: checking if on NeXT" >&5
d4919 1
a4919 1
echo "configure:4878: checking if on HP" >&5
d4929 1
a4929 1
echo "configure:4888: checking sane default stty arguments" >&5
d4947 1
a4947 1
echo "configure:4906: checking for HP style pty allocation" >&5
d4961 1
a4961 1
echo "configure:4920: checking for HP style pty trapping" >&5
d4963 1
a4963 1
#line 4922 "configure"
d4985 1
a4985 1
echo "configure:4944: checking for AIX new-style pty allocation" >&5
d4997 1
a4997 1
echo "configure:4956: checking for SGI old-style pty allocation" >&5
d5014 1
a5014 1
echo "configure:4973: checking for SCO style pty allocation" >&5
d5031 1
a5031 1
echo "configure:4990: checking for SVR4 style pty allocation" >&5
d5040 1
a5040 1
echo "configure:4999: checking for ptsname" >&5
d5045 1
a5045 1
#line 5004 "configure"
d5068 1
a5068 1
if { (eval echo configure:5027: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5090 1
a5090 1
echo "configure:5049: checking for ptsname" >&5
d5095 1
a5095 1
#line 5054 "configure"
d5118 1
a5118 1
if { (eval echo configure:5077: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5139 1
a5139 1
echo "configure:5098: checking for ptsname" >&5
d5144 1
a5144 1
#line 5103 "configure"
d5167 1
a5167 1
if { (eval echo configure:5126: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5194 1
a5194 1
echo "configure:5153: checking for OSF/1 style pty allocation" >&5
d5208 1
a5208 1
echo "configure:5167: checking for tcgetattr" >&5
d5213 1
a5213 1
#line 5172 "configure"
d5236 1
a5236 1
if { (eval echo configure:5195: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5256 1
a5256 1
echo "configure:5215: checking for tcsetattr" >&5
d5261 1
a5261 1
#line 5220 "configure"
d5284 1
a5284 1
if { (eval echo configure:5243: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5316 1
a5316 1
echo "configure:5275: checking for struct sgttyb" >&5
d5322 1
a5322 1
#line 5281 "configure"
d5332 1
a5332 1
if { (eval echo configure:5291: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5361 1
a5361 1
echo "configure:5320: checking for struct termio" >&5
d5367 1
a5367 1
#line 5326 "configure"
d5376 1
a5376 1
if { (eval echo configure:5335: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5398 1
a5398 1
echo "configure:5357: checking for struct termios" >&5
d5404 1
a5404 1
#line 5363 "configure"
d5418 1
a5418 1
if { (eval echo configure:5377: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5440 1
a5440 1
echo "configure:5399: checking if TCGETS or TCGETA in termios.h" >&5
d5446 1
a5446 1
#line 5405 "configure"
d5462 1
a5462 1
if { (eval echo configure:5421: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5482 1
a5482 1
echo "configure:5441: checking if TIOCGWINSZ in termios.h" >&5
d5488 1
a5488 1
#line 5447 "configure"
d5504 1
a5504 1
if { (eval echo configure:5463: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5525 1
a5525 1
echo "configure:5484: checking for Cray-style ptys" >&5
d5532 1
a5532 1
#line 5491 "configure"
d5544 1
a5544 1
if { (eval echo configure:5503: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5569 1
a5569 1
echo "configure:5528: checking for select" >&5
d5574 1
a5574 1
#line 5533 "configure"
d5597 1
a5597 1
if { (eval echo configure:5556: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5617 1
a5617 1
echo "configure:5576: checking for poll" >&5
d5622 1
a5622 1
#line 5581 "configure"
d5645 1
a5645 1
if { (eval echo configure:5604: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5665 1
a5665 1
echo "configure:5624: checking event handling" >&5
d5687 1
a5687 1
echo "configure:5646: checking for $ac_func" >&5
d5692 1
a5692 1
#line 5651 "configure"
d5715 1
a5715 1
if { (eval echo configure:5674: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5742 1
a5742 1
echo "configure:5701: checking for $ac_func" >&5
d5747 1
a5747 1
#line 5706 "configure"
d5770 1
a5770 1
if { (eval echo configure:5729: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5799 1
a5799 1
echo "configure:5758: checking for SV-style timezone" >&5
d5805 1
a5805 1
#line 5764 "configure"
d5818 1
a5818 1
if { (eval echo configure:5777: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5864 1
a5864 1
echo "configure:5823: checking for Tk private headers" >&5
d5930 1
a5930 1
echo "configure:5889: checking for tk.h" >&5
d5935 1
a5935 1
#line 5894 "configure"
d5940 1
a5940 1
{ (eval echo configure:5899: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d6039 1
a6039 1
echo "configure:5998: checking for long file names" >&5
d6097 1
a6097 1
echo "configure:6056: checking for type of library to build" >&5
@


5.30
log
@Martin Forssen <maf@@crt.se> provided fix to allow configure
to start with LDFLAGS from environment.

Paul Tazzyman <Paul.Tazzyman@@one.at> noted that log_file didn't
check for logging twice without turning off logging first.

Ben <spy@@calvin.iconoclasm.org> provided updated host for
weather example.

Jonathon Kamens noted that Expect didn't build properly if
Tcl and/or Tk used build/install directories out of the usual
hierarchy.  At the same time, I fixed a number of other related
problems in Makefile/configure.

Pierre Pomes <ppomes@@it.marseille-innov.assoc.fr> provided fix
to ftp-inband.  It blew up from an unprotected send that
was handed a uuencoded line that started with a -.

Autoexpect was thrown off by simple-minded [file executable]
test picking up expect directory while searching for
executable.
@
text
@d539 1
a539 1
EXP_MINOR_VERSION=29
@


5.30.2.1
log
@Initial 8.1 changes.
@
text
@d539 1
a539 1
EXP_MINOR_VERSION=30
@


5.30.2.2
log
@regenerated configure script
removed exp_printify files
changed Dbg.c to use new regexp interfaces
@
text
@d4 1
a4 1
# Generated automatically using autoconf version 2.9 
d70 3
d354 1
a354 1
    echo "configure generated by autoconf version 2.9"
d456 5
a460 3
# Only set LANG and LC_ALL to C if already set.
# These must not be set unconditionally because not all systems understand
# e.g. LANG=C (notably SCO).
d462 2
a463 1
if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
d517 2
a518 1
ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
d520 2
d593 1
a593 1
if $ac_config_sub sun4 >/dev/null 2>&1; then :
d598 1
d605 1
a605 1
    if host_alias=`$ac_config_guess`; then :
d612 4
a615 4
host=`$ac_config_sub $host_alias`
host_cpu=`echo $host | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\1/'`
host_vendor=`echo $host | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\2/'`
host_os=`echo $host | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\3/'`
d619 1
d630 4
a633 4
target=`$ac_config_sub $target_alias`
target_cpu=`echo $target | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\1/'`
target_vendor=`echo $target | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\2/'`
target_os=`echo $target | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\3/'`
d637 1
d648 4
a651 4
build=`$ac_config_sub $build_alias`
build_cpu=`echo $build | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\1/'`
build_vendor=`echo $build | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\2/'`
build_os=`echo $build | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\3/'`
d667 1
d694 1
d783 1
d788 1
a788 1
#line 774 "configure"
d794 2
d798 1
a798 2
int main() { return 0; }
int t() {
d811 1
a811 1
if { (eval echo configure:796: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d815 2
d821 1
a822 1
fi
d827 1
d837 1
d869 1
d954 1
d959 1
a959 1
#line 938 "configure"
d965 2
d969 1
a969 2
int main() { return 0; }
int t() {
d982 1
a982 1
if { (eval echo configure:960: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d986 2
d992 1
a993 1
fi
d998 1
d1008 1
d1044 1
d1051 3
a1053 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d1074 1
d1081 1
a1081 1
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
d1083 2
a1084 1
  for ac_dir in $PATH; do
d1119 34
d1156 47
d1204 1
d1213 1
a1213 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1101: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d1221 1
d1224 10
a1233 3
  if test "${CFLAGS+set}" != set; then
    echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
if eval "test \"`echo '$''{'ac_cv_prog_gcc_g'+set}'`\" = set"; then
d1238 1
a1238 1
  ac_cv_prog_gcc_g=yes
d1240 1
a1240 1
  ac_cv_prog_gcc_g=no
d1246 8
a1253 6
echo "$ac_t""$ac_cv_prog_gcc_g" 1>&6
    if test $ac_cv_prog_gcc_g = yes; then
      CFLAGS="-g -O"
    else
      CFLAGS="-O"
    fi
d1256 5
a1260 2
  GCC=
  test "${CFLAGS+set}" = set || CFLAGS="-g"
d1267 1
d1269 1
a1269 1
#line 1143 "configure"
d1272 1
a1272 2
int main() { return 0; }
int t() {
d1276 1
a1276 1
if { (eval echo configure:1151: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1280 2
a1286 1

d1288 1
a1288 1
#line 1162 "configure"
d1291 1
a1291 2
int main() { return 0; }
int t() {
d1295 1
a1295 1
if { (eval echo configure:1170: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d1299 2
a1305 1

d1324 1
d1329 1
d1334 1
a1334 1
    IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
d1341 3
a1343 1
      for ac_prog in ginstall installbsd scoinst install; do
a1347 1
	    # OSF/1 installbsd also uses dspmsg, but is usable.
d1358 1
a1358 1
  IFS="$ac_save_ifs"
d1377 2
d1386 1
d1393 3
a1395 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d1426 1
d1441 1
a1441 1
#line 1307 "configure"
d1447 2
a1448 2
{ (eval echo configure:1313: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1453 2
d1458 1
a1458 1
#line 1322 "configure"
d1464 2
a1465 2
{ (eval echo configure:1328: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1470 19
d1495 2
d1507 1
d1512 1
a1512 1
#line 1354 "configure"
d1542 1
d1547 1
a1547 1
#line 1388 "configure"
d1550 1
a1550 2
int main() { return 0; }
int t() {
d1563 1
a1563 1
if { (eval echo configure:1405: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1567 2
a1572 1

a1581 26
# If we cannot run a trivial program, we must be cross compiling.
echo $ac_n "checking whether cross-compiling""... $ac_c" 1>&6
if eval "test \"`echo '$''{'ac_cv_c_cross'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_c_cross=yes
else
cat > conftest.$ac_ext <<EOF
#line 1432 "configure"
#include "confdefs.h"
main(){return(0);}
EOF
{ (eval echo configure:1436: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
  ac_cv_c_cross=no
else
  ac_cv_c_cross=yes
fi
fi
rm -fr conftest*
fi

echo "$ac_t""$ac_cv_c_cross" 1>&6
cross_compiling=$ac_cv_c_cross

d1583 1
d1588 1
a1588 1
#line 1454 "configure"
d1596 2
a1597 2
{ (eval echo configure:1462: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1603 2
d1613 1
a1613 1
#line 1477 "configure"
d1631 1
a1631 1
#line 1495 "configure"
d1651 2
a1652 2
cat > conftest.$ac_ext <<EOF
#line 1516 "configure"
d1663 2
a1664 2
{ (eval echo configure:1527: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d1667 3
d1672 1
d1674 1
a1674 1
rm -fr conftest*
d1687 1
d1692 1
a1692 1
#line 1551 "configure"
d1697 1
d1701 1
a1701 1
  egrep "pid_t" >/dev/null 2>&1; then
d1720 1
d1725 1
a1725 1
#line 1582 "configure"
d1738 1
a1738 2
int main() { return 0; }
int t() {
d1742 1
a1742 1
if { (eval echo configure:1600: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1746 2
a1751 1

d1761 1
d1766 1
a1766 1
#line 1622 "configure"
d1771 1
a1771 2
int main() { return 0; }
int t() {
d1775 1
a1775 1
if { (eval echo configure:1632: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1779 2
a1784 1

d1796 1
d1801 1
a1801 1
#line 1656 "configure"
d1811 1
a1811 2
int main() { return 0; }
int t() {
d1817 1
a1817 1
if { (eval echo configure:1673: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1821 2
a1826 1

d1857 1
d1873 1
d1883 1
d1893 1
d1903 1
d1913 1
d1969 1
d1989 1
d1994 1
a1994 1
#line 1841 "configure"
d2000 2
d2004 1
a2004 2
int main() { return 0; }
int t() {
d2017 1
a2017 1
if { (eval echo configure:1863: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2021 2
d2027 1
a2028 1
fi
d2047 1
d2052 1
a2052 1
#line 1895 "configure"
d2058 2
d2062 1
a2062 2
int main() { return 0; }
int t() {
d2075 1
a2075 1
if { (eval echo configure:1917: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2079 2
d2085 1
a2086 1
fi
d2115 1
d2179 1
a2179 1
   ac_safe=`echo "tclInt.h" | tr './\055' '___'`
d2181 1
d2186 1
a2186 1
#line 2024 "configure"
d2191 2
a2192 2
{ (eval echo configure:2029: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d2198 2
d2252 1
d2331 1
d2336 1
a2336 1
#line 2170 "configure"
d2342 2
d2346 1
a2346 2
int main() { return 0; }
int t() {
d2359 1
a2359 1
if { (eval echo configure:2192: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2363 2
d2369 1
a2370 1
fi
d2381 3
a2383 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_gethostname | tr '.-/+' '___p'`
d2390 1
a2390 1
#line 2220 "configure"
d2393 2
d2397 1
a2397 2
int main() { return 0; }
int t() {
d2401 1
a2401 1
if { (eval echo configure:2230: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2405 2
d2427 1
d2432 1
a2432 1
#line 2258 "configure"
d2438 2
d2442 1
a2442 2
int main() { return 0; }
int t() {
d2455 1
a2455 1
if { (eval echo configure:2280: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2459 2
d2465 1
a2466 1
fi
d2477 3
a2479 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_gethostname | tr '.-/+' '___p'`
d2486 1
a2486 1
#line 2308 "configure"
d2489 2
d2493 1
a2493 2
int main() { return 0; }
int t() {
d2497 1
a2497 1
if { (eval echo configure:2318: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2501 2
d2523 1
d2528 1
a2528 1
#line 2346 "configure"
d2534 2
d2538 1
a2538 2
int main() { return 0; }
int t() {
d2551 1
a2551 1
if { (eval echo configure:2368: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2555 2
d2561 1
a2562 1
fi
d2573 3
a2575 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_gethostname | tr '.-/+' '___p'`
d2582 1
a2582 1
#line 2396 "configure"
d2585 2
d2589 1
a2589 2
int main() { return 0; }
int t() {
d2593 1
a2593 1
if { (eval echo configure:2406: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2597 2
d2622 1
d2627 1
a2627 1
#line 2437 "configure"
d2633 2
d2637 1
a2637 2
int main() { return 0; }
int t() {
d2650 1
a2650 1
if { (eval echo configure:2459: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2654 2
d2660 1
a2661 1
fi
d2672 3
a2674 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_socket | tr '.-/+' '___p'`
d2681 1
a2681 1
#line 2487 "configure"
d2684 2
d2688 1
a2688 2
int main() { return 0; }
int t() {
d2692 1
a2692 1
if { (eval echo configure:2497: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2696 2
d2718 1
d2723 1
a2723 1
#line 2525 "configure"
d2729 2
d2733 1
a2733 2
int main() { return 0; }
int t() {
d2746 1
a2746 1
if { (eval echo configure:2547: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2750 2
d2756 1
a2757 1
fi
d2768 3
a2770 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_socket | tr '.-/+' '___p'`
d2777 1
a2777 1
#line 2575 "configure"
d2780 2
d2784 1
a2784 2
int main() { return 0; }
int t() {
d2788 1
a2788 1
if { (eval echo configure:2585: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2792 2
d2814 1
d2819 1
a2819 1
#line 2613 "configure"
d2825 2
d2829 1
a2829 2
int main() { return 0; }
int t() {
d2842 1
a2842 1
if { (eval echo configure:2635: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2846 2
d2852 1
a2853 1
fi
d2864 3
a2866 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_socket | tr '.-/+' '___p'`
d2873 1
a2873 1
#line 2663 "configure"
d2876 2
d2880 1
a2880 2
int main() { return 0; }
int t() {
d2884 1
a2884 1
if { (eval echo configure:2673: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2888 2
d2912 1
d2917 1
a2917 1
#line 2703 "configure"
d2923 2
d2927 1
a2927 2
int main() { return 0; }
int t() {
d2940 1
a2940 1
if { (eval echo configure:2725: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2944 2
d2950 1
a2951 1
fi
d2962 3
a2964 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_select | tr '.-/+' '___p'`
d2971 1
a2971 1
#line 2753 "configure"
d2974 2
d2978 1
a2978 2
int main() { return 0; }
int t() {
d2982 1
a2982 1
if { (eval echo configure:2763: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2986 2
d3008 1
d3013 1
a3013 1
#line 2791 "configure"
d3019 2
d3023 1
a3023 2
int main() { return 0; }
int t() {
d3036 1
a3036 1
if { (eval echo configure:2813: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3040 2
d3046 1
a3047 1
fi
d3058 3
a3060 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_select | tr '.-/+' '___p'`
d3067 1
a3067 1
#line 2841 "configure"
d3070 2
d3074 1
a3074 2
int main() { return 0; }
int t() {
d3078 1
a3078 1
if { (eval echo configure:2851: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3082 2
d3104 1
d3109 1
a3109 1
#line 2879 "configure"
d3115 2
d3119 1
a3119 2
int main() { return 0; }
int t() {
d3132 1
a3132 1
if { (eval echo configure:2901: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3136 2
d3142 1
a3143 1
fi
d3154 3
a3156 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_select | tr '.-/+' '___p'`
d3163 1
a3163 1
#line 2929 "configure"
d3166 2
d3170 1
a3170 2
int main() { return 0; }
int t() {
d3174 1
a3174 1
if { (eval echo configure:2939: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3178 2
d3202 1
d3207 1
a3207 1
#line 2969 "configure"
d3213 2
d3217 1
a3217 2
int main() { return 0; }
int t() {
d3230 1
a3230 1
if { (eval echo configure:2991: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3234 2
d3240 1
a3241 1
fi
d3252 3
a3254 2
  echo $ac_n "checking for -lseq""... $ac_c" 1>&6
ac_lib_var=`echo seq_getpseudotty | tr '.-/+' '___p'`
d3261 1
a3261 1
#line 3019 "configure"
d3264 2
d3268 1
a3268 2
int main() { return 0; }
int t() {
d3272 1
a3272 1
if { (eval echo configure:3029: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3276 2
d3287 2
a3288 1
    ac_tr_lib=HAVE_LIB`echo seq | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
d3305 1
d3310 1
a3310 1
#line 3063 "configure"
d3316 2
d3320 1
a3320 2
int main() { return 0; }
int t() {
d3333 1
a3333 1
if { (eval echo configure:3085: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3337 2
d3343 1
a3344 1
fi
d3355 3
a3357 2
  echo $ac_n "checking for -lseq""... $ac_c" 1>&6
ac_lib_var=`echo seq_getpseudotty | tr '.-/+' '___p'`
d3364 1
a3364 1
#line 3113 "configure"
d3367 2
d3371 1
a3371 2
int main() { return 0; }
int t() {
d3375 1
a3375 1
if { (eval echo configure:3123: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3379 2
d3390 2
a3391 1
    ac_tr_lib=HAVE_LIB`echo seq | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
d3408 1
d3413 1
a3413 1
#line 3157 "configure"
d3419 2
d3423 1
a3423 2
int main() { return 0; }
int t() {
d3436 1
a3436 1
if { (eval echo configure:3179: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3440 2
d3446 1
a3447 1
fi
d3458 3
a3460 2
  echo $ac_n "checking for -lseq""... $ac_c" 1>&6
ac_lib_var=`echo seq_getpseudotty | tr '.-/+' '___p'`
d3467 1
a3467 1
#line 3207 "configure"
d3470 2
d3474 1
a3474 2
int main() { return 0; }
int t() {
d3478 1
a3478 1
if { (eval echo configure:3217: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3482 2
d3493 2
a3494 1
    ac_tr_lib=HAVE_LIB`echo seq | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
d3514 1
d3519 1
a3519 1
#line 3254 "configure"
d3525 2
d3529 1
a3529 2
int main() { return 0; }
int t() {
d3542 1
a3542 1
if { (eval echo configure:3276: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3546 2
d3552 1
a3553 1
fi
d3564 3
a3566 2
  echo $ac_n "checking for -lutil""... $ac_c" 1>&6
ac_lib_var=`echo util_openpty | tr '.-/+' '___p'`
d3573 1
a3573 1
#line 3304 "configure"
d3576 2
d3580 1
a3580 2
int main() { return 0; }
int t() {
d3584 1
a3584 1
if { (eval echo configure:3314: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3588 2
d3619 1
d3624 1
a3624 1
#line 3351 "configure"
d3630 2
d3634 1
a3634 2
int main() { return 0; }
int t() {
d3647 1
a3647 1
if { (eval echo configure:3373: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3651 2
d3657 1
a3658 1
fi
d3669 3
a3671 2
  echo $ac_n "checking for -lutil""... $ac_c" 1>&6
ac_lib_var=`echo util_openpty | tr '.-/+' '___p'`
d3678 1
a3678 1
#line 3401 "configure"
d3681 2
d3685 1
a3685 2
int main() { return 0; }
int t() {
d3689 1
a3689 1
if { (eval echo configure:3411: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3693 2
d3721 1
d3726 1
a3726 1
#line 3445 "configure"
d3732 2
d3736 1
a3736 2
int main() { return 0; }
int t() {
d3749 1
a3749 1
if { (eval echo configure:3467: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3753 2
d3759 1
a3760 1
fi
d3771 3
a3773 2
  echo $ac_n "checking for -lutil""... $ac_c" 1>&6
ac_lib_var=`echo util_openpty | tr '.-/+' '___p'`
d3780 1
a3780 1
#line 3495 "configure"
d3783 2
d3787 1
a3787 2
int main() { return 0; }
int t() {
d3791 1
a3791 1
if { (eval echo configure:3505: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3795 2
d3829 1
d3841 1
a3841 1
ac_safe=`echo "sys/sysmacros.h" | tr './\055' '___'`
d3843 1
d3848 1
a3848 1
#line 3558 "configure"
d3853 2
a3854 2
{ (eval echo configure:3563: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3860 2
d3877 1
a3877 1
ac_safe=`echo "stdlib.h" | tr './\055' '___'`
d3879 1
d3884 1
a3884 1
#line 3591 "configure"
d3889 2
a3890 2
{ (eval echo configure:3596: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3896 2
d3914 1
a3914 1
ac_safe=`echo "inttypes.h" | tr './\055' '___'`
d3916 1
d3921 1
a3921 1
#line 3625 "configure"
d3926 2
a3927 2
{ (eval echo configure:3630: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3933 2
d3954 1
a3954 1
ac_safe=`echo "varargs.h" | tr './\055' '___'`
d3956 1
d3961 1
a3961 1
#line 3662 "configure"
d3966 2
a3967 2
{ (eval echo configure:3667: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3973 2
d3990 1
a3990 1
ac_safe=`echo "unistd.h" | tr './\055' '___'`
d3992 1
d3997 1
a3997 1
#line 3695 "configure"
d4002 2
a4003 2
{ (eval echo configure:3700: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4009 2
d4026 1
a4026 1
ac_safe=`echo "sys/stropts.h" | tr './\055' '___'`
d4028 1
d4033 1
a4033 1
#line 3728 "configure"
d4038 2
a4039 2
{ (eval echo configure:3733: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4045 2
d4062 1
a4062 1
ac_safe=`echo "sys/sysconfig.h" | tr './\055' '___'`
d4064 1
d4069 1
a4069 1
#line 3761 "configure"
d4074 2
a4075 2
{ (eval echo configure:3766: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4081 2
d4098 1
a4098 1
ac_safe=`echo "sys/fcntl.h" | tr './\055' '___'`
d4100 1
d4105 1
a4105 1
#line 3794 "configure"
d4110 2
a4111 2
{ (eval echo configure:3799: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4117 2
d4134 1
a4134 1
ac_safe=`echo "sys/select.h" | tr './\055' '___'`
d4136 1
d4141 1
a4141 1
#line 3827 "configure"
d4146 2
a4147 2
{ (eval echo configure:3832: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4153 2
d4170 1
a4170 1
ac_safe=`echo "sys/time.h" | tr './\055' '___'`
d4172 1
d4177 1
a4177 1
#line 3860 "configure"
d4182 2
a4183 2
{ (eval echo configure:3865: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4189 2
d4206 1
a4206 1
ac_safe=`echo "sys/ptem.h" | tr './\055' '___'`
d4208 1
d4213 1
a4213 1
#line 3893 "configure"
d4218 2
a4219 2
{ (eval echo configure:3898: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4225 2
d4242 1
a4242 1
ac_safe=`echo "sys/strredir.h" | tr './\055' '___'`
d4244 1
d4249 1
a4249 1
#line 3926 "configure"
d4254 2
a4255 2
{ (eval echo configure:3931: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4261 2
d4278 1
a4278 1
ac_safe=`echo "sys/strpty.h" | tr './\055' '___'`
d4280 1
d4285 1
a4285 1
#line 3959 "configure"
d4290 2
a4291 2
{ (eval echo configure:3964: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4297 2
d4317 1
d4323 1
a4323 1
ac_safe=`echo "$ac_hdr" | tr './\055' '___'`
d4325 1
d4330 1
a4330 1
#line 4000 "configure"
d4335 2
a4336 2
{ (eval echo configure:4005: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4342 2
d4351 1
a4351 1
    ac_tr_hdr=HAVE_`echo $ac_hdr | tr 'abcdefghijklmnopqrstuvwxyz./\055' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ___'`
d4369 1
d4374 1
a4374 1
#line 4041 "configure"
d4380 2
d4384 1
a4384 2
int main() { return 0; }
int t() {
d4397 1
a4397 1
if { (eval echo configure:4063: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4401 2
d4407 1
a4408 1
fi
d4420 1
d4425 1
a4425 1
#line 4088 "configure"
d4431 2
d4435 1
a4435 2
int main() { return 0; }
int t() {
d4448 1
a4448 1
if { (eval echo configure:4110: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4452 2
d4458 1
a4459 1
fi
d4471 1
d4476 1
a4476 1
#line 4135 "configure"
d4482 2
d4486 1
a4486 2
int main() { return 0; }
int t() {
d4499 1
a4499 1
if { (eval echo configure:4157: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4503 2
d4509 1
a4510 1
fi
d4522 1
d4527 1
a4527 1
#line 4182 "configure"
d4533 2
d4537 1
a4537 2
int main() { return 0; }
int t() {
d4550 1
a4550 1
if { (eval echo configure:4204: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4554 2
d4560 1
a4561 1
fi
d4573 1
d4578 1
a4578 1
#line 4229 "configure"
d4584 2
d4588 1
a4588 2
int main() { return 0; }
int t() {
d4601 1
a4601 1
if { (eval echo configure:4251: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4605 2
d4611 1
a4612 1
fi
d4628 1
d4630 1
a4630 1
#line 4277 "configure"
d4633 1
a4633 2
int main() { return 0; }
int t() {
d4640 1
a4640 1
if { (eval echo configure:4288: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4649 2
a4656 1

d4662 1
d4667 2
a4668 2
cat > conftest.$ac_ext <<EOF
#line 4314 "configure"
d4680 2
a4681 2
{ (eval echo configure:4326: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d4689 3
d4695 1
d4697 1
a4697 1
rm -fr conftest*
d4700 1
d4706 2
a4707 2
cat > conftest.$ac_ext <<EOF
#line 4348 "configure"
d4723 2
a4724 2
{ (eval echo configure:4364: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d4733 3
d4743 1
d4745 1
a4745 1
rm -fr conftest*
d4757 1
d4771 1
d4776 2
a4777 2
cat > conftest.$ac_ext <<EOF
#line 4412 "configure"
d4816 2
a4817 2
{ (eval echo configure:4451: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d4825 3
d4831 1
d4833 1
a4833 1
rm -fr conftest*
d4847 1
d4866 1
d4877 1
d4887 1
d4905 1
d4919 1
d4921 1
a4921 1
#line 4546 "configure"
d4943 1
d4955 1
d4972 1
d4989 1
d4998 1
d5003 1
a5003 1
#line 4623 "configure"
d5009 2
d5013 1
a5013 2
int main() { return 0; }
int t() {
d5026 1
a5026 1
if { (eval echo configure:4645: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5030 2
d5036 1
a5037 1
fi
d5048 1
d5053 1
a5053 1
#line 4669 "configure"
d5059 2
d5063 1
a5063 2
int main() { return 0; }
int t() {
d5076 1
a5076 1
if { (eval echo configure:4691: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5080 2
d5086 1
a5087 1
fi
d5097 1
d5102 1
a5102 1
#line 4714 "configure"
d5108 2
d5112 1
a5112 2
int main() { return 0; }
int t() {
d5125 1
a5125 1
if { (eval echo configure:4736: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5129 2
d5135 1
a5136 1
fi
d5152 1
d5166 1
d5171 1
a5171 1
#line 4778 "configure"
d5177 2
d5181 1
a5181 2
int main() { return 0; }
int t() {
d5194 1
a5194 1
if { (eval echo configure:4800: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5198 2
d5204 1
a5205 1
fi
d5214 1
d5219 1
a5219 1
#line 4822 "configure"
d5225 2
d5229 1
a5229 2
int main() { return 0; }
int t() {
d5242 1
a5242 1
if { (eval echo configure:4844: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5246 2
d5252 1
a5253 1
fi
d5274 1
d5279 2
a5280 2
cat > conftest.$ac_ext <<EOF
#line 4879 "configure"
d5290 2
a5291 2
{ (eval echo configure:4889: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5300 3
d5306 1
d5308 1
a5308 1
rm -fr conftest*
d5319 1
d5324 2
a5325 2
cat > conftest.$ac_ext <<EOF
#line 4919 "configure"
d5334 2
a5335 2
{ (eval echo configure:4928: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5344 3
d5350 1
d5352 1
a5352 1
rm -fr conftest*
d5356 1
d5361 2
a5362 2
cat > conftest.$ac_ext <<EOF
#line 4951 "configure"
d5376 2
a5377 2
{ (eval echo configure:4965: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5386 3
d5392 1
d5394 1
a5394 1
rm -fr conftest*
d5398 1
d5403 2
a5404 2
cat > conftest.$ac_ext <<EOF
#line 4988 "configure"
d5420 2
a5421 2
{ (eval echo configure:5004: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5429 3
d5435 1
d5437 1
a5437 1
rm -fr conftest*
d5440 1
d5445 2
a5446 2
cat > conftest.$ac_ext <<EOF
#line 5025 "configure"
d5462 2
a5463 2
{ (eval echo configure:5041: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5471 3
d5477 1
d5479 1
a5479 1
rm -fr conftest*
d5483 1
d5489 2
a5490 2
cat > conftest.$ac_ext <<EOF
#line 5064 "configure"
d5502 2
a5503 2
{ (eval echo configure:5076: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5509 3
d5515 1
d5517 1
a5517 1
rm -fr conftest*
d5527 1
d5532 1
a5532 1
#line 5101 "configure"
d5538 2
d5542 1
a5542 2
int main() { return 0; }
int t() {
d5555 1
a5555 1
if { (eval echo configure:5123: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5559 2
d5565 1
a5566 1
fi
d5575 1
d5580 1
a5580 1
#line 5145 "configure"
d5586 2
d5590 1
a5590 2
int main() { return 0; }
int t() {
d5603 1
a5603 1
if { (eval echo configure:5167: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5607 2
d5613 1
a5614 1
fi
d5623 1
d5645 1
d5650 1
a5650 1
#line 5210 "configure"
d5656 2
d5660 1
a5660 2
int main() { return 0; }
int t() {
d5673 1
a5673 1
if { (eval echo configure:5232: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5677 2
d5683 1
a5684 1
fi
d5700 1
d5705 1
a5705 1
#line 5261 "configure"
d5711 2
d5715 1
a5715 2
int main() { return 0; }
int t() {
d5728 1
a5728 1
if { (eval echo configure:5283: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5732 2
d5738 1
a5739 1
fi
d5757 1
d5762 2
a5763 2
cat > conftest.$ac_ext <<EOF
#line 5315 "configure"
d5776 2
a5777 2
{ (eval echo configure:5328: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5784 3
d5790 1
d5792 1
a5792 1
rm -fr conftest*
d5822 1
d5886 1
a5886 1
   ac_safe=`echo "tk.h" | tr './\055' '___'`
d5888 1
d5893 1
a5893 1
#line 5439 "configure"
d5898 2
a5899 2
{ (eval echo configure:5444: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d5905 2
d5997 1
d6004 5
d6012 6
a6017 4
#      $prefix/lib	where we will be installing things
#      $exec_prefix/lib	likewise
# eval it to expand exec_prefix.
for ac_dir in `eval echo . /tmp /var/tmp /usr/tmp $prefix/lib $exec_prefix/lib` ; do
d6055 1
d6208 1
a6208 1
    echo "$CONFIG_STATUS generated by autoconf version 2.9"
d6228 1
d6232 1
d6285 1
d6323 36
d6365 1
a6365 1
  # Support "outfile[:infile]", defaulting infile="outfile.in".
d6367 1
a6367 1
  *:*) ac_file_in=`echo "$ac_file"|sed 's%.*:%%'`
d6372 1
a6372 1
  # Adjust relative srcdir, etc. for subdirectories.
d6400 1
d6409 2
d6416 1
a6416 1
" -f conftest.subs $ac_given_srcdir/$ac_file_in > $ac_file
d6418 1
a6418 1
rm -f conftest.subs
d6439 7
a6445 1
CONFIG_HEADERS=${CONFIG_HEADERS-"expect_cf.h"}
d6447 1
a6447 1
  # Support "outfile[:infile]", defaulting infile="outfile.in".
d6449 1
a6449 1
  *:*) ac_file_in=`echo "$ac_file"|sed 's%.*:%%'`
d6457 2
a6458 1
  cp $ac_given_srcdir/$ac_file_in conftest.in
a6485 2
# Maximum number of lines to put in a single here document.
ac_max_here_lines=12
d6516 6
d6527 2
d6530 2
d6587 3
d6596 1
a6596 1
      ac_sub_srcdir=../$srcdir/$ac_config_dir ;;
a6612 2
      # A "../" for each directory in /$ac_config_dir.
      ac_dots=`echo $ac_config_dir|sed -e 's%^\./%%' -e 's%[^/]$%&/%' -e 's%[^/]*/%../%g'`
@


5.30.2.3
log
@compiled!
@
text
@a767 3
echo $ac_n "checking Tcl build library""... $ac_c" 1>&6
echo "$ac_t""$LIBS" 1>&6

d773 1
a773 1
#line 777 "configure"
d795 1
a795 1
if { (eval echo configure:799: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d937 1
a937 1
#line 941 "configure"
d959 1
a959 1
if { (eval echo configure:963: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d1100 1
a1100 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1104: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d1142 1
a1142 1
#line 1146 "configure"
d1150 1
a1150 1
if { (eval echo configure:1154: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1161 1
a1161 1
#line 1165 "configure"
d1169 1
a1169 1
if { (eval echo configure:1173: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d1306 1
a1306 1
#line 1310 "configure"
d1312 1
a1312 1
{ (eval echo configure:1316: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1321 1
a1321 1
#line 1325 "configure"
d1327 1
a1327 1
{ (eval echo configure:1331: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1353 1
a1353 1
#line 1357 "configure"
d1387 1
a1387 1
#line 1391 "configure"
d1404 1
a1404 1
if { (eval echo configure:1408: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1431 1
a1431 1
#line 1435 "configure"
d1435 1
a1435 1
{ (eval echo configure:1439: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d1453 1
a1453 1
#line 1457 "configure"
d1461 1
a1461 1
{ (eval echo configure:1465: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1476 1
a1476 1
#line 1480 "configure"
d1494 1
a1494 1
#line 1498 "configure"
d1515 1
a1515 1
#line 1519 "configure"
d1526 1
a1526 1
{ (eval echo configure:1530: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d1550 1
a1550 1
#line 1554 "configure"
d1581 1
a1581 1
#line 1585 "configure"
d1599 1
a1599 1
if { (eval echo configure:1603: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1621 1
a1621 1
#line 1625 "configure"
d1631 1
a1631 1
if { (eval echo configure:1635: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1655 1
a1655 1
#line 1659 "configure"
d1672 1
a1672 1
if { (eval echo configure:1676: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1840 1
a1840 1
#line 1844 "configure"
d1862 1
a1862 1
if { (eval echo configure:1866: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d1894 1
a1894 1
#line 1898 "configure"
d1916 1
a1916 1
if { (eval echo configure:1920: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2023 1
a2023 1
#line 2027 "configure"
d2028 1
a2028 1
{ (eval echo configure:2032: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2169 1
a2169 1
#line 2173 "configure"
d2191 1
a2191 1
if { (eval echo configure:2195: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2219 1
a2219 1
#line 2223 "configure"
d2229 1
a2229 1
if { (eval echo configure:2233: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2257 1
a2257 1
#line 2261 "configure"
d2279 1
a2279 1
if { (eval echo configure:2283: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2307 1
a2307 1
#line 2311 "configure"
d2317 1
a2317 1
if { (eval echo configure:2321: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2345 1
a2345 1
#line 2349 "configure"
d2367 1
a2367 1
if { (eval echo configure:2371: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2395 1
a2395 1
#line 2399 "configure"
d2405 1
a2405 1
if { (eval echo configure:2409: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2436 1
a2436 1
#line 2440 "configure"
d2458 1
a2458 1
if { (eval echo configure:2462: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2486 1
a2486 1
#line 2490 "configure"
d2496 1
a2496 1
if { (eval echo configure:2500: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2524 1
a2524 1
#line 2528 "configure"
d2546 1
a2546 1
if { (eval echo configure:2550: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2574 1
a2574 1
#line 2578 "configure"
d2584 1
a2584 1
if { (eval echo configure:2588: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2612 1
a2612 1
#line 2616 "configure"
d2634 1
a2634 1
if { (eval echo configure:2638: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2662 1
a2662 1
#line 2666 "configure"
d2672 1
a2672 1
if { (eval echo configure:2676: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2702 1
a2702 1
#line 2706 "configure"
d2724 1
a2724 1
if { (eval echo configure:2728: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2752 1
a2752 1
#line 2756 "configure"
d2762 1
a2762 1
if { (eval echo configure:2766: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2790 1
a2790 1
#line 2794 "configure"
d2812 1
a2812 1
if { (eval echo configure:2816: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2840 1
a2840 1
#line 2844 "configure"
d2850 1
a2850 1
if { (eval echo configure:2854: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2878 1
a2878 1
#line 2882 "configure"
d2900 1
a2900 1
if { (eval echo configure:2904: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2928 1
a2928 1
#line 2932 "configure"
d2938 1
a2938 1
if { (eval echo configure:2942: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2968 1
a2968 1
#line 2972 "configure"
d2990 1
a2990 1
if { (eval echo configure:2994: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3018 1
a3018 1
#line 3022 "configure"
d3028 1
a3028 1
if { (eval echo configure:3032: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3062 1
a3062 1
#line 3066 "configure"
d3084 1
a3084 1
if { (eval echo configure:3088: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3112 1
a3112 1
#line 3116 "configure"
d3122 1
a3122 1
if { (eval echo configure:3126: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3156 1
a3156 1
#line 3160 "configure"
d3178 1
a3178 1
if { (eval echo configure:3182: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3206 1
a3206 1
#line 3210 "configure"
d3216 1
a3216 1
if { (eval echo configure:3220: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3253 1
a3253 1
#line 3257 "configure"
d3275 1
a3275 1
if { (eval echo configure:3279: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3303 1
a3303 1
#line 3307 "configure"
d3313 1
a3313 1
if { (eval echo configure:3317: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3350 1
a3350 1
#line 3354 "configure"
d3372 1
a3372 1
if { (eval echo configure:3376: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3400 1
a3400 1
#line 3404 "configure"
d3410 1
a3410 1
if { (eval echo configure:3414: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3444 1
a3444 1
#line 3448 "configure"
d3466 1
a3466 1
if { (eval echo configure:3470: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3494 1
a3494 1
#line 3498 "configure"
d3504 1
a3504 1
if { (eval echo configure:3508: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3557 1
a3557 1
#line 3561 "configure"
d3562 1
a3562 1
{ (eval echo configure:3566: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3590 1
a3590 1
#line 3594 "configure"
d3595 1
a3595 1
{ (eval echo configure:3599: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3624 1
a3624 1
#line 3628 "configure"
d3629 1
a3629 1
{ (eval echo configure:3633: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3661 1
a3661 1
#line 3665 "configure"
d3666 1
a3666 1
{ (eval echo configure:3670: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3694 1
a3694 1
#line 3698 "configure"
d3699 1
a3699 1
{ (eval echo configure:3703: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3727 1
a3727 1
#line 3731 "configure"
d3732 1
a3732 1
{ (eval echo configure:3736: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3760 1
a3760 1
#line 3764 "configure"
d3765 1
a3765 1
{ (eval echo configure:3769: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3793 1
a3793 1
#line 3797 "configure"
d3798 1
a3798 1
{ (eval echo configure:3802: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3826 1
a3826 1
#line 3830 "configure"
d3831 1
a3831 1
{ (eval echo configure:3835: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3859 1
a3859 1
#line 3863 "configure"
d3864 1
a3864 1
{ (eval echo configure:3868: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3892 1
a3892 1
#line 3896 "configure"
d3897 1
a3897 1
{ (eval echo configure:3901: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3925 1
a3925 1
#line 3929 "configure"
d3930 1
a3930 1
{ (eval echo configure:3934: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3958 1
a3958 1
#line 3962 "configure"
d3963 1
a3963 1
{ (eval echo configure:3967: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3999 1
a3999 1
#line 4003 "configure"
d4004 1
a4004 1
{ (eval echo configure:4008: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4040 1
a4040 1
#line 4044 "configure"
d4062 1
a4062 1
if { (eval echo configure:4066: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4087 1
a4087 1
#line 4091 "configure"
d4109 1
a4109 1
if { (eval echo configure:4113: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4134 1
a4134 1
#line 4138 "configure"
d4156 1
a4156 1
if { (eval echo configure:4160: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4181 1
a4181 1
#line 4185 "configure"
d4203 1
a4203 1
if { (eval echo configure:4207: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4228 1
a4228 1
#line 4232 "configure"
d4250 1
a4250 1
if { (eval echo configure:4254: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4276 1
a4276 1
#line 4280 "configure"
d4287 1
a4287 1
if { (eval echo configure:4291: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4313 1
a4313 1
#line 4317 "configure"
d4325 1
a4325 1
{ (eval echo configure:4329: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d4347 1
a4347 1
#line 4351 "configure"
d4363 1
a4363 1
{ (eval echo configure:4367: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
a4382 42
#-----Stolen from Tcl's configure file-------------------------------
#	The check below checks whether <sys/wait.h> defines the type
#	"union wait" correctly.  It's needed because of weirdness in
#	HP-UX where "union wait" is defined in both the BSD and SYS-V
#	environments.  Checking the usability of WIFEXITED seems to do
#	the trick.
#--------------------------------------------------------------------

echo $ac_n "checking union wait""... $ac_c" 1>&6
cat > conftest.$ac_ext <<EOF
#line 4397 "configure"
#include "confdefs.h"
#include <sys/types.h> 
#include <sys/wait.h>
int main() { return 0; }
int t() {

union wait x;
WIFEXITED(x);		/* Generates compiler error if WIFEXITED
			 * uses an int. */

; return 0; }
EOF
if { (eval echo configure:4410: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
  rm -rf conftest*
  tcl_ok=yes
else
  rm -rf conftest*
  tcl_ok=no
fi
rm -f conftest*

echo "$ac_t""$tcl_ok" 1>&6
if test $tcl_ok = no; then
    cat >> confdefs.h <<\EOF
#define NO_UNION_WAIT 1
EOF

fi



d4411 1
a4411 1
#line 4457 "configure"
d4450 1
a4450 1
{ (eval echo configure:4496: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d4545 1
a4545 1
#line 4591 "configure"
d4622 1
a4622 1
#line 4668 "configure"
d4644 1
a4644 1
if { (eval echo configure:4690: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4668 1
a4668 1
#line 4714 "configure"
d4690 1
a4690 1
if { (eval echo configure:4736: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4713 1
a4713 1
#line 4759 "configure"
d4735 1
a4735 1
if { (eval echo configure:4781: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4777 1
a4777 1
#line 4823 "configure"
d4799 1
a4799 1
if { (eval echo configure:4845: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4821 1
a4821 1
#line 4867 "configure"
d4843 1
a4843 1
if { (eval echo configure:4889: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4878 1
a4878 1
#line 4924 "configure"
d4888 1
a4888 1
{ (eval echo configure:4934: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d4918 1
a4918 1
#line 4964 "configure"
d4927 1
a4927 1
{ (eval echo configure:4973: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d4950 1
a4950 1
#line 4996 "configure"
d4964 1
a4964 1
{ (eval echo configure:5010: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d4987 1
a4987 1
#line 5033 "configure"
d5003 1
a5003 1
{ (eval echo configure:5049: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d5024 1
a5024 1
#line 5070 "configure"
d5040 1
a5040 1
{ (eval echo configure:5086: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d5063 1
a5063 1
#line 5109 "configure"
d5075 1
a5075 1
{ (eval echo configure:5121: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d5100 1
a5100 1
#line 5146 "configure"
d5122 1
a5122 1
if { (eval echo configure:5168: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5144 1
a5144 1
#line 5190 "configure"
d5166 1
a5166 1
if { (eval echo configure:5212: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5209 1
a5209 1
#line 5255 "configure"
d5231 1
a5231 1
if { (eval echo configure:5277: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5260 1
a5260 1
#line 5306 "configure"
d5282 1
a5282 1
if { (eval echo configure:5328: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5314 1
a5314 1
#line 5360 "configure"
d5327 1
a5327 1
{ (eval echo configure:5373: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d5438 1
a5438 1
#line 5484 "configure"
d5443 1
a5443 1
{ (eval echo configure:5489: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
@


5.30.2.4
log
@Updated to reflect change of Tcl_RegExpMatchObj to Tcl_RegExpExecObj
moved compiler configure tests earlier in file so it works with gcc
@
text
@a663 147
# An explanation is in order for the strange things going on with the
# various LIBS.  There are three separate definitions for LIBS.  The
# reason is that some systems require shared libraries include
# references to their dependent libraries, i.e., any additional
# libraries that must be linked to.  And some systems get upset if the
# references are repeated on the link line.  So therefore, we create
# one for Expect and Tk (EXP_AND_TK_LIBS), one for Expect and Tcl
# (EXP_AND_TCL_LIBS), and finally, one for building Expect's own
# shared library.  Tcl's tclConfig.sh insists that any shared libs
# that it "helps" build must pass the libraries as LIBS (see comment
# near end of this configure file).  I would do but since we're close
# to hitting config's max symbols, we take one short cut and pack the
# LIBS into EXP_SHLIB_LD_LIBS (which is basically what Tcl wants to do
# for us).  The point, however, is that there's no separate LIBS or
# EXP_LIBS symbol passed out of configure.  One additional point for
# confusion is that LIBS is what configure uses to do all library
# tests, so we have to swap definitions of LIBS peridically.  When we
# are swapping out the one for Expect's shared library, we save it in
# EXP_LIBS.  Sigh.

OLD_CFLAGS=$CFLAGS
# Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="gcc"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  ac_prog_rejected=no
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
        ac_prog_rejected=yes
	continue
      fi
      ac_cv_prog_CC="cc"
      break
    fi
  done
  IFS="$ac_save_ifs"
if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# -gt 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    set dummy "$ac_dir/$ac_word" "$@@"
    shift
    ac_cv_prog_CC="$@@"
  fi
fi
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

  test -z "$CC" && { echo "configure: error: no acceptable cc found in \$PATH" 1>&2; exit 1; }
fi

echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.c <<EOF
#ifdef __GNUC__
  yes;
#endif
EOF
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:772: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
  ac_cv_prog_gcc=yes
else
  ac_cv_prog_gcc=no
fi
fi

echo "$ac_t""$ac_cv_prog_gcc" 1>&6
if test $ac_cv_prog_gcc = yes; then
  GCC=yes
  if test "${CFLAGS+set}" != set; then
    echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
if eval "test \"`echo '$''{'ac_cv_prog_gcc_g'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo 'void f(){}' > conftest.c
if test -z "`${CC-cc} -g -c conftest.c 2>&1`"; then
  ac_cv_prog_gcc_g=yes
else
  ac_cv_prog_gcc_g=no
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_prog_gcc_g" 1>&6
    if test $ac_cv_prog_gcc_g = yes; then
      CFLAGS="-g -O"
    else
      CFLAGS="-O"
    fi
  fi
else
  GCC=
  test "${CFLAGS+set}" = set || CFLAGS="-g"
fi

CFLAGS=$OLD_CFLAGS


d776 1
a776 1
#line 924 "configure"
d798 1
a798 1
if { (eval echo configure:946: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d940 1
a940 1
#line 1088 "configure"
d962 1
a962 1
if { (eval echo configure:1110: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d996 145
d1145 1
a1145 1
#line 1148 "configure"
d1153 1
a1153 1
if { (eval echo configure:1156: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1164 1
a1164 1
#line 1167 "configure"
d1172 1
a1172 1
if { (eval echo configure:1175: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d1309 1
a1309 1
#line 1312 "configure"
d1315 1
a1315 1
{ (eval echo configure:1318: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1324 1
a1324 1
#line 1327 "configure"
d1330 1
a1330 1
{ (eval echo configure:1333: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1356 1
a1356 1
#line 1359 "configure"
d1390 1
a1390 1
#line 1393 "configure"
d1407 1
a1407 1
if { (eval echo configure:1410: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1434 1
a1434 1
#line 1437 "configure"
d1438 1
a1438 1
{ (eval echo configure:1441: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d1456 1
a1456 1
#line 1459 "configure"
d1464 1
a1464 1
{ (eval echo configure:1467: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1479 1
a1479 1
#line 1482 "configure"
d1497 1
a1497 1
#line 1500 "configure"
d1518 1
a1518 1
#line 1521 "configure"
d1529 1
a1529 1
{ (eval echo configure:1532: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d1553 1
a1553 1
#line 1556 "configure"
d1584 1
a1584 1
#line 1587 "configure"
d1602 1
a1602 1
if { (eval echo configure:1605: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1624 1
a1624 1
#line 1627 "configure"
d1634 1
a1634 1
if { (eval echo configure:1637: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1658 1
a1658 1
#line 1661 "configure"
d1675 1
a1675 1
if { (eval echo configure:1678: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1843 1
a1843 1
#line 1846 "configure"
d1865 1
a1865 1
if { (eval echo configure:1868: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d1897 1
a1897 1
#line 1900 "configure"
d1919 1
a1919 1
if { (eval echo configure:1922: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2026 1
a2026 1
#line 2029 "configure"
d2031 1
a2031 1
{ (eval echo configure:2034: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2172 1
a2172 1
#line 2175 "configure"
d2194 1
a2194 1
if { (eval echo configure:2197: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2222 1
a2222 1
#line 2225 "configure"
d2232 1
a2232 1
if { (eval echo configure:2235: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2260 1
a2260 1
#line 2263 "configure"
d2282 1
a2282 1
if { (eval echo configure:2285: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2310 1
a2310 1
#line 2313 "configure"
d2320 1
a2320 1
if { (eval echo configure:2323: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2348 1
a2348 1
#line 2351 "configure"
d2370 1
a2370 1
if { (eval echo configure:2373: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2398 1
a2398 1
#line 2401 "configure"
d2408 1
a2408 1
if { (eval echo configure:2411: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2439 1
a2439 1
#line 2442 "configure"
d2461 1
a2461 1
if { (eval echo configure:2464: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2489 1
a2489 1
#line 2492 "configure"
d2499 1
a2499 1
if { (eval echo configure:2502: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2527 1
a2527 1
#line 2530 "configure"
d2549 1
a2549 1
if { (eval echo configure:2552: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2577 1
a2577 1
#line 2580 "configure"
d2587 1
a2587 1
if { (eval echo configure:2590: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2615 1
a2615 1
#line 2618 "configure"
d2637 1
a2637 1
if { (eval echo configure:2640: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2665 1
a2665 1
#line 2668 "configure"
d2675 1
a2675 1
if { (eval echo configure:2678: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2705 1
a2705 1
#line 2708 "configure"
d2727 1
a2727 1
if { (eval echo configure:2730: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2755 1
a2755 1
#line 2758 "configure"
d2765 1
a2765 1
if { (eval echo configure:2768: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2793 1
a2793 1
#line 2796 "configure"
d2815 1
a2815 1
if { (eval echo configure:2818: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2843 1
a2843 1
#line 2846 "configure"
d2853 1
a2853 1
if { (eval echo configure:2856: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2881 1
a2881 1
#line 2884 "configure"
d2903 1
a2903 1
if { (eval echo configure:2906: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2931 1
a2931 1
#line 2934 "configure"
d2941 1
a2941 1
if { (eval echo configure:2944: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2971 1
a2971 1
#line 2974 "configure"
d2993 1
a2993 1
if { (eval echo configure:2996: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3021 1
a3021 1
#line 3024 "configure"
d3031 1
a3031 1
if { (eval echo configure:3034: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3065 1
a3065 1
#line 3068 "configure"
d3087 1
a3087 1
if { (eval echo configure:3090: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3115 1
a3115 1
#line 3118 "configure"
d3125 1
a3125 1
if { (eval echo configure:3128: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3159 1
a3159 1
#line 3162 "configure"
d3181 1
a3181 1
if { (eval echo configure:3184: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3209 1
a3209 1
#line 3212 "configure"
d3219 1
a3219 1
if { (eval echo configure:3222: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3256 1
a3256 1
#line 3259 "configure"
d3278 1
a3278 1
if { (eval echo configure:3281: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3306 1
a3306 1
#line 3309 "configure"
d3316 1
a3316 1
if { (eval echo configure:3319: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3353 1
a3353 1
#line 3356 "configure"
d3375 1
a3375 1
if { (eval echo configure:3378: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3403 1
a3403 1
#line 3406 "configure"
d3413 1
a3413 1
if { (eval echo configure:3416: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3447 1
a3447 1
#line 3450 "configure"
d3469 1
a3469 1
if { (eval echo configure:3472: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3497 1
a3497 1
#line 3500 "configure"
d3507 1
a3507 1
if { (eval echo configure:3510: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3560 1
a3560 1
#line 3563 "configure"
d3565 1
a3565 1
{ (eval echo configure:3568: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3593 1
a3593 1
#line 3596 "configure"
d3598 1
a3598 1
{ (eval echo configure:3601: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3627 1
a3627 1
#line 3630 "configure"
d3632 1
a3632 1
{ (eval echo configure:3635: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3664 1
a3664 1
#line 3667 "configure"
d3669 1
a3669 1
{ (eval echo configure:3672: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3697 1
a3697 1
#line 3700 "configure"
d3702 1
a3702 1
{ (eval echo configure:3705: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3730 1
a3730 1
#line 3733 "configure"
d3735 1
a3735 1
{ (eval echo configure:3738: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3763 1
a3763 1
#line 3766 "configure"
d3768 1
a3768 1
{ (eval echo configure:3771: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3796 1
a3796 1
#line 3799 "configure"
d3801 1
a3801 1
{ (eval echo configure:3804: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3829 1
a3829 1
#line 3832 "configure"
d3834 1
a3834 1
{ (eval echo configure:3837: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3862 1
a3862 1
#line 3865 "configure"
d3867 1
a3867 1
{ (eval echo configure:3870: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3895 1
a3895 1
#line 3898 "configure"
d3900 1
a3900 1
{ (eval echo configure:3903: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3928 1
a3928 1
#line 3931 "configure"
d3933 1
a3933 1
{ (eval echo configure:3936: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3961 1
a3961 1
#line 3964 "configure"
d3966 1
a3966 1
{ (eval echo configure:3969: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4002 1
a4002 1
#line 4005 "configure"
d4007 1
a4007 1
{ (eval echo configure:4010: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4043 1
a4043 1
#line 4046 "configure"
d4065 1
a4065 1
if { (eval echo configure:4068: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4090 1
a4090 1
#line 4093 "configure"
d4112 1
a4112 1
if { (eval echo configure:4115: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4137 1
a4137 1
#line 4140 "configure"
d4159 1
a4159 1
if { (eval echo configure:4162: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4184 1
a4184 1
#line 4187 "configure"
d4206 1
a4206 1
if { (eval echo configure:4209: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4231 1
a4231 1
#line 4234 "configure"
d4253 1
a4253 1
if { (eval echo configure:4256: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4279 1
a4279 1
#line 4282 "configure"
d4290 1
a4290 1
if { (eval echo configure:4293: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4316 1
a4316 1
#line 4319 "configure"
d4328 1
a4328 1
{ (eval echo configure:4331: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d4350 1
a4350 1
#line 4353 "configure"
d4366 1
a4366 1
{ (eval echo configure:4369: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d4396 1
a4396 1
#line 4399 "configure"
d4409 1
a4409 1
if { (eval echo configure:4412: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4456 1
a4456 1
#line 4459 "configure"
d4495 1
a4495 1
{ (eval echo configure:4498: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d4590 1
a4590 1
#line 4593 "configure"
d4667 1
a4667 1
#line 4670 "configure"
d4689 1
a4689 1
if { (eval echo configure:4692: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4713 1
a4713 1
#line 4716 "configure"
d4735 1
a4735 1
if { (eval echo configure:4738: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4758 1
a4758 1
#line 4761 "configure"
d4780 1
a4780 1
if { (eval echo configure:4783: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4822 1
a4822 1
#line 4825 "configure"
d4844 1
a4844 1
if { (eval echo configure:4847: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4866 1
a4866 1
#line 4869 "configure"
d4888 1
a4888 1
if { (eval echo configure:4891: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4923 1
a4923 1
#line 4926 "configure"
d4933 1
a4933 1
{ (eval echo configure:4936: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d4963 1
a4963 1
#line 4966 "configure"
d4972 1
a4972 1
{ (eval echo configure:4975: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d4995 1
a4995 1
#line 4998 "configure"
d5009 1
a5009 1
{ (eval echo configure:5012: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d5032 1
a5032 1
#line 5035 "configure"
d5048 1
a5048 1
{ (eval echo configure:5051: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d5069 1
a5069 1
#line 5072 "configure"
d5085 1
a5085 1
{ (eval echo configure:5088: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d5108 1
a5108 1
#line 5111 "configure"
d5120 1
a5120 1
{ (eval echo configure:5123: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d5145 1
a5145 1
#line 5148 "configure"
d5167 1
a5167 1
if { (eval echo configure:5170: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5189 1
a5189 1
#line 5192 "configure"
d5211 1
a5211 1
if { (eval echo configure:5214: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5254 1
a5254 1
#line 5257 "configure"
d5276 1
a5276 1
if { (eval echo configure:5279: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5305 1
a5305 1
#line 5308 "configure"
d5327 1
a5327 1
if { (eval echo configure:5330: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5359 1
a5359 1
#line 5362 "configure"
d5372 1
a5372 1
{ (eval echo configure:5375: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
d5483 1
a5483 1
#line 5486 "configure"
d5488 1
a5488 1
{ (eval echo configure:5491: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
a5842 1
s%@@CC@@%$CC%g
d5860 1
@


5.30.2.5
log
@Fixed:
 expect command's arg handling to work (like interact)
 spawn -open
 expect eof
and various other bugs.
Expect now runs its minimal test suite (but not the examples).
@
text
@d4 1
a4 1
# Generated automatically using autoconf version 2.13 
a69 3
SHELL=${CONFIG_SHELL-/bin/sh}
# Maximum number of lines to put in a shell here document.
ac_max_here_lines=12
d351 1
a351 1
    echo "configure generated by autoconf version 2.13"
d453 4
a456 4
# Only set these to C if already set.  These must not be set unconditionally
# because not all systems understand e.g. LANG=C (notably SCO).
# Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
# Non-C LC_CTYPE values break the ctype check.
a457 3
if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi
d511 1
a511 2
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross
a512 2
ac_exeext=
ac_objext=o
d584 1
a584 1
if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :
a588 1
echo "configure:599: checking host system type" >&5
d595 1
a595 1
    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :
d602 4
a605 4
host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`
host_cpu=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
host_vendor=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
host_os=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
a608 1
echo "configure:620: checking target system type" >&5
d619 4
a622 4
target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`
target_cpu=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
target_vendor=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
target_os=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
a625 1
echo "configure:638: checking build system type" >&5
d636 4
a639 4
build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`
build_cpu=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
build_vendor=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
build_os=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
a654 1
echo "configure:668: checking shell to use within Make" >&5
a687 1
echo "configure:702: checking for $ac_word" >&5
d694 2
a695 3
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
a715 1
echo "configure:732: checking for $ac_word" >&5
d722 1
a722 1
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
d724 1
a724 2
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
a758 34
  if test -z "$CC"; then
    case "`uname -s`" in
    *win32* | *WIN32*)
      # Extract the first word of "cl", so it can be a program name with args.
set dummy cl; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:783: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="cl"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
 ;;
    esac
  fi
a761 47
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
echo "configure:815: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5

ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

cat > conftest.$ac_ext << EOF

#line 826 "configure"
#include "confdefs.h"

main(){return(0);}
EOF
if { (eval echo configure:831: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  ac_cv_prog_cc_works=yes
  # If we can't run a trivial program, we are probably using a cross compiler.
  if (./conftest; exit) 2>/dev/null; then
    ac_cv_prog_cc_cross=no
  else
    ac_cv_prog_cc_cross=yes
  fi
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_prog_cc_works=no
fi
rm -fr conftest*
ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

echo "$ac_t""$ac_cv_prog_cc_works" 1>&6
if test $ac_cv_prog_cc_works = no; then
  { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
fi
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
echo "configure:857: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
cross_compiling=$ac_cv_prog_cc_cross

a762 1
echo "configure:862: checking whether we are using GNU C" >&5
d771 1
a771 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:871: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
a778 1

d781 3
a783 10
else
  GCC=
fi

ac_test_CFLAGS="${CFLAGS+set}"
ac_save_CFLAGS="$CFLAGS"
CFLAGS=
echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
echo "configure:890: checking whether ${CC-cc} accepts -g" >&5
if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
d788 1
a788 1
  ac_cv_prog_cc_g=yes
d790 1
a790 1
  ac_cv_prog_cc_g=no
d796 6
a801 8
echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
if test "$ac_test_CFLAGS" = set; then
  CFLAGS="$ac_save_CFLAGS"
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
d804 2
a805 5
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
a827 1
echo "configure:941: checking for Tcl configuration" >&5
a915 1
echo "configure:1030: checking Tcl build library" >&5
a918 1
echo "configure:1034: checking for Tcl_CreateCommand" >&5
d923 1
a923 1
#line 1039 "configure"
a928 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d931 2
a932 1
int main() {
d945 1
a945 1
if { (eval echo configure:1062: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a948 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d953 1
a954 1

a958 1
echo "configure:1078: checking if Tcl library build specification is valid" >&5
a967 1
echo "configure:1088: checking if Tcl library build specification is valid" >&5
a998 1
echo "configure:1120: checking for Tk configuration" >&5
a1082 1
echo "configure:1205: checking for Tk_Main" >&5
d1087 1
a1087 1
#line 1210 "configure"
a1092 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d1095 2
a1096 1
int main() {
d1109 1
a1109 1
if { (eval echo configure:1233: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a1112 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1117 1
a1118 1

a1122 1
echo "configure:1249: checking if Tk library build specification is valid" >&5
a1131 1
echo "configure:1259: checking if Tk library build specification is valid" >&5
a1145 1
echo "configure:1274: checking whether the compiler ($CC) actually works" >&5
d1147 1
a1147 1
#line 1276 "configure"
d1150 2
a1151 1
int main() {
d1155 1
a1155 1
if { (eval echo configure:1283: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1158 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1164 1
d1166 1
a1166 1
#line 1295 "configure"
d1169 2
a1170 1
int main() {
d1174 1
a1174 1
if { (eval echo configure:1302: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a1177 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1183 1
a1201 1
# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
a1205 1
echo "configure:1336: checking for a BSD compatible install" >&5
d1210 1
a1210 1
    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS=":"
d1217 1
a1217 3
      # Don't use installbsd from OSF since it installs stuff as root
      # by default.
      for ac_prog in ginstall scoinst install; do
d1222 1
d1233 1
a1233 1
  IFS="$ac_save_IFS"
a1251 2
test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'

a1258 1
echo "configure:1393: checking for $ac_word" >&5
d1265 2
a1266 3
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
a1296 1
echo "configure:1433: checking how to run the C preprocessor" >&5
d1311 1
a1311 1
#line 1448 "configure"
d1317 2
a1318 2
{ (eval echo configure:1454: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a1322 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1326 1
a1326 1
#line 1465 "configure"
d1332 2
a1333 2
{ (eval echo configure:1471: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a1337 19
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -nologo -E"
  cat > conftest.$ac_ext <<EOF
#line 1482 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1488: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a1343 2
fi
rm -f conftest*
a1353 1
echo "configure:1514: checking if running LynxOS" >&5
d1358 1
a1358 1
#line 1519 "configure"
a1387 1
echo "configure:1549: checking whether -mposix or -X is available" >&5
d1392 1
a1392 1
#line 1554 "configure"
d1395 2
a1396 1
int main() {
d1409 1
a1409 1
if { (eval echo configure:1570: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1412 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1417 1
d1427 26
a1453 1
echo "configure:1590: checking for ANSI C header files" >&5
d1458 1
a1458 1
#line 1595 "configure"
d1466 2
a1467 2
{ (eval echo configure:1603: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a1472 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1481 1
a1481 1
#line 1620 "configure"
d1499 1
a1499 1
#line 1638 "configure"
d1519 2
a1520 2
  cat > conftest.$ac_ext <<EOF
#line 1659 "configure"
d1531 2
a1532 2
if { (eval echo configure:1670: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a1534 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d1537 1
a1539 2

fi
a1550 1
echo "configure:1694: checking for pid_t" >&5
d1555 1
a1555 1
#line 1699 "configure"
a1559 1
#include <stddef.h>
d1563 1
a1563 1
  egrep "(^|[^a-zA-Z_0-9])pid_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
a1581 1
echo "configure:1727: checking return type of signal handlers" >&5
d1586 1
a1586 1
#line 1732 "configure"
d1599 2
a1600 1
int main() {
d1604 1
a1604 1
if { (eval echo configure:1749: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1607 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1612 1
a1621 1
echo "configure:1768: checking whether time.h and sys/time.h may both be included" >&5
d1626 1
a1626 1
#line 1773 "configure"
d1631 2
a1632 1
int main() {
d1636 1
a1636 1
if { (eval echo configure:1782: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1639 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1644 1
a1655 1
echo "configure:1803: checking for sys/wait.h that is POSIX.1 compatible" >&5
d1660 1
a1660 1
#line 1808 "configure"
d1670 2
a1671 1
int main() {
d1677 1
a1677 1
if { (eval echo configure:1824: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1680 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1685 1
a1715 1
echo "configure:1864: checking if running Mach" >&5
a1730 1
echo "configure:1880: checking if running MachTen" >&5
a1739 1
echo "configure:1890: checking if on Pyramid" >&5
a1748 1
echo "configure:1900: checking if on Apollo" >&5
a1757 1
echo "configure:1910: checking if on Interactive" >&5
a1766 1
echo "configure:1920: checking if stty reads stdout" >&5
a1821 1
echo "configure:1976: checking if running Solaris" >&5
a1840 1
echo "configure:1996: checking for sin" >&5
d1845 1
a1845 1
#line 2001 "configure"
a1850 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d1853 2
a1854 1
int main() {
d1867 1
a1867 1
if { (eval echo configure:2024: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a1870 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1875 1
a1876 1

a1894 1
echo "configure:2054: checking for strftime" >&5
d1899 1
a1899 1
#line 2059 "configure"
a1904 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d1907 2
a1908 1
int main() {
d1921 1
a1921 1
if { (eval echo configure:2082: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a1924 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1929 1
a1930 1

a1958 1
echo "configure:2122: checking for Tcl private headers" >&5
d2022 1
a2022 1
   ac_safe=`echo "tclInt.h" | sed 'y%./+-%__p_%'`
a2023 1
echo "configure:2188: checking for tclInt.h" >&5
d2028 1
a2028 1
#line 2193 "configure"
d2033 2
a2034 2
{ (eval echo configure:2198: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a2039 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2091 1
echo "configure:2259: checking type of library to build" >&5
a2169 1
echo "configure:2338: checking for gethostname" >&5
d2174 1
a2174 1
#line 2343 "configure"
a2179 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2182 2
a2183 1
int main() {
d2196 1
a2196 1
if { (eval echo configure:2366: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2199 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2204 1
a2205 1

d2216 2
a2217 3
  echo $ac_n "checking for gethostname in -linet""... $ac_c" 1>&6
echo "configure:2389: checking for gethostname in -linet" >&5
ac_lib_var=`echo inet'_'gethostname | sed 'y%./+-%__p_%'`
d2224 1
a2224 1
#line 2397 "configure"
a2226 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2229 2
a2230 1
int main() {
d2234 1
a2234 1
if { (eval echo configure:2408: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2237 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2257 1
echo "configure:2434: checking for gethostname" >&5
d2262 1
a2262 1
#line 2439 "configure"
a2267 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2270 2
a2271 1
int main() {
d2284 1
a2284 1
if { (eval echo configure:2462: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2287 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2292 1
a2293 1

d2304 2
a2305 3
  echo $ac_n "checking for gethostname in -linet""... $ac_c" 1>&6
echo "configure:2485: checking for gethostname in -linet" >&5
ac_lib_var=`echo inet'_'gethostname | sed 'y%./+-%__p_%'`
d2312 1
a2312 1
#line 2493 "configure"
a2314 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2317 2
a2318 1
int main() {
d2322 1
a2322 1
if { (eval echo configure:2504: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2325 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2345 1
echo "configure:2530: checking for gethostname" >&5
d2350 1
a2350 1
#line 2535 "configure"
a2355 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2358 2
a2359 1
int main() {
d2372 1
a2372 1
if { (eval echo configure:2558: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2375 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2380 1
a2381 1

d2392 2
a2393 3
  echo $ac_n "checking for gethostname in -linet""... $ac_c" 1>&6
echo "configure:2581: checking for gethostname in -linet" >&5
ac_lib_var=`echo inet'_'gethostname | sed 'y%./+-%__p_%'`
d2400 1
a2400 1
#line 2589 "configure"
a2402 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2405 2
a2406 1
int main() {
d2410 1
a2410 1
if { (eval echo configure:2600: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2413 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2436 1
echo "configure:2629: checking for socket" >&5
d2441 1
a2441 1
#line 2634 "configure"
a2446 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2449 2
a2450 1
int main() {
d2463 1
a2463 1
if { (eval echo configure:2657: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2466 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2471 1
a2472 1

d2483 2
a2484 3
  echo $ac_n "checking for socket in -linet""... $ac_c" 1>&6
echo "configure:2680: checking for socket in -linet" >&5
ac_lib_var=`echo inet'_'socket | sed 'y%./+-%__p_%'`
d2491 1
a2491 1
#line 2688 "configure"
a2493 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2496 2
a2497 1
int main() {
d2501 1
a2501 1
if { (eval echo configure:2699: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2504 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2524 1
echo "configure:2725: checking for socket" >&5
d2529 1
a2529 1
#line 2730 "configure"
a2534 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2537 2
a2538 1
int main() {
d2551 1
a2551 1
if { (eval echo configure:2753: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2554 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2559 1
a2560 1

d2571 2
a2572 3
  echo $ac_n "checking for socket in -linet""... $ac_c" 1>&6
echo "configure:2776: checking for socket in -linet" >&5
ac_lib_var=`echo inet'_'socket | sed 'y%./+-%__p_%'`
d2579 1
a2579 1
#line 2784 "configure"
a2581 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2584 2
a2585 1
int main() {
d2589 1
a2589 1
if { (eval echo configure:2795: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2592 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2612 1
echo "configure:2821: checking for socket" >&5
d2617 1
a2617 1
#line 2826 "configure"
a2622 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2625 2
a2626 1
int main() {
d2639 1
a2639 1
if { (eval echo configure:2849: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2642 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2647 1
a2648 1

d2659 2
a2660 3
  echo $ac_n "checking for socket in -linet""... $ac_c" 1>&6
echo "configure:2872: checking for socket in -linet" >&5
ac_lib_var=`echo inet'_'socket | sed 'y%./+-%__p_%'`
d2667 1
a2667 1
#line 2880 "configure"
a2669 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2672 2
a2673 1
int main() {
d2677 1
a2677 1
if { (eval echo configure:2891: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2680 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2702 1
echo "configure:2919: checking for select" >&5
d2707 1
a2707 1
#line 2924 "configure"
a2712 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2715 2
a2716 1
int main() {
d2729 1
a2729 1
if { (eval echo configure:2947: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2732 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2737 1
a2738 1

d2749 2
a2750 3
  echo $ac_n "checking for select in -linet""... $ac_c" 1>&6
echo "configure:2970: checking for select in -linet" >&5
ac_lib_var=`echo inet'_'select | sed 'y%./+-%__p_%'`
d2757 1
a2757 1
#line 2978 "configure"
a2759 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2762 2
a2763 1
int main() {
d2767 1
a2767 1
if { (eval echo configure:2989: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2770 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2790 1
echo "configure:3015: checking for select" >&5
d2795 1
a2795 1
#line 3020 "configure"
a2800 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2803 2
a2804 1
int main() {
d2817 1
a2817 1
if { (eval echo configure:3043: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2820 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2825 1
a2826 1

d2837 2
a2838 3
  echo $ac_n "checking for select in -linet""... $ac_c" 1>&6
echo "configure:3066: checking for select in -linet" >&5
ac_lib_var=`echo inet'_'select | sed 'y%./+-%__p_%'`
d2845 1
a2845 1
#line 3074 "configure"
a2847 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2850 2
a2851 1
int main() {
d2855 1
a2855 1
if { (eval echo configure:3085: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2858 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2878 1
echo "configure:3111: checking for select" >&5
d2883 1
a2883 1
#line 3116 "configure"
a2888 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2891 2
a2892 1
int main() {
d2905 1
a2905 1
if { (eval echo configure:3139: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2908 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2913 1
a2914 1

d2925 2
a2926 3
  echo $ac_n "checking for select in -linet""... $ac_c" 1>&6
echo "configure:3162: checking for select in -linet" >&5
ac_lib_var=`echo inet'_'select | sed 'y%./+-%__p_%'`
d2933 1
a2933 1
#line 3170 "configure"
a2935 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2938 2
a2939 1
int main() {
d2943 1
a2943 1
if { (eval echo configure:3181: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2946 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2968 1
echo "configure:3209: checking for getpseudotty" >&5
d2973 1
a2973 1
#line 3214 "configure"
a2978 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2981 2
a2982 1
int main() {
d2995 1
a2995 1
if { (eval echo configure:3237: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2998 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3003 1
a3004 1

d3015 2
a3016 3
  echo $ac_n "checking for getpseudotty in -lseq""... $ac_c" 1>&6
echo "configure:3260: checking for getpseudotty in -lseq" >&5
ac_lib_var=`echo seq'_'getpseudotty | sed 'y%./+-%__p_%'`
d3023 1
a3023 1
#line 3268 "configure"
a3025 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3028 2
a3029 1
int main() {
d3033 1
a3033 1
if { (eval echo configure:3279: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3036 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3046 1
a3046 2
    ac_tr_lib=HAVE_LIB`echo seq | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
a3062 1
echo "configure:3312: checking for getpseudotty" >&5
d3067 1
a3067 1
#line 3317 "configure"
a3072 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3075 2
a3076 1
int main() {
d3089 1
a3089 1
if { (eval echo configure:3340: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3092 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3097 1
a3098 1

d3109 2
a3110 3
  echo $ac_n "checking for getpseudotty in -lseq""... $ac_c" 1>&6
echo "configure:3363: checking for getpseudotty in -lseq" >&5
ac_lib_var=`echo seq'_'getpseudotty | sed 'y%./+-%__p_%'`
d3117 1
a3117 1
#line 3371 "configure"
a3119 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3122 2
a3123 1
int main() {
d3127 1
a3127 1
if { (eval echo configure:3382: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3130 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3140 1
a3140 2
    ac_tr_lib=HAVE_LIB`echo seq | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
a3156 1
echo "configure:3415: checking for getpseudotty" >&5
d3161 1
a3161 1
#line 3420 "configure"
a3166 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3169 2
a3170 1
int main() {
d3183 1
a3183 1
if { (eval echo configure:3443: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3186 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3191 1
a3192 1

d3203 2
a3204 3
  echo $ac_n "checking for getpseudotty in -lseq""... $ac_c" 1>&6
echo "configure:3466: checking for getpseudotty in -lseq" >&5
ac_lib_var=`echo seq'_'getpseudotty | sed 'y%./+-%__p_%'`
d3211 1
a3211 1
#line 3474 "configure"
a3213 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3216 2
a3217 1
int main() {
d3221 1
a3221 1
if { (eval echo configure:3485: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3224 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3234 1
a3234 2
    ac_tr_lib=HAVE_LIB`echo seq | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
a3253 1
echo "configure:3521: checking for openpty" >&5
d3258 1
a3258 1
#line 3526 "configure"
a3263 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3266 2
a3267 1
int main() {
d3280 1
a3280 1
if { (eval echo configure:3549: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3283 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3288 1
a3289 1

d3300 2
a3301 3
  echo $ac_n "checking for openpty in -lutil""... $ac_c" 1>&6
echo "configure:3572: checking for openpty in -lutil" >&5
ac_lib_var=`echo util'_'openpty | sed 'y%./+-%__p_%'`
d3308 1
a3308 1
#line 3580 "configure"
a3310 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3313 2
a3314 1
int main() {
d3318 1
a3318 1
if { (eval echo configure:3591: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3321 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a3350 1
echo "configure:3626: checking for openpty" >&5
d3355 1
a3355 1
#line 3631 "configure"
a3360 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3363 2
a3364 1
int main() {
d3377 1
a3377 1
if { (eval echo configure:3654: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3380 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3385 1
a3386 1

d3397 2
a3398 3
  echo $ac_n "checking for openpty in -lutil""... $ac_c" 1>&6
echo "configure:3677: checking for openpty in -lutil" >&5
ac_lib_var=`echo util'_'openpty | sed 'y%./+-%__p_%'`
d3405 1
a3405 1
#line 3685 "configure"
a3407 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3410 2
a3411 1
int main() {
d3415 1
a3415 1
if { (eval echo configure:3696: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3418 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a3444 1
echo "configure:3728: checking for openpty" >&5
d3449 1
a3449 1
#line 3733 "configure"
a3454 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3457 2
a3458 1
int main() {
d3471 1
a3471 1
if { (eval echo configure:3756: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3474 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3479 1
a3480 1

d3491 2
a3492 3
  echo $ac_n "checking for openpty in -lutil""... $ac_c" 1>&6
echo "configure:3779: checking for openpty in -lutil" >&5
ac_lib_var=`echo util'_'openpty | sed 'y%./+-%__p_%'`
d3499 1
a3499 1
#line 3787 "configure"
a3501 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3504 2
a3505 1
int main() {
d3509 1
a3509 1
if { (eval echo configure:3798: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3512 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a3544 1
echo "configure:3836: checking if running Sequent running SVR4" >&5
d3556 1
a3556 1
ac_safe=`echo "sys/sysmacros.h" | sed 'y%./+-%__p_%'`
a3557 1
echo "configure:3850: checking for sys/sysmacros.h" >&5
d3562 1
a3562 1
#line 3855 "configure"
d3567 2
a3568 2
{ (eval echo configure:3860: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3573 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3589 1
a3589 1
ac_safe=`echo "stdlib.h" | sed 'y%./+-%__p_%'`
a3590 1
echo "configure:3886: checking for stdlib.h" >&5
d3595 1
a3595 1
#line 3891 "configure"
d3600 2
a3601 2
{ (eval echo configure:3896: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3606 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3623 1
a3623 1
ac_safe=`echo "inttypes.h" | sed 'y%./+-%__p_%'`
a3624 1
echo "configure:3923: checking for inttypes.h" >&5
d3629 1
a3629 1
#line 3928 "configure"
d3634 2
a3635 2
{ (eval echo configure:3933: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3640 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3660 1
a3660 1
ac_safe=`echo "varargs.h" | sed 'y%./+-%__p_%'`
a3661 1
echo "configure:3963: checking for varargs.h" >&5
d3666 1
a3666 1
#line 3968 "configure"
d3671 2
a3672 2
{ (eval echo configure:3973: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3677 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3693 1
a3693 1
ac_safe=`echo "unistd.h" | sed 'y%./+-%__p_%'`
a3694 1
echo "configure:3999: checking for unistd.h" >&5
d3699 1
a3699 1
#line 4004 "configure"
d3704 2
a3705 2
{ (eval echo configure:4009: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3710 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3726 1
a3726 1
ac_safe=`echo "sys/stropts.h" | sed 'y%./+-%__p_%'`
a3727 1
echo "configure:4035: checking for sys/stropts.h" >&5
d3732 1
a3732 1
#line 4040 "configure"
d3737 2
a3738 2
{ (eval echo configure:4045: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3743 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3759 1
a3759 1
ac_safe=`echo "sys/sysconfig.h" | sed 'y%./+-%__p_%'`
a3760 1
echo "configure:4071: checking for sys/sysconfig.h" >&5
d3765 1
a3765 1
#line 4076 "configure"
d3770 2
a3771 2
{ (eval echo configure:4081: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3776 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3792 1
a3792 1
ac_safe=`echo "sys/fcntl.h" | sed 'y%./+-%__p_%'`
a3793 1
echo "configure:4107: checking for sys/fcntl.h" >&5
d3798 1
a3798 1
#line 4112 "configure"
d3803 2
a3804 2
{ (eval echo configure:4117: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3809 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3825 1
a3825 1
ac_safe=`echo "sys/select.h" | sed 'y%./+-%__p_%'`
a3826 1
echo "configure:4143: checking for sys/select.h" >&5
d3831 1
a3831 1
#line 4148 "configure"
d3836 2
a3837 2
{ (eval echo configure:4153: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3842 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3858 1
a3858 1
ac_safe=`echo "sys/time.h" | sed 'y%./+-%__p_%'`
a3859 1
echo "configure:4179: checking for sys/time.h" >&5
d3864 1
a3864 1
#line 4184 "configure"
d3869 2
a3870 2
{ (eval echo configure:4189: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3875 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3891 1
a3891 1
ac_safe=`echo "sys/ptem.h" | sed 'y%./+-%__p_%'`
a3892 1
echo "configure:4215: checking for sys/ptem.h" >&5
d3897 1
a3897 1
#line 4220 "configure"
d3902 2
a3903 2
{ (eval echo configure:4225: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3908 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3924 1
a3924 1
ac_safe=`echo "sys/strredir.h" | sed 'y%./+-%__p_%'`
a3925 1
echo "configure:4251: checking for sys/strredir.h" >&5
d3930 1
a3930 1
#line 4256 "configure"
d3935 2
a3936 2
{ (eval echo configure:4261: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3941 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3957 1
a3957 1
ac_safe=`echo "sys/strpty.h" | sed 'y%./+-%__p_%'`
a3958 1
echo "configure:4287: checking for sys/strpty.h" >&5
d3963 1
a3963 1
#line 4292 "configure"
d3968 2
a3969 2
{ (eval echo configure:4297: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3974 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a3992 1
echo "configure:4324: checking for sys/bsdtypes.h" >&5
d3998 1
a3998 1
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
a3999 1
echo "configure:4332: checking for $ac_hdr" >&5
d4004 1
a4004 1
#line 4337 "configure"
d4009 2
a4010 2
{ (eval echo configure:4342: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a4015 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4023 1
a4023 1
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
a4040 1
echo "configure:4376: checking for memmove" >&5
d4045 1
a4045 1
#line 4381 "configure"
a4050 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4053 2
a4054 1
int main() {
d4067 1
a4067 1
if { (eval echo configure:4404: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4070 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4075 1
a4076 1

a4087 1
echo "configure:4427: checking for sysconf" >&5
d4092 1
a4092 1
#line 4432 "configure"
a4097 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4100 2
a4101 1
int main() {
d4114 1
a4114 1
if { (eval echo configure:4455: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4117 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4122 1
a4123 1

a4134 1
echo "configure:4478: checking for strftime" >&5
d4139 1
a4139 1
#line 4483 "configure"
a4144 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4147 2
a4148 1
int main() {
d4161 1
a4161 1
if { (eval echo configure:4506: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4164 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4169 1
a4170 1

a4181 1
echo "configure:4529: checking for strchr" >&5
d4186 1
a4186 1
#line 4534 "configure"
a4191 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4194 2
a4195 1
int main() {
d4208 1
a4208 1
if { (eval echo configure:4557: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4211 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4216 1
a4217 1

a4228 1
echo "configure:4580: checking for timezone" >&5
d4233 1
a4233 1
#line 4585 "configure"
a4238 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4241 2
a4242 1
int main() {
d4255 1
a4255 1
if { (eval echo configure:4608: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4258 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4263 1
a4264 1

a4279 1
echo "configure:4635: checking for memcpy" >&5
d4281 1
a4281 1
#line 4637 "configure"
d4284 2
a4285 1
int main() {
d4292 1
a4292 1
if { (eval echo configure:4647: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4300 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4307 1
a4312 1
echo "configure:4669: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4317 2
a4318 2
  cat > conftest.$ac_ext <<EOF
#line 4675 "configure"
d4330 2
a4331 2
if { (eval echo configure:4687: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a4338 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d4342 1
a4343 2
fi

a4345 1
echo "configure:4707: checking if any value exists for WNOHANG" >&5
d4351 2
a4352 2
  cat > conftest.$ac_ext <<EOF
#line 4714 "configure"
d4368 2
a4369 2
if { (eval echo configure:4730: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a4377 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d4385 1
a4386 2
fi

a4396 1
echo "configure:4763: checking union wait" >&5
d4398 1
a4398 1
#line 4765 "configure"
d4402 2
a4403 1
int main() {
d4411 1
a4411 1
if { (eval echo configure:4777: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4414 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4419 1
a4439 1
echo "configure:4807: checking mask type of select" >&5
a4452 1
echo "configure:4821: checking if signals need to be re-armed" >&5
d4457 2
a4458 2
  cat > conftest.$ac_ext <<EOF
#line 4827 "configure"
d4497 2
a4498 2
if { (eval echo configure:4866: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a4505 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d4509 1
a4510 2
fi

a4523 1
echo "configure:4897: checking if on Convex" >&5
a4541 1
echo "configure:4916: checking if on NeXT" >&5
a4551 1
echo "configure:4927: checking if on HP" >&5
a4560 1
echo "configure:4937: checking sane default stty arguments" >&5
a4577 1
echo "configure:4955: checking for HP style pty allocation" >&5
a4590 1
echo "configure:4969: checking for HP style pty trapping" >&5
d4592 1
a4592 1
#line 4971 "configure"
a4613 1
echo "configure:4993: checking for AIX new-style pty allocation" >&5
a4624 1
echo "configure:5005: checking for SGI old-style pty allocation" >&5
a4640 1
echo "configure:5022: checking for SCO style pty allocation" >&5
a4656 1
echo "configure:5039: checking for SVR4 style pty allocation" >&5
a4664 1
echo "configure:5048: checking for ptsname" >&5
d4669 1
a4669 1
#line 5053 "configure"
a4674 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4677 2
a4678 1
int main() {
d4691 1
a4691 1
if { (eval echo configure:5076: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4694 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4699 1
a4700 1

a4710 1
echo "configure:5098: checking for ptsname" >&5
d4715 1
a4715 1
#line 5103 "configure"
a4720 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4723 2
a4724 1
int main() {
d4737 1
a4737 1
if { (eval echo configure:5126: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4740 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4745 1
a4746 1

a4755 1
echo "configure:5147: checking for ptsname" >&5
d4760 1
a4760 1
#line 5152 "configure"
a4765 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4768 2
a4769 1
int main() {
d4782 1
a4782 1
if { (eval echo configure:5175: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4785 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4790 1
a4791 1

a4806 1
echo "configure:5202: checking for OSF/1 style pty allocation" >&5
a4819 1
echo "configure:5216: checking for tcgetattr" >&5
d4824 1
a4824 1
#line 5221 "configure"
a4829 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4832 2
a4833 1
int main() {
d4846 1
a4846 1
if { (eval echo configure:5244: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4849 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4854 1
a4855 1

a4863 1
echo "configure:5264: checking for tcsetattr" >&5
d4868 1
a4868 1
#line 5269 "configure"
a4873 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4876 2
a4877 1
int main() {
d4890 1
a4890 1
if { (eval echo configure:5292: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4893 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4898 1
a4899 1

a4919 1
echo "configure:5324: checking for struct sgttyb" >&5
d4924 2
a4925 2
  cat > conftest.$ac_ext <<EOF
#line 5330 "configure"
d4935 2
a4936 2
if { (eval echo configure:5340: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a4944 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d4948 1
a4949 2
fi

a4959 1
echo "configure:5369: checking for struct termio" >&5
d4964 2
a4965 2
  cat > conftest.$ac_ext <<EOF
#line 5375 "configure"
d4974 2
a4975 2
if { (eval echo configure:5384: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a4983 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d4987 1
a4988 2
fi

a4991 1
echo "configure:5406: checking for struct termios" >&5
d4996 2
a4997 2
  cat > conftest.$ac_ext <<EOF
#line 5412 "configure"
d5011 2
a5012 2
if { (eval echo configure:5426: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5020 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5024 1
a5027 2
fi

a5028 1
echo "configure:5448: checking if TCGETS or TCGETA in termios.h" >&5
d5033 2
a5034 2
  cat > conftest.$ac_ext <<EOF
#line 5454 "configure"
d5050 2
a5051 2
if { (eval echo configure:5470: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5058 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5062 1
a5063 2
fi

a5065 1
echo "configure:5490: checking if TIOCGWINSZ in termios.h" >&5
d5070 2
a5071 2
  cat > conftest.$ac_ext <<EOF
#line 5496 "configure"
d5087 2
a5088 2
if { (eval echo configure:5512: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5095 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5099 1
a5100 2
fi

a5103 1
echo "configure:5533: checking for Cray-style ptys" >&5
d5109 2
a5110 2
  cat > conftest.$ac_ext <<EOF
#line 5540 "configure"
d5122 2
a5123 2
if { (eval echo configure:5552: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5128 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5132 1
a5133 2
fi

a5142 1
echo "configure:5577: checking for select" >&5
d5147 1
a5147 1
#line 5582 "configure"
a5152 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d5155 2
a5156 1
int main() {
d5169 1
a5169 1
if { (eval echo configure:5605: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a5172 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5177 1
a5178 1

a5186 1
echo "configure:5625: checking for poll" >&5
d5191 1
a5191 1
#line 5630 "configure"
a5196 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d5199 2
a5200 1
int main() {
d5213 1
a5213 1
if { (eval echo configure:5653: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a5216 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5221 1
a5222 1

a5230 1
echo "configure:5673: checking event handling" >&5
a5251 1
echo "configure:5695: checking for $ac_func" >&5
d5256 1
a5256 1
#line 5700 "configure"
a5261 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d5264 2
a5265 1
int main() {
d5278 1
a5278 1
if { (eval echo configure:5723: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a5281 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5286 1
a5287 1

a5302 1
echo "configure:5750: checking for $ac_func" >&5
d5307 1
a5307 1
#line 5755 "configure"
a5312 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d5315 2
a5316 1
int main() {
d5329 1
a5329 1
if { (eval echo configure:5778: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a5332 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5337 1
a5338 1

a5355 1
echo "configure:5807: checking for SV-style timezone" >&5
d5360 2
a5361 2
  cat > conftest.$ac_ext <<EOF
#line 5813 "configure"
d5374 2
a5375 2
if { (eval echo configure:5826: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5381 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5385 1
a5386 2
fi

a5415 1
echo "configure:5872: checking for Tk private headers" >&5
d5479 1
a5479 1
   ac_safe=`echo "tk.h" | sed 'y%./+-%__p_%'`
a5480 1
echo "configure:5938: checking for tk.h" >&5
d5485 1
a5485 1
#line 5943 "configure"
d5490 2
a5491 2
{ (eval echo configure:5948: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a5496 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a5586 1
echo "configure:6047: checking for long file names" >&5
d5593 3
d5599 1
a5599 11
#      $TMPDIR		if set, where it might want to write temporary files
# if $TMPDIR is not set:
#      /tmp		where it might want to write temporary files
#      /var/tmp		likewise
#      /usr/tmp		likewise
if test -n "$TMPDIR" && test -d "$TMPDIR" && test -w "$TMPDIR"; then
  ac_tmpdirs="$TMPDIR"
else
  ac_tmpdirs='/tmp /var/tmp /usr/tmp'
fi
for ac_dir in  . $ac_tmpdirs `eval echo $prefix/lib $exec_prefix/lib` ; do
a5636 1
echo "configure:6105: checking for type of library to build" >&5
d5789 1
a5789 1
    echo "$CONFIG_STATUS generated by autoconf version 2.13"
a5808 1
s%@@SHELL@@%$SHELL%g
a5811 1
s%@@FFLAGS@@%$FFLAGS%g
a5863 1
s%@@INSTALL_SCRIPT@@%$INSTALL_SCRIPT%g
a5900 36

cat >> $CONFIG_STATUS <<\EOF

# Split the substitutions into bite-sized pieces for seds with
# small command number limits, like on Digital OSF/1 and HP-UX.
ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
ac_file=1 # Number of current file.
ac_beg=1 # First line for current file.
ac_end=$ac_max_sed_cmds # Line after last line for current file.
ac_more_lines=:
ac_sed_cmds=""
while $ac_more_lines; do
  if test $ac_beg -gt 1; then
    sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
  else
    sed "${ac_end}q" conftest.subs > conftest.s$ac_file
  fi
  if test ! -s conftest.s$ac_file; then
    ac_more_lines=false
    rm -f conftest.s$ac_file
  else
    if test -z "$ac_sed_cmds"; then
      ac_sed_cmds="sed -f conftest.s$ac_file"
    else
      ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
    fi
    ac_file=`expr $ac_file + 1`
    ac_beg=$ac_end
    ac_end=`expr $ac_end + $ac_max_sed_cmds`
  fi
done
if test -z "$ac_sed_cmds"; then
  ac_sed_cmds=cat
fi
EOF

d5907 1
a5907 1
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
d5909 1
a5909 1
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
d5914 1
a5914 1
  # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.
a5941 1

a5949 2

  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
d5955 1
a5955 1
" $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
d5957 1
a5957 1
rm -f conftest.s*
d5978 1
a5978 7
if test "${CONFIG_HEADERS+set}" != set; then
EOF
cat >> $CONFIG_STATUS <<EOF
  CONFIG_HEADERS="expect_cf.h"
EOF
cat >> $CONFIG_STATUS <<\EOF
fi
d5980 1
a5980 1
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
d5982 1
a5982 1
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
d5990 1
a5990 2
  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  cat $ac_file_inputs > conftest.in
d6018 2
a6049 6
    # Remove last slash and all that follows it.  Not all systems have dirname.
      ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
      if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
      # The file is in a subdirectory.
      test ! -d "$ac_dir" && mkdir "$ac_dir"
    fi
a6054 2
EOF
cat >> $CONFIG_STATUS <<EOF
a6055 2
EOF
cat >> $CONFIG_STATUS <<\EOF
a6110 3
      # A "../" for each directory in /$ac_config_dir.
      ac_dots=`echo $ac_config_dir|sed -e 's%^\./%%' -e 's%[^/]$%&/%' -e 's%[^/]*/%../%g'`

d6117 1
a6117 1
      ac_sub_srcdir=$ac_dots$srcdir/$ac_config_dir ;;
d6134 2
@


5.30.2.6
log
@* expect.c: Fixed bug in token parsing where index was not being
incremented properly.

* configure.in: Changed version number to 5.31.

* aclocal.m4: Fixed CY_AC_LOAD_TKCONFIG so it tests for Tk_Init
instead of Tk_Main (which is only a macro in 8.1 and later).  Also
added TCL_BUILD_LIB_SPEC to the set of flags used in this test to
avoid linker errors.

* Dbgconfig.in: move CY_*_TCLCONFIG tests below AC_PROG_CC so it
will work with gcc
@
text
@d4 1
a4 1
# Generated automatically using autoconf version 2.9 
d70 3
d354 1
a354 1
    echo "configure generated by autoconf version 2.9"
d456 5
a460 3
# Only set LANG and LC_ALL to C if already set.
# These must not be set unconditionally because not all systems understand
# e.g. LANG=C (notably SCO).
d462 2
a463 1
if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
d517 2
a518 1
ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
d520 2
d539 1
a539 1
EXP_MINOR_VERSION=31
d593 1
a593 1
if $ac_config_sub sun4 >/dev/null 2>&1; then :
d598 1
d605 1
a605 1
    if host_alias=`$ac_config_guess`; then :
d612 4
a615 4
host=`$ac_config_sub $host_alias`
host_cpu=`echo $host | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\1/'`
host_vendor=`echo $host | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\2/'`
host_os=`echo $host | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\3/'`
d619 1
d630 4
a633 4
target=`$ac_config_sub $target_alias`
target_cpu=`echo $target | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\1/'`
target_vendor=`echo $target | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\2/'`
target_os=`echo $target | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\3/'`
d637 1
d648 4
a651 4
build=`$ac_config_sub $build_alias`
build_cpu=`echo $build | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\1/'`
build_vendor=`echo $build | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\2/'`
build_os=`echo $build | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\3/'`
d667 1
d701 1
d708 3
a710 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d731 1
d738 1
a738 1
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
d740 2
a741 1
  for ac_dir in $PATH; do
d776 34
d813 47
d861 1
d870 1
a870 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:772: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d878 1
d881 10
a890 3
  if test "${CFLAGS+set}" != set; then
    echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
if eval "test \"`echo '$''{'ac_cv_prog_gcc_g'+set}'`\" = set"; then
d895 1
a895 1
  ac_cv_prog_gcc_g=yes
d897 1
a897 1
  ac_cv_prog_gcc_g=no
d903 8
a910 6
echo "$ac_t""$ac_cv_prog_gcc_g" 1>&6
    if test $ac_cv_prog_gcc_g = yes; then
      CFLAGS="-g -O"
    else
      CFLAGS="-O"
    fi
d913 5
a917 2
  GCC=
  test "${CFLAGS+set}" = set || CFLAGS="-g"
d940 1
d1029 1
d1033 1
d1038 1
a1038 1
#line 924 "configure"
d1044 2
d1048 1
a1048 2
int main() { return 0; }
int t() {
d1061 1
a1061 1
if { (eval echo configure:946: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d1065 2
d1071 1
a1072 1
fi
d1077 1
d1087 1
d1119 1
d1202 4
a1205 3
eval "LIBS=\"$TK_BUILD_LIB_SPEC $TCL_BUILD_LIB_SPEC $TK_LIBS\""
echo $ac_n "checking for Tk_Init""... $ac_c" 1>&6
if eval "test \"`echo '$''{'ac_cv_func_Tk_Init'+set}'`\" = set"; then
d1209 1
a1209 1
#line 1088 "configure"
d1212 1
a1212 1
    which can conflict with char Tk_Init(); below.  */
d1215 3
a1217 1
char Tk_Init();
d1219 1
a1219 2
int main() { return 0; }
int t() {
d1224 1
a1224 1
#if defined (__stub_Tk_Init) || defined (__stub___Tk_Init)
d1227 1
a1227 1
Tk_Init();
d1232 1
a1232 1
if { (eval echo configure:1110: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d1234 1
a1234 1
  eval "ac_cv_func_Tk_Init=yes"
d1236 2
d1239 1
a1239 1
  eval "ac_cv_func_Tk_Init=no"
d1242 1
d1244 1
a1244 2
fi
if eval "test \"`echo '$ac_cv_func_'Tk_Init`\" = yes"; then
d1248 1
d1258 1
d1273 1
d1275 1
a1275 1
#line 1148 "configure"
d1278 1
a1278 2
int main() { return 0; }
int t() {
d1282 1
a1282 1
if { (eval echo configure:1156: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1286 2
a1292 1

d1294 1
a1294 1
#line 1167 "configure"
d1297 1
a1297 2
int main() { return 0; }
int t() {
d1301 1
a1301 1
if { (eval echo configure:1175: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d1305 2
a1311 1

d1330 1
d1335 1
d1340 1
a1340 1
    IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
d1347 3
a1349 1
      for ac_prog in ginstall installbsd scoinst install; do
a1353 1
	    # OSF/1 installbsd also uses dspmsg, but is usable.
d1364 1
a1364 1
  IFS="$ac_save_ifs"
d1383 2
d1392 1
d1399 3
a1401 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d1432 1
d1447 1
a1447 1
#line 1312 "configure"
d1453 2
a1454 2
{ (eval echo configure:1318: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1459 2
d1464 1
a1464 1
#line 1327 "configure"
d1470 2
a1471 2
{ (eval echo configure:1333: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1476 19
d1501 2
d1513 1
d1518 1
a1518 1
#line 1359 "configure"
d1548 1
d1553 1
a1553 1
#line 1393 "configure"
d1556 1
a1556 2
int main() { return 0; }
int t() {
d1569 1
a1569 1
if { (eval echo configure:1410: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1573 2
a1578 1

a1587 26
# If we cannot run a trivial program, we must be cross compiling.
echo $ac_n "checking whether cross-compiling""... $ac_c" 1>&6
if eval "test \"`echo '$''{'ac_cv_c_cross'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_c_cross=yes
else
cat > conftest.$ac_ext <<EOF
#line 1437 "configure"
#include "confdefs.h"
main(){return(0);}
EOF
{ (eval echo configure:1441: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
  ac_cv_c_cross=no
else
  ac_cv_c_cross=yes
fi
fi
rm -fr conftest*
fi

echo "$ac_t""$ac_cv_c_cross" 1>&6
cross_compiling=$ac_cv_c_cross

d1589 1
d1594 1
a1594 1
#line 1459 "configure"
d1602 2
a1603 2
{ (eval echo configure:1467: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1609 2
d1619 1
a1619 1
#line 1482 "configure"
d1637 1
a1637 1
#line 1500 "configure"
d1657 2
a1658 2
cat > conftest.$ac_ext <<EOF
#line 1521 "configure"
d1669 2
a1670 2
{ (eval echo configure:1532: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d1673 3
d1678 1
d1680 1
a1680 1
rm -fr conftest*
d1693 1
d1698 1
a1698 1
#line 1556 "configure"
d1703 1
d1707 1
a1707 1
  egrep "pid_t" >/dev/null 2>&1; then
d1726 1
d1731 1
a1731 1
#line 1587 "configure"
d1744 1
a1744 2
int main() { return 0; }
int t() {
d1748 1
a1748 1
if { (eval echo configure:1605: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1752 2
a1757 1

d1767 1
d1772 1
a1772 1
#line 1627 "configure"
d1777 1
a1777 2
int main() { return 0; }
int t() {
d1781 1
a1781 1
if { (eval echo configure:1637: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1785 2
a1790 1

d1802 1
d1807 1
a1807 1
#line 1661 "configure"
d1817 1
a1817 2
int main() { return 0; }
int t() {
d1823 1
a1823 1
if { (eval echo configure:1678: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1827 2
a1832 1

d1863 1
d1879 1
d1889 1
d1899 1
d1909 1
d1919 1
d1975 1
d1995 1
d2000 1
a2000 1
#line 1846 "configure"
d2006 2
d2010 1
a2010 2
int main() { return 0; }
int t() {
d2023 1
a2023 1
if { (eval echo configure:1868: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2027 2
d2033 1
a2034 1
fi
d2053 1
d2058 1
a2058 1
#line 1900 "configure"
d2064 2
d2068 1
a2068 2
int main() { return 0; }
int t() {
d2081 1
a2081 1
if { (eval echo configure:1922: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2085 2
d2091 1
a2092 1
fi
d2121 1
d2185 1
a2185 1
   ac_safe=`echo "tclInt.h" | tr './\055' '___'`
d2187 1
d2192 1
a2192 1
#line 2029 "configure"
d2197 2
a2198 2
{ (eval echo configure:2034: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d2204 2
d2258 1
d2337 1
d2342 1
a2342 1
#line 2175 "configure"
d2348 2
d2352 1
a2352 2
int main() { return 0; }
int t() {
d2365 1
a2365 1
if { (eval echo configure:2197: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2369 2
d2375 1
a2376 1
fi
d2387 3
a2389 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_gethostname | tr '.-/+' '___p'`
d2396 1
a2396 1
#line 2225 "configure"
d2399 2
d2403 1
a2403 2
int main() { return 0; }
int t() {
d2407 1
a2407 1
if { (eval echo configure:2235: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2411 2
d2433 1
d2438 1
a2438 1
#line 2263 "configure"
d2444 2
d2448 1
a2448 2
int main() { return 0; }
int t() {
d2461 1
a2461 1
if { (eval echo configure:2285: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2465 2
d2471 1
a2472 1
fi
d2483 3
a2485 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_gethostname | tr '.-/+' '___p'`
d2492 1
a2492 1
#line 2313 "configure"
d2495 2
d2499 1
a2499 2
int main() { return 0; }
int t() {
d2503 1
a2503 1
if { (eval echo configure:2323: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2507 2
d2529 1
d2534 1
a2534 1
#line 2351 "configure"
d2540 2
d2544 1
a2544 2
int main() { return 0; }
int t() {
d2557 1
a2557 1
if { (eval echo configure:2373: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2561 2
d2567 1
a2568 1
fi
d2579 3
a2581 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_gethostname | tr '.-/+' '___p'`
d2588 1
a2588 1
#line 2401 "configure"
d2591 2
d2595 1
a2595 2
int main() { return 0; }
int t() {
d2599 1
a2599 1
if { (eval echo configure:2411: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2603 2
d2628 1
d2633 1
a2633 1
#line 2442 "configure"
d2639 2
d2643 1
a2643 2
int main() { return 0; }
int t() {
d2656 1
a2656 1
if { (eval echo configure:2464: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2660 2
d2666 1
a2667 1
fi
d2678 3
a2680 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_socket | tr '.-/+' '___p'`
d2687 1
a2687 1
#line 2492 "configure"
d2690 2
d2694 1
a2694 2
int main() { return 0; }
int t() {
d2698 1
a2698 1
if { (eval echo configure:2502: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2702 2
d2724 1
d2729 1
a2729 1
#line 2530 "configure"
d2735 2
d2739 1
a2739 2
int main() { return 0; }
int t() {
d2752 1
a2752 1
if { (eval echo configure:2552: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2756 2
d2762 1
a2763 1
fi
d2774 3
a2776 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_socket | tr '.-/+' '___p'`
d2783 1
a2783 1
#line 2580 "configure"
d2786 2
d2790 1
a2790 2
int main() { return 0; }
int t() {
d2794 1
a2794 1
if { (eval echo configure:2590: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2798 2
d2820 1
d2825 1
a2825 1
#line 2618 "configure"
d2831 2
d2835 1
a2835 2
int main() { return 0; }
int t() {
d2848 1
a2848 1
if { (eval echo configure:2640: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2852 2
d2858 1
a2859 1
fi
d2870 3
a2872 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_socket | tr '.-/+' '___p'`
d2879 1
a2879 1
#line 2668 "configure"
d2882 2
d2886 1
a2886 2
int main() { return 0; }
int t() {
d2890 1
a2890 1
if { (eval echo configure:2678: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2894 2
d2918 1
d2923 1
a2923 1
#line 2708 "configure"
d2929 2
d2933 1
a2933 2
int main() { return 0; }
int t() {
d2946 1
a2946 1
if { (eval echo configure:2730: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2950 2
d2956 1
a2957 1
fi
d2968 3
a2970 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_select | tr '.-/+' '___p'`
d2977 1
a2977 1
#line 2758 "configure"
d2980 2
d2984 1
a2984 2
int main() { return 0; }
int t() {
d2988 1
a2988 1
if { (eval echo configure:2768: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2992 2
d3014 1
d3019 1
a3019 1
#line 2796 "configure"
d3025 2
d3029 1
a3029 2
int main() { return 0; }
int t() {
d3042 1
a3042 1
if { (eval echo configure:2818: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3046 2
d3052 1
a3053 1
fi
d3064 3
a3066 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_select | tr '.-/+' '___p'`
d3073 1
a3073 1
#line 2846 "configure"
d3076 2
d3080 1
a3080 2
int main() { return 0; }
int t() {
d3084 1
a3084 1
if { (eval echo configure:2856: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3088 2
d3110 1
d3115 1
a3115 1
#line 2884 "configure"
d3121 2
d3125 1
a3125 2
int main() { return 0; }
int t() {
d3138 1
a3138 1
if { (eval echo configure:2906: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3142 2
d3148 1
a3149 1
fi
d3160 3
a3162 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_select | tr '.-/+' '___p'`
d3169 1
a3169 1
#line 2934 "configure"
d3172 2
d3176 1
a3176 2
int main() { return 0; }
int t() {
d3180 1
a3180 1
if { (eval echo configure:2944: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3184 2
d3208 1
d3213 1
a3213 1
#line 2974 "configure"
d3219 2
d3223 1
a3223 2
int main() { return 0; }
int t() {
d3236 1
a3236 1
if { (eval echo configure:2996: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3240 2
d3246 1
a3247 1
fi
d3258 3
a3260 2
  echo $ac_n "checking for -lseq""... $ac_c" 1>&6
ac_lib_var=`echo seq_getpseudotty | tr '.-/+' '___p'`
d3267 1
a3267 1
#line 3024 "configure"
d3270 2
d3274 1
a3274 2
int main() { return 0; }
int t() {
d3278 1
a3278 1
if { (eval echo configure:3034: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3282 2
d3293 2
a3294 1
    ac_tr_lib=HAVE_LIB`echo seq | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
d3311 1
d3316 1
a3316 1
#line 3068 "configure"
d3322 2
d3326 1
a3326 2
int main() { return 0; }
int t() {
d3339 1
a3339 1
if { (eval echo configure:3090: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3343 2
d3349 1
a3350 1
fi
d3361 3
a3363 2
  echo $ac_n "checking for -lseq""... $ac_c" 1>&6
ac_lib_var=`echo seq_getpseudotty | tr '.-/+' '___p'`
d3370 1
a3370 1
#line 3118 "configure"
d3373 2
d3377 1
a3377 2
int main() { return 0; }
int t() {
d3381 1
a3381 1
if { (eval echo configure:3128: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3385 2
d3396 2
a3397 1
    ac_tr_lib=HAVE_LIB`echo seq | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
d3414 1
d3419 1
a3419 1
#line 3162 "configure"
d3425 2
d3429 1
a3429 2
int main() { return 0; }
int t() {
d3442 1
a3442 1
if { (eval echo configure:3184: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3446 2
d3452 1
a3453 1
fi
d3464 3
a3466 2
  echo $ac_n "checking for -lseq""... $ac_c" 1>&6
ac_lib_var=`echo seq_getpseudotty | tr '.-/+' '___p'`
d3473 1
a3473 1
#line 3212 "configure"
d3476 2
d3480 1
a3480 2
int main() { return 0; }
int t() {
d3484 1
a3484 1
if { (eval echo configure:3222: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3488 2
d3499 2
a3500 1
    ac_tr_lib=HAVE_LIB`echo seq | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
d3520 1
d3525 1
a3525 1
#line 3259 "configure"
d3531 2
d3535 1
a3535 2
int main() { return 0; }
int t() {
d3548 1
a3548 1
if { (eval echo configure:3281: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3552 2
d3558 1
a3559 1
fi
d3570 3
a3572 2
  echo $ac_n "checking for -lutil""... $ac_c" 1>&6
ac_lib_var=`echo util_openpty | tr '.-/+' '___p'`
d3579 1
a3579 1
#line 3309 "configure"
d3582 2
d3586 1
a3586 2
int main() { return 0; }
int t() {
d3590 1
a3590 1
if { (eval echo configure:3319: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3594 2
d3625 1
d3630 1
a3630 1
#line 3356 "configure"
d3636 2
d3640 1
a3640 2
int main() { return 0; }
int t() {
d3653 1
a3653 1
if { (eval echo configure:3378: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3657 2
d3663 1
a3664 1
fi
d3675 3
a3677 2
  echo $ac_n "checking for -lutil""... $ac_c" 1>&6
ac_lib_var=`echo util_openpty | tr '.-/+' '___p'`
d3684 1
a3684 1
#line 3406 "configure"
d3687 2
d3691 1
a3691 2
int main() { return 0; }
int t() {
d3695 1
a3695 1
if { (eval echo configure:3416: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3699 2
d3727 1
d3732 1
a3732 1
#line 3450 "configure"
d3738 2
d3742 1
a3742 2
int main() { return 0; }
int t() {
d3755 1
a3755 1
if { (eval echo configure:3472: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3759 2
d3765 1
a3766 1
fi
d3777 3
a3779 2
  echo $ac_n "checking for -lutil""... $ac_c" 1>&6
ac_lib_var=`echo util_openpty | tr '.-/+' '___p'`
d3786 1
a3786 1
#line 3500 "configure"
d3789 2
d3793 1
a3793 2
int main() { return 0; }
int t() {
d3797 1
a3797 1
if { (eval echo configure:3510: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3801 2
d3835 1
d3847 1
a3847 1
ac_safe=`echo "sys/sysmacros.h" | tr './\055' '___'`
d3849 1
d3854 1
a3854 1
#line 3563 "configure"
d3859 2
a3860 2
{ (eval echo configure:3568: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3866 2
d3883 1
a3883 1
ac_safe=`echo "stdlib.h" | tr './\055' '___'`
d3885 1
d3890 1
a3890 1
#line 3596 "configure"
d3895 2
a3896 2
{ (eval echo configure:3601: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3902 2
d3920 1
a3920 1
ac_safe=`echo "inttypes.h" | tr './\055' '___'`
d3922 1
d3927 1
a3927 1
#line 3630 "configure"
d3932 2
a3933 2
{ (eval echo configure:3635: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3939 2
d3960 1
a3960 1
ac_safe=`echo "varargs.h" | tr './\055' '___'`
d3962 1
d3967 1
a3967 1
#line 3667 "configure"
d3972 2
a3973 2
{ (eval echo configure:3672: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3979 2
d3996 1
a3996 1
ac_safe=`echo "unistd.h" | tr './\055' '___'`
d3998 1
d4003 1
a4003 1
#line 3700 "configure"
d4008 2
a4009 2
{ (eval echo configure:3705: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4015 2
d4032 1
a4032 1
ac_safe=`echo "sys/stropts.h" | tr './\055' '___'`
d4034 1
d4039 1
a4039 1
#line 3733 "configure"
d4044 2
a4045 2
{ (eval echo configure:3738: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4051 2
d4068 1
a4068 1
ac_safe=`echo "sys/sysconfig.h" | tr './\055' '___'`
d4070 1
d4075 1
a4075 1
#line 3766 "configure"
d4080 2
a4081 2
{ (eval echo configure:3771: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4087 2
d4104 1
a4104 1
ac_safe=`echo "sys/fcntl.h" | tr './\055' '___'`
d4106 1
d4111 1
a4111 1
#line 3799 "configure"
d4116 2
a4117 2
{ (eval echo configure:3804: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4123 2
d4140 1
a4140 1
ac_safe=`echo "sys/select.h" | tr './\055' '___'`
d4142 1
d4147 1
a4147 1
#line 3832 "configure"
d4152 2
a4153 2
{ (eval echo configure:3837: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4159 2
d4176 1
a4176 1
ac_safe=`echo "sys/time.h" | tr './\055' '___'`
d4178 1
d4183 1
a4183 1
#line 3865 "configure"
d4188 2
a4189 2
{ (eval echo configure:3870: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4195 2
d4212 1
a4212 1
ac_safe=`echo "sys/ptem.h" | tr './\055' '___'`
d4214 1
d4219 1
a4219 1
#line 3898 "configure"
d4224 2
a4225 2
{ (eval echo configure:3903: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4231 2
d4248 1
a4248 1
ac_safe=`echo "sys/strredir.h" | tr './\055' '___'`
d4250 1
d4255 1
a4255 1
#line 3931 "configure"
d4260 2
a4261 2
{ (eval echo configure:3936: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4267 2
d4284 1
a4284 1
ac_safe=`echo "sys/strpty.h" | tr './\055' '___'`
d4286 1
d4291 1
a4291 1
#line 3964 "configure"
d4296 2
a4297 2
{ (eval echo configure:3969: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4303 2
d4323 1
d4329 1
a4329 1
ac_safe=`echo "$ac_hdr" | tr './\055' '___'`
d4331 1
d4336 1
a4336 1
#line 4005 "configure"
d4341 2
a4342 2
{ (eval echo configure:4010: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4348 2
d4357 1
a4357 1
    ac_tr_hdr=HAVE_`echo $ac_hdr | tr 'abcdefghijklmnopqrstuvwxyz./\055' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ___'`
d4375 1
d4380 1
a4380 1
#line 4046 "configure"
d4386 2
d4390 1
a4390 2
int main() { return 0; }
int t() {
d4403 1
a4403 1
if { (eval echo configure:4068: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4407 2
d4413 1
a4414 1
fi
d4426 1
d4431 1
a4431 1
#line 4093 "configure"
d4437 2
d4441 1
a4441 2
int main() { return 0; }
int t() {
d4454 1
a4454 1
if { (eval echo configure:4115: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4458 2
d4464 1
a4465 1
fi
d4477 1
d4482 1
a4482 1
#line 4140 "configure"
d4488 2
d4492 1
a4492 2
int main() { return 0; }
int t() {
d4505 1
a4505 1
if { (eval echo configure:4162: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4509 2
d4515 1
a4516 1
fi
d4528 1
d4533 1
a4533 1
#line 4187 "configure"
d4539 2
d4543 1
a4543 2
int main() { return 0; }
int t() {
d4556 1
a4556 1
if { (eval echo configure:4209: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4560 2
d4566 1
a4567 1
fi
d4579 1
d4584 1
a4584 1
#line 4234 "configure"
d4590 2
d4594 1
a4594 2
int main() { return 0; }
int t() {
d4607 1
a4607 1
if { (eval echo configure:4256: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4611 2
d4617 1
a4618 1
fi
d4634 1
d4636 1
a4636 1
#line 4282 "configure"
d4639 1
a4639 2
int main() { return 0; }
int t() {
d4646 1
a4646 1
if { (eval echo configure:4293: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4655 2
a4662 1

d4668 1
d4673 2
a4674 2
cat > conftest.$ac_ext <<EOF
#line 4319 "configure"
d4686 2
a4687 2
{ (eval echo configure:4331: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d4695 3
d4701 1
d4703 1
a4703 1
rm -fr conftest*
d4706 1
d4712 2
a4713 2
cat > conftest.$ac_ext <<EOF
#line 4353 "configure"
d4729 2
a4730 2
{ (eval echo configure:4369: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d4739 3
d4749 1
d4751 1
a4751 1
rm -fr conftest*
d4762 1
d4764 1
a4764 1
#line 4399 "configure"
d4768 1
a4768 2
int main() { return 0; }
int t() {
d4776 1
a4776 1
if { (eval echo configure:4412: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4780 2
a4785 1

d4806 1
d4820 1
d4825 2
a4826 2
cat > conftest.$ac_ext <<EOF
#line 4459 "configure"
d4865 2
a4866 2
{ (eval echo configure:4498: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d4874 3
d4880 1
d4882 1
a4882 1
rm -fr conftest*
d4896 1
d4915 1
d4926 1
d4936 1
d4954 1
d4968 1
d4970 1
a4970 1
#line 4593 "configure"
d4992 1
d5004 1
d5021 1
d5038 1
d5047 1
d5052 1
a5052 1
#line 4670 "configure"
d5058 2
d5062 1
a5062 2
int main() { return 0; }
int t() {
d5075 1
a5075 1
if { (eval echo configure:4692: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5079 2
d5085 1
a5086 1
fi
d5097 1
d5102 1
a5102 1
#line 4716 "configure"
d5108 2
d5112 1
a5112 2
int main() { return 0; }
int t() {
d5125 1
a5125 1
if { (eval echo configure:4738: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5129 2
d5135 1
a5136 1
fi
d5146 1
d5151 1
a5151 1
#line 4761 "configure"
d5157 2
d5161 1
a5161 2
int main() { return 0; }
int t() {
d5174 1
a5174 1
if { (eval echo configure:4783: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5178 2
d5184 1
a5185 1
fi
d5201 1
d5215 1
d5220 1
a5220 1
#line 4825 "configure"
d5226 2
d5230 1
a5230 2
int main() { return 0; }
int t() {
d5243 1
a5243 1
if { (eval echo configure:4847: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5247 2
d5253 1
a5254 1
fi
d5263 1
d5268 1
a5268 1
#line 4869 "configure"
d5274 2
d5278 1
a5278 2
int main() { return 0; }
int t() {
d5291 1
a5291 1
if { (eval echo configure:4891: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5295 2
d5301 1
a5302 1
fi
d5323 1
d5328 2
a5329 2
cat > conftest.$ac_ext <<EOF
#line 4926 "configure"
d5339 2
a5340 2
{ (eval echo configure:4936: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5349 3
d5355 1
d5357 1
a5357 1
rm -fr conftest*
d5368 1
d5373 2
a5374 2
cat > conftest.$ac_ext <<EOF
#line 4966 "configure"
d5383 2
a5384 2
{ (eval echo configure:4975: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5393 3
d5399 1
d5401 1
a5401 1
rm -fr conftest*
d5405 1
d5410 2
a5411 2
cat > conftest.$ac_ext <<EOF
#line 4998 "configure"
d5425 2
a5426 2
{ (eval echo configure:5012: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5435 3
d5441 1
d5443 1
a5443 1
rm -fr conftest*
d5447 1
d5452 2
a5453 2
cat > conftest.$ac_ext <<EOF
#line 5035 "configure"
d5469 2
a5470 2
{ (eval echo configure:5051: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5478 3
d5484 1
d5486 1
a5486 1
rm -fr conftest*
d5489 1
d5494 2
a5495 2
cat > conftest.$ac_ext <<EOF
#line 5072 "configure"
d5511 2
a5512 2
{ (eval echo configure:5088: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5520 3
d5526 1
d5528 1
a5528 1
rm -fr conftest*
d5532 1
d5538 2
a5539 2
cat > conftest.$ac_ext <<EOF
#line 5111 "configure"
d5551 2
a5552 2
{ (eval echo configure:5123: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5558 3
d5564 1
d5566 1
a5566 1
rm -fr conftest*
d5576 1
d5581 1
a5581 1
#line 5148 "configure"
d5587 2
d5591 1
a5591 2
int main() { return 0; }
int t() {
d5604 1
a5604 1
if { (eval echo configure:5170: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5608 2
d5614 1
a5615 1
fi
d5624 1
d5629 1
a5629 1
#line 5192 "configure"
d5635 2
d5639 1
a5639 2
int main() { return 0; }
int t() {
d5652 1
a5652 1
if { (eval echo configure:5214: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5656 2
d5662 1
a5663 1
fi
d5672 1
d5694 1
d5699 1
a5699 1
#line 5257 "configure"
d5705 2
d5709 1
a5709 2
int main() { return 0; }
int t() {
d5722 1
a5722 1
if { (eval echo configure:5279: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5726 2
d5732 1
a5733 1
fi
d5749 1
d5754 1
a5754 1
#line 5308 "configure"
d5760 2
d5764 1
a5764 2
int main() { return 0; }
int t() {
d5777 1
a5777 1
if { (eval echo configure:5330: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5781 2
d5787 1
a5788 1
fi
d5806 1
d5811 2
a5812 2
cat > conftest.$ac_ext <<EOF
#line 5362 "configure"
d5825 2
a5826 2
{ (eval echo configure:5375: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5833 3
d5839 1
d5841 1
a5841 1
rm -fr conftest*
d5871 1
d5935 1
a5935 1
   ac_safe=`echo "tk.h" | tr './\055' '___'`
d5937 1
d5942 1
a5942 1
#line 5486 "configure"
d5947 2
a5948 2
{ (eval echo configure:5491: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d5954 2
d6046 1
d6053 5
d6061 6
a6066 4
#      $prefix/lib	where we will be installing things
#      $exec_prefix/lib	likewise
# eval it to expand exec_prefix.
for ac_dir in `eval echo . /tmp /var/tmp /usr/tmp $prefix/lib $exec_prefix/lib` ; do
d6104 1
d6257 1
a6257 1
    echo "$CONFIG_STATUS generated by autoconf version 2.9"
d6277 1
d6281 1
d6334 1
d6372 36
d6414 1
a6414 1
  # Support "outfile[:infile]", defaulting infile="outfile.in".
d6416 1
a6416 1
  *:*) ac_file_in=`echo "$ac_file"|sed 's%.*:%%'`
d6421 1
a6421 1
  # Adjust relative srcdir, etc. for subdirectories.
d6449 1
d6458 2
d6465 1
a6465 1
" -f conftest.subs $ac_given_srcdir/$ac_file_in > $ac_file
d6467 1
a6467 1
rm -f conftest.subs
d6488 7
a6494 1
CONFIG_HEADERS=${CONFIG_HEADERS-"expect_cf.h"}
d6496 1
a6496 1
  # Support "outfile[:infile]", defaulting infile="outfile.in".
d6498 1
a6498 1
  *:*) ac_file_in=`echo "$ac_file"|sed 's%.*:%%'`
d6506 2
a6507 1
  cp $ac_given_srcdir/$ac_file_in conftest.in
a6534 2
# Maximum number of lines to put in a single here document.
ac_max_here_lines=12
d6565 6
d6576 2
d6579 2
d6636 3
d6645 1
a6645 1
      ac_sub_srcdir=../$srcdir/$ac_config_dir ;;
a6661 2
      # A "../" for each directory in /$ac_config_dir.
      ac_dots=`echo $ac_config_dir|sed -e 's%^\./%%' -e 's%[^/]$%&/%' -e 's%[^/]*/%../%g'`
@


5.30.2.7
log
@Fixed interact's -input/-output.
More fixes to exp_eval_with_one_arg.
Now runs dislocate.
@
text
@d4 1
a4 1
# Generated automatically using autoconf version 2.13 
a69 3
SHELL=${CONFIG_SHELL-/bin/sh}
# Maximum number of lines to put in a shell here document.
ac_max_here_lines=12
d351 1
a351 1
    echo "configure generated by autoconf version 2.13"
d453 4
a456 4
# Only set these to C if already set.  These must not be set unconditionally
# because not all systems understand e.g. LANG=C (notably SCO).
# Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
# Non-C LC_CTYPE values break the ctype check.
a457 3
if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi
d511 1
a511 2
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross
a512 2
ac_exeext=
ac_objext=o
d584 1
a584 1
if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :
a588 1
echo "configure:599: checking host system type" >&5
d595 1
a595 1
    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :
d602 4
a605 4
host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`
host_cpu=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
host_vendor=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
host_os=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
a608 1
echo "configure:620: checking target system type" >&5
d619 4
a622 4
target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`
target_cpu=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
target_vendor=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
target_os=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
a625 1
echo "configure:638: checking build system type" >&5
d636 4
a639 4
build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`
build_cpu=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
build_vendor=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
build_os=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
a654 1
echo "configure:668: checking shell to use within Make" >&5
a687 1
echo "configure:702: checking for $ac_word" >&5
d694 2
a695 3
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
a715 1
echo "configure:732: checking for $ac_word" >&5
d722 1
a722 1
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
d724 1
a724 2
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
a758 34
  if test -z "$CC"; then
    case "`uname -s`" in
    *win32* | *WIN32*)
      # Extract the first word of "cl", so it can be a program name with args.
set dummy cl; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:783: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="cl"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
 ;;
    esac
  fi
a761 47
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
echo "configure:815: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5

ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

cat > conftest.$ac_ext << EOF

#line 826 "configure"
#include "confdefs.h"

main(){return(0);}
EOF
if { (eval echo configure:831: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  ac_cv_prog_cc_works=yes
  # If we can't run a trivial program, we are probably using a cross compiler.
  if (./conftest; exit) 2>/dev/null; then
    ac_cv_prog_cc_cross=no
  else
    ac_cv_prog_cc_cross=yes
  fi
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_prog_cc_works=no
fi
rm -fr conftest*
ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

echo "$ac_t""$ac_cv_prog_cc_works" 1>&6
if test $ac_cv_prog_cc_works = no; then
  { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
fi
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
echo "configure:857: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
cross_compiling=$ac_cv_prog_cc_cross

a762 1
echo "configure:862: checking whether we are using GNU C" >&5
d771 1
a771 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:871: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
a778 1

d781 3
a783 10
else
  GCC=
fi

ac_test_CFLAGS="${CFLAGS+set}"
ac_save_CFLAGS="$CFLAGS"
CFLAGS=
echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
echo "configure:890: checking whether ${CC-cc} accepts -g" >&5
if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
d788 1
a788 1
  ac_cv_prog_cc_g=yes
d790 1
a790 1
  ac_cv_prog_cc_g=no
d796 6
a801 8
echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
if test "$ac_test_CFLAGS" = set; then
  CFLAGS="$ac_save_CFLAGS"
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
d804 2
a805 5
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
a827 1
echo "configure:941: checking for Tcl configuration" >&5
a915 1
echo "configure:1030: checking Tcl build library" >&5
a918 1
echo "configure:1034: checking for Tcl_CreateCommand" >&5
d923 1
a923 1
#line 1039 "configure"
a928 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d931 2
a932 1
int main() {
d945 1
a945 1
if { (eval echo configure:1062: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a948 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d953 1
a954 1

a958 1
echo "configure:1078: checking if Tcl library build specification is valid" >&5
a967 1
echo "configure:1088: checking if Tcl library build specification is valid" >&5
a998 1
echo "configure:1120: checking for Tk configuration" >&5
a1082 1
echo "configure:1205: checking for Tk_Init" >&5
d1087 1
a1087 1
#line 1210 "configure"
a1092 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d1095 2
a1096 1
int main() {
d1109 1
a1109 1
if { (eval echo configure:1233: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a1112 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1117 1
a1118 1

a1122 1
echo "configure:1249: checking if Tk library build specification is valid" >&5
a1131 1
echo "configure:1259: checking if Tk library build specification is valid" >&5
a1145 1
echo "configure:1274: checking whether the compiler ($CC) actually works" >&5
d1147 1
a1147 1
#line 1276 "configure"
d1150 2
a1151 1
int main() {
d1155 1
a1155 1
if { (eval echo configure:1283: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1158 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1164 1
d1166 1
a1166 1
#line 1295 "configure"
d1169 2
a1170 1
int main() {
d1174 1
a1174 1
if { (eval echo configure:1302: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a1177 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1183 1
a1201 1
# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
a1205 1
echo "configure:1336: checking for a BSD compatible install" >&5
d1210 1
a1210 1
    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS=":"
d1217 1
a1217 3
      # Don't use installbsd from OSF since it installs stuff as root
      # by default.
      for ac_prog in ginstall scoinst install; do
d1222 1
d1233 1
a1233 1
  IFS="$ac_save_IFS"
a1251 2
test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'

a1258 1
echo "configure:1393: checking for $ac_word" >&5
d1265 2
a1266 3
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
a1296 1
echo "configure:1433: checking how to run the C preprocessor" >&5
d1311 1
a1311 1
#line 1448 "configure"
d1317 2
a1318 2
{ (eval echo configure:1454: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a1322 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1326 1
a1326 1
#line 1465 "configure"
d1332 2
a1333 2
{ (eval echo configure:1471: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a1337 19
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -nologo -E"
  cat > conftest.$ac_ext <<EOF
#line 1482 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1488: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a1343 2
fi
rm -f conftest*
a1353 1
echo "configure:1514: checking if running LynxOS" >&5
d1358 1
a1358 1
#line 1519 "configure"
a1387 1
echo "configure:1549: checking whether -mposix or -X is available" >&5
d1392 1
a1392 1
#line 1554 "configure"
d1395 2
a1396 1
int main() {
d1409 1
a1409 1
if { (eval echo configure:1570: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1412 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1417 1
d1427 26
a1453 1
echo "configure:1590: checking for ANSI C header files" >&5
d1458 1
a1458 1
#line 1595 "configure"
d1466 2
a1467 2
{ (eval echo configure:1603: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a1472 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1481 1
a1481 1
#line 1620 "configure"
d1499 1
a1499 1
#line 1638 "configure"
d1519 2
a1520 2
  cat > conftest.$ac_ext <<EOF
#line 1659 "configure"
d1531 2
a1532 2
if { (eval echo configure:1670: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a1534 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d1537 1
a1539 2

fi
a1550 1
echo "configure:1694: checking for pid_t" >&5
d1555 1
a1555 1
#line 1699 "configure"
a1559 1
#include <stddef.h>
d1563 1
a1563 1
  egrep "(^|[^a-zA-Z_0-9])pid_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
a1581 1
echo "configure:1727: checking return type of signal handlers" >&5
d1586 1
a1586 1
#line 1732 "configure"
d1599 2
a1600 1
int main() {
d1604 1
a1604 1
if { (eval echo configure:1749: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1607 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1612 1
a1621 1
echo "configure:1768: checking whether time.h and sys/time.h may both be included" >&5
d1626 1
a1626 1
#line 1773 "configure"
d1631 2
a1632 1
int main() {
d1636 1
a1636 1
if { (eval echo configure:1782: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1639 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1644 1
a1655 1
echo "configure:1803: checking for sys/wait.h that is POSIX.1 compatible" >&5
d1660 1
a1660 1
#line 1808 "configure"
d1670 2
a1671 1
int main() {
d1677 1
a1677 1
if { (eval echo configure:1824: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1680 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1685 1
a1715 1
echo "configure:1864: checking if running Mach" >&5
a1730 1
echo "configure:1880: checking if running MachTen" >&5
a1739 1
echo "configure:1890: checking if on Pyramid" >&5
a1748 1
echo "configure:1900: checking if on Apollo" >&5
a1757 1
echo "configure:1910: checking if on Interactive" >&5
a1766 1
echo "configure:1920: checking if stty reads stdout" >&5
a1821 1
echo "configure:1976: checking if running Solaris" >&5
a1840 1
echo "configure:1996: checking for sin" >&5
d1845 1
a1845 1
#line 2001 "configure"
a1850 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d1853 2
a1854 1
int main() {
d1867 1
a1867 1
if { (eval echo configure:2024: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a1870 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1875 1
a1876 1

a1894 1
echo "configure:2054: checking for strftime" >&5
d1899 1
a1899 1
#line 2059 "configure"
a1904 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d1907 2
a1908 1
int main() {
d1921 1
a1921 1
if { (eval echo configure:2082: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a1924 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1929 1
a1930 1

a1958 1
echo "configure:2122: checking for Tcl private headers" >&5
d2022 1
a2022 1
   ac_safe=`echo "tclInt.h" | sed 'y%./+-%__p_%'`
a2023 1
echo "configure:2188: checking for tclInt.h" >&5
d2028 1
a2028 1
#line 2193 "configure"
d2033 2
a2034 2
{ (eval echo configure:2198: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a2039 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2091 1
echo "configure:2259: checking type of library to build" >&5
a2169 1
echo "configure:2338: checking for gethostname" >&5
d2174 1
a2174 1
#line 2343 "configure"
a2179 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2182 2
a2183 1
int main() {
d2196 1
a2196 1
if { (eval echo configure:2366: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2199 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2204 1
a2205 1

d2216 2
a2217 3
  echo $ac_n "checking for gethostname in -linet""... $ac_c" 1>&6
echo "configure:2389: checking for gethostname in -linet" >&5
ac_lib_var=`echo inet'_'gethostname | sed 'y%./+-%__p_%'`
d2224 1
a2224 1
#line 2397 "configure"
a2226 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2229 2
a2230 1
int main() {
d2234 1
a2234 1
if { (eval echo configure:2408: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2237 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2257 1
echo "configure:2434: checking for gethostname" >&5
d2262 1
a2262 1
#line 2439 "configure"
a2267 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2270 2
a2271 1
int main() {
d2284 1
a2284 1
if { (eval echo configure:2462: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2287 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2292 1
a2293 1

d2304 2
a2305 3
  echo $ac_n "checking for gethostname in -linet""... $ac_c" 1>&6
echo "configure:2485: checking for gethostname in -linet" >&5
ac_lib_var=`echo inet'_'gethostname | sed 'y%./+-%__p_%'`
d2312 1
a2312 1
#line 2493 "configure"
a2314 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2317 2
a2318 1
int main() {
d2322 1
a2322 1
if { (eval echo configure:2504: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2325 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2345 1
echo "configure:2530: checking for gethostname" >&5
d2350 1
a2350 1
#line 2535 "configure"
a2355 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2358 2
a2359 1
int main() {
d2372 1
a2372 1
if { (eval echo configure:2558: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2375 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2380 1
a2381 1

d2392 2
a2393 3
  echo $ac_n "checking for gethostname in -linet""... $ac_c" 1>&6
echo "configure:2581: checking for gethostname in -linet" >&5
ac_lib_var=`echo inet'_'gethostname | sed 'y%./+-%__p_%'`
d2400 1
a2400 1
#line 2589 "configure"
a2402 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2405 2
a2406 1
int main() {
d2410 1
a2410 1
if { (eval echo configure:2600: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2413 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2436 1
echo "configure:2629: checking for socket" >&5
d2441 1
a2441 1
#line 2634 "configure"
a2446 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2449 2
a2450 1
int main() {
d2463 1
a2463 1
if { (eval echo configure:2657: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2466 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2471 1
a2472 1

d2483 2
a2484 3
  echo $ac_n "checking for socket in -linet""... $ac_c" 1>&6
echo "configure:2680: checking for socket in -linet" >&5
ac_lib_var=`echo inet'_'socket | sed 'y%./+-%__p_%'`
d2491 1
a2491 1
#line 2688 "configure"
a2493 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2496 2
a2497 1
int main() {
d2501 1
a2501 1
if { (eval echo configure:2699: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2504 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2524 1
echo "configure:2725: checking for socket" >&5
d2529 1
a2529 1
#line 2730 "configure"
a2534 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2537 2
a2538 1
int main() {
d2551 1
a2551 1
if { (eval echo configure:2753: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2554 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2559 1
a2560 1

d2571 2
a2572 3
  echo $ac_n "checking for socket in -linet""... $ac_c" 1>&6
echo "configure:2776: checking for socket in -linet" >&5
ac_lib_var=`echo inet'_'socket | sed 'y%./+-%__p_%'`
d2579 1
a2579 1
#line 2784 "configure"
a2581 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2584 2
a2585 1
int main() {
d2589 1
a2589 1
if { (eval echo configure:2795: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2592 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2612 1
echo "configure:2821: checking for socket" >&5
d2617 1
a2617 1
#line 2826 "configure"
a2622 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2625 2
a2626 1
int main() {
d2639 1
a2639 1
if { (eval echo configure:2849: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2642 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2647 1
a2648 1

d2659 2
a2660 3
  echo $ac_n "checking for socket in -linet""... $ac_c" 1>&6
echo "configure:2872: checking for socket in -linet" >&5
ac_lib_var=`echo inet'_'socket | sed 'y%./+-%__p_%'`
d2667 1
a2667 1
#line 2880 "configure"
a2669 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2672 2
a2673 1
int main() {
d2677 1
a2677 1
if { (eval echo configure:2891: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2680 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2702 1
echo "configure:2919: checking for select" >&5
d2707 1
a2707 1
#line 2924 "configure"
a2712 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2715 2
a2716 1
int main() {
d2729 1
a2729 1
if { (eval echo configure:2947: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2732 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2737 1
a2738 1

d2749 2
a2750 3
  echo $ac_n "checking for select in -linet""... $ac_c" 1>&6
echo "configure:2970: checking for select in -linet" >&5
ac_lib_var=`echo inet'_'select | sed 'y%./+-%__p_%'`
d2757 1
a2757 1
#line 2978 "configure"
a2759 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2762 2
a2763 1
int main() {
d2767 1
a2767 1
if { (eval echo configure:2989: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2770 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2790 1
echo "configure:3015: checking for select" >&5
d2795 1
a2795 1
#line 3020 "configure"
a2800 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2803 2
a2804 1
int main() {
d2817 1
a2817 1
if { (eval echo configure:3043: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2820 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2825 1
a2826 1

d2837 2
a2838 3
  echo $ac_n "checking for select in -linet""... $ac_c" 1>&6
echo "configure:3066: checking for select in -linet" >&5
ac_lib_var=`echo inet'_'select | sed 'y%./+-%__p_%'`
d2845 1
a2845 1
#line 3074 "configure"
a2847 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2850 2
a2851 1
int main() {
d2855 1
a2855 1
if { (eval echo configure:3085: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2858 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2878 1
echo "configure:3111: checking for select" >&5
d2883 1
a2883 1
#line 3116 "configure"
a2888 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2891 2
a2892 1
int main() {
d2905 1
a2905 1
if { (eval echo configure:3139: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2908 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2913 1
a2914 1

d2925 2
a2926 3
  echo $ac_n "checking for select in -linet""... $ac_c" 1>&6
echo "configure:3162: checking for select in -linet" >&5
ac_lib_var=`echo inet'_'select | sed 'y%./+-%__p_%'`
d2933 1
a2933 1
#line 3170 "configure"
a2935 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2938 2
a2939 1
int main() {
d2943 1
a2943 1
if { (eval echo configure:3181: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2946 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2968 1
echo "configure:3209: checking for getpseudotty" >&5
d2973 1
a2973 1
#line 3214 "configure"
a2978 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2981 2
a2982 1
int main() {
d2995 1
a2995 1
if { (eval echo configure:3237: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2998 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3003 1
a3004 1

d3015 2
a3016 3
  echo $ac_n "checking for getpseudotty in -lseq""... $ac_c" 1>&6
echo "configure:3260: checking for getpseudotty in -lseq" >&5
ac_lib_var=`echo seq'_'getpseudotty | sed 'y%./+-%__p_%'`
d3023 1
a3023 1
#line 3268 "configure"
a3025 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3028 2
a3029 1
int main() {
d3033 1
a3033 1
if { (eval echo configure:3279: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3036 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3046 1
a3046 2
    ac_tr_lib=HAVE_LIB`echo seq | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
a3062 1
echo "configure:3312: checking for getpseudotty" >&5
d3067 1
a3067 1
#line 3317 "configure"
a3072 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3075 2
a3076 1
int main() {
d3089 1
a3089 1
if { (eval echo configure:3340: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3092 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3097 1
a3098 1

d3109 2
a3110 3
  echo $ac_n "checking for getpseudotty in -lseq""... $ac_c" 1>&6
echo "configure:3363: checking for getpseudotty in -lseq" >&5
ac_lib_var=`echo seq'_'getpseudotty | sed 'y%./+-%__p_%'`
d3117 1
a3117 1
#line 3371 "configure"
a3119 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3122 2
a3123 1
int main() {
d3127 1
a3127 1
if { (eval echo configure:3382: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3130 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3140 1
a3140 2
    ac_tr_lib=HAVE_LIB`echo seq | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
a3156 1
echo "configure:3415: checking for getpseudotty" >&5
d3161 1
a3161 1
#line 3420 "configure"
a3166 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3169 2
a3170 1
int main() {
d3183 1
a3183 1
if { (eval echo configure:3443: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3186 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3191 1
a3192 1

d3203 2
a3204 3
  echo $ac_n "checking for getpseudotty in -lseq""... $ac_c" 1>&6
echo "configure:3466: checking for getpseudotty in -lseq" >&5
ac_lib_var=`echo seq'_'getpseudotty | sed 'y%./+-%__p_%'`
d3211 1
a3211 1
#line 3474 "configure"
a3213 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3216 2
a3217 1
int main() {
d3221 1
a3221 1
if { (eval echo configure:3485: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3224 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3234 1
a3234 2
    ac_tr_lib=HAVE_LIB`echo seq | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
a3253 1
echo "configure:3521: checking for openpty" >&5
d3258 1
a3258 1
#line 3526 "configure"
a3263 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3266 2
a3267 1
int main() {
d3280 1
a3280 1
if { (eval echo configure:3549: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3283 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3288 1
a3289 1

d3300 2
a3301 3
  echo $ac_n "checking for openpty in -lutil""... $ac_c" 1>&6
echo "configure:3572: checking for openpty in -lutil" >&5
ac_lib_var=`echo util'_'openpty | sed 'y%./+-%__p_%'`
d3308 1
a3308 1
#line 3580 "configure"
a3310 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3313 2
a3314 1
int main() {
d3318 1
a3318 1
if { (eval echo configure:3591: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3321 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a3350 1
echo "configure:3626: checking for openpty" >&5
d3355 1
a3355 1
#line 3631 "configure"
a3360 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3363 2
a3364 1
int main() {
d3377 1
a3377 1
if { (eval echo configure:3654: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3380 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3385 1
a3386 1

d3397 2
a3398 3
  echo $ac_n "checking for openpty in -lutil""... $ac_c" 1>&6
echo "configure:3677: checking for openpty in -lutil" >&5
ac_lib_var=`echo util'_'openpty | sed 'y%./+-%__p_%'`
d3405 1
a3405 1
#line 3685 "configure"
a3407 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3410 2
a3411 1
int main() {
d3415 1
a3415 1
if { (eval echo configure:3696: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3418 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a3444 1
echo "configure:3728: checking for openpty" >&5
d3449 1
a3449 1
#line 3733 "configure"
a3454 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3457 2
a3458 1
int main() {
d3471 1
a3471 1
if { (eval echo configure:3756: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3474 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3479 1
a3480 1

d3491 2
a3492 3
  echo $ac_n "checking for openpty in -lutil""... $ac_c" 1>&6
echo "configure:3779: checking for openpty in -lutil" >&5
ac_lib_var=`echo util'_'openpty | sed 'y%./+-%__p_%'`
d3499 1
a3499 1
#line 3787 "configure"
a3501 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3504 2
a3505 1
int main() {
d3509 1
a3509 1
if { (eval echo configure:3798: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3512 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a3544 1
echo "configure:3836: checking if running Sequent running SVR4" >&5
d3556 1
a3556 1
ac_safe=`echo "sys/sysmacros.h" | sed 'y%./+-%__p_%'`
a3557 1
echo "configure:3850: checking for sys/sysmacros.h" >&5
d3562 1
a3562 1
#line 3855 "configure"
d3567 2
a3568 2
{ (eval echo configure:3860: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3573 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3589 1
a3589 1
ac_safe=`echo "stdlib.h" | sed 'y%./+-%__p_%'`
a3590 1
echo "configure:3886: checking for stdlib.h" >&5
d3595 1
a3595 1
#line 3891 "configure"
d3600 2
a3601 2
{ (eval echo configure:3896: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3606 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3623 1
a3623 1
ac_safe=`echo "inttypes.h" | sed 'y%./+-%__p_%'`
a3624 1
echo "configure:3923: checking for inttypes.h" >&5
d3629 1
a3629 1
#line 3928 "configure"
d3634 2
a3635 2
{ (eval echo configure:3933: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3640 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3660 1
a3660 1
ac_safe=`echo "varargs.h" | sed 'y%./+-%__p_%'`
a3661 1
echo "configure:3963: checking for varargs.h" >&5
d3666 1
a3666 1
#line 3968 "configure"
d3671 2
a3672 2
{ (eval echo configure:3973: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3677 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3693 1
a3693 1
ac_safe=`echo "unistd.h" | sed 'y%./+-%__p_%'`
a3694 1
echo "configure:3999: checking for unistd.h" >&5
d3699 1
a3699 1
#line 4004 "configure"
d3704 2
a3705 2
{ (eval echo configure:4009: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3710 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3726 1
a3726 1
ac_safe=`echo "sys/stropts.h" | sed 'y%./+-%__p_%'`
a3727 1
echo "configure:4035: checking for sys/stropts.h" >&5
d3732 1
a3732 1
#line 4040 "configure"
d3737 2
a3738 2
{ (eval echo configure:4045: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3743 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3759 1
a3759 1
ac_safe=`echo "sys/sysconfig.h" | sed 'y%./+-%__p_%'`
a3760 1
echo "configure:4071: checking for sys/sysconfig.h" >&5
d3765 1
a3765 1
#line 4076 "configure"
d3770 2
a3771 2
{ (eval echo configure:4081: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3776 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3792 1
a3792 1
ac_safe=`echo "sys/fcntl.h" | sed 'y%./+-%__p_%'`
a3793 1
echo "configure:4107: checking for sys/fcntl.h" >&5
d3798 1
a3798 1
#line 4112 "configure"
d3803 2
a3804 2
{ (eval echo configure:4117: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3809 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3825 1
a3825 1
ac_safe=`echo "sys/select.h" | sed 'y%./+-%__p_%'`
a3826 1
echo "configure:4143: checking for sys/select.h" >&5
d3831 1
a3831 1
#line 4148 "configure"
d3836 2
a3837 2
{ (eval echo configure:4153: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3842 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3858 1
a3858 1
ac_safe=`echo "sys/time.h" | sed 'y%./+-%__p_%'`
a3859 1
echo "configure:4179: checking for sys/time.h" >&5
d3864 1
a3864 1
#line 4184 "configure"
d3869 2
a3870 2
{ (eval echo configure:4189: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3875 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3891 1
a3891 1
ac_safe=`echo "sys/ptem.h" | sed 'y%./+-%__p_%'`
a3892 1
echo "configure:4215: checking for sys/ptem.h" >&5
d3897 1
a3897 1
#line 4220 "configure"
d3902 2
a3903 2
{ (eval echo configure:4225: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3908 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3924 1
a3924 1
ac_safe=`echo "sys/strredir.h" | sed 'y%./+-%__p_%'`
a3925 1
echo "configure:4251: checking for sys/strredir.h" >&5
d3930 1
a3930 1
#line 4256 "configure"
d3935 2
a3936 2
{ (eval echo configure:4261: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3941 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3957 1
a3957 1
ac_safe=`echo "sys/strpty.h" | sed 'y%./+-%__p_%'`
a3958 1
echo "configure:4287: checking for sys/strpty.h" >&5
d3963 1
a3963 1
#line 4292 "configure"
d3968 2
a3969 2
{ (eval echo configure:4297: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3974 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a3992 1
echo "configure:4324: checking for sys/bsdtypes.h" >&5
d3998 1
a3998 1
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
a3999 1
echo "configure:4332: checking for $ac_hdr" >&5
d4004 1
a4004 1
#line 4337 "configure"
d4009 2
a4010 2
{ (eval echo configure:4342: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a4015 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4023 1
a4023 1
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
a4040 1
echo "configure:4376: checking for memmove" >&5
d4045 1
a4045 1
#line 4381 "configure"
a4050 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4053 2
a4054 1
int main() {
d4067 1
a4067 1
if { (eval echo configure:4404: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4070 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4075 1
a4076 1

a4087 1
echo "configure:4427: checking for sysconf" >&5
d4092 1
a4092 1
#line 4432 "configure"
a4097 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4100 2
a4101 1
int main() {
d4114 1
a4114 1
if { (eval echo configure:4455: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4117 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4122 1
a4123 1

a4134 1
echo "configure:4478: checking for strftime" >&5
d4139 1
a4139 1
#line 4483 "configure"
a4144 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4147 2
a4148 1
int main() {
d4161 1
a4161 1
if { (eval echo configure:4506: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4164 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4169 1
a4170 1

a4181 1
echo "configure:4529: checking for strchr" >&5
d4186 1
a4186 1
#line 4534 "configure"
a4191 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4194 2
a4195 1
int main() {
d4208 1
a4208 1
if { (eval echo configure:4557: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4211 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4216 1
a4217 1

a4228 1
echo "configure:4580: checking for timezone" >&5
d4233 1
a4233 1
#line 4585 "configure"
a4238 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4241 2
a4242 1
int main() {
d4255 1
a4255 1
if { (eval echo configure:4608: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4258 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4263 1
a4264 1

a4279 1
echo "configure:4635: checking for memcpy" >&5
d4281 1
a4281 1
#line 4637 "configure"
d4284 2
a4285 1
int main() {
d4292 1
a4292 1
if { (eval echo configure:4647: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4300 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4307 1
a4312 1
echo "configure:4669: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4317 2
a4318 2
  cat > conftest.$ac_ext <<EOF
#line 4675 "configure"
d4330 2
a4331 2
if { (eval echo configure:4687: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a4338 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d4342 1
a4343 2
fi

a4345 1
echo "configure:4707: checking if any value exists for WNOHANG" >&5
d4351 2
a4352 2
  cat > conftest.$ac_ext <<EOF
#line 4714 "configure"
d4368 2
a4369 2
if { (eval echo configure:4730: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a4377 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d4385 1
a4386 2
fi

a4396 1
echo "configure:4763: checking union wait" >&5
d4398 1
a4398 1
#line 4765 "configure"
d4402 2
a4403 1
int main() {
d4411 1
a4411 1
if { (eval echo configure:4777: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4414 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4419 1
a4439 1
echo "configure:4807: checking mask type of select" >&5
a4452 1
echo "configure:4821: checking if signals need to be re-armed" >&5
d4457 2
a4458 2
  cat > conftest.$ac_ext <<EOF
#line 4827 "configure"
d4497 2
a4498 2
if { (eval echo configure:4866: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a4505 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d4509 1
a4510 2
fi

a4523 1
echo "configure:4897: checking if on Convex" >&5
a4541 1
echo "configure:4916: checking if on NeXT" >&5
a4551 1
echo "configure:4927: checking if on HP" >&5
a4560 1
echo "configure:4937: checking sane default stty arguments" >&5
a4577 1
echo "configure:4955: checking for HP style pty allocation" >&5
a4590 1
echo "configure:4969: checking for HP style pty trapping" >&5
d4592 1
a4592 1
#line 4971 "configure"
a4613 1
echo "configure:4993: checking for AIX new-style pty allocation" >&5
a4624 1
echo "configure:5005: checking for SGI old-style pty allocation" >&5
a4640 1
echo "configure:5022: checking for SCO style pty allocation" >&5
a4656 1
echo "configure:5039: checking for SVR4 style pty allocation" >&5
a4664 1
echo "configure:5048: checking for ptsname" >&5
d4669 1
a4669 1
#line 5053 "configure"
a4674 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4677 2
a4678 1
int main() {
d4691 1
a4691 1
if { (eval echo configure:5076: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4694 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4699 1
a4700 1

a4710 1
echo "configure:5098: checking for ptsname" >&5
d4715 1
a4715 1
#line 5103 "configure"
a4720 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4723 2
a4724 1
int main() {
d4737 1
a4737 1
if { (eval echo configure:5126: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4740 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4745 1
a4746 1

a4755 1
echo "configure:5147: checking for ptsname" >&5
d4760 1
a4760 1
#line 5152 "configure"
a4765 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4768 2
a4769 1
int main() {
d4782 1
a4782 1
if { (eval echo configure:5175: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4785 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4790 1
a4791 1

a4806 1
echo "configure:5202: checking for OSF/1 style pty allocation" >&5
a4819 1
echo "configure:5216: checking for tcgetattr" >&5
d4824 1
a4824 1
#line 5221 "configure"
a4829 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4832 2
a4833 1
int main() {
d4846 1
a4846 1
if { (eval echo configure:5244: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4849 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4854 1
a4855 1

a4863 1
echo "configure:5264: checking for tcsetattr" >&5
d4868 1
a4868 1
#line 5269 "configure"
a4873 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4876 2
a4877 1
int main() {
d4890 1
a4890 1
if { (eval echo configure:5292: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4893 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4898 1
a4899 1

a4919 1
echo "configure:5324: checking for struct sgttyb" >&5
d4924 2
a4925 2
  cat > conftest.$ac_ext <<EOF
#line 5330 "configure"
d4935 2
a4936 2
if { (eval echo configure:5340: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a4944 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d4948 1
a4949 2
fi

a4959 1
echo "configure:5369: checking for struct termio" >&5
d4964 2
a4965 2
  cat > conftest.$ac_ext <<EOF
#line 5375 "configure"
d4974 2
a4975 2
if { (eval echo configure:5384: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a4983 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d4987 1
a4988 2
fi

a4991 1
echo "configure:5406: checking for struct termios" >&5
d4996 2
a4997 2
  cat > conftest.$ac_ext <<EOF
#line 5412 "configure"
d5011 2
a5012 2
if { (eval echo configure:5426: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5020 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5024 1
a5027 2
fi

a5028 1
echo "configure:5448: checking if TCGETS or TCGETA in termios.h" >&5
d5033 2
a5034 2
  cat > conftest.$ac_ext <<EOF
#line 5454 "configure"
d5050 2
a5051 2
if { (eval echo configure:5470: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5058 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5062 1
a5063 2
fi

a5065 1
echo "configure:5490: checking if TIOCGWINSZ in termios.h" >&5
d5070 2
a5071 2
  cat > conftest.$ac_ext <<EOF
#line 5496 "configure"
d5087 2
a5088 2
if { (eval echo configure:5512: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5095 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5099 1
a5100 2
fi

a5103 1
echo "configure:5533: checking for Cray-style ptys" >&5
d5109 2
a5110 2
  cat > conftest.$ac_ext <<EOF
#line 5540 "configure"
d5122 2
a5123 2
if { (eval echo configure:5552: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5128 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5132 1
a5133 2
fi

a5142 1
echo "configure:5577: checking for select" >&5
d5147 1
a5147 1
#line 5582 "configure"
a5152 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d5155 2
a5156 1
int main() {
d5169 1
a5169 1
if { (eval echo configure:5605: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a5172 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5177 1
a5178 1

a5186 1
echo "configure:5625: checking for poll" >&5
d5191 1
a5191 1
#line 5630 "configure"
a5196 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d5199 2
a5200 1
int main() {
d5213 1
a5213 1
if { (eval echo configure:5653: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a5216 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5221 1
a5222 1

a5230 1
echo "configure:5673: checking event handling" >&5
a5251 1
echo "configure:5695: checking for $ac_func" >&5
d5256 1
a5256 1
#line 5700 "configure"
a5261 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d5264 2
a5265 1
int main() {
d5278 1
a5278 1
if { (eval echo configure:5723: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a5281 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5286 1
a5287 1

a5302 1
echo "configure:5750: checking for $ac_func" >&5
d5307 1
a5307 1
#line 5755 "configure"
a5312 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d5315 2
a5316 1
int main() {
d5329 1
a5329 1
if { (eval echo configure:5778: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a5332 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5337 1
a5338 1

a5355 1
echo "configure:5807: checking for SV-style timezone" >&5
d5360 2
a5361 2
  cat > conftest.$ac_ext <<EOF
#line 5813 "configure"
d5374 2
a5375 2
if { (eval echo configure:5826: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5381 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5385 1
a5386 2
fi

a5415 1
echo "configure:5872: checking for Tk private headers" >&5
d5479 1
a5479 1
   ac_safe=`echo "tk.h" | sed 'y%./+-%__p_%'`
a5480 1
echo "configure:5938: checking for tk.h" >&5
d5485 1
a5485 1
#line 5943 "configure"
d5490 2
a5491 2
{ (eval echo configure:5948: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a5496 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a5586 1
echo "configure:6047: checking for long file names" >&5
d5593 3
d5599 1
a5599 11
#      $TMPDIR		if set, where it might want to write temporary files
# if $TMPDIR is not set:
#      /tmp		where it might want to write temporary files
#      /var/tmp		likewise
#      /usr/tmp		likewise
if test -n "$TMPDIR" && test -d "$TMPDIR" && test -w "$TMPDIR"; then
  ac_tmpdirs="$TMPDIR"
else
  ac_tmpdirs='/tmp /var/tmp /usr/tmp'
fi
for ac_dir in  . $ac_tmpdirs `eval echo $prefix/lib $exec_prefix/lib` ; do
a5636 1
echo "configure:6105: checking for type of library to build" >&5
d5789 1
a5789 1
    echo "$CONFIG_STATUS generated by autoconf version 2.13"
a5808 1
s%@@SHELL@@%$SHELL%g
a5811 1
s%@@FFLAGS@@%$FFLAGS%g
a5863 1
s%@@INSTALL_SCRIPT@@%$INSTALL_SCRIPT%g
a5900 36

cat >> $CONFIG_STATUS <<\EOF

# Split the substitutions into bite-sized pieces for seds with
# small command number limits, like on Digital OSF/1 and HP-UX.
ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
ac_file=1 # Number of current file.
ac_beg=1 # First line for current file.
ac_end=$ac_max_sed_cmds # Line after last line for current file.
ac_more_lines=:
ac_sed_cmds=""
while $ac_more_lines; do
  if test $ac_beg -gt 1; then
    sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
  else
    sed "${ac_end}q" conftest.subs > conftest.s$ac_file
  fi
  if test ! -s conftest.s$ac_file; then
    ac_more_lines=false
    rm -f conftest.s$ac_file
  else
    if test -z "$ac_sed_cmds"; then
      ac_sed_cmds="sed -f conftest.s$ac_file"
    else
      ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
    fi
    ac_file=`expr $ac_file + 1`
    ac_beg=$ac_end
    ac_end=`expr $ac_end + $ac_max_sed_cmds`
  fi
done
if test -z "$ac_sed_cmds"; then
  ac_sed_cmds=cat
fi
EOF

d5907 1
a5907 1
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
d5909 1
a5909 1
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
d5914 1
a5914 1
  # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.
a5941 1

a5949 2

  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
d5955 1
a5955 1
" $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
d5957 1
a5957 1
rm -f conftest.s*
d5978 1
a5978 7
if test "${CONFIG_HEADERS+set}" != set; then
EOF
cat >> $CONFIG_STATUS <<EOF
  CONFIG_HEADERS="expect_cf.h"
EOF
cat >> $CONFIG_STATUS <<\EOF
fi
d5980 1
a5980 1
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
d5982 1
a5982 1
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
d5990 1
a5990 2
  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  cat $ac_file_inputs > conftest.in
d6018 2
a6049 6
    # Remove last slash and all that follows it.  Not all systems have dirname.
      ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
      if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
      # The file is in a subdirectory.
      test ! -d "$ac_dir" && mkdir "$ac_dir"
    fi
a6054 2
EOF
cat >> $CONFIG_STATUS <<EOF
a6055 2
EOF
cat >> $CONFIG_STATUS <<\EOF
a6110 3
      # A "../" for each directory in /$ac_config_dir.
      ac_dots=`echo $ac_config_dir|sed -e 's%^\./%%' -e 's%[^/]$%&/%' -e 's%[^/]*/%../%g'`

d6117 1
a6117 1
      ac_sub_srcdir=$ac_dots$srcdir/$ac_config_dir ;;
d6134 2
@


5.30.2.8
log
@Implemented TEA changes from mainline
@
text
@a921 6
#------------------------------------------------------------------------
# Hook for when threading is supported in Expect.  The --enable-threads
# flag currently has no effect.
#------------------------------------------------------------------------

SC_ENABLE_THREADS
d940 1
a940 1
echo "configure:947: checking for Tcl configuration" >&5
d1029 1
a1029 1
echo "configure:1036: checking Tcl build library" >&5
d1033 1
a1033 1
echo "configure:1040: checking for Tcl_CreateCommand" >&5
d1038 1
a1038 1
#line 1045 "configure"
d1061 1
a1061 1
if { (eval echo configure:1068: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1077 1
a1077 1
echo "configure:1084: checking if Tcl library build specification is valid" >&5
d1087 1
a1087 1
echo "configure:1094: checking if Tcl library build specification is valid" >&5
d1119 1
a1119 1
echo "configure:1126: checking for Tk configuration" >&5
d1204 1
a1204 1
echo "configure:1211: checking for Tk_Init" >&5
d1209 1
a1209 1
#line 1216 "configure"
d1232 1
a1232 1
if { (eval echo configure:1239: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1248 1
a1248 1
echo "configure:1255: checking if Tk library build specification is valid" >&5
d1258 1
a1258 1
echo "configure:1265: checking if Tk library build specification is valid" >&5
d1273 1
a1273 1
echo "configure:1280: checking whether the compiler ($CC) actually works" >&5
d1275 1
a1275 1
#line 1282 "configure"
d1282 1
a1282 1
if { (eval echo configure:1289: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1294 1
a1294 1
#line 1301 "configure"
d1301 1
a1301 1
if { (eval echo configure:1308: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1335 1
a1335 1
echo "configure:1342: checking for a BSD compatible install" >&5
d1392 1
a1392 1
echo "configure:1399: checking for $ac_word" >&5
d1432 1
a1432 1
echo "configure:1439: checking how to run the C preprocessor" >&5
d1447 1
a1447 1
#line 1454 "configure"
d1453 1
a1453 1
{ (eval echo configure:1460: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1464 1
a1464 1
#line 1471 "configure"
d1470 1
a1470 1
{ (eval echo configure:1477: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1481 1
a1481 1
#line 1488 "configure"
d1487 1
a1487 1
{ (eval echo configure:1494: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1513 1
a1513 1
echo "configure:1520: checking if running LynxOS" >&5
d1518 1
a1518 1
#line 1525 "configure"
d1548 1
a1548 1
echo "configure:1555: checking whether -mposix or -X is available" >&5
d1553 1
a1553 1
#line 1560 "configure"
d1569 1
a1569 1
if { (eval echo configure:1576: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1589 1
a1589 1
echo "configure:1596: checking for ANSI C header files" >&5
d1594 1
a1594 1
#line 1601 "configure"
d1602 1
a1602 1
{ (eval echo configure:1609: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1619 1
a1619 1
#line 1626 "configure"
d1637 1
a1637 1
#line 1644 "configure"
d1658 1
a1658 1
#line 1665 "configure"
d1669 1
a1669 1
if { (eval echo configure:1676: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d1693 1
a1693 1
echo "configure:1700: checking for pid_t" >&5
d1698 1
a1698 1
#line 1705 "configure"
d1726 1
a1726 1
echo "configure:1733: checking return type of signal handlers" >&5
d1731 1
a1731 1
#line 1738 "configure"
d1748 1
a1748 1
if { (eval echo configure:1755: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1767 1
a1767 1
echo "configure:1774: checking whether time.h and sys/time.h may both be included" >&5
d1772 1
a1772 1
#line 1779 "configure"
d1781 1
a1781 1
if { (eval echo configure:1788: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1802 1
a1802 1
echo "configure:1809: checking for sys/wait.h that is POSIX.1 compatible" >&5
d1807 1
a1807 1
#line 1814 "configure"
d1823 1
a1823 1
if { (eval echo configure:1830: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1863 1
a1863 1
echo "configure:1870: checking if running Mach" >&5
d1879 1
a1879 1
echo "configure:1886: checking if running MachTen" >&5
d1889 1
a1889 1
echo "configure:1896: checking if on Pyramid" >&5
d1899 1
a1899 1
echo "configure:1906: checking if on Apollo" >&5
d1909 1
a1909 1
echo "configure:1916: checking if on Interactive" >&5
d1919 1
a1919 1
echo "configure:1926: checking if stty reads stdout" >&5
d1975 1
a1975 1
echo "configure:1982: checking if running Solaris" >&5
d1995 1
a1995 1
echo "configure:2002: checking for sin" >&5
d2000 1
a2000 1
#line 2007 "configure"
d2023 1
a2023 1
if { (eval echo configure:2030: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2053 1
a2053 1
echo "configure:2060: checking for strftime" >&5
d2058 1
a2058 1
#line 2065 "configure"
d2081 1
a2081 1
if { (eval echo configure:2088: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2121 1
a2121 1
echo "configure:2128: checking for Tcl private headers" >&5
d2187 1
a2187 1
echo "configure:2194: checking for tclInt.h" >&5
d2192 1
a2192 1
#line 2199 "configure"
d2197 1
a2197 1
{ (eval echo configure:2204: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2258 1
a2258 1
echo "configure:2265: checking type of library to build" >&5
d2337 1
a2337 1
echo "configure:2344: checking for gethostname" >&5
d2342 1
a2342 1
#line 2349 "configure"
d2365 1
a2365 1
if { (eval echo configure:2372: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2388 1
a2388 1
echo "configure:2395: checking for gethostname in -linet" >&5
d2396 1
a2396 1
#line 2403 "configure"
d2407 1
a2407 1
if { (eval echo configure:2414: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2433 1
a2433 1
echo "configure:2440: checking for gethostname" >&5
d2438 1
a2438 1
#line 2445 "configure"
d2461 1
a2461 1
if { (eval echo configure:2468: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2484 1
a2484 1
echo "configure:2491: checking for gethostname in -linet" >&5
d2492 1
a2492 1
#line 2499 "configure"
d2503 1
a2503 1
if { (eval echo configure:2510: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2529 1
a2529 1
echo "configure:2536: checking for gethostname" >&5
d2534 1
a2534 1
#line 2541 "configure"
d2557 1
a2557 1
if { (eval echo configure:2564: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2580 1
a2580 1
echo "configure:2587: checking for gethostname in -linet" >&5
d2588 1
a2588 1
#line 2595 "configure"
d2599 1
a2599 1
if { (eval echo configure:2606: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2628 1
a2628 1
echo "configure:2635: checking for socket" >&5
d2633 1
a2633 1
#line 2640 "configure"
d2656 1
a2656 1
if { (eval echo configure:2663: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2679 1
a2679 1
echo "configure:2686: checking for socket in -linet" >&5
d2687 1
a2687 1
#line 2694 "configure"
d2698 1
a2698 1
if { (eval echo configure:2705: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2724 1
a2724 1
echo "configure:2731: checking for socket" >&5
d2729 1
a2729 1
#line 2736 "configure"
d2752 1
a2752 1
if { (eval echo configure:2759: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2775 1
a2775 1
echo "configure:2782: checking for socket in -linet" >&5
d2783 1
a2783 1
#line 2790 "configure"
d2794 1
a2794 1
if { (eval echo configure:2801: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2820 1
a2820 1
echo "configure:2827: checking for socket" >&5
d2825 1
a2825 1
#line 2832 "configure"
d2848 1
a2848 1
if { (eval echo configure:2855: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2871 1
a2871 1
echo "configure:2878: checking for socket in -linet" >&5
d2879 1
a2879 1
#line 2886 "configure"
d2890 1
a2890 1
if { (eval echo configure:2897: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2918 1
a2918 1
echo "configure:2925: checking for select" >&5
d2923 1
a2923 1
#line 2930 "configure"
d2946 1
a2946 1
if { (eval echo configure:2953: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2969 1
a2969 1
echo "configure:2976: checking for select in -linet" >&5
d2977 1
a2977 1
#line 2984 "configure"
d2988 1
a2988 1
if { (eval echo configure:2995: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3014 1
a3014 1
echo "configure:3021: checking for select" >&5
d3019 1
a3019 1
#line 3026 "configure"
d3042 1
a3042 1
if { (eval echo configure:3049: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3065 1
a3065 1
echo "configure:3072: checking for select in -linet" >&5
d3073 1
a3073 1
#line 3080 "configure"
d3084 1
a3084 1
if { (eval echo configure:3091: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3110 1
a3110 1
echo "configure:3117: checking for select" >&5
d3115 1
a3115 1
#line 3122 "configure"
d3138 1
a3138 1
if { (eval echo configure:3145: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3161 1
a3161 1
echo "configure:3168: checking for select in -linet" >&5
d3169 1
a3169 1
#line 3176 "configure"
d3180 1
a3180 1
if { (eval echo configure:3187: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3208 1
a3208 1
echo "configure:3215: checking for getpseudotty" >&5
d3213 1
a3213 1
#line 3220 "configure"
d3236 1
a3236 1
if { (eval echo configure:3243: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3259 1
a3259 1
echo "configure:3266: checking for getpseudotty in -lseq" >&5
d3267 1
a3267 1
#line 3274 "configure"
d3278 1
a3278 1
if { (eval echo configure:3285: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3311 1
a3311 1
echo "configure:3318: checking for getpseudotty" >&5
d3316 1
a3316 1
#line 3323 "configure"
d3339 1
a3339 1
if { (eval echo configure:3346: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3362 1
a3362 1
echo "configure:3369: checking for getpseudotty in -lseq" >&5
d3370 1
a3370 1
#line 3377 "configure"
d3381 1
a3381 1
if { (eval echo configure:3388: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3414 1
a3414 1
echo "configure:3421: checking for getpseudotty" >&5
d3419 1
a3419 1
#line 3426 "configure"
d3442 1
a3442 1
if { (eval echo configure:3449: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3465 1
a3465 1
echo "configure:3472: checking for getpseudotty in -lseq" >&5
d3473 1
a3473 1
#line 3480 "configure"
d3484 1
a3484 1
if { (eval echo configure:3491: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3520 1
a3520 1
echo "configure:3527: checking for openpty" >&5
d3525 1
a3525 1
#line 3532 "configure"
d3548 1
a3548 1
if { (eval echo configure:3555: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3571 1
a3571 1
echo "configure:3578: checking for openpty in -lutil" >&5
d3579 1
a3579 1
#line 3586 "configure"
d3590 1
a3590 1
if { (eval echo configure:3597: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3625 1
a3625 1
echo "configure:3632: checking for openpty" >&5
d3630 1
a3630 1
#line 3637 "configure"
d3653 1
a3653 1
if { (eval echo configure:3660: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3676 1
a3676 1
echo "configure:3683: checking for openpty in -lutil" >&5
d3684 1
a3684 1
#line 3691 "configure"
d3695 1
a3695 1
if { (eval echo configure:3702: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3727 1
a3727 1
echo "configure:3734: checking for openpty" >&5
d3732 1
a3732 1
#line 3739 "configure"
d3755 1
a3755 1
if { (eval echo configure:3762: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3778 1
a3778 1
echo "configure:3785: checking for openpty in -lutil" >&5
d3786 1
a3786 1
#line 3793 "configure"
d3797 1
a3797 1
if { (eval echo configure:3804: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3835 1
a3835 1
echo "configure:3842: checking if running Sequent running SVR4" >&5
d3849 1
a3849 1
echo "configure:3856: checking for sys/sysmacros.h" >&5
d3854 1
a3854 1
#line 3861 "configure"
d3859 1
a3859 1
{ (eval echo configure:3866: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3885 1
a3885 1
echo "configure:3892: checking for stdlib.h" >&5
d3890 1
a3890 1
#line 3897 "configure"
d3895 1
a3895 1
{ (eval echo configure:3902: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3922 1
a3922 1
echo "configure:3929: checking for inttypes.h" >&5
d3927 1
a3927 1
#line 3934 "configure"
d3932 1
a3932 1
{ (eval echo configure:3939: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3962 1
a3962 1
echo "configure:3969: checking for varargs.h" >&5
d3967 1
a3967 1
#line 3974 "configure"
d3972 1
a3972 1
{ (eval echo configure:3979: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3998 1
a3998 1
echo "configure:4005: checking for unistd.h" >&5
d4003 1
a4003 1
#line 4010 "configure"
d4008 1
a4008 1
{ (eval echo configure:4015: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4034 1
a4034 1
echo "configure:4041: checking for sys/stropts.h" >&5
d4039 1
a4039 1
#line 4046 "configure"
d4044 1
a4044 1
{ (eval echo configure:4051: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4070 1
a4070 1
echo "configure:4077: checking for sys/sysconfig.h" >&5
d4075 1
a4075 1
#line 4082 "configure"
d4080 1
a4080 1
{ (eval echo configure:4087: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4106 1
a4106 1
echo "configure:4113: checking for sys/fcntl.h" >&5
d4111 1
a4111 1
#line 4118 "configure"
d4116 1
a4116 1
{ (eval echo configure:4123: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4142 1
a4142 1
echo "configure:4149: checking for sys/select.h" >&5
d4147 1
a4147 1
#line 4154 "configure"
d4152 1
a4152 1
{ (eval echo configure:4159: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4178 1
a4178 1
echo "configure:4185: checking for sys/time.h" >&5
d4183 1
a4183 1
#line 4190 "configure"
d4188 1
a4188 1
{ (eval echo configure:4195: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4214 1
a4214 1
echo "configure:4221: checking for sys/ptem.h" >&5
d4219 1
a4219 1
#line 4226 "configure"
d4224 1
a4224 1
{ (eval echo configure:4231: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4250 1
a4250 1
echo "configure:4257: checking for sys/strredir.h" >&5
d4255 1
a4255 1
#line 4262 "configure"
d4260 1
a4260 1
{ (eval echo configure:4267: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4286 1
a4286 1
echo "configure:4293: checking for sys/strpty.h" >&5
d4291 1
a4291 1
#line 4298 "configure"
d4296 1
a4296 1
{ (eval echo configure:4303: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4323 1
a4323 1
echo "configure:4330: checking for sys/bsdtypes.h" >&5
d4331 1
a4331 1
echo "configure:4338: checking for $ac_hdr" >&5
d4336 1
a4336 1
#line 4343 "configure"
d4341 1
a4341 1
{ (eval echo configure:4348: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4375 1
a4375 1
echo "configure:4382: checking for memmove" >&5
d4380 1
a4380 1
#line 4387 "configure"
d4403 1
a4403 1
if { (eval echo configure:4410: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4426 1
a4426 1
echo "configure:4433: checking for sysconf" >&5
d4431 1
a4431 1
#line 4438 "configure"
d4454 1
a4454 1
if { (eval echo configure:4461: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4477 1
a4477 1
echo "configure:4484: checking for strftime" >&5
d4482 1
a4482 1
#line 4489 "configure"
d4505 1
a4505 1
if { (eval echo configure:4512: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4528 1
a4528 1
echo "configure:4535: checking for strchr" >&5
d4533 1
a4533 1
#line 4540 "configure"
d4556 1
a4556 1
if { (eval echo configure:4563: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4579 1
a4579 1
echo "configure:4586: checking for timezone" >&5
d4584 1
a4584 1
#line 4591 "configure"
d4607 1
a4607 1
if { (eval echo configure:4614: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4634 1
a4634 1
echo "configure:4641: checking for memcpy" >&5
d4636 1
a4636 1
#line 4643 "configure"
d4646 1
a4646 1
if { (eval echo configure:4653: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4668 1
a4668 1
echo "configure:4675: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4674 1
a4674 1
#line 4681 "configure"
d4686 1
a4686 1
if { (eval echo configure:4693: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4706 1
a4706 1
echo "configure:4713: checking if any value exists for WNOHANG" >&5
d4713 1
a4713 1
#line 4720 "configure"
d4729 1
a4729 1
if { (eval echo configure:4736: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4762 1
a4762 1
echo "configure:4769: checking union wait" >&5
d4764 1
a4764 1
#line 4771 "configure"
d4776 1
a4776 1
if { (eval echo configure:4783: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4806 1
a4806 1
echo "configure:4813: checking mask type of select" >&5
d4820 1
a4820 1
echo "configure:4827: checking if signals need to be re-armed" >&5
d4826 1
a4826 1
#line 4833 "configure"
d4865 1
a4865 1
if { (eval echo configure:4872: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4896 1
a4896 1
echo "configure:4903: checking if on Convex" >&5
d4915 1
a4915 1
echo "configure:4922: checking if on NeXT" >&5
d4926 1
a4926 1
echo "configure:4933: checking if on HP" >&5
d4936 1
a4936 1
echo "configure:4943: checking sane default stty arguments" >&5
d4954 1
a4954 1
echo "configure:4961: checking for HP style pty allocation" >&5
d4968 1
a4968 1
echo "configure:4975: checking for HP style pty trapping" >&5
d4970 1
a4970 1
#line 4977 "configure"
d4992 1
a4992 1
echo "configure:4999: checking for AIX new-style pty allocation" >&5
d5004 1
a5004 1
echo "configure:5011: checking for SGI old-style pty allocation" >&5
d5021 1
a5021 1
echo "configure:5028: checking for SCO style pty allocation" >&5
d5038 1
a5038 1
echo "configure:5045: checking for SVR4 style pty allocation" >&5
d5047 1
a5047 1
echo "configure:5054: checking for ptsname" >&5
d5052 1
a5052 1
#line 5059 "configure"
d5075 1
a5075 1
if { (eval echo configure:5082: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5097 1
a5097 1
echo "configure:5104: checking for ptsname" >&5
d5102 1
a5102 1
#line 5109 "configure"
d5125 1
a5125 1
if { (eval echo configure:5132: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5146 1
a5146 1
echo "configure:5153: checking for ptsname" >&5
d5151 1
a5151 1
#line 5158 "configure"
d5174 1
a5174 1
if { (eval echo configure:5181: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5201 1
a5201 1
echo "configure:5208: checking for OSF/1 style pty allocation" >&5
d5215 1
a5215 1
echo "configure:5222: checking for tcgetattr" >&5
d5220 1
a5220 1
#line 5227 "configure"
d5243 1
a5243 1
if { (eval echo configure:5250: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5263 1
a5263 1
echo "configure:5270: checking for tcsetattr" >&5
d5268 1
a5268 1
#line 5275 "configure"
d5291 1
a5291 1
if { (eval echo configure:5298: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5323 1
a5323 1
echo "configure:5330: checking for struct sgttyb" >&5
d5329 1
a5329 1
#line 5336 "configure"
d5339 1
a5339 1
if { (eval echo configure:5346: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5368 1
a5368 1
echo "configure:5375: checking for struct termio" >&5
d5374 1
a5374 1
#line 5381 "configure"
d5383 1
a5383 1
if { (eval echo configure:5390: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5405 1
a5405 1
echo "configure:5412: checking for struct termios" >&5
d5411 1
a5411 1
#line 5418 "configure"
d5425 1
a5425 1
if { (eval echo configure:5432: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5447 1
a5447 1
echo "configure:5454: checking if TCGETS or TCGETA in termios.h" >&5
d5453 1
a5453 1
#line 5460 "configure"
d5469 1
a5469 1
if { (eval echo configure:5476: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5489 1
a5489 1
echo "configure:5496: checking if TIOCGWINSZ in termios.h" >&5
d5495 1
a5495 1
#line 5502 "configure"
d5511 1
a5511 1
if { (eval echo configure:5518: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5532 1
a5532 1
echo "configure:5539: checking for Cray-style ptys" >&5
d5539 1
a5539 1
#line 5546 "configure"
d5551 1
a5551 1
if { (eval echo configure:5558: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5576 1
a5576 1
echo "configure:5583: checking for select" >&5
d5581 1
a5581 1
#line 5588 "configure"
d5604 1
a5604 1
if { (eval echo configure:5611: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5624 1
a5624 1
echo "configure:5631: checking for poll" >&5
d5629 1
a5629 1
#line 5636 "configure"
d5652 1
a5652 1
if { (eval echo configure:5659: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5672 1
a5672 1
echo "configure:5679: checking event handling" >&5
d5694 1
a5694 1
echo "configure:5701: checking for $ac_func" >&5
d5699 1
a5699 1
#line 5706 "configure"
d5722 1
a5722 1
if { (eval echo configure:5729: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5749 1
a5749 1
echo "configure:5756: checking for $ac_func" >&5
d5754 1
a5754 1
#line 5761 "configure"
d5777 1
a5777 1
if { (eval echo configure:5784: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5806 1
a5806 1
echo "configure:5813: checking for SV-style timezone" >&5
d5812 1
a5812 1
#line 5819 "configure"
d5825 1
a5825 1
if { (eval echo configure:5832: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5871 1
a5871 1
echo "configure:5878: checking for Tk private headers" >&5
d5937 1
a5937 1
echo "configure:5944: checking for tk.h" >&5
d5942 1
a5942 1
#line 5949 "configure"
d5947 1
a5947 1
{ (eval echo configure:5954: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d6046 1
a6046 1
echo "configure:6053: checking for long file names" >&5
d6104 1
a6104 1
echo "configure:6111: checking for type of library to build" >&5
@


5.30.2.9
log
@fixes throughout code but all tests and examples finally run
see NEWS file for summary
@
text
@d15 1
a15 1
  --enable-threads        build with threads (not supported)"
d17 1
a17 3
  --with-tcl           directory containing tcl configuration (tclConfig.sh)"
ac_help="$ac_help
  --with-tk           directory containing tk configuration (tkConfig.sh)"
d598 1
a598 1
echo "configure:601: checking host system type" >&5
d619 1
a619 1
echo "configure:622: checking target system type" >&5
d637 1
a637 1
echo "configure:640: checking build system type" >&5
d667 1
a667 1
echo "configure:670: checking shell to use within Make" >&5
d701 1
a701 1
echo "configure:704: checking for $ac_word" >&5
d731 1
a731 1
echo "configure:734: checking for $ac_word" >&5
d782 1
a782 1
echo "configure:785: checking for $ac_word" >&5
d814 1
a814 1
echo "configure:817: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
d825 1
a825 1
#line 828 "configure"
d830 1
a830 1
if { (eval echo configure:833: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d856 1
a856 1
echo "configure:859: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
d861 1
a861 1
echo "configure:864: checking whether we are using GNU C" >&5
d870 1
a870 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:873: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d889 1
a889 1
echo "configure:892: checking whether ${CC-cc} accepts -g" >&5
d927 1
a927 34

    echo $ac_n "checking for building with threads""... $ac_c" 1>&6
echo "configure:932: checking for building with threads" >&5
    # Check whether --enable-threads or --disable-threads was given.
if test "${enable_threads+set}" = set; then
  enableval="$enable_threads"
  tcl_ok=$enableval
else
  tcl_ok=no
fi


#    if test "$tcl_ok" = "yes"; then
#	AC_MSG_RESULT(yes)
#	TCL_THREADS=1
#	AC_DEFINE(TCL_THREADS)
#	AC_DEFINE(_REENTRANT)
#
#	AC_CHECK_LIB(pthread,pthread_mutex_init,tcl_ok=yes,tcl_ok=no)
#	if test "$tcl_ok" = "yes"; then
#	    # The space is needed
#	    THREADS_LIBS=" -lpthread"
#	else
#	    TCL_THREADS=0
#	    AC_MSG_WARN("Don t know how to find pthread lib on your system - you must disable thread support or edit the LIBS in the Makefile...")
#	fi
#    else
#	TCL_THREADS=0
#	AC_MSG_RESULT(no (default))
#    fi

    echo "$ac_t""no (default)" 1>&6


d933 1
a933 1
# the alternative search directory is invoked by --with-tcl
d939 3
a941 3
  # Check whether --with-tcl or --without-tcl was given.
if test "${with_tcl+set}" = set; then
  withval="$with_tcl"
d946 1
a946 1
echo "configure:982: checking for Tcl configuration" >&5
d952 1
a952 1
  # First check to see if --with-tcl was specified.
d1035 1
a1035 1
echo "configure:1071: checking Tcl build library" >&5
d1039 1
a1039 1
echo "configure:1075: checking for Tcl_CreateCommand" >&5
d1044 1
a1044 1
#line 1080 "configure"
d1067 1
a1067 1
if { (eval echo configure:1103: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1083 1
a1083 1
echo "configure:1119: checking if Tcl library build specification is valid" >&5
d1093 1
a1093 1
echo "configure:1129: checking if Tcl library build specification is valid" >&5
d1112 1
a1112 1
# the alternative search directory is invoked by --with-tk
d1118 3
a1120 3
  # Check whether --with-tk or --without-tk was given.
if test "${with_tk+set}" = set; then
  withval="$with_tk"
d1125 1
a1125 1
echo "configure:1161: checking for Tk configuration" >&5
d1131 1
a1131 1
  # First check to see if --with-tk was specified.
d1210 1
a1210 1
echo "configure:1246: checking for Tk_Init" >&5
d1215 1
a1215 1
#line 1251 "configure"
d1238 1
a1238 1
if { (eval echo configure:1274: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1254 1
a1254 1
echo "configure:1290: checking if Tk library build specification is valid" >&5
d1264 1
a1264 1
echo "configure:1300: checking if Tk library build specification is valid" >&5
d1279 1
a1279 1
echo "configure:1315: checking whether the compiler ($CC) actually works" >&5
d1281 1
a1281 1
#line 1317 "configure"
d1288 1
a1288 1
if { (eval echo configure:1324: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1300 1
a1300 1
#line 1336 "configure"
d1307 1
a1307 1
if { (eval echo configure:1343: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1341 1
a1341 1
echo "configure:1377: checking for a BSD compatible install" >&5
d1398 1
a1398 1
echo "configure:1434: checking for $ac_word" >&5
d1438 1
a1438 1
echo "configure:1474: checking how to run the C preprocessor" >&5
d1453 1
a1453 1
#line 1489 "configure"
d1459 1
a1459 1
{ (eval echo configure:1495: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1470 1
a1470 1
#line 1506 "configure"
d1476 1
a1476 1
{ (eval echo configure:1512: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1487 1
a1487 1
#line 1523 "configure"
d1493 1
a1493 1
{ (eval echo configure:1529: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1519 1
a1519 1
echo "configure:1555: checking if running LynxOS" >&5
d1524 1
a1524 1
#line 1560 "configure"
d1554 1
a1554 1
echo "configure:1590: checking whether -mposix or -X is available" >&5
d1559 1
a1559 1
#line 1595 "configure"
d1575 1
a1575 1
if { (eval echo configure:1611: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1595 1
a1595 1
echo "configure:1631: checking for ANSI C header files" >&5
d1600 1
a1600 1
#line 1636 "configure"
d1608 1
a1608 1
{ (eval echo configure:1644: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1625 1
a1625 1
#line 1661 "configure"
d1643 1
a1643 1
#line 1679 "configure"
d1664 1
a1664 1
#line 1700 "configure"
d1675 1
a1675 1
if { (eval echo configure:1711: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d1699 1
a1699 1
echo "configure:1735: checking for pid_t" >&5
d1704 1
a1704 1
#line 1740 "configure"
d1732 1
a1732 1
echo "configure:1768: checking return type of signal handlers" >&5
d1737 1
a1737 1
#line 1773 "configure"
d1754 1
a1754 1
if { (eval echo configure:1790: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1773 1
a1773 1
echo "configure:1809: checking whether time.h and sys/time.h may both be included" >&5
d1778 1
a1778 1
#line 1814 "configure"
d1787 1
a1787 1
if { (eval echo configure:1823: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1808 1
a1808 1
echo "configure:1844: checking for sys/wait.h that is POSIX.1 compatible" >&5
d1813 1
a1813 1
#line 1849 "configure"
d1829 1
a1829 1
if { (eval echo configure:1865: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1869 1
a1869 1
echo "configure:1905: checking if running Mach" >&5
d1885 1
a1885 1
echo "configure:1921: checking if running MachTen" >&5
d1895 1
a1895 1
echo "configure:1931: checking if on Pyramid" >&5
d1905 1
a1905 1
echo "configure:1941: checking if on Apollo" >&5
d1915 1
a1915 1
echo "configure:1951: checking if on Interactive" >&5
d1925 1
a1925 1
echo "configure:1961: checking if stty reads stdout" >&5
d1981 1
a1981 1
echo "configure:2017: checking if running Solaris" >&5
d2001 1
a2001 1
echo "configure:2037: checking for sin" >&5
d2006 1
a2006 1
#line 2042 "configure"
d2029 1
a2029 1
if { (eval echo configure:2065: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2059 1
a2059 1
echo "configure:2095: checking for strftime" >&5
d2064 1
a2064 1
#line 2100 "configure"
d2087 1
a2087 1
if { (eval echo configure:2123: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2127 1
a2127 1
echo "configure:2163: checking for Tcl private headers" >&5
d2193 1
a2193 1
echo "configure:2229: checking for tclInt.h" >&5
d2198 1
a2198 1
#line 2234 "configure"
d2203 1
a2203 1
{ (eval echo configure:2239: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2264 1
a2264 1
echo "configure:2300: checking type of library to build" >&5
d2343 1
a2343 1
echo "configure:2379: checking for gethostname" >&5
d2348 1
a2348 1
#line 2384 "configure"
d2371 1
a2371 1
if { (eval echo configure:2407: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2394 1
a2394 1
echo "configure:2430: checking for gethostname in -linet" >&5
d2402 1
a2402 1
#line 2438 "configure"
d2413 1
a2413 1
if { (eval echo configure:2449: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2439 1
a2439 1
echo "configure:2475: checking for gethostname" >&5
d2444 1
a2444 1
#line 2480 "configure"
d2467 1
a2467 1
if { (eval echo configure:2503: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2490 1
a2490 1
echo "configure:2526: checking for gethostname in -linet" >&5
d2498 1
a2498 1
#line 2534 "configure"
d2509 1
a2509 1
if { (eval echo configure:2545: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2535 1
a2535 1
echo "configure:2571: checking for gethostname" >&5
d2540 1
a2540 1
#line 2576 "configure"
d2563 1
a2563 1
if { (eval echo configure:2599: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2586 1
a2586 1
echo "configure:2622: checking for gethostname in -linet" >&5
d2594 1
a2594 1
#line 2630 "configure"
d2605 1
a2605 1
if { (eval echo configure:2641: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2634 1
a2634 1
echo "configure:2670: checking for socket" >&5
d2639 1
a2639 1
#line 2675 "configure"
d2662 1
a2662 1
if { (eval echo configure:2698: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2685 1
a2685 1
echo "configure:2721: checking for socket in -linet" >&5
d2693 1
a2693 1
#line 2729 "configure"
d2704 1
a2704 1
if { (eval echo configure:2740: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2730 1
a2730 1
echo "configure:2766: checking for socket" >&5
d2735 1
a2735 1
#line 2771 "configure"
d2758 1
a2758 1
if { (eval echo configure:2794: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2781 1
a2781 1
echo "configure:2817: checking for socket in -linet" >&5
d2789 1
a2789 1
#line 2825 "configure"
d2800 1
a2800 1
if { (eval echo configure:2836: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2826 1
a2826 1
echo "configure:2862: checking for socket" >&5
d2831 1
a2831 1
#line 2867 "configure"
d2854 1
a2854 1
if { (eval echo configure:2890: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2877 1
a2877 1
echo "configure:2913: checking for socket in -linet" >&5
d2885 1
a2885 1
#line 2921 "configure"
d2896 1
a2896 1
if { (eval echo configure:2932: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2924 1
a2924 1
echo "configure:2960: checking for select" >&5
d2929 1
a2929 1
#line 2965 "configure"
d2952 1
a2952 1
if { (eval echo configure:2988: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2975 1
a2975 1
echo "configure:3011: checking for select in -linet" >&5
d2983 1
a2983 1
#line 3019 "configure"
d2994 1
a2994 1
if { (eval echo configure:3030: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3020 1
a3020 1
echo "configure:3056: checking for select" >&5
d3025 1
a3025 1
#line 3061 "configure"
d3048 1
a3048 1
if { (eval echo configure:3084: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3071 1
a3071 1
echo "configure:3107: checking for select in -linet" >&5
d3079 1
a3079 1
#line 3115 "configure"
d3090 1
a3090 1
if { (eval echo configure:3126: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3116 1
a3116 1
echo "configure:3152: checking for select" >&5
d3121 1
a3121 1
#line 3157 "configure"
d3144 1
a3144 1
if { (eval echo configure:3180: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3167 1
a3167 1
echo "configure:3203: checking for select in -linet" >&5
d3175 1
a3175 1
#line 3211 "configure"
d3186 1
a3186 1
if { (eval echo configure:3222: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3214 1
a3214 1
echo "configure:3250: checking for getpseudotty" >&5
d3219 1
a3219 1
#line 3255 "configure"
d3242 1
a3242 1
if { (eval echo configure:3278: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3265 1
a3265 1
echo "configure:3301: checking for getpseudotty in -lseq" >&5
d3273 1
a3273 1
#line 3309 "configure"
d3284 1
a3284 1
if { (eval echo configure:3320: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3317 1
a3317 1
echo "configure:3353: checking for getpseudotty" >&5
d3322 1
a3322 1
#line 3358 "configure"
d3345 1
a3345 1
if { (eval echo configure:3381: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3368 1
a3368 1
echo "configure:3404: checking for getpseudotty in -lseq" >&5
d3376 1
a3376 1
#line 3412 "configure"
d3387 1
a3387 1
if { (eval echo configure:3423: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3420 1
a3420 1
echo "configure:3456: checking for getpseudotty" >&5
d3425 1
a3425 1
#line 3461 "configure"
d3448 1
a3448 1
if { (eval echo configure:3484: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3471 1
a3471 1
echo "configure:3507: checking for getpseudotty in -lseq" >&5
d3479 1
a3479 1
#line 3515 "configure"
d3490 1
a3490 1
if { (eval echo configure:3526: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3526 1
a3526 1
echo "configure:3562: checking for openpty" >&5
d3531 1
a3531 1
#line 3567 "configure"
d3554 1
a3554 1
if { (eval echo configure:3590: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3577 1
a3577 1
echo "configure:3613: checking for openpty in -lutil" >&5
d3585 1
a3585 1
#line 3621 "configure"
d3596 1
a3596 1
if { (eval echo configure:3632: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3631 1
a3631 1
echo "configure:3667: checking for openpty" >&5
d3636 1
a3636 1
#line 3672 "configure"
d3659 1
a3659 1
if { (eval echo configure:3695: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3682 1
a3682 1
echo "configure:3718: checking for openpty in -lutil" >&5
d3690 1
a3690 1
#line 3726 "configure"
d3701 1
a3701 1
if { (eval echo configure:3737: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3733 1
a3733 1
echo "configure:3769: checking for openpty" >&5
d3738 1
a3738 1
#line 3774 "configure"
d3761 1
a3761 1
if { (eval echo configure:3797: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3784 1
a3784 1
echo "configure:3820: checking for openpty in -lutil" >&5
d3792 1
a3792 1
#line 3828 "configure"
d3803 1
a3803 1
if { (eval echo configure:3839: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3841 1
a3841 1
echo "configure:3877: checking if running Sequent running SVR4" >&5
d3855 1
a3855 1
echo "configure:3891: checking for sys/sysmacros.h" >&5
d3860 1
a3860 1
#line 3896 "configure"
d3865 1
a3865 1
{ (eval echo configure:3901: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3891 1
a3891 1
echo "configure:3927: checking for stdlib.h" >&5
d3896 1
a3896 1
#line 3932 "configure"
d3901 1
a3901 1
{ (eval echo configure:3937: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3928 1
a3928 1
echo "configure:3964: checking for inttypes.h" >&5
d3933 1
a3933 1
#line 3969 "configure"
d3938 1
a3938 1
{ (eval echo configure:3974: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3968 1
a3968 1
echo "configure:4004: checking for varargs.h" >&5
d3973 1
a3973 1
#line 4009 "configure"
d3978 1
a3978 1
{ (eval echo configure:4014: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4004 1
a4004 1
echo "configure:4040: checking for unistd.h" >&5
d4009 1
a4009 1
#line 4045 "configure"
d4014 1
a4014 1
{ (eval echo configure:4050: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4040 1
a4040 1
echo "configure:4076: checking for sys/stropts.h" >&5
d4045 1
a4045 1
#line 4081 "configure"
d4050 1
a4050 1
{ (eval echo configure:4086: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4076 1
a4076 1
echo "configure:4112: checking for sys/sysconfig.h" >&5
d4081 1
a4081 1
#line 4117 "configure"
d4086 1
a4086 1
{ (eval echo configure:4122: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4112 1
a4112 1
echo "configure:4148: checking for sys/fcntl.h" >&5
d4117 1
a4117 1
#line 4153 "configure"
d4122 1
a4122 1
{ (eval echo configure:4158: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4148 1
a4148 1
echo "configure:4184: checking for sys/select.h" >&5
d4153 1
a4153 1
#line 4189 "configure"
d4158 1
a4158 1
{ (eval echo configure:4194: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4184 1
a4184 1
echo "configure:4220: checking for sys/time.h" >&5
d4189 1
a4189 1
#line 4225 "configure"
d4194 1
a4194 1
{ (eval echo configure:4230: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4220 1
a4220 1
echo "configure:4256: checking for sys/ptem.h" >&5
d4225 1
a4225 1
#line 4261 "configure"
d4230 1
a4230 1
{ (eval echo configure:4266: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4256 1
a4256 1
echo "configure:4292: checking for sys/strredir.h" >&5
d4261 1
a4261 1
#line 4297 "configure"
d4266 1
a4266 1
{ (eval echo configure:4302: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4292 1
a4292 1
echo "configure:4328: checking for sys/strpty.h" >&5
d4297 1
a4297 1
#line 4333 "configure"
d4302 1
a4302 1
{ (eval echo configure:4338: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4329 1
a4329 1
echo "configure:4365: checking for sys/bsdtypes.h" >&5
d4337 1
a4337 1
echo "configure:4373: checking for $ac_hdr" >&5
d4342 1
a4342 1
#line 4378 "configure"
d4347 1
a4347 1
{ (eval echo configure:4383: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4381 1
a4381 1
echo "configure:4417: checking for memmove" >&5
d4386 1
a4386 1
#line 4422 "configure"
d4409 1
a4409 1
if { (eval echo configure:4445: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4432 1
a4432 1
echo "configure:4468: checking for sysconf" >&5
d4437 1
a4437 1
#line 4473 "configure"
d4460 1
a4460 1
if { (eval echo configure:4496: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4483 1
a4483 1
echo "configure:4519: checking for strftime" >&5
d4488 1
a4488 1
#line 4524 "configure"
d4511 1
a4511 1
if { (eval echo configure:4547: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4534 1
a4534 1
echo "configure:4570: checking for strchr" >&5
d4539 1
a4539 1
#line 4575 "configure"
d4562 1
a4562 1
if { (eval echo configure:4598: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4585 1
a4585 1
echo "configure:4621: checking for timezone" >&5
d4590 1
a4590 1
#line 4626 "configure"
d4613 1
a4613 1
if { (eval echo configure:4649: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4640 1
a4640 1
echo "configure:4676: checking for memcpy" >&5
d4642 1
a4642 1
#line 4678 "configure"
d4652 1
a4652 1
if { (eval echo configure:4688: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4674 1
a4674 1
echo "configure:4710: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4680 1
a4680 1
#line 4716 "configure"
d4692 1
a4692 1
if { (eval echo configure:4728: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4712 1
a4712 1
echo "configure:4748: checking if any value exists for WNOHANG" >&5
d4719 1
a4719 1
#line 4755 "configure"
d4735 1
a4735 1
if { (eval echo configure:4771: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4768 1
a4768 1
echo "configure:4804: checking union wait" >&5
d4770 1
a4770 1
#line 4806 "configure"
d4782 1
a4782 1
if { (eval echo configure:4818: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4812 1
a4812 1
echo "configure:4848: checking mask type of select" >&5
d4826 1
a4826 1
echo "configure:4862: checking if signals need to be re-armed" >&5
d4832 1
a4832 1
#line 4868 "configure"
d4871 1
a4871 1
if { (eval echo configure:4907: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4902 1
a4902 1
echo "configure:4938: checking if on Convex" >&5
d4921 1
a4921 1
echo "configure:4957: checking if on NeXT" >&5
d4932 1
a4932 1
echo "configure:4968: checking if on HP" >&5
d4942 1
a4942 1
echo "configure:4978: checking sane default stty arguments" >&5
d4960 1
a4960 1
echo "configure:4996: checking for HP style pty allocation" >&5
d4974 1
a4974 1
echo "configure:5010: checking for HP style pty trapping" >&5
d4976 1
a4976 1
#line 5012 "configure"
d4998 1
a4998 1
echo "configure:5034: checking for AIX new-style pty allocation" >&5
d5010 1
a5010 1
echo "configure:5046: checking for SGI old-style pty allocation" >&5
d5027 1
a5027 1
echo "configure:5063: checking for SCO style pty allocation" >&5
d5044 1
a5044 1
echo "configure:5080: checking for SVR4 style pty allocation" >&5
d5053 1
a5053 1
echo "configure:5089: checking for ptsname" >&5
d5058 1
a5058 1
#line 5094 "configure"
d5081 1
a5081 1
if { (eval echo configure:5117: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5103 1
a5103 1
echo "configure:5139: checking for ptsname" >&5
d5108 1
a5108 1
#line 5144 "configure"
d5131 1
a5131 1
if { (eval echo configure:5167: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5152 1
a5152 1
echo "configure:5188: checking for ptsname" >&5
d5157 1
a5157 1
#line 5193 "configure"
d5180 1
a5180 1
if { (eval echo configure:5216: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5207 1
a5207 1
echo "configure:5243: checking for OSF/1 style pty allocation" >&5
d5221 1
a5221 1
echo "configure:5257: checking for tcgetattr" >&5
d5226 1
a5226 1
#line 5262 "configure"
d5249 1
a5249 1
if { (eval echo configure:5285: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5269 1
a5269 1
echo "configure:5305: checking for tcsetattr" >&5
d5274 1
a5274 1
#line 5310 "configure"
d5297 1
a5297 1
if { (eval echo configure:5333: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5329 1
a5329 1
echo "configure:5365: checking for struct sgttyb" >&5
d5335 1
a5335 1
#line 5371 "configure"
d5345 1
a5345 1
if { (eval echo configure:5381: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5374 1
a5374 1
echo "configure:5410: checking for struct termio" >&5
d5380 1
a5380 1
#line 5416 "configure"
d5389 1
a5389 1
if { (eval echo configure:5425: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5411 1
a5411 1
echo "configure:5447: checking for struct termios" >&5
d5417 1
a5417 1
#line 5453 "configure"
d5431 1
a5431 1
if { (eval echo configure:5467: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5453 1
a5453 1
echo "configure:5489: checking if TCGETS or TCGETA in termios.h" >&5
d5459 1
a5459 1
#line 5495 "configure"
d5475 1
a5475 1
if { (eval echo configure:5511: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5495 1
a5495 1
echo "configure:5531: checking if TIOCGWINSZ in termios.h" >&5
d5501 1
a5501 1
#line 5537 "configure"
d5517 1
a5517 1
if { (eval echo configure:5553: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5538 1
a5538 1
echo "configure:5574: checking for Cray-style ptys" >&5
d5545 1
a5545 1
#line 5581 "configure"
d5557 1
a5557 1
if { (eval echo configure:5593: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5582 1
a5582 1
echo "configure:5618: checking for select" >&5
d5587 1
a5587 1
#line 5623 "configure"
d5610 1
a5610 1
if { (eval echo configure:5646: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5630 1
a5630 1
echo "configure:5666: checking for poll" >&5
d5635 1
a5635 1
#line 5671 "configure"
d5658 1
a5658 1
if { (eval echo configure:5694: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5678 1
a5678 1
echo "configure:5714: checking event handling" >&5
d5700 1
a5700 1
echo "configure:5736: checking for $ac_func" >&5
d5705 1
a5705 1
#line 5741 "configure"
d5728 1
a5728 1
if { (eval echo configure:5764: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5755 1
a5755 1
echo "configure:5791: checking for $ac_func" >&5
d5760 1
a5760 1
#line 5796 "configure"
d5783 1
a5783 1
if { (eval echo configure:5819: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a5807 54
# following test sets SETPGRP_VOID if setpgrp takes 0 args, else takes 2
echo $ac_n "checking whether setpgrp takes no argument""... $ac_c" 1>&6
echo "configure:5846: checking whether setpgrp takes no argument" >&5
if eval "test \"`echo '$''{'ac_cv_func_setpgrp_void'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  { echo "configure: error: cannot check setpgrp if cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 5854 "configure"
#include "confdefs.h"

#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif

/*
 * If this system has a BSD-style setpgrp, which takes arguments, exit
 * successfully.
 */
main()
{
    if (setpgrp(1,1) == -1)
	exit(0);
    else
	exit(1);
}

EOF
if { (eval echo configure:5874: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_func_setpgrp_void=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_func_setpgrp_void=yes
fi
rm -fr conftest*
fi


fi

echo "$ac_t""$ac_cv_func_setpgrp_void" 1>&6
if test $ac_cv_func_setpgrp_void = yes; then
  cat >> confdefs.h <<\EOF
#define SETPGRP_VOID 1
EOF

fi


d5812 1
a5812 1
echo "configure:5902: checking for SV-style timezone" >&5
d5818 1
a5818 1
#line 5908 "configure"
d5831 1
a5831 1
if { (eval echo configure:5921: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5877 1
a5877 1
echo "configure:5967: checking for Tk private headers" >&5
d5943 1
a5943 1
echo "configure:6033: checking for tk.h" >&5
d5948 1
a5948 1
#line 6038 "configure"
d5953 1
a5953 1
{ (eval echo configure:6043: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d6052 1
a6052 1
echo "configure:6142: checking for long file names" >&5
d6110 1
a6110 1
echo "configure:6200: checking for type of library to build" >&5
@


5.30.2.10
log
@Added a definition for AC_FUNC_SETPGRP so that older autoconf
installations will still work.
@
text
@d4 1
a4 1
# Generated automatically using autoconf version 2.9 
d26 8
d72 3
d356 1
a356 1
    echo "configure generated by autoconf version 2.9"
d458 5
a462 3
# Only set LANG and LC_ALL to C if already set.
# These must not be set unconditionally because not all systems understand
# e.g. LANG=C (notably SCO).
d464 2
a465 1
if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
d519 2
a520 1
ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
d522 2
d595 1
a595 1
if $ac_config_sub sun4 >/dev/null 2>&1; then :
d600 1
d607 1
a607 1
    if host_alias=`$ac_config_guess`; then :
d614 4
a617 4
host=`$ac_config_sub $host_alias`
host_cpu=`echo $host | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\1/'`
host_vendor=`echo $host | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\2/'`
host_os=`echo $host | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\3/'`
d621 1
d632 4
a635 4
target=`$ac_config_sub $target_alias`
target_cpu=`echo $target | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\1/'`
target_vendor=`echo $target | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\2/'`
target_os=`echo $target | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\3/'`
d639 1
d650 4
a653 4
build=`$ac_config_sub $build_alias`
build_cpu=`echo $build | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\1/'`
build_vendor=`echo $build | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\2/'`
build_os=`echo $build | sed 's/^\(.*\)-\(.*\)-\(.*\)$/\3/'`
d669 1
d703 1
d710 3
a712 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d733 1
d740 1
a740 1
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
d742 2
a743 1
  for ac_dir in $PATH; do
d778 34
d815 47
d863 1
d872 1
a872 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:766: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d880 1
d883 10
a892 3
  if test "${CFLAGS+set}" != set; then
    echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
if eval "test \"`echo '$''{'ac_cv_prog_gcc_g'+set}'`\" = set"; then
d897 1
a897 1
  ac_cv_prog_gcc_g=yes
d899 1
a899 1
  ac_cv_prog_gcc_g=no
d905 8
a912 6
echo "$ac_t""$ac_cv_prog_gcc_g" 1>&6
    if test $ac_cv_prog_gcc_g = yes; then
      CFLAGS="-g -O"
    else
      CFLAGS="-O"
    fi
d915 5
a919 2
  GCC=
  test "${CFLAGS+set}" = set || CFLAGS="-g"
d931 1
d981 1
d1070 1
d1074 1
d1079 1
a1079 1
#line 956 "configure"
d1085 2
d1089 1
a1089 2
int main() { return 0; }
int t() {
d1102 1
a1102 1
if { (eval echo configure:978: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d1106 2
d1112 1
a1113 1
fi
d1118 1
d1128 1
d1160 1
d1245 1
d1250 1
a1250 1
#line 1120 "configure"
d1256 2
d1260 1
a1260 2
int main() { return 0; }
int t() {
d1273 1
a1273 1
if { (eval echo configure:1142: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d1277 2
d1283 1
a1284 1
fi
d1289 1
d1299 1
d1314 1
d1316 1
a1316 1
#line 1180 "configure"
d1319 1
a1319 2
int main() { return 0; }
int t() {
d1323 1
a1323 1
if { (eval echo configure:1188: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1327 2
a1333 1

d1335 1
a1335 1
#line 1199 "configure"
d1338 1
a1338 2
int main() { return 0; }
int t() {
d1342 1
a1342 1
if { (eval echo configure:1207: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d1346 2
a1352 1

d1371 1
d1376 1
d1381 1
a1381 1
    IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
d1388 3
a1390 1
      for ac_prog in ginstall installbsd scoinst install; do
a1394 1
	    # OSF/1 installbsd also uses dspmsg, but is usable.
d1405 1
a1405 1
  IFS="$ac_save_ifs"
d1424 2
d1433 1
d1440 3
a1442 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d1473 1
d1488 1
a1488 1
#line 1344 "configure"
d1494 2
a1495 2
{ (eval echo configure:1350: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1500 2
d1505 1
a1505 1
#line 1359 "configure"
d1511 2
a1512 2
{ (eval echo configure:1365: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1517 19
d1542 2
d1554 1
d1559 1
a1559 1
#line 1391 "configure"
d1589 1
d1594 1
a1594 1
#line 1425 "configure"
d1597 1
a1597 2
int main() { return 0; }
int t() {
d1610 1
a1610 1
if { (eval echo configure:1442: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1614 2
a1619 1

a1628 26
# If we cannot run a trivial program, we must be cross compiling.
echo $ac_n "checking whether cross-compiling""... $ac_c" 1>&6
if eval "test \"`echo '$''{'ac_cv_c_cross'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_c_cross=yes
else
cat > conftest.$ac_ext <<EOF
#line 1469 "configure"
#include "confdefs.h"
main(){return(0);}
EOF
{ (eval echo configure:1473: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
  ac_cv_c_cross=no
else
  ac_cv_c_cross=yes
fi
fi
rm -fr conftest*
fi

echo "$ac_t""$ac_cv_c_cross" 1>&6
cross_compiling=$ac_cv_c_cross

d1630 1
d1635 1
a1635 1
#line 1491 "configure"
d1643 2
a1644 2
{ (eval echo configure:1499: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1650 2
d1660 1
a1660 1
#line 1514 "configure"
d1678 1
a1678 1
#line 1532 "configure"
d1698 2
a1699 2
cat > conftest.$ac_ext <<EOF
#line 1553 "configure"
d1710 2
a1711 2
{ (eval echo configure:1564: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d1714 3
d1719 1
d1721 1
a1721 1
rm -fr conftest*
d1734 1
d1739 1
a1739 1
#line 1588 "configure"
d1744 1
d1748 1
a1748 1
  egrep "pid_t" >/dev/null 2>&1; then
d1767 1
d1772 1
a1772 1
#line 1619 "configure"
d1785 1
a1785 2
int main() { return 0; }
int t() {
d1789 1
a1789 1
if { (eval echo configure:1637: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1793 2
a1798 1

d1808 1
d1813 1
a1813 1
#line 1659 "configure"
d1818 1
a1818 2
int main() { return 0; }
int t() {
d1822 1
a1822 1
if { (eval echo configure:1669: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1826 2
a1831 1

d1843 1
d1848 1
a1848 1
#line 1693 "configure"
d1858 1
a1858 2
int main() { return 0; }
int t() {
d1864 1
a1864 1
if { (eval echo configure:1710: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1868 2
a1873 1

d1904 1
d1920 1
d1930 1
d1940 1
d1950 1
d1960 1
d2016 1
d2036 1
d2041 1
a2041 1
#line 1878 "configure"
d2047 2
d2051 1
a2051 2
int main() { return 0; }
int t() {
d2064 1
a2064 1
if { (eval echo configure:1900: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2068 2
d2074 1
a2075 1
fi
d2094 1
d2099 1
a2099 1
#line 1932 "configure"
d2105 2
d2109 1
a2109 2
int main() { return 0; }
int t() {
d2122 1
a2122 1
if { (eval echo configure:1954: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2126 2
d2132 1
a2133 1
fi
d2162 1
d2226 1
a2226 1
   ac_safe=`echo "tclInt.h" | tr './\055' '___'`
d2228 1
d2233 1
a2233 1
#line 2061 "configure"
d2238 2
a2239 2
{ (eval echo configure:2066: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d2245 2
d2299 1
d2378 1
d2383 1
a2383 1
#line 2207 "configure"
d2389 2
d2393 1
a2393 2
int main() { return 0; }
int t() {
d2406 1
a2406 1
if { (eval echo configure:2229: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2410 2
d2416 1
a2417 1
fi
d2428 3
a2430 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_gethostname | tr '.-/+' '___p'`
d2437 1
a2437 1
#line 2257 "configure"
d2440 2
d2444 1
a2444 2
int main() { return 0; }
int t() {
d2448 1
a2448 1
if { (eval echo configure:2267: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2452 2
d2474 1
d2479 1
a2479 1
#line 2295 "configure"
d2485 2
d2489 1
a2489 2
int main() { return 0; }
int t() {
d2502 1
a2502 1
if { (eval echo configure:2317: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2506 2
d2512 1
a2513 1
fi
d2524 3
a2526 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_gethostname | tr '.-/+' '___p'`
d2533 1
a2533 1
#line 2345 "configure"
d2536 2
d2540 1
a2540 2
int main() { return 0; }
int t() {
d2544 1
a2544 1
if { (eval echo configure:2355: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2548 2
d2570 1
d2575 1
a2575 1
#line 2383 "configure"
d2581 2
d2585 1
a2585 2
int main() { return 0; }
int t() {
d2598 1
a2598 1
if { (eval echo configure:2405: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2602 2
d2608 1
a2609 1
fi
d2620 3
a2622 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_gethostname | tr '.-/+' '___p'`
d2629 1
a2629 1
#line 2433 "configure"
d2632 2
d2636 1
a2636 2
int main() { return 0; }
int t() {
d2640 1
a2640 1
if { (eval echo configure:2443: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2644 2
d2669 1
d2674 1
a2674 1
#line 2474 "configure"
d2680 2
d2684 1
a2684 2
int main() { return 0; }
int t() {
d2697 1
a2697 1
if { (eval echo configure:2496: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2701 2
d2707 1
a2708 1
fi
d2719 3
a2721 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_socket | tr '.-/+' '___p'`
d2728 1
a2728 1
#line 2524 "configure"
d2731 2
d2735 1
a2735 2
int main() { return 0; }
int t() {
d2739 1
a2739 1
if { (eval echo configure:2534: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2743 2
d2765 1
d2770 1
a2770 1
#line 2562 "configure"
d2776 2
d2780 1
a2780 2
int main() { return 0; }
int t() {
d2793 1
a2793 1
if { (eval echo configure:2584: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2797 2
d2803 1
a2804 1
fi
d2815 3
a2817 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_socket | tr '.-/+' '___p'`
d2824 1
a2824 1
#line 2612 "configure"
d2827 2
d2831 1
a2831 2
int main() { return 0; }
int t() {
d2835 1
a2835 1
if { (eval echo configure:2622: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2839 2
d2861 1
d2866 1
a2866 1
#line 2650 "configure"
d2872 2
d2876 1
a2876 2
int main() { return 0; }
int t() {
d2889 1
a2889 1
if { (eval echo configure:2672: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2893 2
d2899 1
a2900 1
fi
d2911 3
a2913 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_socket | tr '.-/+' '___p'`
d2920 1
a2920 1
#line 2700 "configure"
d2923 2
d2927 1
a2927 2
int main() { return 0; }
int t() {
d2931 1
a2931 1
if { (eval echo configure:2710: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2935 2
d2959 1
d2964 1
a2964 1
#line 2740 "configure"
d2970 2
d2974 1
a2974 2
int main() { return 0; }
int t() {
d2987 1
a2987 1
if { (eval echo configure:2762: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d2991 2
d2997 1
a2998 1
fi
d3009 3
a3011 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_select | tr '.-/+' '___p'`
d3018 1
a3018 1
#line 2790 "configure"
d3021 2
d3025 1
a3025 2
int main() { return 0; }
int t() {
d3029 1
a3029 1
if { (eval echo configure:2800: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3033 2
d3055 1
d3060 1
a3060 1
#line 2828 "configure"
d3066 2
d3070 1
a3070 2
int main() { return 0; }
int t() {
d3083 1
a3083 1
if { (eval echo configure:2850: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3087 2
d3093 1
a3094 1
fi
d3105 3
a3107 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_select | tr '.-/+' '___p'`
d3114 1
a3114 1
#line 2878 "configure"
d3117 2
d3121 1
a3121 2
int main() { return 0; }
int t() {
d3125 1
a3125 1
if { (eval echo configure:2888: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3129 2
d3151 1
d3156 1
a3156 1
#line 2916 "configure"
d3162 2
d3166 1
a3166 2
int main() { return 0; }
int t() {
d3179 1
a3179 1
if { (eval echo configure:2938: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3183 2
d3189 1
a3190 1
fi
d3201 3
a3203 2
  echo $ac_n "checking for -linet""... $ac_c" 1>&6
ac_lib_var=`echo inet_select | tr '.-/+' '___p'`
d3210 1
a3210 1
#line 2966 "configure"
d3213 2
d3217 1
a3217 2
int main() { return 0; }
int t() {
d3221 1
a3221 1
if { (eval echo configure:2976: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3225 2
d3249 1
d3254 1
a3254 1
#line 3006 "configure"
d3260 2
d3264 1
a3264 2
int main() { return 0; }
int t() {
d3277 1
a3277 1
if { (eval echo configure:3028: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3281 2
d3287 1
a3288 1
fi
d3299 3
a3301 2
  echo $ac_n "checking for -lseq""... $ac_c" 1>&6
ac_lib_var=`echo seq_getpseudotty | tr '.-/+' '___p'`
d3308 1
a3308 1
#line 3056 "configure"
d3311 2
d3315 1
a3315 2
int main() { return 0; }
int t() {
d3319 1
a3319 1
if { (eval echo configure:3066: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3323 2
d3334 2
a3335 1
    ac_tr_lib=HAVE_LIB`echo seq | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
d3352 1
d3357 1
a3357 1
#line 3100 "configure"
d3363 2
d3367 1
a3367 2
int main() { return 0; }
int t() {
d3380 1
a3380 1
if { (eval echo configure:3122: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3384 2
d3390 1
a3391 1
fi
d3402 3
a3404 2
  echo $ac_n "checking for -lseq""... $ac_c" 1>&6
ac_lib_var=`echo seq_getpseudotty | tr '.-/+' '___p'`
d3411 1
a3411 1
#line 3150 "configure"
d3414 2
d3418 1
a3418 2
int main() { return 0; }
int t() {
d3422 1
a3422 1
if { (eval echo configure:3160: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3426 2
d3437 2
a3438 1
    ac_tr_lib=HAVE_LIB`echo seq | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
d3455 1
d3460 1
a3460 1
#line 3194 "configure"
d3466 2
d3470 1
a3470 2
int main() { return 0; }
int t() {
d3483 1
a3483 1
if { (eval echo configure:3216: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3487 2
d3493 1
a3494 1
fi
d3505 3
a3507 2
  echo $ac_n "checking for -lseq""... $ac_c" 1>&6
ac_lib_var=`echo seq_getpseudotty | tr '.-/+' '___p'`
d3514 1
a3514 1
#line 3244 "configure"
d3517 2
d3521 1
a3521 2
int main() { return 0; }
int t() {
d3525 1
a3525 1
if { (eval echo configure:3254: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3529 2
d3540 2
a3541 1
    ac_tr_lib=HAVE_LIB`echo seq | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
d3561 1
d3566 1
a3566 1
#line 3291 "configure"
d3572 2
d3576 1
a3576 2
int main() { return 0; }
int t() {
d3589 1
a3589 1
if { (eval echo configure:3313: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3593 2
d3599 1
a3600 1
fi
d3611 3
a3613 2
  echo $ac_n "checking for -lutil""... $ac_c" 1>&6
ac_lib_var=`echo util_openpty | tr '.-/+' '___p'`
d3620 1
a3620 1
#line 3341 "configure"
d3623 2
d3627 1
a3627 2
int main() { return 0; }
int t() {
d3631 1
a3631 1
if { (eval echo configure:3351: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3635 2
d3666 1
d3671 1
a3671 1
#line 3388 "configure"
d3677 2
d3681 1
a3681 2
int main() { return 0; }
int t() {
d3694 1
a3694 1
if { (eval echo configure:3410: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3698 2
d3704 1
a3705 1
fi
d3716 3
a3718 2
  echo $ac_n "checking for -lutil""... $ac_c" 1>&6
ac_lib_var=`echo util_openpty | tr '.-/+' '___p'`
d3725 1
a3725 1
#line 3438 "configure"
d3728 2
d3732 1
a3732 2
int main() { return 0; }
int t() {
d3736 1
a3736 1
if { (eval echo configure:3448: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3740 2
d3768 1
d3773 1
a3773 1
#line 3482 "configure"
d3779 2
d3783 1
a3783 2
int main() { return 0; }
int t() {
d3796 1
a3796 1
if { (eval echo configure:3504: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3800 2
d3806 1
a3807 1
fi
d3818 3
a3820 2
  echo $ac_n "checking for -lutil""... $ac_c" 1>&6
ac_lib_var=`echo util_openpty | tr '.-/+' '___p'`
d3827 1
a3827 1
#line 3532 "configure"
d3830 2
d3834 1
a3834 2
int main() { return 0; }
int t() {
d3838 1
a3838 1
if { (eval echo configure:3542: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d3842 2
d3876 1
d3888 1
a3888 1
ac_safe=`echo "sys/sysmacros.h" | tr './\055' '___'`
d3890 1
d3895 1
a3895 1
#line 3595 "configure"
d3900 2
a3901 2
{ (eval echo configure:3600: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3907 2
d3924 1
a3924 1
ac_safe=`echo "stdlib.h" | tr './\055' '___'`
d3926 1
d3931 1
a3931 1
#line 3628 "configure"
d3936 2
a3937 2
{ (eval echo configure:3633: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3943 2
d3961 1
a3961 1
ac_safe=`echo "inttypes.h" | tr './\055' '___'`
d3963 1
d3968 1
a3968 1
#line 3662 "configure"
d3973 2
a3974 2
{ (eval echo configure:3667: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3980 2
d4001 1
a4001 1
ac_safe=`echo "varargs.h" | tr './\055' '___'`
d4003 1
d4008 1
a4008 1
#line 3699 "configure"
d4013 2
a4014 2
{ (eval echo configure:3704: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4020 2
d4037 1
a4037 1
ac_safe=`echo "unistd.h" | tr './\055' '___'`
d4039 1
d4044 1
a4044 1
#line 3732 "configure"
d4049 2
a4050 2
{ (eval echo configure:3737: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4056 2
d4073 1
a4073 1
ac_safe=`echo "sys/stropts.h" | tr './\055' '___'`
d4075 1
d4080 1
a4080 1
#line 3765 "configure"
d4085 2
a4086 2
{ (eval echo configure:3770: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4092 2
d4109 1
a4109 1
ac_safe=`echo "sys/sysconfig.h" | tr './\055' '___'`
d4111 1
d4116 1
a4116 1
#line 3798 "configure"
d4121 2
a4122 2
{ (eval echo configure:3803: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4128 2
d4145 1
a4145 1
ac_safe=`echo "sys/fcntl.h" | tr './\055' '___'`
d4147 1
d4152 1
a4152 1
#line 3831 "configure"
d4157 2
a4158 2
{ (eval echo configure:3836: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4164 2
d4181 1
a4181 1
ac_safe=`echo "sys/select.h" | tr './\055' '___'`
d4183 1
d4188 1
a4188 1
#line 3864 "configure"
d4193 2
a4194 2
{ (eval echo configure:3869: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4200 2
d4217 1
a4217 1
ac_safe=`echo "sys/time.h" | tr './\055' '___'`
d4219 1
d4224 1
a4224 1
#line 3897 "configure"
d4229 2
a4230 2
{ (eval echo configure:3902: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4236 2
d4253 1
a4253 1
ac_safe=`echo "sys/ptem.h" | tr './\055' '___'`
d4255 1
d4260 1
a4260 1
#line 3930 "configure"
d4265 2
a4266 2
{ (eval echo configure:3935: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4272 2
d4289 1
a4289 1
ac_safe=`echo "sys/strredir.h" | tr './\055' '___'`
d4291 1
d4296 1
a4296 1
#line 3963 "configure"
d4301 2
a4302 2
{ (eval echo configure:3968: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4308 2
d4325 1
a4325 1
ac_safe=`echo "sys/strpty.h" | tr './\055' '___'`
d4327 1
d4332 1
a4332 1
#line 3996 "configure"
d4337 2
a4338 2
{ (eval echo configure:4001: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4344 2
d4364 1
d4370 1
a4370 1
ac_safe=`echo "$ac_hdr" | tr './\055' '___'`
d4372 1
d4377 1
a4377 1
#line 4037 "configure"
d4382 2
a4383 2
{ (eval echo configure:4042: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4389 2
d4398 1
a4398 1
    ac_tr_hdr=HAVE_`echo $ac_hdr | tr 'abcdefghijklmnopqrstuvwxyz./\055' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ___'`
d4416 1
d4421 1
a4421 1
#line 4078 "configure"
d4427 2
d4431 1
a4431 2
int main() { return 0; }
int t() {
d4444 1
a4444 1
if { (eval echo configure:4100: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4448 2
d4454 1
a4455 1
fi
d4467 1
d4472 1
a4472 1
#line 4125 "configure"
d4478 2
d4482 1
a4482 2
int main() { return 0; }
int t() {
d4495 1
a4495 1
if { (eval echo configure:4147: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4499 2
d4505 1
a4506 1
fi
d4518 1
d4523 1
a4523 1
#line 4172 "configure"
d4529 2
d4533 1
a4533 2
int main() { return 0; }
int t() {
d4546 1
a4546 1
if { (eval echo configure:4194: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4550 2
d4556 1
a4557 1
fi
d4569 1
d4574 1
a4574 1
#line 4219 "configure"
d4580 2
d4584 1
a4584 2
int main() { return 0; }
int t() {
d4597 1
a4597 1
if { (eval echo configure:4241: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4601 2
d4607 1
a4608 1
fi
d4620 1
d4625 1
a4625 1
#line 4266 "configure"
d4631 2
d4635 1
a4635 2
int main() { return 0; }
int t() {
d4648 1
a4648 1
if { (eval echo configure:4288: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4652 2
d4658 1
a4659 1
fi
d4675 1
d4677 1
a4677 1
#line 4314 "configure"
d4680 1
a4680 2
int main() { return 0; }
int t() {
d4687 1
a4687 1
if { (eval echo configure:4325: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4696 2
a4703 1

d4709 1
d4714 2
a4715 2
cat > conftest.$ac_ext <<EOF
#line 4351 "configure"
d4727 2
a4728 2
{ (eval echo configure:4363: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d4736 3
d4742 1
d4744 1
a4744 1
rm -fr conftest*
d4747 1
d4753 2
a4754 2
cat > conftest.$ac_ext <<EOF
#line 4385 "configure"
d4770 2
a4771 2
{ (eval echo configure:4401: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d4780 3
d4790 1
d4792 1
a4792 1
rm -fr conftest*
d4803 1
d4805 1
a4805 1
#line 4431 "configure"
d4809 1
a4809 2
int main() { return 0; }
int t() {
d4817 1
a4817 1
if { (eval echo configure:4444: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d4821 2
a4826 1

d4847 1
d4861 1
d4866 2
a4867 2
cat > conftest.$ac_ext <<EOF
#line 4491 "configure"
d4906 2
a4907 2
{ (eval echo configure:4530: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d4915 3
d4921 1
d4923 1
a4923 1
rm -fr conftest*
d4937 1
d4956 1
d4967 1
d4977 1
d4995 1
d5009 1
d5011 1
a5011 1
#line 4625 "configure"
d5033 1
d5045 1
d5062 1
d5079 1
d5088 1
d5093 1
a5093 1
#line 4702 "configure"
d5099 2
d5103 1
a5103 2
int main() { return 0; }
int t() {
d5116 1
a5116 1
if { (eval echo configure:4724: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5120 2
d5126 1
a5127 1
fi
d5138 1
d5143 1
a5143 1
#line 4748 "configure"
d5149 2
d5153 1
a5153 2
int main() { return 0; }
int t() {
d5166 1
a5166 1
if { (eval echo configure:4770: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5170 2
d5176 1
a5177 1
fi
d5187 1
d5192 1
a5192 1
#line 4793 "configure"
d5198 2
d5202 1
a5202 2
int main() { return 0; }
int t() {
d5215 1
a5215 1
if { (eval echo configure:4815: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5219 2
d5225 1
a5226 1
fi
d5242 1
d5256 1
d5261 1
a5261 1
#line 4857 "configure"
d5267 2
d5271 1
a5271 2
int main() { return 0; }
int t() {
d5284 1
a5284 1
if { (eval echo configure:4879: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5288 2
d5294 1
a5295 1
fi
d5304 1
d5309 1
a5309 1
#line 4901 "configure"
d5315 2
d5319 1
a5319 2
int main() { return 0; }
int t() {
d5332 1
a5332 1
if { (eval echo configure:4923: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5336 2
d5342 1
a5343 1
fi
d5364 1
d5369 2
a5370 2
cat > conftest.$ac_ext <<EOF
#line 4958 "configure"
d5380 2
a5381 2
{ (eval echo configure:4968: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5390 3
d5396 1
d5398 1
a5398 1
rm -fr conftest*
d5409 1
d5414 2
a5415 2
cat > conftest.$ac_ext <<EOF
#line 4998 "configure"
d5424 2
a5425 2
{ (eval echo configure:5007: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5434 3
d5440 1
d5442 1
a5442 1
rm -fr conftest*
d5446 1
d5451 2
a5452 2
cat > conftest.$ac_ext <<EOF
#line 5030 "configure"
d5466 2
a5467 2
{ (eval echo configure:5044: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5476 3
d5482 1
d5484 1
a5484 1
rm -fr conftest*
d5488 1
d5493 2
a5494 2
cat > conftest.$ac_ext <<EOF
#line 5067 "configure"
d5510 2
a5511 2
{ (eval echo configure:5083: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5519 3
d5525 1
d5527 1
a5527 1
rm -fr conftest*
d5530 1
d5535 2
a5536 2
cat > conftest.$ac_ext <<EOF
#line 5104 "configure"
d5552 2
a5553 2
{ (eval echo configure:5120: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5561 3
d5567 1
d5569 1
a5569 1
rm -fr conftest*
d5573 1
d5579 2
a5580 2
cat > conftest.$ac_ext <<EOF
#line 5143 "configure"
d5592 2
a5593 2
{ (eval echo configure:5155: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5599 3
d5605 1
d5607 1
a5607 1
rm -fr conftest*
d5617 1
d5622 1
a5622 1
#line 5180 "configure"
d5628 2
d5632 1
a5632 2
int main() { return 0; }
int t() {
d5645 1
a5645 1
if { (eval echo configure:5202: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5649 2
d5655 1
a5656 1
fi
d5665 1
d5670 1
a5670 1
#line 5224 "configure"
d5676 2
d5680 1
a5680 2
int main() { return 0; }
int t() {
d5693 1
a5693 1
if { (eval echo configure:5246: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5697 2
d5703 1
a5704 1
fi
d5713 1
d5735 1
d5740 1
a5740 1
#line 5289 "configure"
d5746 2
d5750 1
a5750 2
int main() { return 0; }
int t() {
d5763 1
a5763 1
if { (eval echo configure:5311: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5767 2
d5773 1
a5774 1
fi
d5790 1
d5795 1
a5795 1
#line 5340 "configure"
d5801 2
d5805 1
a5805 2
int main() { return 0; }
int t() {
d5818 1
a5818 1
if { (eval echo configure:5362: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
d5822 2
d5828 1
a5829 1
fi
d5845 1
d5852 2
a5853 2
cat > conftest.$ac_ext <<EOF
#line 5394 "configure"
d5865 1
a5865 1

d5867 1
a5867 1
        exit(0);
d5869 2
a5870 2
        exit(1);

d5873 2
a5874 2
{ (eval echo configure:5414: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5877 3
d5882 4
a5886 1
rm -fr conftest*
d5888 1
d5901 1
d5906 2
a5907 2
cat > conftest.$ac_ext <<EOF
#line 5440 "configure"
d5910 1
a5910 1
extern char *tzname2;
d5920 2
a5921 2
{ (eval echo configure:5453: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5928 3
d5934 1
d5936 1
a5936 1
rm -fr conftest*
a5938 2
ac_help="$ac_help
  --with-x               whether or not to use X (default yes)"
d5966 1
a5966 2
ac_help="$ac_help
  --with-tkinclude       directory where tk private headers are"
d6001 1
a6001 1
		`ls -dr ${srcdir}/../tk4-9.0-9.0-9 ${srcdir}/../tk4-9.0-9 2>/dev/null` \
d6003 1
a6003 1
		`ls -dr ${srcdir}/../../tk4-9.0-9.0-9 ${srcdir}/../../tk4-9.0-9 2>/dev/null` \
d6005 1
a6005 1
		`ls -dr ${srcdir}/../../../tk4-9.0-9.0-9 ${srcdir}/../../../tk4-9.0-9 2>/dev/null ` ; do
d6017 2
a6018 2
		`ls -dr /usr/local/src/tk4-9.0-9.0-9 /usr/local/src/tk4-9.0-9 2>/dev/null` \
		`ls -dr /usr/local/lib/tk4-9.0-9.0-9 /usr/local/lib/tk4-9.0-9 2>/dev/null` \
d6030 1
a6030 1
   ac_safe=`echo "tk.h" | tr './\055' '___'`
d6032 1
d6037 1
a6037 1
#line 5568 "configure"
d6042 2
a6043 2
{ (eval echo configure:5573: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d6049 2
a6083 1
s%@@TKHDIRDASHI@@%$TKHDIRDASHI%g
d6097 77
a6173 1
  echo "	build expect
d6176 173
a6348 1
echo "$ac_t""$ac_cv_func_setpgrp_void" 1>&6
d6352 1
a6352 1
    echo "$CONFIG_STATUS generated by autoconf version 2.9"
d6372 1
d6376 1
d6429 1
d6437 27
d6467 36
d6509 1
a6509 1
  # Support "outfile[:infile]", defaulting infile="outfile.in".
d6511 1
a6511 1
  *:*) ac_file_in=`echo "$ac_file"|sed 's%.*:%%'`
d6516 1
a6516 1
  # Adjust relative srcdir, etc. for subdirectories.
d6544 1
d6553 2
d6560 1
a6560 1
" -f conftest.subs $ac_given_srcdir/$ac_file_in > $ac_file
d6562 1
a6562 1
rm -f conftest.subs
d6583 7
a6589 1
CONFIG_HEADERS=${CONFIG_HEADERS-"expect_cf.h"}
d6591 1
a6591 1
  # Support "outfile[:infile]", defaulting infile="outfile.in".
d6593 1
a6593 1
  *:*) ac_file_in=`echo "$ac_file"|sed 's%.*:%%'`
d6601 2
a6602 1
  cp $ac_given_srcdir/$ac_file_in conftest.in
a6629 2
# Maximum number of lines to put in a single here document.
ac_max_here_lines=12
d6660 6
d6671 2
d6674 2
d6731 3
d6740 1
a6740 1
      ac_sub_srcdir=../$srcdir/$ac_config_dir ;;
a6756 2
      # A "../" for each directory in /$ac_config_dir.
      ac_dots=`echo $ac_config_dir|sed -e 's%^\./%%' -e 's%[^/]$%&/%' -e 's%[^/]*/%../%g'`
@


5.30.2.11
log
@Removed AC_FUNC_SETPGRP definition from aclocal.m4.  The proper
workaround is to upgrade to the latest version of autoconf (currently
2.13)
@
text
@d4 1
a4 1
# Generated automatically using autoconf version 2.13 
a25 8
ac_help="$ac_help
  --with-x               whether or not to use X (default yes)"
ac_help="$ac_help
  --with-tkinclude       directory where tk private headers are"
ac_help="$ac_help
  --disable-load     disallow dynamic loading"
ac_help="$ac_help
  --enable-gcc        allow use of gcc if available"
a63 3
SHELL=${CONFIG_SHELL-/bin/sh}
# Maximum number of lines to put in a shell here document.
ac_max_here_lines=12
d345 1
a345 1
    echo "configure generated by autoconf version 2.13"
d447 4
a450 4
# Only set these to C if already set.  These must not be set unconditionally
# because not all systems understand e.g. LANG=C (notably SCO).
# Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
# Non-C LC_CTYPE values break the ctype check.
a451 3
if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi
d505 1
a505 2
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross
a506 2
ac_exeext=
ac_objext=o
d578 1
a578 1
if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :
a582 1
echo "configure:601: checking host system type" >&5
d589 1
a589 1
    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :
d596 4
a599 4
host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`
host_cpu=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
host_vendor=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
host_os=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
a602 1
echo "configure:622: checking target system type" >&5
d613 4
a616 4
target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`
target_cpu=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
target_vendor=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
target_os=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
a619 1
echo "configure:640: checking build system type" >&5
d630 4
a633 4
build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`
build_cpu=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
build_vendor=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
build_os=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
a648 1
echo "configure:670: checking shell to use within Make" >&5
a681 1
echo "configure:704: checking for $ac_word" >&5
d688 2
a689 3
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
a709 1
echo "configure:734: checking for $ac_word" >&5
d716 1
a716 1
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
d718 1
a718 2
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
a752 34
  if test -z "$CC"; then
    case "`uname -s`" in
    *win32* | *WIN32*)
      # Extract the first word of "cl", so it can be a program name with args.
set dummy cl; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:785: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="cl"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
 ;;
    esac
  fi
a755 47
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
echo "configure:817: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5

ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

cat > conftest.$ac_ext << EOF

#line 828 "configure"
#include "confdefs.h"

main(){return(0);}
EOF
if { (eval echo configure:833: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  ac_cv_prog_cc_works=yes
  # If we can't run a trivial program, we are probably using a cross compiler.
  if (./conftest; exit) 2>/dev/null; then
    ac_cv_prog_cc_cross=no
  else
    ac_cv_prog_cc_cross=yes
  fi
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_prog_cc_works=no
fi
rm -fr conftest*
ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

echo "$ac_t""$ac_cv_prog_cc_works" 1>&6
if test $ac_cv_prog_cc_works = no; then
  { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
fi
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
echo "configure:859: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
cross_compiling=$ac_cv_prog_cc_cross

a756 1
echo "configure:864: checking whether we are using GNU C" >&5
d765 1
a765 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:873: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
a772 1

d775 3
a777 10
else
  GCC=
fi

ac_test_CFLAGS="${CFLAGS+set}"
ac_save_CFLAGS="$CFLAGS"
CFLAGS=
echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
echo "configure:892: checking whether ${CC-cc} accepts -g" >&5
if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
d782 1
a782 1
  ac_cv_prog_cc_g=yes
d784 1
a784 1
  ac_cv_prog_cc_g=no
d790 6
a795 8
echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
if test "$ac_test_CFLAGS" = set; then
  CFLAGS="$ac_save_CFLAGS"
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
d798 2
a799 5
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
a810 1
echo "configure:932: checking for building with threads" >&5
a859 1
echo "configure:982: checking for Tcl configuration" >&5
a947 1
echo "configure:1071: checking Tcl build library" >&5
a950 1
echo "configure:1075: checking for Tcl_CreateCommand" >&5
d955 1
a955 1
#line 1080 "configure"
a960 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d963 2
a964 1
int main() {
d977 1
a977 1
if { (eval echo configure:1103: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a980 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d985 1
a986 1

a990 1
echo "configure:1119: checking if Tcl library build specification is valid" >&5
a999 1
echo "configure:1129: checking if Tcl library build specification is valid" >&5
a1030 1
echo "configure:1161: checking for Tk configuration" >&5
a1114 1
echo "configure:1246: checking for Tk_Init" >&5
d1119 1
a1119 1
#line 1251 "configure"
a1124 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d1127 2
a1128 1
int main() {
d1141 1
a1141 1
if { (eval echo configure:1274: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a1144 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1149 1
a1150 1

a1154 1
echo "configure:1290: checking if Tk library build specification is valid" >&5
a1163 1
echo "configure:1300: checking if Tk library build specification is valid" >&5
a1177 1
echo "configure:1315: checking whether the compiler ($CC) actually works" >&5
d1179 1
a1179 1
#line 1317 "configure"
d1182 2
a1183 1
int main() {
d1187 1
a1187 1
if { (eval echo configure:1324: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1190 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1196 1
d1198 1
a1198 1
#line 1336 "configure"
d1201 2
a1202 1
int main() {
d1206 1
a1206 1
if { (eval echo configure:1343: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a1209 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1215 1
a1233 1
# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
a1237 1
echo "configure:1377: checking for a BSD compatible install" >&5
d1242 1
a1242 1
    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS=":"
d1249 1
a1249 3
      # Don't use installbsd from OSF since it installs stuff as root
      # by default.
      for ac_prog in ginstall scoinst install; do
d1254 1
d1265 1
a1265 1
  IFS="$ac_save_IFS"
a1283 2
test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'

a1290 1
echo "configure:1434: checking for $ac_word" >&5
d1297 2
a1298 3
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
a1328 1
echo "configure:1474: checking how to run the C preprocessor" >&5
d1343 1
a1343 1
#line 1489 "configure"
d1349 2
a1350 2
{ (eval echo configure:1495: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a1354 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1358 1
a1358 1
#line 1506 "configure"
d1364 2
a1365 2
{ (eval echo configure:1512: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a1369 19
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -nologo -E"
  cat > conftest.$ac_ext <<EOF
#line 1523 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1529: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a1375 2
fi
rm -f conftest*
a1385 1
echo "configure:1555: checking if running LynxOS" >&5
d1390 1
a1390 1
#line 1560 "configure"
a1419 1
echo "configure:1590: checking whether -mposix or -X is available" >&5
d1424 1
a1424 1
#line 1595 "configure"
d1427 2
a1428 1
int main() {
d1441 1
a1441 1
if { (eval echo configure:1611: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1444 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1449 1
d1459 26
a1485 1
echo "configure:1631: checking for ANSI C header files" >&5
d1490 1
a1490 1
#line 1636 "configure"
d1498 2
a1499 2
{ (eval echo configure:1644: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a1504 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1513 1
a1513 1
#line 1661 "configure"
d1531 1
a1531 1
#line 1679 "configure"
d1551 2
a1552 2
  cat > conftest.$ac_ext <<EOF
#line 1700 "configure"
d1563 2
a1564 2
if { (eval echo configure:1711: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a1566 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d1569 1
a1571 2

fi
a1582 1
echo "configure:1735: checking for pid_t" >&5
d1587 1
a1587 1
#line 1740 "configure"
a1591 1
#include <stddef.h>
d1595 1
a1595 1
  egrep "(^|[^a-zA-Z_0-9])pid_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
a1613 1
echo "configure:1768: checking return type of signal handlers" >&5
d1618 1
a1618 1
#line 1773 "configure"
d1631 2
a1632 1
int main() {
d1636 1
a1636 1
if { (eval echo configure:1790: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1639 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1644 1
a1653 1
echo "configure:1809: checking whether time.h and sys/time.h may both be included" >&5
d1658 1
a1658 1
#line 1814 "configure"
d1663 2
a1664 1
int main() {
d1668 1
a1668 1
if { (eval echo configure:1823: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1671 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1676 1
a1687 1
echo "configure:1844: checking for sys/wait.h that is POSIX.1 compatible" >&5
d1692 1
a1692 1
#line 1849 "configure"
d1702 2
a1703 1
int main() {
d1709 1
a1709 1
if { (eval echo configure:1865: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1712 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1717 1
a1747 1
echo "configure:1905: checking if running Mach" >&5
a1762 1
echo "configure:1921: checking if running MachTen" >&5
a1771 1
echo "configure:1931: checking if on Pyramid" >&5
a1780 1
echo "configure:1941: checking if on Apollo" >&5
a1789 1
echo "configure:1951: checking if on Interactive" >&5
a1798 1
echo "configure:1961: checking if stty reads stdout" >&5
a1853 1
echo "configure:2017: checking if running Solaris" >&5
a1872 1
echo "configure:2037: checking for sin" >&5
d1877 1
a1877 1
#line 2042 "configure"
a1882 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d1885 2
a1886 1
int main() {
d1899 1
a1899 1
if { (eval echo configure:2065: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a1902 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1907 1
a1908 1

a1926 1
echo "configure:2095: checking for strftime" >&5
d1931 1
a1931 1
#line 2100 "configure"
a1936 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d1939 2
a1940 1
int main() {
d1953 1
a1953 1
if { (eval echo configure:2123: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a1956 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d1961 1
a1962 1

a1990 1
echo "configure:2163: checking for Tcl private headers" >&5
d2054 1
a2054 1
   ac_safe=`echo "tclInt.h" | sed 'y%./+-%__p_%'`
a2055 1
echo "configure:2229: checking for tclInt.h" >&5
d2060 1
a2060 1
#line 2234 "configure"
d2065 2
a2066 2
{ (eval echo configure:2239: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a2071 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2123 1
echo "configure:2300: checking type of library to build" >&5
a2201 1
echo "configure:2379: checking for gethostname" >&5
d2206 1
a2206 1
#line 2384 "configure"
a2211 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2214 2
a2215 1
int main() {
d2228 1
a2228 1
if { (eval echo configure:2407: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2231 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2236 1
a2237 1

d2248 2
a2249 3
  echo $ac_n "checking for gethostname in -linet""... $ac_c" 1>&6
echo "configure:2430: checking for gethostname in -linet" >&5
ac_lib_var=`echo inet'_'gethostname | sed 'y%./+-%__p_%'`
d2256 1
a2256 1
#line 2438 "configure"
a2258 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2261 2
a2262 1
int main() {
d2266 1
a2266 1
if { (eval echo configure:2449: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2269 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2289 1
echo "configure:2475: checking for gethostname" >&5
d2294 1
a2294 1
#line 2480 "configure"
a2299 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2302 2
a2303 1
int main() {
d2316 1
a2316 1
if { (eval echo configure:2503: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2319 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2324 1
a2325 1

d2336 2
a2337 3
  echo $ac_n "checking for gethostname in -linet""... $ac_c" 1>&6
echo "configure:2526: checking for gethostname in -linet" >&5
ac_lib_var=`echo inet'_'gethostname | sed 'y%./+-%__p_%'`
d2344 1
a2344 1
#line 2534 "configure"
a2346 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2349 2
a2350 1
int main() {
d2354 1
a2354 1
if { (eval echo configure:2545: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2357 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2377 1
echo "configure:2571: checking for gethostname" >&5
d2382 1
a2382 1
#line 2576 "configure"
a2387 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2390 2
a2391 1
int main() {
d2404 1
a2404 1
if { (eval echo configure:2599: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2407 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2412 1
a2413 1

d2424 2
a2425 3
  echo $ac_n "checking for gethostname in -linet""... $ac_c" 1>&6
echo "configure:2622: checking for gethostname in -linet" >&5
ac_lib_var=`echo inet'_'gethostname | sed 'y%./+-%__p_%'`
d2432 1
a2432 1
#line 2630 "configure"
a2434 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2437 2
a2438 1
int main() {
d2442 1
a2442 1
if { (eval echo configure:2641: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2445 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2468 1
echo "configure:2670: checking for socket" >&5
d2473 1
a2473 1
#line 2675 "configure"
a2478 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2481 2
a2482 1
int main() {
d2495 1
a2495 1
if { (eval echo configure:2698: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2498 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2503 1
a2504 1

d2515 2
a2516 3
  echo $ac_n "checking for socket in -linet""... $ac_c" 1>&6
echo "configure:2721: checking for socket in -linet" >&5
ac_lib_var=`echo inet'_'socket | sed 'y%./+-%__p_%'`
d2523 1
a2523 1
#line 2729 "configure"
a2525 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2528 2
a2529 1
int main() {
d2533 1
a2533 1
if { (eval echo configure:2740: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2536 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2556 1
echo "configure:2766: checking for socket" >&5
d2561 1
a2561 1
#line 2771 "configure"
a2566 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2569 2
a2570 1
int main() {
d2583 1
a2583 1
if { (eval echo configure:2794: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2586 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2591 1
a2592 1

d2603 2
a2604 3
  echo $ac_n "checking for socket in -linet""... $ac_c" 1>&6
echo "configure:2817: checking for socket in -linet" >&5
ac_lib_var=`echo inet'_'socket | sed 'y%./+-%__p_%'`
d2611 1
a2611 1
#line 2825 "configure"
a2613 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2616 2
a2617 1
int main() {
d2621 1
a2621 1
if { (eval echo configure:2836: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2624 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2644 1
echo "configure:2862: checking for socket" >&5
d2649 1
a2649 1
#line 2867 "configure"
a2654 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2657 2
a2658 1
int main() {
d2671 1
a2671 1
if { (eval echo configure:2890: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2674 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2679 1
a2680 1

d2691 2
a2692 3
  echo $ac_n "checking for socket in -linet""... $ac_c" 1>&6
echo "configure:2913: checking for socket in -linet" >&5
ac_lib_var=`echo inet'_'socket | sed 'y%./+-%__p_%'`
d2699 1
a2699 1
#line 2921 "configure"
a2701 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2704 2
a2705 1
int main() {
d2709 1
a2709 1
if { (eval echo configure:2932: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2712 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2734 1
echo "configure:2960: checking for select" >&5
d2739 1
a2739 1
#line 2965 "configure"
a2744 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2747 2
a2748 1
int main() {
d2761 1
a2761 1
if { (eval echo configure:2988: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2764 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2769 1
a2770 1

d2781 2
a2782 3
  echo $ac_n "checking for select in -linet""... $ac_c" 1>&6
echo "configure:3011: checking for select in -linet" >&5
ac_lib_var=`echo inet'_'select | sed 'y%./+-%__p_%'`
d2789 1
a2789 1
#line 3019 "configure"
a2791 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2794 2
a2795 1
int main() {
d2799 1
a2799 1
if { (eval echo configure:3030: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2802 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2822 1
echo "configure:3056: checking for select" >&5
d2827 1
a2827 1
#line 3061 "configure"
a2832 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2835 2
a2836 1
int main() {
d2849 1
a2849 1
if { (eval echo configure:3084: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2852 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2857 1
a2858 1

d2869 2
a2870 3
  echo $ac_n "checking for select in -linet""... $ac_c" 1>&6
echo "configure:3107: checking for select in -linet" >&5
ac_lib_var=`echo inet'_'select | sed 'y%./+-%__p_%'`
d2877 1
a2877 1
#line 3115 "configure"
a2879 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2882 2
a2883 1
int main() {
d2887 1
a2887 1
if { (eval echo configure:3126: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2890 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a2910 1
echo "configure:3152: checking for select" >&5
d2915 1
a2915 1
#line 3157 "configure"
a2920 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2923 2
a2924 1
int main() {
d2937 1
a2937 1
if { (eval echo configure:3180: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2940 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2945 1
a2946 1

d2957 2
a2958 3
  echo $ac_n "checking for select in -linet""... $ac_c" 1>&6
echo "configure:3203: checking for select in -linet" >&5
ac_lib_var=`echo inet'_'select | sed 'y%./+-%__p_%'`
d2965 1
a2965 1
#line 3211 "configure"
a2967 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d2970 2
a2971 1
int main() {
d2975 1
a2975 1
if { (eval echo configure:3222: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2978 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a3000 1
echo "configure:3250: checking for getpseudotty" >&5
d3005 1
a3005 1
#line 3255 "configure"
a3010 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3013 2
a3014 1
int main() {
d3027 1
a3027 1
if { (eval echo configure:3278: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3030 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3035 1
a3036 1

d3047 2
a3048 3
  echo $ac_n "checking for getpseudotty in -lseq""... $ac_c" 1>&6
echo "configure:3301: checking for getpseudotty in -lseq" >&5
ac_lib_var=`echo seq'_'getpseudotty | sed 'y%./+-%__p_%'`
d3055 1
a3055 1
#line 3309 "configure"
a3057 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3060 2
a3061 1
int main() {
d3065 1
a3065 1
if { (eval echo configure:3320: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3068 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3078 1
a3078 2
    ac_tr_lib=HAVE_LIB`echo seq | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
a3094 1
echo "configure:3353: checking for getpseudotty" >&5
d3099 1
a3099 1
#line 3358 "configure"
a3104 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3107 2
a3108 1
int main() {
d3121 1
a3121 1
if { (eval echo configure:3381: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3124 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3129 1
a3130 1

d3141 2
a3142 3
  echo $ac_n "checking for getpseudotty in -lseq""... $ac_c" 1>&6
echo "configure:3404: checking for getpseudotty in -lseq" >&5
ac_lib_var=`echo seq'_'getpseudotty | sed 'y%./+-%__p_%'`
d3149 1
a3149 1
#line 3412 "configure"
a3151 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3154 2
a3155 1
int main() {
d3159 1
a3159 1
if { (eval echo configure:3423: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3162 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3172 1
a3172 2
    ac_tr_lib=HAVE_LIB`echo seq | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
a3188 1
echo "configure:3456: checking for getpseudotty" >&5
d3193 1
a3193 1
#line 3461 "configure"
a3198 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3201 2
a3202 1
int main() {
d3215 1
a3215 1
if { (eval echo configure:3484: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3218 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3223 1
a3224 1

d3235 2
a3236 3
  echo $ac_n "checking for getpseudotty in -lseq""... $ac_c" 1>&6
echo "configure:3507: checking for getpseudotty in -lseq" >&5
ac_lib_var=`echo seq'_'getpseudotty | sed 'y%./+-%__p_%'`
d3243 1
a3243 1
#line 3515 "configure"
a3245 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3248 2
a3249 1
int main() {
d3253 1
a3253 1
if { (eval echo configure:3526: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3256 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3266 1
a3266 2
    ac_tr_lib=HAVE_LIB`echo seq | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
a3285 1
echo "configure:3562: checking for openpty" >&5
d3290 1
a3290 1
#line 3567 "configure"
a3295 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3298 2
a3299 1
int main() {
d3312 1
a3312 1
if { (eval echo configure:3590: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3315 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3320 1
a3321 1

d3332 2
a3333 3
  echo $ac_n "checking for openpty in -lutil""... $ac_c" 1>&6
echo "configure:3613: checking for openpty in -lutil" >&5
ac_lib_var=`echo util'_'openpty | sed 'y%./+-%__p_%'`
d3340 1
a3340 1
#line 3621 "configure"
a3342 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3345 2
a3346 1
int main() {
d3350 1
a3350 1
if { (eval echo configure:3632: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3353 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a3382 1
echo "configure:3667: checking for openpty" >&5
d3387 1
a3387 1
#line 3672 "configure"
a3392 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3395 2
a3396 1
int main() {
d3409 1
a3409 1
if { (eval echo configure:3695: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3412 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3417 1
a3418 1

d3429 2
a3430 3
  echo $ac_n "checking for openpty in -lutil""... $ac_c" 1>&6
echo "configure:3718: checking for openpty in -lutil" >&5
ac_lib_var=`echo util'_'openpty | sed 'y%./+-%__p_%'`
d3437 1
a3437 1
#line 3726 "configure"
a3439 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3442 2
a3443 1
int main() {
d3447 1
a3447 1
if { (eval echo configure:3737: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3450 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a3476 1
echo "configure:3769: checking for openpty" >&5
d3481 1
a3481 1
#line 3774 "configure"
a3486 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3489 2
a3490 1
int main() {
d3503 1
a3503 1
if { (eval echo configure:3797: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3506 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3511 1
a3512 1

d3523 2
a3524 3
  echo $ac_n "checking for openpty in -lutil""... $ac_c" 1>&6
echo "configure:3820: checking for openpty in -lutil" >&5
ac_lib_var=`echo util'_'openpty | sed 'y%./+-%__p_%'`
d3531 1
a3531 1
#line 3828 "configure"
a3533 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d3536 2
a3537 1
int main() {
d3541 1
a3541 1
if { (eval echo configure:3839: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a3544 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a3576 1
echo "configure:3877: checking if running Sequent running SVR4" >&5
d3588 1
a3588 1
ac_safe=`echo "sys/sysmacros.h" | sed 'y%./+-%__p_%'`
a3589 1
echo "configure:3891: checking for sys/sysmacros.h" >&5
d3594 1
a3594 1
#line 3896 "configure"
d3599 2
a3600 2
{ (eval echo configure:3901: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3605 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3621 1
a3621 1
ac_safe=`echo "stdlib.h" | sed 'y%./+-%__p_%'`
a3622 1
echo "configure:3927: checking for stdlib.h" >&5
d3627 1
a3627 1
#line 3932 "configure"
d3632 2
a3633 2
{ (eval echo configure:3937: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3638 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3655 1
a3655 1
ac_safe=`echo "inttypes.h" | sed 'y%./+-%__p_%'`
a3656 1
echo "configure:3964: checking for inttypes.h" >&5
d3661 1
a3661 1
#line 3969 "configure"
d3666 2
a3667 2
{ (eval echo configure:3974: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3672 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3692 1
a3692 1
ac_safe=`echo "varargs.h" | sed 'y%./+-%__p_%'`
a3693 1
echo "configure:4004: checking for varargs.h" >&5
d3698 1
a3698 1
#line 4009 "configure"
d3703 2
a3704 2
{ (eval echo configure:4014: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3709 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3725 1
a3725 1
ac_safe=`echo "unistd.h" | sed 'y%./+-%__p_%'`
a3726 1
echo "configure:4040: checking for unistd.h" >&5
d3731 1
a3731 1
#line 4045 "configure"
d3736 2
a3737 2
{ (eval echo configure:4050: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3742 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3758 1
a3758 1
ac_safe=`echo "sys/stropts.h" | sed 'y%./+-%__p_%'`
a3759 1
echo "configure:4076: checking for sys/stropts.h" >&5
d3764 1
a3764 1
#line 4081 "configure"
d3769 2
a3770 2
{ (eval echo configure:4086: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3775 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3791 1
a3791 1
ac_safe=`echo "sys/sysconfig.h" | sed 'y%./+-%__p_%'`
a3792 1
echo "configure:4112: checking for sys/sysconfig.h" >&5
d3797 1
a3797 1
#line 4117 "configure"
d3802 2
a3803 2
{ (eval echo configure:4122: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3808 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3824 1
a3824 1
ac_safe=`echo "sys/fcntl.h" | sed 'y%./+-%__p_%'`
a3825 1
echo "configure:4148: checking for sys/fcntl.h" >&5
d3830 1
a3830 1
#line 4153 "configure"
d3835 2
a3836 2
{ (eval echo configure:4158: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3841 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3857 1
a3857 1
ac_safe=`echo "sys/select.h" | sed 'y%./+-%__p_%'`
a3858 1
echo "configure:4184: checking for sys/select.h" >&5
d3863 1
a3863 1
#line 4189 "configure"
d3868 2
a3869 2
{ (eval echo configure:4194: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3874 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3890 1
a3890 1
ac_safe=`echo "sys/time.h" | sed 'y%./+-%__p_%'`
a3891 1
echo "configure:4220: checking for sys/time.h" >&5
d3896 1
a3896 1
#line 4225 "configure"
d3901 2
a3902 2
{ (eval echo configure:4230: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3907 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3923 1
a3923 1
ac_safe=`echo "sys/ptem.h" | sed 'y%./+-%__p_%'`
a3924 1
echo "configure:4256: checking for sys/ptem.h" >&5
d3929 1
a3929 1
#line 4261 "configure"
d3934 2
a3935 2
{ (eval echo configure:4266: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3940 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3956 1
a3956 1
ac_safe=`echo "sys/strredir.h" | sed 'y%./+-%__p_%'`
a3957 1
echo "configure:4292: checking for sys/strredir.h" >&5
d3962 1
a3962 1
#line 4297 "configure"
d3967 2
a3968 2
{ (eval echo configure:4302: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a3973 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3989 1
a3989 1
ac_safe=`echo "sys/strpty.h" | sed 'y%./+-%__p_%'`
a3990 1
echo "configure:4328: checking for sys/strpty.h" >&5
d3995 1
a3995 1
#line 4333 "configure"
d4000 2
a4001 2
{ (eval echo configure:4338: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a4006 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
a4024 1
echo "configure:4365: checking for sys/bsdtypes.h" >&5
d4030 1
a4030 1
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
a4031 1
echo "configure:4373: checking for $ac_hdr" >&5
d4036 1
a4036 1
#line 4378 "configure"
d4041 2
a4042 2
{ (eval echo configure:4383: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a4047 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4055 1
a4055 1
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
a4072 1
echo "configure:4417: checking for memmove" >&5
d4077 1
a4077 1
#line 4422 "configure"
a4082 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4085 2
a4086 1
int main() {
d4099 1
a4099 1
if { (eval echo configure:4445: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4102 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4107 1
a4108 1

a4119 1
echo "configure:4468: checking for sysconf" >&5
d4124 1
a4124 1
#line 4473 "configure"
a4129 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4132 2
a4133 1
int main() {
d4146 1
a4146 1
if { (eval echo configure:4496: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4149 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4154 1
a4155 1

a4166 1
echo "configure:4519: checking for strftime" >&5
d4171 1
a4171 1
#line 4524 "configure"
a4176 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4179 2
a4180 1
int main() {
d4193 1
a4193 1
if { (eval echo configure:4547: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4196 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4201 1
a4202 1

a4213 1
echo "configure:4570: checking for strchr" >&5
d4218 1
a4218 1
#line 4575 "configure"
a4223 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4226 2
a4227 1
int main() {
d4240 1
a4240 1
if { (eval echo configure:4598: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4243 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4248 1
a4249 1

a4260 1
echo "configure:4621: checking for timezone" >&5
d4265 1
a4265 1
#line 4626 "configure"
a4270 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4273 2
a4274 1
int main() {
d4287 1
a4287 1
if { (eval echo configure:4649: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4290 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4295 1
a4296 1

a4311 1
echo "configure:4676: checking for memcpy" >&5
d4313 1
a4313 1
#line 4678 "configure"
d4316 2
a4317 1
int main() {
d4324 1
a4324 1
if { (eval echo configure:4688: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4332 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4339 1
a4344 1
echo "configure:4710: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4349 2
a4350 2
  cat > conftest.$ac_ext <<EOF
#line 4716 "configure"
d4362 2
a4363 2
if { (eval echo configure:4728: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a4370 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d4374 1
a4375 2
fi

a4377 1
echo "configure:4748: checking if any value exists for WNOHANG" >&5
d4383 2
a4384 2
  cat > conftest.$ac_ext <<EOF
#line 4755 "configure"
d4400 2
a4401 2
if { (eval echo configure:4771: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a4409 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d4417 1
a4418 2
fi

a4428 1
echo "configure:4804: checking union wait" >&5
d4430 1
a4430 1
#line 4806 "configure"
d4434 2
a4435 1
int main() {
d4443 1
a4443 1
if { (eval echo configure:4818: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4446 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4451 1
a4471 1
echo "configure:4848: checking mask type of select" >&5
a4484 1
echo "configure:4862: checking if signals need to be re-armed" >&5
d4489 2
a4490 2
  cat > conftest.$ac_ext <<EOF
#line 4868 "configure"
d4529 2
a4530 2
if { (eval echo configure:4907: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a4537 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d4541 1
a4542 2
fi

a4555 1
echo "configure:4938: checking if on Convex" >&5
a4573 1
echo "configure:4957: checking if on NeXT" >&5
a4583 1
echo "configure:4968: checking if on HP" >&5
a4592 1
echo "configure:4978: checking sane default stty arguments" >&5
a4609 1
echo "configure:4996: checking for HP style pty allocation" >&5
a4622 1
echo "configure:5010: checking for HP style pty trapping" >&5
d4624 1
a4624 1
#line 5012 "configure"
a4645 1
echo "configure:5034: checking for AIX new-style pty allocation" >&5
a4656 1
echo "configure:5046: checking for SGI old-style pty allocation" >&5
a4672 1
echo "configure:5063: checking for SCO style pty allocation" >&5
a4688 1
echo "configure:5080: checking for SVR4 style pty allocation" >&5
a4696 1
echo "configure:5089: checking for ptsname" >&5
d4701 1
a4701 1
#line 5094 "configure"
a4706 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4709 2
a4710 1
int main() {
d4723 1
a4723 1
if { (eval echo configure:5117: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4726 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4731 1
a4732 1

a4742 1
echo "configure:5139: checking for ptsname" >&5
d4747 1
a4747 1
#line 5144 "configure"
a4752 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4755 2
a4756 1
int main() {
d4769 1
a4769 1
if { (eval echo configure:5167: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4772 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4777 1
a4778 1

a4787 1
echo "configure:5188: checking for ptsname" >&5
d4792 1
a4792 1
#line 5193 "configure"
a4797 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4800 2
a4801 1
int main() {
d4814 1
a4814 1
if { (eval echo configure:5216: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4817 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4822 1
a4823 1

a4838 1
echo "configure:5243: checking for OSF/1 style pty allocation" >&5
a4851 1
echo "configure:5257: checking for tcgetattr" >&5
d4856 1
a4856 1
#line 5262 "configure"
a4861 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4864 2
a4865 1
int main() {
d4878 1
a4878 1
if { (eval echo configure:5285: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4881 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4886 1
a4887 1

a4895 1
echo "configure:5305: checking for tcsetattr" >&5
d4900 1
a4900 1
#line 5310 "configure"
a4905 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d4908 2
a4909 1
int main() {
d4922 1
a4922 1
if { (eval echo configure:5333: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a4925 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4930 1
a4931 1

a4951 1
echo "configure:5365: checking for struct sgttyb" >&5
d4956 2
a4957 2
  cat > conftest.$ac_ext <<EOF
#line 5371 "configure"
d4967 2
a4968 2
if { (eval echo configure:5381: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a4976 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d4980 1
a4981 2
fi

a4991 1
echo "configure:5410: checking for struct termio" >&5
d4996 2
a4997 2
  cat > conftest.$ac_ext <<EOF
#line 5416 "configure"
d5006 2
a5007 2
if { (eval echo configure:5425: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5015 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5019 1
a5020 2
fi

a5023 1
echo "configure:5447: checking for struct termios" >&5
d5028 2
a5029 2
  cat > conftest.$ac_ext <<EOF
#line 5453 "configure"
d5043 2
a5044 2
if { (eval echo configure:5467: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5052 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5056 1
a5059 2
fi

a5060 1
echo "configure:5489: checking if TCGETS or TCGETA in termios.h" >&5
d5065 2
a5066 2
  cat > conftest.$ac_ext <<EOF
#line 5495 "configure"
d5082 2
a5083 2
if { (eval echo configure:5511: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5090 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5094 1
a5095 2
fi

a5097 1
echo "configure:5531: checking if TIOCGWINSZ in termios.h" >&5
d5102 2
a5103 2
  cat > conftest.$ac_ext <<EOF
#line 5537 "configure"
d5119 2
a5120 2
if { (eval echo configure:5553: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5127 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5131 1
a5132 2
fi

a5135 1
echo "configure:5574: checking for Cray-style ptys" >&5
d5141 2
a5142 2
  cat > conftest.$ac_ext <<EOF
#line 5581 "configure"
d5154 2
a5155 2
if { (eval echo configure:5593: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5160 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5164 1
a5165 2
fi

a5174 1
echo "configure:5618: checking for select" >&5
d5179 1
a5179 1
#line 5623 "configure"
a5184 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d5187 2
a5188 1
int main() {
d5201 1
a5201 1
if { (eval echo configure:5646: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a5204 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5209 1
a5210 1

a5218 1
echo "configure:5666: checking for poll" >&5
d5223 1
a5223 1
#line 5671 "configure"
a5228 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d5231 2
a5232 1
int main() {
d5245 1
a5245 1
if { (eval echo configure:5694: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a5248 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5253 1
a5254 1

a5262 1
echo "configure:5714: checking event handling" >&5
a5283 1
echo "configure:5736: checking for $ac_func" >&5
d5288 1
a5288 1
#line 5741 "configure"
a5293 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d5296 2
a5297 1
int main() {
d5310 1
a5310 1
if { (eval echo configure:5764: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a5313 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5318 1
a5319 1

a5334 1
echo "configure:5791: checking for $ac_func" >&5
d5339 1
a5339 1
#line 5796 "configure"
a5344 2
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
d5347 2
a5348 1
int main() {
d5361 1
a5361 1
if { (eval echo configure:5819: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a5364 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5369 1
a5370 1

a5385 1
echo "configure:5846: checking whether setpgrp takes no argument" >&5
d5392 2
a5393 2
  cat > conftest.$ac_ext <<EOF
#line 5854 "configure"
d5405 1
a5405 1
{
d5407 1
a5407 1
	exit(0);
d5409 2
a5410 2
	exit(1);
}
d5413 2
a5414 2
if { (eval echo configure:5874: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5416 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5419 1
a5420 1
fi
a5421 4

fi

echo "$ac_t""$ac_cv_func_setpgrp_void" 1>&6
a5433 1
echo "configure:5902: checking for SV-style timezone" >&5
d5438 2
a5439 2
  cat > conftest.$ac_ext <<EOF
#line 5908 "configure"
d5442 1
a5442 1
extern char *tzname[2];
d5452 2
a5453 2
if { (eval echo configure:5921: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
a5459 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
d5463 1
a5464 2
fi

d5467 2
d5496 2
a5497 1
echo "configure:5967: checking for Tk private headers" >&5
d5532 1
a5532 1
		`ls -dr ${srcdir}/../tk[4-9].[0-9].[0-9] ${srcdir}/../tk[4-9].[0-9] 2>/dev/null` \
d5534 1
a5534 1
		`ls -dr ${srcdir}/../../tk[4-9].[0-9].[0-9] ${srcdir}/../../tk[4-9].[0-9] 2>/dev/null` \
d5536 1
a5536 1
		`ls -dr ${srcdir}/../../../tk[4-9].[0-9].[0-9] ${srcdir}/../../../tk[4-9].[0-9] 2>/dev/null ` ; do
d5548 2
a5549 2
		`ls -dr /usr/local/src/tk[4-9].[0-9].[0-9] /usr/local/src/tk[4-9].[0-9] 2>/dev/null` \
		`ls -dr /usr/local/lib/tk[4-9].[0-9].[0-9] /usr/local/lib/tk[4-9].[0-9] 2>/dev/null` \
d5561 1
a5561 1
   ac_safe=`echo "tk.h" | sed 'y%./+-%__p_%'`
a5562 1
echo "configure:6033: checking for tk.h" >&5
d5567 1
a5567 1
#line 6038 "configure"
d5572 2
a5573 2
{ (eval echo configure:6043: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
a5578 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5612 1
d5626 1
a5626 4
  echo "	build expect, but not expectk.  See Expect's README for"
  echo "	information on how to obtain Tk.  If Tk is installed, see"
  echo "	Expect's INSTALL on how to tell configure where Tk is"
  echo "	installed."
d5629 1
a5629 246
# consume these flags so that user can invoke Expect's configure with
# the same command as Tcl's configure
# Check whether --enable-load or --disable-load was given.
if test "${enable_load+set}" = set; then
  enableval="$enable_load"
  disable_dl=$enableval
else
  disable_dl=no
fi


# Check whether --enable-gcc or --disable-gcc was given.
if test "${enable_gcc+set}" = set; then
  enableval="$enable_gcc"
  enable_gcc=$enableval
else
  enable_gcc=no
fi


# Following comment stolen from Tcl's configure.in:
#   Note:  in the following variable, it's important to use the absolute
#   path name of the Tcl directory rather than "..":  this is because
#   AIX remembers this path and will attempt to use it at run-time to look
#   up the Tcl library.

if test "${TCL_LIB_VERSIONS_OK}" = "ok"; then
    EXP_LIB_VERSION=$EXP_VERSION
else
    EXP_LIB_VERSION=$EXP_VERSION_NODOTS
fi
if test $iunix -eq 1 ; then
    EXP_LIB_VERSION=$EXP_VERSION_NODOTS
fi

# also remove dots on systems that don't support filenames > 14
# (are there systems which support shared libs and restrict filename lengths!?)
echo $ac_n "checking for long file names""... $ac_c" 1>&6
echo "configure:6142: checking for long file names" >&5
if eval "test \"`echo '$''{'ac_cv_sys_long_file_names'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_cv_sys_long_file_names=yes
# Test for long file names in all the places we know might matter:
#      .		the current directory, where building will happen
#      $prefix/lib	where we will be installing things
#      $exec_prefix/lib	likewise
# eval it to expand exec_prefix.
#      $TMPDIR		if set, where it might want to write temporary files
# if $TMPDIR is not set:
#      /tmp		where it might want to write temporary files
#      /var/tmp		likewise
#      /usr/tmp		likewise
if test -n "$TMPDIR" && test -d "$TMPDIR" && test -w "$TMPDIR"; then
  ac_tmpdirs="$TMPDIR"
else
  ac_tmpdirs='/tmp /var/tmp /usr/tmp'
fi
for ac_dir in  . $ac_tmpdirs `eval echo $prefix/lib $exec_prefix/lib` ; do
  test -d $ac_dir || continue
  test -w $ac_dir || continue # It is less confusing to not echo anything here.
  (echo 1 > $ac_dir/conftest9012345) 2>/dev/null
  (echo 2 > $ac_dir/conftest9012346) 2>/dev/null
  val=`cat $ac_dir/conftest9012345 2>/dev/null`
  if test ! -f $ac_dir/conftest9012345 || test "$val" != 1; then
    ac_cv_sys_long_file_names=no
    rm -f $ac_dir/conftest9012345 $ac_dir/conftest9012346 2>/dev/null
    break
  fi
  rm -f $ac_dir/conftest9012345 $ac_dir/conftest9012346 2>/dev/null
done
fi

echo "$ac_t""$ac_cv_sys_long_file_names" 1>&6
if test $ac_cv_sys_long_file_names = yes; then
  cat >> confdefs.h <<\EOF
#define HAVE_LONG_FILE_NAMES 1
EOF

fi

if test $ac_cv_sys_long_file_names = no; then
    EXP_LIB_VERSION=$EXP_VERSION_NODOTS
fi

EXP_BUILD_LIB_SPEC="-L`pwd` -lexpect${EXP_LIB_VERSION}"
EXP_LIB_SPEC="-L\${INSTALL_ROOT}\${exec_prefix}/lib -lexpect${EXP_LIB_VERSION}"
EXP_UNSHARED_LIB_FILE=libexpect${EXP_LIB_VERSION}${TCL_DBGX}.a

# The TCL_SHARED_LIB_SUFFIX macro below relies on the DBGX macro.
# This needs to be set to the value of TCL_DBGX so the correct value
# propagated correctly.

DBGX=$TCL_DBGX

echo $ac_n "checking for type of library to build""... $ac_c" 1>&6
echo "configure:6200: checking for type of library to build" >&5
if test "$enable_shared" = "yes" && test "x${TCL_SHLIB_SUFFIX}" != "x" ; then
  EXP_SHLIB_CFLAGS=$TCL_SHLIB_CFLAGS
#  EXP_SHARED_LIB_FILE=libexpect$EXP_LIB_VERSION$TCL_DBGX$TCL_SHLIB_SUFFIX
  eval "EXP_SHARED_LIB_FILE=libexpect${TCL_SHARED_LIB_SUFFIX}"
  EXP_LIB_FILE=$EXP_SHARED_LIB_FILE
  EXP_LIB_FILES="$EXP_SHARED_LIB_FILE $EXP_UNSHARED_LIB_FILE"
  echo "$ac_t""both shared and unshared" 1>&6
else
  EXP_SHLIB_CFLAGS=
  EXP_SHARED_LIB_FILE="reconfigure_Tcl_for_shared_library"
  EXP_LIB_FILE=$EXP_UNSHARED_LIB_FILE
  EXP_LIB_FILES="$EXP_UNSHARED_LIB_FILE"
  echo "$ac_t""unshared" 1>&6
fi

# Sigh - Tcl defines SHLIB_LD_LIBS to be either empty or ${LIBS} and
# LIBS is intended to be expanded by Make.  But since we're too close
# to hitting config's max symbols, pack everything together here and
# do test ourselves.  Ugh.  
#
if test "x$TCL_SHLIB_LD_LIBS" = "x" ; then
	EXP_SHLIB_LD_LIBS="$LIBS"
else
	# seems a little strange to build in Tcl's build-lib, but
	# that's what Tk does.
	EXP_SHLIB_LD_LIBS="$TCL_BUILD_LIB_SPEC $TCL_DL_LIBS $LIBS -lc"
fi

#--------------------------------------------------------------------
# This section is based on analogous thing in Tk installation. - DEL
#	Various manipulations on the search path used at runtime to
#	find shared libraries:
#	2. On systems such as AIX and Ultrix that use "-L" as the
#	   search path option, colons cannot be used to separate
#	   directories from each other. Change colons to " -L".
#	3. Create two sets of search flags, one for use in cc lines
#	   and the other for when the linker is invoked directly.  In
#	   the second case, '-Wl,' must be stripped off and commas must
#	   be replaced by spaces.
#--------------------------------------------------------------------

LIB_RUNTIME_DIR='${LIB_RUNTIME_DIR}'

# If Tcl and Expect are installed in different places, adjust the library
# search path to reflect this.

if test x"$no_tk" = x"true" ; then
  if test "$TCL_EXEC_PREFIX" != "$exec_prefix"; then
    LIB_RUNTIME_DIR="${LIB_RUNTIME_DIR}:${TCL_EXEC_PREFIX}/lib"
  fi
else
  if test "$TK_EXEC_PREFIX" != "$exec_prefix"; then
    LIB_RUNTIME_DIR="${LIB_RUNTIME_DIR}:${TK_EXEC_PREFIX}/lib"
    # no need to include TCL's search path, because TK does it already
    # (it is actually appended later, via TK_LD_SEARCH_FLAGS trick below)
  fi
fi

if test "${TCL_LD_SEARCH_FLAGS}" = '-L${LIB_RUNTIME_DIR}'; then
    LIB_RUNTIME_DIR=`echo ${LIB_RUNTIME_DIR} |sed -e 's/:/ -L/g'`
fi

# The eval below is tricky!  It *evaluates* the string in
# TCL_LD_SEARCH_FLAGS, which causes a substitution of the
# variable LIB_RUNTIME_DIR.

if test x"$no_tk" = x"true" ; then
  eval "EXP_CC_SEARCH_FLAGS=\"$TCL_LD_SEARCH_FLAGS\""
else
  eval "EXP_CC_SEARCH_FLAGS=\"$TK_LD_SEARCH_FLAGS\""
fi
EXP_LD_SEARCH_FLAGS=`echo ${EXP_CC_SEARCH_FLAGS} |sed -e "s|-Wl,||g" -e "s|,| |g"`

# now broken out into EXP_AND_TCL_LIBS and EXP_AND_TK_LIBS.  Had to do this
# in order to avoid repeating lib specs to which some systems object.
EXP_AND_TCL_LIBS="$EXP_AND_TCL_LIBS $EXP_LD_SEARCH_FLAGS"
EXP_AND_TK_LIBS="$EXP_AND_TK_LIBS $EXP_LD_SEARCH_FLAGS"

#
# Set up makefile substitutions
#



























trap '' 1 2 15

trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

test "x$prefix" = xNONE && prefix=$ac_default_prefix
# Let make expand exec_prefix.
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

# Any assignment to VPATH causes Sun make to only execute
# the first set of double-colon rules, so remove it if not needed.
# If there is a colon in the path, we need to keep it.
if test "x$srcdir" = x.; then
  ac_vpsub='/^[ 	]*VPATH[ 	]*=[^:]*$/d'
fi

trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15

DEFS=-DHAVE_CONFIG_H

# Without the "./", some shells look in PATH for config.status.
: ${CONFIG_STATUS=./config.status}

echo creating $CONFIG_STATUS
rm -f $CONFIG_STATUS
cat > $CONFIG_STATUS <<EOF
#! /bin/sh
# Generated automatically by configure.
# Run this file to recreate the current configuration.
# This directory was configured as follows,
# on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
#
# $0 $ac_configure_args
#
# Compiler output produced by configure, useful for debugging
# configure, is in ./config.log if it exists.

ac_cs_usage="Usage: $CONFIG_STATUS [--recheck] [--version] [--help]"
for ac_option
do
  case "\$ac_option" in
  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
d5633 1
a5633 1
    echo "$CONFIG_STATUS generated by autoconf version 2.13"
a5652 1
s%@@SHELL@@%$SHELL%g
a5655 1
s%@@FFLAGS@@%$FFLAGS%g
a5707 1
s%@@INSTALL_SCRIPT@@%$INSTALL_SCRIPT%g
a5714 27
s%@@TKHDIRDASHI@@%$TKHDIRDASHI%g
s%@@EXP_MAJOR_VERSION@@%$EXP_MAJOR_VERSION%g
s%@@EXP_MINOR_VERSION@@%$EXP_MINOR_VERSION%g
s%@@EXP_MICRO_VERSION@@%$EXP_MICRO_VERSION%g
s%@@EXP_VERSION_FULL@@%$EXP_VERSION_FULL%g
s%@@EXP_VERSION@@%$EXP_VERSION%g
s%@@EXP_CONFIG_SHELL@@%$EXP_CONFIG_SHELL%g
s%@@EXP_SHARED_LIB_FILE@@%$EXP_SHARED_LIB_FILE%g
s%@@EXP_UNSHARED_LIB_FILE@@%$EXP_UNSHARED_LIB_FILE%g
s%@@EXP_SHLIB_CFLAGS@@%$EXP_SHLIB_CFLAGS%g
s%@@EXP_LIB_FILE@@%$EXP_LIB_FILE%g
s%@@EXP_LIB_FILES@@%$EXP_LIB_FILES%g
s%@@EXP_BUILD_LIB_SPEC@@%$EXP_BUILD_LIB_SPEC%g
s%@@EXP_LIB_SPEC@@%$EXP_LIB_SPEC%g
s%@@EXP_CFLAGS@@%$EXP_CFLAGS%g
s%@@EXP_LDFLAGS@@%$EXP_LDFLAGS%g
s%@@EXP_LD_SEARCH_FLAGS@@%$EXP_LD_SEARCH_FLAGS%g
s%@@EXP_AND_TCL_LIBS@@%$EXP_AND_TCL_LIBS%g
s%@@EXP_AND_TK_LIBS@@%$EXP_AND_TK_LIBS%g
s%@@EXP_SHLIB_LD_LIBS@@%$EXP_SHLIB_LD_LIBS%g
s%@@X_PROGS@@%$X_PROGS%g
s%@@PTY_TYPE@@%$PTY_TYPE%g
s%@@EVENT_TYPE@@%$EVENT_TYPE%g
s%@@EVENT_ABLE@@%$EVENT_ABLE%g
s%@@SETUID@@%$SETUID%g
s%@@UNSHARED_RANLIB@@%$UNSHARED_RANLIB%g
s%@@DEFAULT_STTY_ARGS@@%$DEFAULT_STTY_ARGS%g
a5717 36

cat >> $CONFIG_STATUS <<\EOF

# Split the substitutions into bite-sized pieces for seds with
# small command number limits, like on Digital OSF/1 and HP-UX.
ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
ac_file=1 # Number of current file.
ac_beg=1 # First line for current file.
ac_end=$ac_max_sed_cmds # Line after last line for current file.
ac_more_lines=:
ac_sed_cmds=""
while $ac_more_lines; do
  if test $ac_beg -gt 1; then
    sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
  else
    sed "${ac_end}q" conftest.subs > conftest.s$ac_file
  fi
  if test ! -s conftest.s$ac_file; then
    ac_more_lines=false
    rm -f conftest.s$ac_file
  else
    if test -z "$ac_sed_cmds"; then
      ac_sed_cmds="sed -f conftest.s$ac_file"
    else
      ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
    fi
    ac_file=`expr $ac_file + 1`
    ac_beg=$ac_end
    ac_end=`expr $ac_end + $ac_max_sed_cmds`
  fi
done
if test -z "$ac_sed_cmds"; then
  ac_sed_cmds=cat
fi
EOF

d5724 1
a5724 1
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
d5726 1
a5726 1
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
d5731 1
a5731 1
  # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.
a5758 1

a5766 2

  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
d5772 1
a5772 1
" $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
d5774 1
a5774 1
rm -f conftest.s*
d5795 1
a5795 7
if test "${CONFIG_HEADERS+set}" != set; then
EOF
cat >> $CONFIG_STATUS <<EOF
  CONFIG_HEADERS="expect_cf.h"
EOF
cat >> $CONFIG_STATUS <<\EOF
fi
d5797 1
a5797 1
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
d5799 1
a5799 1
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
d5807 1
a5807 2
  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  cat $ac_file_inputs > conftest.in
d5835 2
a5866 6
    # Remove last slash and all that follows it.  Not all systems have dirname.
      ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
      if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
      # The file is in a subdirectory.
      test ! -d "$ac_dir" && mkdir "$ac_dir"
    fi
a5871 2
EOF
cat >> $CONFIG_STATUS <<EOF
a5872 2
EOF
cat >> $CONFIG_STATUS <<\EOF
a5927 3
      # A "../" for each directory in /$ac_config_dir.
      ac_dots=`echo $ac_config_dir|sed -e 's%^\./%%' -e 's%[^/]$%&/%' -e 's%[^/]*/%../%g'`

d5934 1
a5934 1
      ac_sub_srcdir=$ac_dots$srcdir/$ac_config_dir ;;
d5951 2
@


5.30.2.12
log
@Expect should now be passing linker-style flags to the linker and
compiler-style link flags to the compiler.  There was an anomoly on
Solaris where the linker, /usr/ccs/bin/ld was getting -Wl,-R...
The configure script now checks to see if the linker and the compiler
are the same program and transforms the link flags if they are not.
@
text
@d6271 1
a6271 19

echo "EXP_CC_SEARCH_FLAGS =${EXP_CC_SEARCH_FLAGS}"
echo "TCL_LD_SEARCH_FLAGS =${TCL_LD_SEARCH_FLAGS}"

# TCL_LD_SEARCH_FLAGS is only valid when used with the compiler, $CC.
# Expect needs to use these flags with the linker, though.  If the
# linker and the compiler are not the same program (as they aren't on
# Solaris 2.7) then we need to transform the flags into something that
# the linker understands.

LD_PROG=`echo ${TCL_SHLIB_LD} | sed -e "s| .*||"`
CC_PROG=`echo ${CC} | sed -e "s| .*||"`
echo "LD_PROG=${LD_PROG}"
echo "CC_PROG=${CC_PROG}"
if test x"$LD_PROG" = x"$CC_PROG" ; then
    EXP_LD_SEARCH_FLAGS=${EXP_CC_SEARCH_FLAGS}
else
    EXP_LD_SEARCH_FLAGS=`echo ${EXP_CC_SEARCH_FLAGS} |sed -e "s|-Wl,||g" -e "s|,| |g"`
fi
d6275 2
a6276 2
EXP_AND_TCL_LIBS="$EXP_AND_TCL_LIBS $EXP_CC_SEARCH_FLAGS"
EXP_AND_TK_LIBS="$EXP_AND_TK_LIBS $EXP_CC_SEARCH_FLAGS"
a6307 1

a6453 1
s%@@TCL_LD_SEARCH_FLAGS@@%$TCL_LD_SEARCH_FLAGS%g
@


5.30.2.13
log
@Cleaned up some debugging echo output.
@
text
@d6272 3
d6283 2
@


5.30.2.14
log
@* configure.in: Fixed so expect generates TEA style library names
when --enable-symbols is used.
@
text
@d6188 1
a6188 1
EXP_BUILD_LIB_SPEC="-L`pwd` -lexpect${EXP_LIB_VERSION}${TCL_DBGX}"
d6377 1
a6377 2
trap 'rm -fr `echo "Makefile \
	pkgIndex expect_cf.h" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
d6520 1
a6520 2
CONFIG_FILES=\${CONFIG_FILES-"Makefile \
	pkgIndex"}
d6691 1
a6691 1
chmod +x ${srcdir}/install-sh ${srcdir}/mkinstalldirs
@


5.30.2.15
log
@Removed references to TCL_DBGX.  Expect now uses it's own DBGX variable for
generating the debug library names.
@
text
@a1896 2
  # This is always "g" for unix.
  DBGX=g
d1904 1
a1904 1
echo "configure:1907: checking if running Mach" >&5
d1920 1
a1920 1
echo "configure:1923: checking if running MachTen" >&5
d1930 1
a1930 1
echo "configure:1933: checking if on Pyramid" >&5
d1940 1
a1940 1
echo "configure:1943: checking if on Apollo" >&5
d1950 1
a1950 1
echo "configure:1953: checking if on Interactive" >&5
d1960 1
a1960 1
echo "configure:1963: checking if stty reads stdout" >&5
d2016 1
a2016 1
echo "configure:2019: checking if running Solaris" >&5
d2036 1
a2036 1
echo "configure:2039: checking for sin" >&5
d2041 1
a2041 1
#line 2044 "configure"
d2064 1
a2064 1
if { (eval echo configure:2067: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2094 1
a2094 1
echo "configure:2097: checking for strftime" >&5
d2099 1
a2099 1
#line 2102 "configure"
d2122 1
a2122 1
if { (eval echo configure:2125: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2162 1
a2162 1
echo "configure:2165: checking for Tcl private headers" >&5
d2228 1
a2228 1
echo "configure:2231: checking for tclInt.h" >&5
d2233 1
a2233 1
#line 2236 "configure"
d2238 1
a2238 1
{ (eval echo configure:2241: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2299 1
a2299 1
echo "configure:2302: checking type of library to build" >&5
d2378 1
a2378 1
echo "configure:2381: checking for gethostname" >&5
d2383 1
a2383 1
#line 2386 "configure"
d2406 1
a2406 1
if { (eval echo configure:2409: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2429 1
a2429 1
echo "configure:2432: checking for gethostname in -linet" >&5
d2437 1
a2437 1
#line 2440 "configure"
d2448 1
a2448 1
if { (eval echo configure:2451: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2474 1
a2474 1
echo "configure:2477: checking for gethostname" >&5
d2479 1
a2479 1
#line 2482 "configure"
d2502 1
a2502 1
if { (eval echo configure:2505: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2525 1
a2525 1
echo "configure:2528: checking for gethostname in -linet" >&5
d2533 1
a2533 1
#line 2536 "configure"
d2544 1
a2544 1
if { (eval echo configure:2547: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2570 1
a2570 1
echo "configure:2573: checking for gethostname" >&5
d2575 1
a2575 1
#line 2578 "configure"
d2598 1
a2598 1
if { (eval echo configure:2601: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2621 1
a2621 1
echo "configure:2624: checking for gethostname in -linet" >&5
d2629 1
a2629 1
#line 2632 "configure"
d2640 1
a2640 1
if { (eval echo configure:2643: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2669 1
a2669 1
echo "configure:2672: checking for socket" >&5
d2674 1
a2674 1
#line 2677 "configure"
d2697 1
a2697 1
if { (eval echo configure:2700: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2720 1
a2720 1
echo "configure:2723: checking for socket in -linet" >&5
d2728 1
a2728 1
#line 2731 "configure"
d2739 1
a2739 1
if { (eval echo configure:2742: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2765 1
a2765 1
echo "configure:2768: checking for socket" >&5
d2770 1
a2770 1
#line 2773 "configure"
d2793 1
a2793 1
if { (eval echo configure:2796: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2816 1
a2816 1
echo "configure:2819: checking for socket in -linet" >&5
d2824 1
a2824 1
#line 2827 "configure"
d2835 1
a2835 1
if { (eval echo configure:2838: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2861 1
a2861 1
echo "configure:2864: checking for socket" >&5
d2866 1
a2866 1
#line 2869 "configure"
d2889 1
a2889 1
if { (eval echo configure:2892: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2912 1
a2912 1
echo "configure:2915: checking for socket in -linet" >&5
d2920 1
a2920 1
#line 2923 "configure"
d2931 1
a2931 1
if { (eval echo configure:2934: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2959 1
a2959 1
echo "configure:2962: checking for select" >&5
d2964 1
a2964 1
#line 2967 "configure"
d2987 1
a2987 1
if { (eval echo configure:2990: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3010 1
a3010 1
echo "configure:3013: checking for select in -linet" >&5
d3018 1
a3018 1
#line 3021 "configure"
d3029 1
a3029 1
if { (eval echo configure:3032: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3055 1
a3055 1
echo "configure:3058: checking for select" >&5
d3060 1
a3060 1
#line 3063 "configure"
d3083 1
a3083 1
if { (eval echo configure:3086: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3106 1
a3106 1
echo "configure:3109: checking for select in -linet" >&5
d3114 1
a3114 1
#line 3117 "configure"
d3125 1
a3125 1
if { (eval echo configure:3128: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3151 1
a3151 1
echo "configure:3154: checking for select" >&5
d3156 1
a3156 1
#line 3159 "configure"
d3179 1
a3179 1
if { (eval echo configure:3182: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3202 1
a3202 1
echo "configure:3205: checking for select in -linet" >&5
d3210 1
a3210 1
#line 3213 "configure"
d3221 1
a3221 1
if { (eval echo configure:3224: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3249 1
a3249 1
echo "configure:3252: checking for getpseudotty" >&5
d3254 1
a3254 1
#line 3257 "configure"
d3277 1
a3277 1
if { (eval echo configure:3280: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3300 1
a3300 1
echo "configure:3303: checking for getpseudotty in -lseq" >&5
d3308 1
a3308 1
#line 3311 "configure"
d3319 1
a3319 1
if { (eval echo configure:3322: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3352 1
a3352 1
echo "configure:3355: checking for getpseudotty" >&5
d3357 1
a3357 1
#line 3360 "configure"
d3380 1
a3380 1
if { (eval echo configure:3383: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3403 1
a3403 1
echo "configure:3406: checking for getpseudotty in -lseq" >&5
d3411 1
a3411 1
#line 3414 "configure"
d3422 1
a3422 1
if { (eval echo configure:3425: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3455 1
a3455 1
echo "configure:3458: checking for getpseudotty" >&5
d3460 1
a3460 1
#line 3463 "configure"
d3483 1
a3483 1
if { (eval echo configure:3486: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3506 1
a3506 1
echo "configure:3509: checking for getpseudotty in -lseq" >&5
d3514 1
a3514 1
#line 3517 "configure"
d3525 1
a3525 1
if { (eval echo configure:3528: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3561 1
a3561 1
echo "configure:3564: checking for openpty" >&5
d3566 1
a3566 1
#line 3569 "configure"
d3589 1
a3589 1
if { (eval echo configure:3592: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3612 1
a3612 1
echo "configure:3615: checking for openpty in -lutil" >&5
d3620 1
a3620 1
#line 3623 "configure"
d3631 1
a3631 1
if { (eval echo configure:3634: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3666 1
a3666 1
echo "configure:3669: checking for openpty" >&5
d3671 1
a3671 1
#line 3674 "configure"
d3694 1
a3694 1
if { (eval echo configure:3697: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3717 1
a3717 1
echo "configure:3720: checking for openpty in -lutil" >&5
d3725 1
a3725 1
#line 3728 "configure"
d3736 1
a3736 1
if { (eval echo configure:3739: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3768 1
a3768 1
echo "configure:3771: checking for openpty" >&5
d3773 1
a3773 1
#line 3776 "configure"
d3796 1
a3796 1
if { (eval echo configure:3799: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3819 1
a3819 1
echo "configure:3822: checking for openpty in -lutil" >&5
d3827 1
a3827 1
#line 3830 "configure"
d3838 1
a3838 1
if { (eval echo configure:3841: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3876 1
a3876 1
echo "configure:3879: checking if running Sequent running SVR4" >&5
d3890 1
a3890 1
echo "configure:3893: checking for sys/sysmacros.h" >&5
d3895 1
a3895 1
#line 3898 "configure"
d3900 1
a3900 1
{ (eval echo configure:3903: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3926 1
a3926 1
echo "configure:3929: checking for stdlib.h" >&5
d3931 1
a3931 1
#line 3934 "configure"
d3936 1
a3936 1
{ (eval echo configure:3939: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3963 1
a3963 1
echo "configure:3966: checking for inttypes.h" >&5
d3968 1
a3968 1
#line 3971 "configure"
d3973 1
a3973 1
{ (eval echo configure:3976: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4003 1
a4003 1
echo "configure:4006: checking for varargs.h" >&5
d4008 1
a4008 1
#line 4011 "configure"
d4013 1
a4013 1
{ (eval echo configure:4016: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4039 1
a4039 1
echo "configure:4042: checking for unistd.h" >&5
d4044 1
a4044 1
#line 4047 "configure"
d4049 1
a4049 1
{ (eval echo configure:4052: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4075 1
a4075 1
echo "configure:4078: checking for sys/stropts.h" >&5
d4080 1
a4080 1
#line 4083 "configure"
d4085 1
a4085 1
{ (eval echo configure:4088: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4111 1
a4111 1
echo "configure:4114: checking for sys/sysconfig.h" >&5
d4116 1
a4116 1
#line 4119 "configure"
d4121 1
a4121 1
{ (eval echo configure:4124: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4147 1
a4147 1
echo "configure:4150: checking for sys/fcntl.h" >&5
d4152 1
a4152 1
#line 4155 "configure"
d4157 1
a4157 1
{ (eval echo configure:4160: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4183 1
a4183 1
echo "configure:4186: checking for sys/select.h" >&5
d4188 1
a4188 1
#line 4191 "configure"
d4193 1
a4193 1
{ (eval echo configure:4196: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4219 1
a4219 1
echo "configure:4222: checking for sys/time.h" >&5
d4224 1
a4224 1
#line 4227 "configure"
d4229 1
a4229 1
{ (eval echo configure:4232: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4255 1
a4255 1
echo "configure:4258: checking for sys/ptem.h" >&5
d4260 1
a4260 1
#line 4263 "configure"
d4265 1
a4265 1
{ (eval echo configure:4268: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4291 1
a4291 1
echo "configure:4294: checking for sys/strredir.h" >&5
d4296 1
a4296 1
#line 4299 "configure"
d4301 1
a4301 1
{ (eval echo configure:4304: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4327 1
a4327 1
echo "configure:4330: checking for sys/strpty.h" >&5
d4332 1
a4332 1
#line 4335 "configure"
d4337 1
a4337 1
{ (eval echo configure:4340: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4364 1
a4364 1
echo "configure:4367: checking for sys/bsdtypes.h" >&5
d4372 1
a4372 1
echo "configure:4375: checking for $ac_hdr" >&5
d4377 1
a4377 1
#line 4380 "configure"
d4382 1
a4382 1
{ (eval echo configure:4385: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4416 1
a4416 1
echo "configure:4419: checking for memmove" >&5
d4421 1
a4421 1
#line 4424 "configure"
d4444 1
a4444 1
if { (eval echo configure:4447: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4467 1
a4467 1
echo "configure:4470: checking for sysconf" >&5
d4472 1
a4472 1
#line 4475 "configure"
d4495 1
a4495 1
if { (eval echo configure:4498: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4518 1
a4518 1
echo "configure:4521: checking for strftime" >&5
d4523 1
a4523 1
#line 4526 "configure"
d4546 1
a4546 1
if { (eval echo configure:4549: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4569 1
a4569 1
echo "configure:4572: checking for strchr" >&5
d4574 1
a4574 1
#line 4577 "configure"
d4597 1
a4597 1
if { (eval echo configure:4600: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4620 1
a4620 1
echo "configure:4623: checking for timezone" >&5
d4625 1
a4625 1
#line 4628 "configure"
d4648 1
a4648 1
if { (eval echo configure:4651: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4675 1
a4675 1
echo "configure:4678: checking for memcpy" >&5
d4677 1
a4677 1
#line 4680 "configure"
d4687 1
a4687 1
if { (eval echo configure:4690: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4709 1
a4709 1
echo "configure:4712: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4715 1
a4715 1
#line 4718 "configure"
d4727 1
a4727 1
if { (eval echo configure:4730: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4747 1
a4747 1
echo "configure:4750: checking if any value exists for WNOHANG" >&5
d4754 1
a4754 1
#line 4757 "configure"
d4770 1
a4770 1
if { (eval echo configure:4773: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4803 1
a4803 1
echo "configure:4806: checking union wait" >&5
d4805 1
a4805 1
#line 4808 "configure"
d4817 1
a4817 1
if { (eval echo configure:4820: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4847 1
a4847 1
echo "configure:4850: checking mask type of select" >&5
d4861 1
a4861 1
echo "configure:4864: checking if signals need to be re-armed" >&5
d4867 1
a4867 1
#line 4870 "configure"
d4906 1
a4906 1
if { (eval echo configure:4909: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4937 1
a4937 1
echo "configure:4940: checking if on Convex" >&5
d4956 1
a4956 1
echo "configure:4959: checking if on NeXT" >&5
d4967 1
a4967 1
echo "configure:4970: checking if on HP" >&5
d4977 1
a4977 1
echo "configure:4980: checking sane default stty arguments" >&5
d4995 1
a4995 1
echo "configure:4998: checking for HP style pty allocation" >&5
d5009 1
a5009 1
echo "configure:5012: checking for HP style pty trapping" >&5
d5011 1
a5011 1
#line 5014 "configure"
d5033 1
a5033 1
echo "configure:5036: checking for AIX new-style pty allocation" >&5
d5045 1
a5045 1
echo "configure:5048: checking for SGI old-style pty allocation" >&5
d5062 1
a5062 1
echo "configure:5065: checking for SCO style pty allocation" >&5
d5079 1
a5079 1
echo "configure:5082: checking for SVR4 style pty allocation" >&5
d5088 1
a5088 1
echo "configure:5091: checking for ptsname" >&5
d5093 1
a5093 1
#line 5096 "configure"
d5116 1
a5116 1
if { (eval echo configure:5119: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5138 1
a5138 1
echo "configure:5141: checking for ptsname" >&5
d5143 1
a5143 1
#line 5146 "configure"
d5166 1
a5166 1
if { (eval echo configure:5169: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5187 1
a5187 1
echo "configure:5190: checking for ptsname" >&5
d5192 1
a5192 1
#line 5195 "configure"
d5215 1
a5215 1
if { (eval echo configure:5218: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5242 1
a5242 1
echo "configure:5245: checking for OSF/1 style pty allocation" >&5
d5256 1
a5256 1
echo "configure:5259: checking for tcgetattr" >&5
d5261 1
a5261 1
#line 5264 "configure"
d5284 1
a5284 1
if { (eval echo configure:5287: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5304 1
a5304 1
echo "configure:5307: checking for tcsetattr" >&5
d5309 1
a5309 1
#line 5312 "configure"
d5332 1
a5332 1
if { (eval echo configure:5335: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5364 1
a5364 1
echo "configure:5367: checking for struct sgttyb" >&5
d5370 1
a5370 1
#line 5373 "configure"
d5380 1
a5380 1
if { (eval echo configure:5383: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5409 1
a5409 1
echo "configure:5412: checking for struct termio" >&5
d5415 1
a5415 1
#line 5418 "configure"
d5424 1
a5424 1
if { (eval echo configure:5427: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5446 1
a5446 1
echo "configure:5449: checking for struct termios" >&5
d5452 1
a5452 1
#line 5455 "configure"
d5466 1
a5466 1
if { (eval echo configure:5469: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5488 1
a5488 1
echo "configure:5491: checking if TCGETS or TCGETA in termios.h" >&5
d5494 1
a5494 1
#line 5497 "configure"
d5510 1
a5510 1
if { (eval echo configure:5513: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5530 1
a5530 1
echo "configure:5533: checking if TIOCGWINSZ in termios.h" >&5
d5536 1
a5536 1
#line 5539 "configure"
d5552 1
a5552 1
if { (eval echo configure:5555: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5573 1
a5573 1
echo "configure:5576: checking for Cray-style ptys" >&5
d5580 1
a5580 1
#line 5583 "configure"
d5592 1
a5592 1
if { (eval echo configure:5595: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5617 1
a5617 1
echo "configure:5620: checking for select" >&5
d5622 1
a5622 1
#line 5625 "configure"
d5645 1
a5645 1
if { (eval echo configure:5648: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5665 1
a5665 1
echo "configure:5668: checking for poll" >&5
d5670 1
a5670 1
#line 5673 "configure"
d5693 1
a5693 1
if { (eval echo configure:5696: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5713 1
a5713 1
echo "configure:5716: checking event handling" >&5
d5735 1
a5735 1
echo "configure:5738: checking for $ac_func" >&5
d5740 1
a5740 1
#line 5743 "configure"
d5763 1
a5763 1
if { (eval echo configure:5766: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5790 1
a5790 1
echo "configure:5793: checking for $ac_func" >&5
d5795 1
a5795 1
#line 5798 "configure"
d5818 1
a5818 1
if { (eval echo configure:5821: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5845 1
a5845 1
echo "configure:5848: checking whether setpgrp takes no argument" >&5
d5853 1
a5853 1
#line 5856 "configure"
d5873 1
a5873 1
if { (eval echo configure:5876: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5901 1
a5901 1
echo "configure:5904: checking for SV-style timezone" >&5
d5907 1
a5907 1
#line 5910 "configure"
d5920 1
a5920 1
if { (eval echo configure:5923: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5966 1
a5966 1
echo "configure:5969: checking for Tk private headers" >&5
d6032 1
a6032 1
echo "configure:6035: checking for tk.h" >&5
d6037 1
a6037 1
#line 6040 "configure"
d6042 1
a6042 1
{ (eval echo configure:6045: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d6141 1
a6141 1
echo "configure:6144: checking for long file names" >&5
d6188 9
a6196 8
EXP_BUILD_LIB_SPEC="-L`pwd` -lexpect${EXP_LIB_VERSION}${DBGX}"
EXP_LIB_SPEC="-L\${INSTALL_ROOT}\${exec_prefix}/lib -lexpect${EXP_LIB_VERSION}${DBGX}"
EXP_UNSHARED_LIB_FILE=libexpect${EXP_LIB_VERSION}${DBGX}.a

# The TCL_SHARED_LIB_SUFFIX macro below relies on the DBGX macro,
# which is set way far above here.  Don't set it to the value of
# TCL_DBGX, or you'll run into problems if you build Tcl with symbols
# and expect without (and vice versa?)
d6199 1
a6199 1
echo "configure:6201: checking for type of library to build" >&5
d6202 1
@


5.30.2.16
log
@Fixes for picky HP compiler.
@
text
@d542 1
a542 1
EXP_MICRO_VERSION=2
a552 55
# People (when downloading Expect from CVS archive) sometimes run into
# Make thinking configure is old and needs to be rebuilt.  If they
# don't have a clue about autoconf, they get confused.  This is
# particular irritating because the problem only crops up after
# configure has successfully completed.  Help them out by checking it
# right now and giving some advice.  Alas, we cannot summarily fix the
# problem because it might conceivably be someone doing real
# development.
# Test if configure is older than configure.in and explain if no autoconf
# Extract the first word of "autoconf", so it can be a program name with args.
set dummy autoconf; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:566: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_found'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$found"; then
  ac_cv_prog_found="$found" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_found="yes"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_prog_found" && ac_cv_prog_found="no"
fi
fi
found="$ac_cv_prog_found"
if test -n "$found"; then
  echo "$ac_t""$found" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

found=no
echo $ac_n "checking configure up to date""... $ac_c" 1>&6
echo "configure:595: checking configure up to date" >&5
for i in `ls -tr configure configure.in Makefile.in` ; do
  newest=$i
done
if test "configure" = $newest ; then
  echo "$ac_t""yes" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
if test $found = "no" -a "$newest" != "configure" ; then
  echo "configure: warning: configure appears to be old (configure.in and/or Makefile.in are newer) and the autoconf program to fix this situation was not found.  If you've no idea what this means, enter the command \"touch configure\" and restart configure." 1>&2
  exit
fi

d600 1
a600 1
echo "configure:656: checking host system type" >&5
d621 1
a621 1
echo "configure:677: checking target system type" >&5
d639 1
a639 1
echo "configure:695: checking build system type" >&5
d669 1
a669 1
echo "configure:725: checking shell to use within Make" >&5
d703 1
a703 1
echo "configure:759: checking for $ac_word" >&5
d733 1
a733 1
echo "configure:789: checking for $ac_word" >&5
d784 1
a784 1
echo "configure:840: checking for $ac_word" >&5
d816 1
a816 1
echo "configure:872: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
d827 1
a827 1
#line 883 "configure"
d832 1
a832 1
if { (eval echo configure:888: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d858 1
a858 1
echo "configure:914: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
d863 1
a863 1
echo "configure:919: checking whether we are using GNU C" >&5
d872 1
a872 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:928: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d891 1
a891 1
echo "configure:947: checking whether ${CC-cc} accepts -g" >&5
d931 1
a931 1
echo "configure:987: checking for building with threads" >&5
d981 1
a981 1
echo "configure:1037: checking for Tcl configuration" >&5
d1000 1
a1000 2
		`ls -dr ../tcl[9].[0-9].[0-9] ../tcl[9].[0-9] 2>/dev/null` \
		`ls -dr ../tcl[8].[2-9].[0-9] ../tcl[8].[2-9] 2>/dev/null` \
d1002 1
a1002 2
		`ls -dr ../../tcl[9].[0-9].[0-9] ../../tcl[9].[0-9] 2>/dev/null` \
		`ls -dr ../../tcl[8].[2-9].[0-9] ../../tcl[8].[2-9] 2>/dev/null` \
d1004 1
a1004 2
		`ls -dr ../../../tcl[9].[0-9].[0-9] ../../../tcl[9].[0-9] 2>/dev/null` \
		`ls -dr ../../../tcl[8].[2-9].[0-9] ../../../tcl[8].[2-9] 2>/dev/null` ; do
d1024 1
a1024 2
		`ls -dr ${srcdir}/../tcl[9].[0-9].[0-9] ${srcdir}/../tcl[9].[0-9] 2>/dev/null` \
		`ls -dr ${srcdir}/../tcl[8].[2-9].[0-9] ${srcdir}/../tcl[8].[2-9] 2>/dev/null` ; do
d1070 1
a1070 1
echo "configure:1130: checking Tcl build library" >&5
d1074 1
a1074 1
echo "configure:1134: checking for Tcl_CreateCommand" >&5
d1079 1
a1079 1
#line 1139 "configure"
d1102 1
a1102 1
if { (eval echo configure:1162: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1118 1
a1118 1
echo "configure:1178: checking if Tcl library build specification is valid" >&5
d1128 1
a1128 1
echo "configure:1188: checking if Tcl library build specification is valid" >&5
d1160 1
a1160 1
echo "configure:1220: checking for Tk configuration" >&5
a1179 1
		`ls -dr ../tk[4-9].[0-9].[0-9] ../tk[4-9].[0-9] 2>/dev/null` \
a1181 1
		`ls -dr ../../tk[4-9].[0-9].[0-9] ../../tk[4-9].[0-9] 2>/dev/null` \
a1182 1
		`ls -dr ../../../tk[4-9].[0-9].[0-9] ../../../tk[4-9].[0-9] 2>/dev/null` \
a1202 1
		`ls -dr ${srcdir}/../tk[4-9].[0-9].[0-9] ${srcdir}/../tk[4-9].[0-9] 2>/dev/null` \
d1245 1
a1245 1
echo "configure:1309: checking for Tk_Init" >&5
d1250 1
a1250 1
#line 1314 "configure"
d1273 1
a1273 1
if { (eval echo configure:1337: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1289 1
a1289 1
echo "configure:1353: checking if Tk library build specification is valid" >&5
d1299 1
a1299 1
echo "configure:1363: checking if Tk library build specification is valid" >&5
d1314 1
a1314 1
echo "configure:1378: checking whether the compiler ($CC) actually works" >&5
d1316 1
a1316 1
#line 1380 "configure"
d1323 1
a1323 1
if { (eval echo configure:1387: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1335 1
a1335 1
#line 1399 "configure"
d1342 1
a1342 1
if { (eval echo configure:1406: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1376 1
a1376 1
echo "configure:1440: checking for a BSD compatible install" >&5
d1433 1
a1433 1
echo "configure:1497: checking for $ac_word" >&5
d1473 1
a1473 1
echo "configure:1537: checking how to run the C preprocessor" >&5
d1488 1
a1488 1
#line 1552 "configure"
d1494 1
a1494 1
{ (eval echo configure:1558: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1505 1
a1505 1
#line 1569 "configure"
d1511 1
a1511 1
{ (eval echo configure:1575: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1522 1
a1522 1
#line 1586 "configure"
d1528 1
a1528 1
{ (eval echo configure:1592: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1554 1
a1554 1
echo "configure:1618: checking if running LynxOS" >&5
d1559 1
a1559 1
#line 1623 "configure"
d1589 1
a1589 1
echo "configure:1653: checking whether -mposix or -X is available" >&5
d1594 1
a1594 1
#line 1658 "configure"
d1610 1
a1610 1
if { (eval echo configure:1674: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1630 1
a1630 1
echo "configure:1694: checking for ANSI C header files" >&5
d1635 1
a1635 1
#line 1699 "configure"
d1643 1
a1643 1
{ (eval echo configure:1707: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1660 1
a1660 1
#line 1724 "configure"
d1678 1
a1678 1
#line 1742 "configure"
d1699 1
a1699 1
#line 1763 "configure"
d1710 1
a1710 1
if { (eval echo configure:1774: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d1734 1
a1734 1
echo "configure:1798: checking for pid_t" >&5
d1739 1
a1739 1
#line 1803 "configure"
d1767 1
a1767 1
echo "configure:1831: checking return type of signal handlers" >&5
d1772 1
a1772 1
#line 1836 "configure"
d1789 1
a1789 1
if { (eval echo configure:1853: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1808 1
a1808 1
echo "configure:1872: checking whether time.h and sys/time.h may both be included" >&5
d1813 1
a1813 1
#line 1877 "configure"
d1822 1
a1822 1
if { (eval echo configure:1886: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1843 1
a1843 1
echo "configure:1907: checking for sys/wait.h that is POSIX.1 compatible" >&5
d1848 1
a1848 1
#line 1912 "configure"
d1864 1
a1864 1
if { (eval echo configure:1928: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1906 1
a1906 1
echo "configure:1970: checking if running Mach" >&5
d1922 1
a1922 1
echo "configure:1986: checking if running MachTen" >&5
d1932 1
a1932 1
echo "configure:1996: checking if on Pyramid" >&5
d1942 1
a1942 1
echo "configure:2006: checking if on Apollo" >&5
d1952 1
a1952 1
echo "configure:2016: checking if on Interactive" >&5
d1962 1
a1962 1
echo "configure:2026: checking if stty reads stdout" >&5
d2018 1
a2018 1
echo "configure:2082: checking if running Solaris" >&5
d2038 1
a2038 1
echo "configure:2102: checking for sin" >&5
d2043 1
a2043 1
#line 2107 "configure"
d2066 1
a2066 1
if { (eval echo configure:2130: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2096 1
a2096 1
echo "configure:2160: checking for strftime" >&5
d2101 1
a2101 1
#line 2165 "configure"
d2124 1
a2124 1
if { (eval echo configure:2188: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2164 1
a2164 1
echo "configure:2228: checking for Tcl private headers" >&5
d2199 1
a2199 2
		`ls -dr ${srcdir}/../tcl[9].[0-9].[0-9] ${srcdir}/../tcl[9].[0-9] 2>/dev/null` \
		`ls -dr ${srcdir}/../tcl[8].[2-9].[0-9] ${srcdir}/../tcl[8].[2-9] 2>/dev/null` \
d2201 1
a2201 2
		`ls -dr ${srcdir}/../../tcl[9].[0-9].[0-9] ${srcdir}/../../tcl[9].[0-9] 2>/dev/null` \
		`ls -dr ${srcdir}/../../tcl[8].[2-9].[0-9] ${srcdir}/../../tcl[8].[2-9] 2>/dev/null` \
d2203 1
a2203 2
		`ls -dr ${srcdir}/../../../tcl[9].[0-9].[0-9] ${srcdir}/../../../tcl[9].[0-9] 2>/dev/null ` \
		`ls -dr ${srcdir}/../../../tcl[8].[2-9].[0-9] ${srcdir}/../../../tcl[8].[2-9] 2>/dev/null ` ; do
d2215 2
a2216 4
		`ls -dr /usr/local/src/tcl[9].[0-9].[0-9] /usr/local/src/tcl[9].[0-9] 2>/dev/null` \
		`ls -dr /usr/local/src/tcl[8].[2-9].[0-9] /usr/local/src/tcl[8].[2-9] 2>/dev/null` \
		`ls -dr /usr/local/lib/tcl[9].[0-9].[0-9] /usr/local/lib/tcl[9].[0-9] 2>/dev/null` \
		`ls -dr /usr/local/lib/tcl[8].[2-9].[0-9] /usr/local/lib/tcl[8].[2-9] 2>/dev/null` \
d2230 1
a2230 1
echo "configure:2299: checking for tclInt.h" >&5
d2235 1
a2235 1
#line 2304 "configure"
d2240 1
a2240 1
{ (eval echo configure:2309: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2301 1
a2301 1
echo "configure:2370: checking type of library to build" >&5
d2380 1
a2380 1
echo "configure:2449: checking for gethostname" >&5
d2385 1
a2385 1
#line 2454 "configure"
d2408 1
a2408 1
if { (eval echo configure:2477: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2431 1
a2431 1
echo "configure:2500: checking for gethostname in -linet" >&5
d2439 1
a2439 1
#line 2508 "configure"
d2450 1
a2450 1
if { (eval echo configure:2519: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2476 1
a2476 1
echo "configure:2545: checking for gethostname" >&5
d2481 1
a2481 1
#line 2550 "configure"
d2504 1
a2504 1
if { (eval echo configure:2573: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2527 1
a2527 1
echo "configure:2596: checking for gethostname in -linet" >&5
d2535 1
a2535 1
#line 2604 "configure"
d2546 1
a2546 1
if { (eval echo configure:2615: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2572 1
a2572 1
echo "configure:2641: checking for gethostname" >&5
d2577 1
a2577 1
#line 2646 "configure"
d2600 1
a2600 1
if { (eval echo configure:2669: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2623 1
a2623 1
echo "configure:2692: checking for gethostname in -linet" >&5
d2631 1
a2631 1
#line 2700 "configure"
d2642 1
a2642 1
if { (eval echo configure:2711: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2671 1
a2671 1
echo "configure:2740: checking for socket" >&5
d2676 1
a2676 1
#line 2745 "configure"
d2699 1
a2699 1
if { (eval echo configure:2768: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2722 1
a2722 1
echo "configure:2791: checking for socket in -linet" >&5
d2730 1
a2730 1
#line 2799 "configure"
d2741 1
a2741 1
if { (eval echo configure:2810: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2767 1
a2767 1
echo "configure:2836: checking for socket" >&5
d2772 1
a2772 1
#line 2841 "configure"
d2795 1
a2795 1
if { (eval echo configure:2864: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2818 1
a2818 1
echo "configure:2887: checking for socket in -linet" >&5
d2826 1
a2826 1
#line 2895 "configure"
d2837 1
a2837 1
if { (eval echo configure:2906: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2863 1
a2863 1
echo "configure:2932: checking for socket" >&5
d2868 1
a2868 1
#line 2937 "configure"
d2891 1
a2891 1
if { (eval echo configure:2960: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2914 1
a2914 1
echo "configure:2983: checking for socket in -linet" >&5
d2922 1
a2922 1
#line 2991 "configure"
d2933 1
a2933 1
if { (eval echo configure:3002: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2961 1
a2961 1
echo "configure:3030: checking for select" >&5
d2966 1
a2966 1
#line 3035 "configure"
d2989 1
a2989 1
if { (eval echo configure:3058: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3012 1
a3012 1
echo "configure:3081: checking for select in -linet" >&5
d3020 1
a3020 1
#line 3089 "configure"
d3031 1
a3031 1
if { (eval echo configure:3100: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3057 1
a3057 1
echo "configure:3126: checking for select" >&5
d3062 1
a3062 1
#line 3131 "configure"
d3085 1
a3085 1
if { (eval echo configure:3154: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3108 1
a3108 1
echo "configure:3177: checking for select in -linet" >&5
d3116 1
a3116 1
#line 3185 "configure"
d3127 1
a3127 1
if { (eval echo configure:3196: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3153 1
a3153 1
echo "configure:3222: checking for select" >&5
d3158 1
a3158 1
#line 3227 "configure"
d3181 1
a3181 1
if { (eval echo configure:3250: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3204 1
a3204 1
echo "configure:3273: checking for select in -linet" >&5
d3212 1
a3212 1
#line 3281 "configure"
d3223 1
a3223 1
if { (eval echo configure:3292: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3251 1
a3251 1
echo "configure:3320: checking for getpseudotty" >&5
d3256 1
a3256 1
#line 3325 "configure"
d3279 1
a3279 1
if { (eval echo configure:3348: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3302 1
a3302 1
echo "configure:3371: checking for getpseudotty in -lseq" >&5
d3310 1
a3310 1
#line 3379 "configure"
d3321 1
a3321 1
if { (eval echo configure:3390: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3354 1
a3354 1
echo "configure:3423: checking for getpseudotty" >&5
d3359 1
a3359 1
#line 3428 "configure"
d3382 1
a3382 1
if { (eval echo configure:3451: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3405 1
a3405 1
echo "configure:3474: checking for getpseudotty in -lseq" >&5
d3413 1
a3413 1
#line 3482 "configure"
d3424 1
a3424 1
if { (eval echo configure:3493: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3457 1
a3457 1
echo "configure:3526: checking for getpseudotty" >&5
d3462 1
a3462 1
#line 3531 "configure"
d3485 1
a3485 1
if { (eval echo configure:3554: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3508 1
a3508 1
echo "configure:3577: checking for getpseudotty in -lseq" >&5
d3516 1
a3516 1
#line 3585 "configure"
d3527 1
a3527 1
if { (eval echo configure:3596: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3563 1
a3563 1
echo "configure:3632: checking for openpty" >&5
d3568 1
a3568 1
#line 3637 "configure"
d3591 1
a3591 1
if { (eval echo configure:3660: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3614 1
a3614 1
echo "configure:3683: checking for openpty in -lutil" >&5
d3622 1
a3622 1
#line 3691 "configure"
d3633 1
a3633 1
if { (eval echo configure:3702: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3668 1
a3668 1
echo "configure:3737: checking for openpty" >&5
d3673 1
a3673 1
#line 3742 "configure"
d3696 1
a3696 1
if { (eval echo configure:3765: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3719 1
a3719 1
echo "configure:3788: checking for openpty in -lutil" >&5
d3727 1
a3727 1
#line 3796 "configure"
d3738 1
a3738 1
if { (eval echo configure:3807: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3770 1
a3770 1
echo "configure:3839: checking for openpty" >&5
d3775 1
a3775 1
#line 3844 "configure"
d3798 1
a3798 1
if { (eval echo configure:3867: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3821 1
a3821 1
echo "configure:3890: checking for openpty in -lutil" >&5
d3829 1
a3829 1
#line 3898 "configure"
d3840 1
a3840 1
if { (eval echo configure:3909: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3878 1
a3878 1
echo "configure:3947: checking if running Sequent running SVR4" >&5
d3892 1
a3892 1
echo "configure:3961: checking for sys/sysmacros.h" >&5
d3897 1
a3897 1
#line 3966 "configure"
d3902 1
a3902 1
{ (eval echo configure:3971: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3928 1
a3928 1
echo "configure:3997: checking for stdlib.h" >&5
d3933 1
a3933 1
#line 4002 "configure"
d3938 1
a3938 1
{ (eval echo configure:4007: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3965 1
a3965 1
echo "configure:4034: checking for inttypes.h" >&5
d3970 1
a3970 1
#line 4039 "configure"
d3975 1
a3975 1
{ (eval echo configure:4044: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4005 1
a4005 1
echo "configure:4074: checking for varargs.h" >&5
d4010 1
a4010 1
#line 4079 "configure"
d4015 1
a4015 1
{ (eval echo configure:4084: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4041 1
a4041 1
echo "configure:4110: checking for unistd.h" >&5
d4046 1
a4046 1
#line 4115 "configure"
d4051 1
a4051 1
{ (eval echo configure:4120: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4077 1
a4077 1
echo "configure:4146: checking for sys/stropts.h" >&5
d4082 1
a4082 1
#line 4151 "configure"
d4087 1
a4087 1
{ (eval echo configure:4156: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4113 1
a4113 1
echo "configure:4182: checking for sys/sysconfig.h" >&5
d4118 1
a4118 1
#line 4187 "configure"
d4123 1
a4123 1
{ (eval echo configure:4192: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4149 1
a4149 1
echo "configure:4218: checking for sys/fcntl.h" >&5
d4154 1
a4154 1
#line 4223 "configure"
d4159 1
a4159 1
{ (eval echo configure:4228: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4185 1
a4185 1
echo "configure:4254: checking for sys/select.h" >&5
d4190 1
a4190 1
#line 4259 "configure"
d4195 1
a4195 1
{ (eval echo configure:4264: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4221 1
a4221 1
echo "configure:4290: checking for sys/time.h" >&5
d4226 1
a4226 1
#line 4295 "configure"
d4231 1
a4231 1
{ (eval echo configure:4300: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4257 1
a4257 1
echo "configure:4326: checking for sys/ptem.h" >&5
d4262 1
a4262 1
#line 4331 "configure"
d4267 1
a4267 1
{ (eval echo configure:4336: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4293 1
a4293 1
echo "configure:4362: checking for sys/strredir.h" >&5
d4298 1
a4298 1
#line 4367 "configure"
d4303 1
a4303 1
{ (eval echo configure:4372: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4329 1
a4329 1
echo "configure:4398: checking for sys/strpty.h" >&5
d4334 1
a4334 1
#line 4403 "configure"
d4339 1
a4339 1
{ (eval echo configure:4408: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4366 1
a4366 1
echo "configure:4435: checking for sys/bsdtypes.h" >&5
d4374 1
a4374 1
echo "configure:4443: checking for $ac_hdr" >&5
d4379 1
a4379 1
#line 4448 "configure"
d4384 1
a4384 1
{ (eval echo configure:4453: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4418 1
a4418 1
echo "configure:4487: checking for memmove" >&5
d4423 1
a4423 1
#line 4492 "configure"
d4446 1
a4446 1
if { (eval echo configure:4515: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4469 1
a4469 1
echo "configure:4538: checking for sysconf" >&5
d4474 1
a4474 1
#line 4543 "configure"
d4497 1
a4497 1
if { (eval echo configure:4566: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4520 1
a4520 1
echo "configure:4589: checking for strftime" >&5
d4525 1
a4525 1
#line 4594 "configure"
d4548 1
a4548 1
if { (eval echo configure:4617: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4571 1
a4571 1
echo "configure:4640: checking for strchr" >&5
d4576 1
a4576 1
#line 4645 "configure"
d4599 1
a4599 1
if { (eval echo configure:4668: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4622 1
a4622 1
echo "configure:4691: checking for timezone" >&5
d4627 1
a4627 1
#line 4696 "configure"
d4650 1
a4650 1
if { (eval echo configure:4719: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4677 1
a4677 1
echo "configure:4746: checking for memcpy" >&5
d4679 1
a4679 1
#line 4748 "configure"
d4689 1
a4689 1
if { (eval echo configure:4758: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4711 1
a4711 1
echo "configure:4780: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4717 1
a4717 1
#line 4786 "configure"
d4729 1
a4729 1
if { (eval echo configure:4798: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4749 1
a4749 1
echo "configure:4818: checking if any value exists for WNOHANG" >&5
d4756 1
a4756 1
#line 4825 "configure"
d4772 1
a4772 1
if { (eval echo configure:4841: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4805 1
a4805 1
echo "configure:4874: checking union wait" >&5
d4807 1
a4807 1
#line 4876 "configure"
d4819 1
a4819 1
if { (eval echo configure:4888: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4849 1
a4849 1
echo "configure:4918: checking mask type of select" >&5
d4863 1
a4863 1
echo "configure:4932: checking if signals need to be re-armed" >&5
d4869 1
a4869 1
#line 4938 "configure"
d4908 1
a4908 1
if { (eval echo configure:4977: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4939 1
a4939 1
echo "configure:5008: checking if on Convex" >&5
d4958 1
a4958 1
echo "configure:5027: checking if on NeXT" >&5
d4969 1
a4969 1
echo "configure:5038: checking if on HP" >&5
d4979 1
a4979 1
echo "configure:5048: checking sane default stty arguments" >&5
d4997 1
a4997 1
echo "configure:5066: checking for HP style pty allocation" >&5
d5011 1
a5011 1
echo "configure:5080: checking for HP style pty trapping" >&5
d5013 1
a5013 1
#line 5082 "configure"
d5035 1
a5035 1
echo "configure:5104: checking for AIX new-style pty allocation" >&5
d5047 1
a5047 1
echo "configure:5116: checking for SGI old-style pty allocation" >&5
d5064 1
a5064 1
echo "configure:5133: checking for SCO style pty allocation" >&5
d5081 1
a5081 1
echo "configure:5150: checking for SVR4 style pty allocation" >&5
d5090 1
a5090 1
echo "configure:5159: checking for ptsname" >&5
d5095 1
a5095 1
#line 5164 "configure"
d5118 1
a5118 1
if { (eval echo configure:5187: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5140 1
a5140 1
echo "configure:5209: checking for ptsname" >&5
d5145 1
a5145 1
#line 5214 "configure"
d5168 1
a5168 1
if { (eval echo configure:5237: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5189 1
a5189 1
echo "configure:5258: checking for ptsname" >&5
d5194 1
a5194 1
#line 5263 "configure"
d5217 1
a5217 1
if { (eval echo configure:5286: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5244 1
a5244 1
echo "configure:5313: checking for OSF/1 style pty allocation" >&5
d5258 1
a5258 1
echo "configure:5327: checking for tcgetattr" >&5
d5263 1
a5263 1
#line 5332 "configure"
d5286 1
a5286 1
if { (eval echo configure:5355: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5306 1
a5306 1
echo "configure:5375: checking for tcsetattr" >&5
d5311 1
a5311 1
#line 5380 "configure"
d5334 1
a5334 1
if { (eval echo configure:5403: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5366 1
a5366 1
echo "configure:5435: checking for struct sgttyb" >&5
d5372 1
a5372 1
#line 5441 "configure"
d5382 1
a5382 1
if { (eval echo configure:5451: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5411 1
a5411 1
echo "configure:5480: checking for struct termio" >&5
d5417 1
a5417 1
#line 5486 "configure"
d5426 1
a5426 1
if { (eval echo configure:5495: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5448 1
a5448 1
echo "configure:5517: checking for struct termios" >&5
d5454 1
a5454 1
#line 5523 "configure"
d5468 1
a5468 1
if { (eval echo configure:5537: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5490 1
a5490 1
echo "configure:5559: checking if TCGETS or TCGETA in termios.h" >&5
d5496 1
a5496 1
#line 5565 "configure"
d5512 1
a5512 1
if { (eval echo configure:5581: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5532 1
a5532 1
echo "configure:5601: checking if TIOCGWINSZ in termios.h" >&5
d5538 1
a5538 1
#line 5607 "configure"
d5554 1
a5554 1
if { (eval echo configure:5623: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5575 1
a5575 1
echo "configure:5644: checking for Cray-style ptys" >&5
d5582 1
a5582 1
#line 5651 "configure"
d5594 1
a5594 1
if { (eval echo configure:5663: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5619 1
a5619 1
echo "configure:5688: checking for select" >&5
d5624 1
a5624 1
#line 5693 "configure"
d5647 1
a5647 1
if { (eval echo configure:5716: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5667 1
a5667 1
echo "configure:5736: checking for poll" >&5
d5672 1
a5672 1
#line 5741 "configure"
d5695 1
a5695 1
if { (eval echo configure:5764: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5715 1
a5715 1
echo "configure:5784: checking event handling" >&5
d5737 1
a5737 1
echo "configure:5806: checking for $ac_func" >&5
d5742 1
a5742 1
#line 5811 "configure"
d5765 1
a5765 1
if { (eval echo configure:5834: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5792 1
a5792 1
echo "configure:5861: checking for $ac_func" >&5
d5797 1
a5797 1
#line 5866 "configure"
d5820 1
a5820 1
if { (eval echo configure:5889: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5847 1
a5847 1
echo "configure:5916: checking whether setpgrp takes no argument" >&5
d5855 1
a5855 1
#line 5924 "configure"
d5875 1
a5875 1
if { (eval echo configure:5944: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5903 1
a5903 1
echo "configure:5972: checking for SV-style timezone" >&5
d5909 1
a5909 1
#line 5978 "configure"
d5922 1
a5922 1
if { (eval echo configure:5991: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5968 1
a5968 1
echo "configure:6037: checking for Tk private headers" >&5
a6003 1
		`ls -dr ${srcdir}/../tk[4-9].[0-9].[0-9] ${srcdir}/../tk[4-9].[0-9] 2>/dev/null` \
a6005 1
		`ls -dr ${srcdir}/../../tk[4-9].[0-9].[0-9] ${srcdir}/../../tk[4-9].[0-9] 2>/dev/null` \
a6006 1
		`ls -dr ${srcdir}/../../../tk[4-9].[0-9].[0-9] ${srcdir}/../../../tk[4-9].[0-9] 2>/dev/null ` \
a6019 2
		`ls -dr /usr/local/src/tk[4-9].[0-9].[0-9] /usr/local/src/tk[4-9].[0-9] 2>/dev/null` \
		`ls -dr /usr/local/lib/tk[4-9].[0-9].[0-9] /usr/local/lib/tk[4-9].[0-9] 2>/dev/null` \
d6034 1
a6034 1
echo "configure:6108: checking for tk.h" >&5
d6039 1
a6039 1
#line 6113 "configure"
d6044 1
a6044 1
{ (eval echo configure:6118: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d6143 1
a6143 1
echo "configure:6217: checking for long file names" >&5
d6200 1
a6200 1
echo "configure:6274: checking for type of library to build" >&5
a6409 1
s%@@found@@%$found%g
@


5.30.2.17
log
@Fixed quoting problem in test statement.

Change to src directory before checking times on configure etc.  This was
causing the configure script to fail when run from outside the source
directory using "configure --srcdir=foo".
@
text
@d595 1
a595 1
for i in `(cd ${srcdir} ; ls -tr configure configure.in Makefile.in)` ; do
d598 1
a598 1
if test "configure" = "$newest" ; then
@


5.30.2.18
log
@Re-created to match configure.in
@
text
@d595 1
a595 1
for i in `cd ${srcdir} ; ls -tr configure configure.in Makefile.in` ; do
@


5.30.2.19
log
@merged configure.in
@
text
@d542 1
a542 1
EXP_MICRO_VERSION=3
@


5.30.2.20
log
@Touched file so that it is newer than configure.in.
@
text
@a6870 1

@


5.30.2.21
log
@Fixes to library.
Testing new fix to system command.
@
text
@d595 1
a595 1
for i in `ls -tr ${srcdir}/configure ${srcdir}/configure.in ${srcdir}/Makefile.in` ; do
d598 1
a598 1
if test "$srcdir/configure" = "$newest" ; then
d603 2
a604 2
if test $found = "no" -a "$newest" != "$srcdir/configure" ; then
  echo "configure: warning: $srcdir/configure appears to be old ($srcdir/configure.in and/or $srcdir/Makefile.in are newer) and the autoconf program to fix this situation was not found.  If you've no idea what this means, enter the command \"touch $srcdir/configure\" and restart $srcdir/configure." 1>&2
a4739 51
echo $ac_n "checking for siglongjmp""... $ac_c" 1>&6
echo "configure:4742: checking for siglongjmp" >&5
if eval "test \"`echo '$''{'ac_cv_func_siglongjmp'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4747 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char siglongjmp(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char siglongjmp();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_siglongjmp) || defined (__stub___siglongjmp)
choke me
#else
siglongjmp();
#endif

; return 0; }
EOF
if { (eval echo configure:4770: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_siglongjmp=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_siglongjmp=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'siglongjmp`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_SIGLONGJMP 1
EOF

else
  echo "$ac_t""no" 1>&6
fi

d4745 1
a4745 1
echo "configure:4797: checking for memcpy" >&5
d4747 1
a4747 1
#line 4799 "configure"
d4757 1
a4757 1
if { (eval echo configure:4809: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4779 1
a4779 1
echo "configure:4831: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4785 1
a4785 1
#line 4837 "configure"
d4797 1
a4797 1
if { (eval echo configure:4849: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4817 1
a4817 1
echo "configure:4869: checking if any value exists for WNOHANG" >&5
d4824 1
a4824 1
#line 4876 "configure"
d4840 1
a4840 1
if { (eval echo configure:4892: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4873 1
a4873 1
echo "configure:4925: checking union wait" >&5
d4875 1
a4875 1
#line 4927 "configure"
d4887 1
a4887 1
if { (eval echo configure:4939: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4917 1
a4917 1
echo "configure:4969: checking mask type of select" >&5
d4931 1
a4931 1
echo "configure:4983: checking if signals need to be re-armed" >&5
d4937 1
a4937 1
#line 4989 "configure"
d4976 1
a4976 1
if { (eval echo configure:5028: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5007 1
a5007 1
echo "configure:5059: checking if on Convex" >&5
d5026 1
a5026 1
echo "configure:5078: checking if on NeXT" >&5
d5037 1
a5037 1
echo "configure:5089: checking if on HP" >&5
d5047 1
a5047 1
echo "configure:5099: checking sane default stty arguments" >&5
d5065 1
a5065 1
echo "configure:5117: checking for HP style pty allocation" >&5
d5079 1
a5079 1
echo "configure:5131: checking for HP style pty trapping" >&5
d5081 1
a5081 1
#line 5133 "configure"
d5103 1
a5103 1
echo "configure:5155: checking for AIX new-style pty allocation" >&5
d5115 1
a5115 1
echo "configure:5167: checking for SGI old-style pty allocation" >&5
d5132 1
a5132 1
echo "configure:5184: checking for SCO style pty allocation" >&5
d5149 1
a5149 1
echo "configure:5201: checking for SVR4 style pty allocation" >&5
d5158 1
a5158 1
echo "configure:5210: checking for ptsname" >&5
d5163 1
a5163 1
#line 5215 "configure"
d5186 1
a5186 1
if { (eval echo configure:5238: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5208 1
a5208 1
echo "configure:5260: checking for ptsname" >&5
d5213 1
a5213 1
#line 5265 "configure"
d5236 1
a5236 1
if { (eval echo configure:5288: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5257 1
a5257 1
echo "configure:5309: checking for ptsname" >&5
d5262 1
a5262 1
#line 5314 "configure"
d5285 1
a5285 1
if { (eval echo configure:5337: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5312 1
a5312 1
echo "configure:5364: checking for OSF/1 style pty allocation" >&5
d5326 1
a5326 1
echo "configure:5378: checking for tcgetattr" >&5
d5331 1
a5331 1
#line 5383 "configure"
d5354 1
a5354 1
if { (eval echo configure:5406: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5374 1
a5374 1
echo "configure:5426: checking for tcsetattr" >&5
d5379 1
a5379 1
#line 5431 "configure"
d5402 1
a5402 1
if { (eval echo configure:5454: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5434 1
a5434 1
echo "configure:5486: checking for struct sgttyb" >&5
d5440 1
a5440 1
#line 5492 "configure"
d5450 1
a5450 1
if { (eval echo configure:5502: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5479 1
a5479 1
echo "configure:5531: checking for struct termio" >&5
d5485 1
a5485 1
#line 5537 "configure"
d5494 1
a5494 1
if { (eval echo configure:5546: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5516 1
a5516 1
echo "configure:5568: checking for struct termios" >&5
d5522 1
a5522 1
#line 5574 "configure"
d5536 1
a5536 1
if { (eval echo configure:5588: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5558 1
a5558 1
echo "configure:5610: checking if TCGETS or TCGETA in termios.h" >&5
d5564 1
a5564 1
#line 5616 "configure"
d5580 1
a5580 1
if { (eval echo configure:5632: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5600 1
a5600 1
echo "configure:5652: checking if TIOCGWINSZ in termios.h" >&5
d5606 1
a5606 1
#line 5658 "configure"
d5622 1
a5622 1
if { (eval echo configure:5674: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5643 1
a5643 1
echo "configure:5695: checking for Cray-style ptys" >&5
d5650 1
a5650 1
#line 5702 "configure"
d5662 1
a5662 1
if { (eval echo configure:5714: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5687 1
a5687 1
echo "configure:5739: checking for select" >&5
d5692 1
a5692 1
#line 5744 "configure"
d5715 1
a5715 1
if { (eval echo configure:5767: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5735 1
a5735 1
echo "configure:5787: checking for poll" >&5
d5740 1
a5740 1
#line 5792 "configure"
d5763 1
a5763 1
if { (eval echo configure:5815: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5783 1
a5783 1
echo "configure:5835: checking event handling" >&5
d5805 1
a5805 1
echo "configure:5857: checking for $ac_func" >&5
d5810 1
a5810 1
#line 5862 "configure"
d5833 1
a5833 1
if { (eval echo configure:5885: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5860 1
a5860 1
echo "configure:5912: checking for $ac_func" >&5
d5865 1
a5865 1
#line 5917 "configure"
d5888 1
a5888 1
if { (eval echo configure:5940: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5915 1
a5915 1
echo "configure:5967: checking whether setpgrp takes no argument" >&5
d5923 1
a5923 1
#line 5975 "configure"
d5943 1
a5943 1
if { (eval echo configure:5995: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5971 1
a5971 1
echo "configure:6023: checking for SV-style timezone" >&5
d5977 1
a5977 1
#line 6029 "configure"
d5990 1
a5990 1
if { (eval echo configure:6042: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d6036 1
a6036 1
echo "configure:6088: checking for Tk private headers" >&5
d6107 1
a6107 1
echo "configure:6159: checking for tk.h" >&5
d6112 1
a6112 1
#line 6164 "configure"
d6117 1
a6117 1
{ (eval echo configure:6169: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d6216 1
a6216 1
echo "configure:6268: checking for long file names" >&5
d6273 1
a6273 1
echo "configure:6325: checking for type of library to build" >&5
d6870 1
@


5.29
log
@numerous edits - getting synchronized (first time I've used CVS), see
HISTORY file for more info
@
text
@d19 2
d598 1
a598 1
echo "configure:597: checking host system type" >&5
d619 1
a619 1
echo "configure:618: checking target system type" >&5
d637 1
a637 1
echo "configure:636: checking build system type" >&5
d667 1
a667 1
echo "configure:666: checking shell to use within Make" >&5
d694 1
a694 1
echo "configure:693: checking for Tcl configuration" >&5
d783 1
a783 1
echo "configure:782: checking for Tcl_CreateCommand" >&5
d788 1
a788 1
#line 787 "configure"
d811 1
a811 1
if { (eval echo configure:810: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d827 1
a827 1
echo "configure:826: checking if Tcl library build specification is valid" >&5
d837 1
a837 1
echo "configure:836: checking if Tcl library build specification is valid" >&5
d869 1
a869 1
echo "configure:868: checking for Tk configuration" >&5
d954 1
a954 1
echo "configure:953: checking for Tk_Main" >&5
d959 1
a959 1
#line 958 "configure"
d982 1
a982 1
if { (eval echo configure:981: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d998 1
a998 1
echo "configure:997: checking if Tk library build specification is valid" >&5
d1008 1
a1008 1
echo "configure:1007: checking if Tk library build specification is valid" >&5
d1044 1
a1044 1
echo "configure:1043: checking for $ac_word" >&5
d1074 1
a1074 1
echo "configure:1073: checking for $ac_word" >&5
d1125 1
a1125 1
echo "configure:1124: checking for $ac_word" >&5
d1157 1
a1157 1
echo "configure:1156: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
d1168 1
a1168 1
#line 1167 "configure"
d1173 1
a1173 1
if { (eval echo configure:1172: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1199 1
a1199 1
echo "configure:1198: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
d1204 1
a1204 1
echo "configure:1203: checking whether we are using GNU C" >&5
d1213 1
a1213 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1212: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d1232 1
a1232 1
echo "configure:1231: checking whether ${CC-cc} accepts -g" >&5
d1267 1
a1267 1
echo "configure:1266: checking whether the compiler ($CC) actually works" >&5
d1269 1
a1269 1
#line 1268 "configure"
d1276 1
a1276 1
if { (eval echo configure:1275: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1288 1
a1288 1
#line 1287 "configure"
d1295 1
a1295 1
if { (eval echo configure:1294: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1329 1
a1329 1
echo "configure:1328: checking for a BSD compatible install" >&5
d1386 1
a1386 1
echo "configure:1385: checking for $ac_word" >&5
d1426 1
a1426 1
echo "configure:1425: checking how to run the C preprocessor" >&5
d1441 1
a1441 1
#line 1440 "configure"
d1447 1
a1447 1
{ (eval echo configure:1446: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1458 1
a1458 1
#line 1457 "configure"
d1464 1
a1464 1
{ (eval echo configure:1463: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1475 1
a1475 1
#line 1474 "configure"
d1481 1
a1481 1
{ (eval echo configure:1480: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1507 1
a1507 1
echo "configure:1506: checking if running LynxOS" >&5
d1512 1
a1512 1
#line 1511 "configure"
d1542 1
a1542 1
echo "configure:1541: checking whether -mposix or -X is available" >&5
d1547 1
a1547 1
#line 1546 "configure"
d1563 1
a1563 1
if { (eval echo configure:1562: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1583 1
a1583 1
echo "configure:1582: checking for ANSI C header files" >&5
d1588 1
a1588 1
#line 1587 "configure"
d1596 1
a1596 1
{ (eval echo configure:1595: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1613 1
a1613 1
#line 1612 "configure"
d1631 1
a1631 1
#line 1630 "configure"
d1652 1
a1652 1
#line 1651 "configure"
d1663 1
a1663 1
if { (eval echo configure:1662: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d1687 1
a1687 1
echo "configure:1686: checking for pid_t" >&5
d1692 1
a1692 1
#line 1691 "configure"
d1720 1
a1720 1
echo "configure:1719: checking return type of signal handlers" >&5
d1725 1
a1725 1
#line 1724 "configure"
d1742 1
a1742 1
if { (eval echo configure:1741: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1761 1
a1761 1
echo "configure:1760: checking whether time.h and sys/time.h may both be included" >&5
d1766 1
a1766 1
#line 1765 "configure"
d1775 1
a1775 1
if { (eval echo configure:1774: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1796 1
a1796 1
echo "configure:1795: checking for sys/wait.h that is POSIX.1 compatible" >&5
d1801 1
a1801 1
#line 1800 "configure"
d1817 1
a1817 1
if { (eval echo configure:1816: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1838 13
a1850 1
EXP_CFLAGS="-g $TCL_EXTRA_CFLAGS"
d1857 1
a1857 1
echo "configure:1844: checking if running Mach" >&5
d1873 1
a1873 1
echo "configure:1860: checking if running MachTen" >&5
d1883 1
a1883 1
echo "configure:1870: checking if on Pyramid" >&5
d1893 1
a1893 1
echo "configure:1880: checking if on Apollo" >&5
d1903 1
a1903 1
echo "configure:1890: checking if on Interactive" >&5
d1913 1
a1913 1
echo "configure:1900: checking if stty reads stdout" >&5
d1969 1
a1969 1
echo "configure:1956: checking if running Solaris" >&5
d1989 1
a1989 1
echo "configure:1976: checking for sin" >&5
d1994 1
a1994 1
#line 1981 "configure"
d2017 1
a2017 1
if { (eval echo configure:2004: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2047 1
a2047 1
echo "configure:2034: checking for strftime" >&5
d2052 1
a2052 1
#line 2039 "configure"
d2075 1
a2075 1
if { (eval echo configure:2062: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2115 1
a2115 1
echo "configure:2102: checking for Tcl private headers" >&5
d2181 1
a2181 1
echo "configure:2168: checking for tclInt.h" >&5
d2186 1
a2186 1
#line 2173 "configure"
d2191 1
a2191 1
{ (eval echo configure:2178: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2252 1
a2252 1
echo "configure:2239: checking type of library to build" >&5
d2331 1
a2331 1
echo "configure:2318: checking for gethostname" >&5
d2336 1
a2336 1
#line 2323 "configure"
d2359 1
a2359 1
if { (eval echo configure:2346: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2382 1
a2382 1
echo "configure:2369: checking for gethostname in -linet" >&5
d2390 1
a2390 1
#line 2377 "configure"
d2401 1
a2401 1
if { (eval echo configure:2388: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2427 1
a2427 1
echo "configure:2414: checking for gethostname" >&5
d2432 1
a2432 1
#line 2419 "configure"
d2455 1
a2455 1
if { (eval echo configure:2442: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2478 1
a2478 1
echo "configure:2465: checking for gethostname in -linet" >&5
d2486 1
a2486 1
#line 2473 "configure"
d2497 1
a2497 1
if { (eval echo configure:2484: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2523 1
a2523 1
echo "configure:2510: checking for gethostname" >&5
d2528 1
a2528 1
#line 2515 "configure"
d2551 1
a2551 1
if { (eval echo configure:2538: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2574 1
a2574 1
echo "configure:2561: checking for gethostname in -linet" >&5
d2582 1
a2582 1
#line 2569 "configure"
d2593 1
a2593 1
if { (eval echo configure:2580: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2622 1
a2622 1
echo "configure:2609: checking for socket" >&5
d2627 1
a2627 1
#line 2614 "configure"
d2650 1
a2650 1
if { (eval echo configure:2637: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2673 1
a2673 1
echo "configure:2660: checking for socket in -linet" >&5
d2681 1
a2681 1
#line 2668 "configure"
d2692 1
a2692 1
if { (eval echo configure:2679: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2718 1
a2718 1
echo "configure:2705: checking for socket" >&5
d2723 1
a2723 1
#line 2710 "configure"
d2746 1
a2746 1
if { (eval echo configure:2733: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2769 1
a2769 1
echo "configure:2756: checking for socket in -linet" >&5
d2777 1
a2777 1
#line 2764 "configure"
d2788 1
a2788 1
if { (eval echo configure:2775: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2814 1
a2814 1
echo "configure:2801: checking for socket" >&5
d2819 1
a2819 1
#line 2806 "configure"
d2842 1
a2842 1
if { (eval echo configure:2829: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2865 1
a2865 1
echo "configure:2852: checking for socket in -linet" >&5
d2873 1
a2873 1
#line 2860 "configure"
d2884 1
a2884 1
if { (eval echo configure:2871: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2912 1
a2912 1
echo "configure:2899: checking for select" >&5
d2917 1
a2917 1
#line 2904 "configure"
d2940 1
a2940 1
if { (eval echo configure:2927: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2963 1
a2963 1
echo "configure:2950: checking for select in -linet" >&5
d2971 1
a2971 1
#line 2958 "configure"
d2982 1
a2982 1
if { (eval echo configure:2969: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3008 1
a3008 1
echo "configure:2995: checking for select" >&5
d3013 1
a3013 1
#line 3000 "configure"
d3036 1
a3036 1
if { (eval echo configure:3023: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3059 1
a3059 1
echo "configure:3046: checking for select in -linet" >&5
d3067 1
a3067 1
#line 3054 "configure"
d3078 1
a3078 1
if { (eval echo configure:3065: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3104 1
a3104 1
echo "configure:3091: checking for select" >&5
d3109 1
a3109 1
#line 3096 "configure"
d3132 1
a3132 1
if { (eval echo configure:3119: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3155 1
a3155 1
echo "configure:3142: checking for select in -linet" >&5
d3163 1
a3163 1
#line 3150 "configure"
d3174 1
a3174 1
if { (eval echo configure:3161: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3202 1
a3202 1
echo "configure:3189: checking for getpseudotty" >&5
d3207 1
a3207 1
#line 3194 "configure"
d3230 1
a3230 1
if { (eval echo configure:3217: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3253 1
a3253 1
echo "configure:3240: checking for getpseudotty in -lseq" >&5
d3261 1
a3261 1
#line 3248 "configure"
d3272 1
a3272 1
if { (eval echo configure:3259: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3305 1
a3305 1
echo "configure:3292: checking for getpseudotty" >&5
d3310 1
a3310 1
#line 3297 "configure"
d3333 1
a3333 1
if { (eval echo configure:3320: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3356 1
a3356 1
echo "configure:3343: checking for getpseudotty in -lseq" >&5
d3364 1
a3364 1
#line 3351 "configure"
d3375 1
a3375 1
if { (eval echo configure:3362: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3408 1
a3408 1
echo "configure:3395: checking for getpseudotty" >&5
d3413 1
a3413 1
#line 3400 "configure"
d3436 1
a3436 1
if { (eval echo configure:3423: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3459 1
a3459 1
echo "configure:3446: checking for getpseudotty in -lseq" >&5
d3467 1
a3467 1
#line 3454 "configure"
d3478 1
a3478 1
if { (eval echo configure:3465: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3514 1
a3514 1
echo "configure:3501: checking for openpty" >&5
d3519 1
a3519 1
#line 3506 "configure"
d3542 1
a3542 1
if { (eval echo configure:3529: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3565 1
a3565 1
echo "configure:3552: checking for openpty in -lutil" >&5
d3573 1
a3573 1
#line 3560 "configure"
d3584 1
a3584 1
if { (eval echo configure:3571: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3619 1
a3619 1
echo "configure:3606: checking for openpty" >&5
d3624 1
a3624 1
#line 3611 "configure"
d3647 1
a3647 1
if { (eval echo configure:3634: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3670 1
a3670 1
echo "configure:3657: checking for openpty in -lutil" >&5
d3678 1
a3678 1
#line 3665 "configure"
d3689 1
a3689 1
if { (eval echo configure:3676: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3721 1
a3721 1
echo "configure:3708: checking for openpty" >&5
d3726 1
a3726 1
#line 3713 "configure"
d3749 1
a3749 1
if { (eval echo configure:3736: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3772 1
a3772 1
echo "configure:3759: checking for openpty in -lutil" >&5
d3780 1
a3780 1
#line 3767 "configure"
d3791 1
a3791 1
if { (eval echo configure:3778: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3826 11
d3843 1
a3843 1
echo "configure:3819: checking for sys/sysmacros.h" >&5
d3848 1
a3848 1
#line 3824 "configure"
d3853 1
a3853 1
{ (eval echo configure:3829: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3879 1
a3879 1
echo "configure:3855: checking for stdlib.h" >&5
d3884 1
a3884 1
#line 3860 "configure"
d3889 1
a3889 1
{ (eval echo configure:3865: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3916 1
a3916 1
echo "configure:3892: checking for inttypes.h" >&5
d3921 1
a3921 1
#line 3897 "configure"
d3926 1
a3926 1
{ (eval echo configure:3902: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3956 1
a3956 1
echo "configure:3932: checking for varargs.h" >&5
d3961 1
a3961 1
#line 3937 "configure"
d3966 1
a3966 1
{ (eval echo configure:3942: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3992 1
a3992 1
echo "configure:3968: checking for unistd.h" >&5
d3997 1
a3997 1
#line 3973 "configure"
d4002 1
a4002 1
{ (eval echo configure:3978: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4028 1
a4028 1
echo "configure:4004: checking for sys/stropts.h" >&5
d4033 1
a4033 1
#line 4009 "configure"
d4038 1
a4038 1
{ (eval echo configure:4014: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4064 1
a4064 1
echo "configure:4040: checking for sys/sysconfig.h" >&5
d4069 1
a4069 1
#line 4045 "configure"
d4074 1
a4074 1
{ (eval echo configure:4050: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4100 1
a4100 1
echo "configure:4076: checking for sys/fcntl.h" >&5
d4105 1
a4105 1
#line 4081 "configure"
d4110 1
a4110 1
{ (eval echo configure:4086: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4136 1
a4136 1
echo "configure:4112: checking for sys/select.h" >&5
d4141 1
a4141 1
#line 4117 "configure"
d4146 1
a4146 1
{ (eval echo configure:4122: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4172 1
a4172 1
echo "configure:4148: checking for sys/time.h" >&5
d4177 1
a4177 1
#line 4153 "configure"
d4182 1
a4182 1
{ (eval echo configure:4158: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4208 1
a4208 1
echo "configure:4184: checking for sys/ptem.h" >&5
d4213 1
a4213 1
#line 4189 "configure"
d4218 1
a4218 1
{ (eval echo configure:4194: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4244 1
a4244 1
echo "configure:4220: checking for sys/strredir.h" >&5
d4249 1
a4249 1
#line 4225 "configure"
d4254 1
a4254 1
{ (eval echo configure:4230: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4280 1
a4280 1
echo "configure:4256: checking for sys/strpty.h" >&5
d4285 1
a4285 1
#line 4261 "configure"
d4290 1
a4290 1
{ (eval echo configure:4266: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4317 1
a4317 1
echo "configure:4293: checking for sys/bsdtypes.h" >&5
d4325 1
a4325 1
echo "configure:4301: checking for $ac_hdr" >&5
d4330 1
a4330 1
#line 4306 "configure"
d4335 1
a4335 1
{ (eval echo configure:4311: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4369 1
a4369 1
echo "configure:4345: checking for memmove" >&5
d4374 1
a4374 1
#line 4350 "configure"
d4397 1
a4397 1
if { (eval echo configure:4373: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4420 1
a4420 1
echo "configure:4396: checking for sysconf" >&5
d4425 1
a4425 1
#line 4401 "configure"
d4448 1
a4448 1
if { (eval echo configure:4424: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4471 1
a4471 1
echo "configure:4447: checking for strftime" >&5
d4476 1
a4476 1
#line 4452 "configure"
d4499 1
a4499 1
if { (eval echo configure:4475: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4522 1
a4522 1
echo "configure:4498: checking for strchr" >&5
d4527 1
a4527 1
#line 4503 "configure"
d4550 1
a4550 1
if { (eval echo configure:4526: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4573 1
a4573 1
echo "configure:4549: checking for timezone" >&5
d4578 1
a4578 1
#line 4554 "configure"
d4601 1
a4601 1
if { (eval echo configure:4577: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4628 1
a4628 1
echo "configure:4604: checking for memcpy" >&5
d4630 1
a4630 1
#line 4606 "configure"
d4640 1
a4640 1
if { (eval echo configure:4616: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d4662 1
a4662 1
echo "configure:4638: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4668 1
a4668 1
#line 4644 "configure"
d4680 1
a4680 1
if { (eval echo configure:4656: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4700 1
a4700 1
echo "configure:4676: checking if any value exists for WNOHANG" >&5
d4707 1
a4707 1
#line 4683 "configure"
d4723 1
a4723 1
if { (eval echo configure:4699: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4757 1
a4757 1
echo "configure:4733: checking mask type of select" >&5
d4771 1
a4771 1
echo "configure:4747: checking if signals need to be re-armed" >&5
d4777 1
a4777 1
#line 4753 "configure"
d4816 1
a4816 1
if { (eval echo configure:4792: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d4847 1
a4847 1
echo "configure:4823: checking if on Convex" >&5
d4863 1
a4863 1
EXP_LDFLAGS=
d4866 1
a4866 1
echo "configure:4842: checking if on NeXT" >&5
d4877 1
a4877 1
echo "configure:4853: checking if on HP" >&5
d4887 1
a4887 1
echo "configure:4863: checking sane default stty arguments" >&5
d4905 1
a4905 1
echo "configure:4881: checking for HP style pty allocation" >&5
d4919 1
a4919 1
echo "configure:4895: checking for HP style pty trapping" >&5
d4921 1
a4921 1
#line 4897 "configure"
d4943 1
a4943 1
echo "configure:4919: checking for AIX new-style pty allocation" >&5
d4955 1
a4955 1
echo "configure:4931: checking for SGI old-style pty allocation" >&5
d4972 1
a4972 1
echo "configure:4948: checking for SCO style pty allocation" >&5
d4989 1
a4989 1
echo "configure:4965: checking for SVR4 style pty allocation" >&5
d4998 1
a4998 1
echo "configure:4974: checking for ptsname" >&5
d5003 1
a5003 1
#line 4979 "configure"
d5026 1
a5026 1
if { (eval echo configure:5002: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5048 1
a5048 1
echo "configure:5024: checking for ptsname" >&5
d5053 1
a5053 1
#line 5029 "configure"
d5076 1
a5076 1
if { (eval echo configure:5052: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5097 1
a5097 1
echo "configure:5073: checking for ptsname" >&5
d5102 1
a5102 1
#line 5078 "configure"
d5125 1
a5125 1
if { (eval echo configure:5101: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5152 1
a5152 1
echo "configure:5128: checking for OSF/1 style pty allocation" >&5
d5166 1
a5166 1
echo "configure:5142: checking for tcgetattr" >&5
d5171 1
a5171 1
#line 5147 "configure"
d5194 1
a5194 1
if { (eval echo configure:5170: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5214 1
a5214 1
echo "configure:5190: checking for tcsetattr" >&5
d5219 1
a5219 1
#line 5195 "configure"
d5242 1
a5242 1
if { (eval echo configure:5218: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5274 1
a5274 1
echo "configure:5250: checking for struct sgttyb" >&5
d5280 1
a5280 1
#line 5256 "configure"
d5290 1
a5290 1
if { (eval echo configure:5266: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5319 1
a5319 1
echo "configure:5295: checking for struct termio" >&5
d5325 1
a5325 1
#line 5301 "configure"
d5334 1
a5334 1
if { (eval echo configure:5310: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5356 1
a5356 1
echo "configure:5332: checking for struct termios" >&5
d5362 1
a5362 1
#line 5338 "configure"
d5376 1
a5376 1
if { (eval echo configure:5352: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5398 1
a5398 1
echo "configure:5374: checking if TCGETS or TCGETA in termios.h" >&5
d5404 1
a5404 1
#line 5380 "configure"
d5420 1
a5420 1
if { (eval echo configure:5396: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5440 1
a5440 1
echo "configure:5416: checking if TIOCGWINSZ in termios.h" >&5
d5446 1
a5446 1
#line 5422 "configure"
d5462 1
a5462 1
if { (eval echo configure:5438: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5483 1
a5483 1
echo "configure:5459: checking for Cray-style ptys" >&5
d5490 1
a5490 1
#line 5466 "configure"
d5502 1
a5502 1
if { (eval echo configure:5478: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5527 1
a5527 1
echo "configure:5503: checking for select" >&5
d5532 1
a5532 1
#line 5508 "configure"
d5555 1
a5555 1
if { (eval echo configure:5531: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5575 1
a5575 1
echo "configure:5551: checking for poll" >&5
d5580 1
a5580 1
#line 5556 "configure"
d5603 1
a5603 1
if { (eval echo configure:5579: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5623 1
a5623 1
echo "configure:5599: checking event handling" >&5
d5645 1
a5645 1
echo "configure:5621: checking for $ac_func" >&5
d5650 1
a5650 1
#line 5626 "configure"
d5673 1
a5673 1
if { (eval echo configure:5649: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5700 1
a5700 1
echo "configure:5676: checking for $ac_func" >&5
d5705 1
a5705 1
#line 5681 "configure"
d5728 1
a5728 1
if { (eval echo configure:5704: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5757 1
a5757 1
echo "configure:5733: checking for SV-style timezone" >&5
d5763 1
a5763 1
#line 5739 "configure"
d5776 1
a5776 1
if { (eval echo configure:5752: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d5822 1
a5822 1
echo "configure:5798: checking for Tk private headers" >&5
d5888 1
a5888 1
echo "configure:5864: checking for tk.h" >&5
d5893 1
a5893 1
#line 5869 "configure"
d5898 1
a5898 1
{ (eval echo configure:5874: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d5997 1
a5997 1
echo "configure:5973: checking for long file names" >&5
d6055 1
a6055 1
echo "configure:6031: checking for type of library to build" >&5
a6113 2
echo LIB_RUNTIME_DIR=$LIB_RUNTIME_DIR

a6123 1
  echo TCL:EXP_CC_SEARCH_FLAGS=$EXP_CC_SEARCH_FLAGS
a6124 1
  echo evaluating EXP_CC_SEARCH_FLAGS=\"$TK_LD_SEARCH_FLAGS\"
a6125 1
  echo TK:EXP_CC_SEARCH_FLAGS=$EXP_CC_SEARCH_FLAGS
a6127 1
echo EXP_LD_SEARCH_FLAGS=$EXP_LD_SEARCH_FLAGS
@


5.28
log
@Initial revision
@
text
@d4 1
a4 1
# Generated automatically using autoconf version 2.11 
d68 1
d352 1
a352 1
    echo "configure generated by autoconf version 2.11"
d454 5
a458 3
# Only set LANG and LC_ALL to C if already set.
# These must not be set unconditionally because not all systems understand
# e.g. LANG=C (notably SCO).
d460 2
a461 1
if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
d515 2
a516 1
ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
d518 2
d537 2
a538 2
EXP_MINOR_VERSION=28
EXP_MICRO_VERSION=1
d591 1
a591 1
if $ac_config_sub sun4 >/dev/null 2>&1; then :
d596 1
a596 1
echo "configure:590: checking host system type" >&5
d603 1
a603 1
    if host_alias=`$ac_config_guess`; then :
d610 1
a610 1
host=`$ac_config_sub $host_alias`
d617 1
a617 1
echo "configure:611: checking target system type" >&5
d628 1
a628 1
target=`$ac_config_sub $target_alias`
d635 1
a635 1
echo "configure:629: checking build system type" >&5
d646 1
a646 1
build=`$ac_config_sub $build_alias`
d665 1
a665 1
echo "configure:659: checking shell to use within Make" >&5
d692 1
a692 1
echo "configure:686: checking for Tcl configuration" >&5
d764 1
a764 1

d781 1
a781 1
echo "configure:775: checking for Tcl_CreateCommand" >&5
d786 1
a786 1
#line 780 "configure"
d809 1
a809 1
if { (eval echo configure:803: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d819 1
a820 1
fi
d825 1
a825 1
echo "configure:819: checking if Tcl library build specification is valid" >&5
d835 1
a835 1
echo "configure:829: checking if Tcl library build specification is valid" >&5
d867 1
a867 1
echo "configure:861: checking for Tk configuration" >&5
d940 1
d945 68
d1042 1
a1042 1
echo "configure:967: checking for $ac_word" >&5
d1049 3
a1051 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d1072 1
a1072 1
echo "configure:996: checking for $ac_word" >&5
d1079 1
a1079 1
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
d1081 2
a1082 1
  for ac_dir in $PATH; do
d1117 34
d1155 1
a1155 1
echo "configure:1044: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
d1161 4
a1164 1
ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
d1166 1
a1166 2
cat > conftest.$ac_ext <<EOF
#line 1053 "configure"
d1169 1
a1169 3
int main() {

; return 0; }
d1171 1
a1171 2
if { (eval echo configure:1060: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
d1173 6
a1181 1
  rm -rf conftest*
d1184 7
a1190 2
rm -f conftest*

d1194 1
a1194 1
  { echo "configure: error: Installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
d1196 4
d1202 1
a1202 1
echo "configure:1078: checking whether we are using GNU C" >&5
d1211 1
a1211 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1087: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d1222 10
a1231 6
  ac_test_CFLAGS="${CFLAGS+set}"
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
echo "configure:1102: checking whether ${CC-cc} accepts -g" >&5
if eval "test \"`echo '$''{'ac_cv_prog_gcc_g'+set}'`\" = set"; then
d1236 1
a1236 1
  ac_cv_prog_gcc_g=yes
d1238 1
a1238 1
  ac_cv_prog_gcc_g=no
d1244 5
a1248 4
echo "$ac_t""$ac_cv_prog_gcc_g" 1>&6
  if test "$ac_test_CFLAGS" = set; then
    CFLAGS="$ac_save_CFLAGS"
  elif test $ac_cv_prog_gcc_g = yes; then
d1251 4
d1256 2
a1258 3
else
  GCC=
  test "${CFLAGS+set}" = set || CFLAGS="-g"
d1265 1
a1265 1
echo "configure:1133: checking whether the compiler ($CC) actually works" >&5
d1267 1
a1267 1
#line 1135 "configure"
d1274 1
a1274 1
if { (eval echo configure:1142: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1284 1

d1286 1
a1286 1
#line 1155 "configure"
d1293 1
a1293 1
if { (eval echo configure:1162: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
a1303 1

d1322 1
d1327 1
a1327 1
echo "configure:1196: checking for a BSD compatible install" >&5
d1332 1
a1332 1
    IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
d1339 3
a1341 1
      for ac_prog in ginstall installbsd scoinst install; do
a1345 1
	    # OSF/1 installbsd also uses dspmsg, but is usable.
d1356 1
a1356 1
  IFS="$ac_save_ifs"
d1375 2
d1384 1
a1384 1
echo "configure:1250: checking for $ac_word" >&5
d1391 3
a1393 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d1424 1
a1424 1
echo "configure:1289: checking how to run the C preprocessor" >&5
d1439 1
a1439 1
#line 1304 "configure"
d1445 2
a1446 2
{ (eval echo configure:1310: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1456 1
a1456 1
#line 1321 "configure"
d1462 19
a1480 2
{ (eval echo configure:1327: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1493 2
d1505 1
a1505 1
echo "configure:1351: checking if running LynxOS" >&5
d1510 1
a1510 1
#line 1356 "configure"
d1540 1
a1540 1
echo "configure:1386: checking whether -mposix or -X is available" >&5
d1545 1
a1545 1
#line 1391 "configure"
d1561 1
a1561 1
if { (eval echo configure:1407: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1570 1

a1579 31
# If we cannot run a trivial program, we are probably using a cross compiler.
echo $ac_n "checking whether using a cross-compiler""... $ac_c" 1>&6
echo "configure:1429: checking whether using a cross-compiler" >&5
if eval "test \"`echo '$''{'ac_cv_c_cross'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_c_cross=yes
else
  cat > conftest.$ac_ext <<EOF
#line 1437 "configure"
#include "confdefs.h"
main(){return(0);}
EOF
{ (eval echo configure:1441: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
  ac_cv_c_cross=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_c_cross=yes
fi
rm -fr conftest*
fi

fi

echo "$ac_t""$ac_cv_c_cross" 1>&6
cross_compiling=$ac_cv_c_cross

d1581 1
a1581 1
echo "configure:1459: checking for ANSI C header files" >&5
d1586 1
a1586 1
#line 1464 "configure"
d1594 2
a1595 2
{ (eval echo configure:1472: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1611 1
a1611 1
#line 1489 "configure"
d1629 1
a1629 1
#line 1507 "configure"
d1650 1
a1650 1
#line 1528 "configure"
d1661 2
a1662 2
{ (eval echo configure:1539: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d1685 1
a1685 1
echo "configure:1563: checking for pid_t" >&5
d1690 1
a1690 1
#line 1568 "configure"
d1699 1
a1699 1
  egrep "pid_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
d1718 1
a1718 1
echo "configure:1596: checking return type of signal handlers" >&5
d1723 1
a1723 1
#line 1601 "configure"
d1740 1
a1740 1
if { (eval echo configure:1618: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1749 1

d1759 1
a1759 1
echo "configure:1638: checking whether time.h and sys/time.h may both be included" >&5
d1764 1
a1764 1
#line 1643 "configure"
d1773 1
a1773 1
if { (eval echo configure:1652: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1782 1

d1794 1
a1794 1
echo "configure:1674: checking for sys/wait.h that is POSIX.1 compatible" >&5
d1799 1
a1799 1
#line 1679 "configure"
d1815 1
a1815 1
if { (eval echo configure:1695: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1824 1

d1836 1
a1836 1
EXP_CFLAGS=-g
d1843 1
a1843 1
echo "configure:1724: checking if running Mach" >&5
d1859 1
a1859 1
echo "configure:1740: checking if running MachTen" >&5
d1869 1
a1869 1
echo "configure:1750: checking if on Pyramid" >&5
d1879 1
a1879 1
echo "configure:1760: checking if on Apollo" >&5
d1889 1
a1889 1
echo "configure:1770: checking if on Interactive" >&5
d1899 1
a1899 1
echo "configure:1780: checking if stty reads stdout" >&5
d1955 1
a1955 1
echo "configure:1836: checking if running Solaris" >&5
d1975 1
a1975 1
echo "configure:1856: checking for sin" >&5
d1980 1
a1980 1
#line 1861 "configure"
d2003 1
a2003 1
if { (eval echo configure:1884: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2013 1
a2014 1
fi
d2033 1
a2033 1
echo "configure:1914: checking for strftime" >&5
d2038 1
a2038 1
#line 1919 "configure"
d2061 1
a2061 1
if { (eval echo configure:1942: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2071 1
a2072 1
fi
d2101 1
a2101 1
echo "configure:1982: checking for Tcl private headers" >&5
d2167 1
a2167 1
echo "configure:2048: checking for tclInt.h" >&5
d2172 1
a2172 1
#line 2053 "configure"
d2177 2
a2178 2
{ (eval echo configure:2058: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d2238 1
a2238 1
echo "configure:2119: checking type of library to build" >&5
d2317 1
a2317 1
echo "configure:2198: checking for gethostname" >&5
d2322 1
a2322 1
#line 2203 "configure"
d2345 1
a2345 1
if { (eval echo configure:2226: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2355 1
a2356 1
fi
d2368 1
a2368 1
echo "configure:2249: checking for gethostname in -linet" >&5
d2376 1
a2376 1
#line 2257 "configure"
d2387 1
a2387 1
if { (eval echo configure:2268: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2413 1
a2413 1
echo "configure:2294: checking for gethostname" >&5
d2418 1
a2418 1
#line 2299 "configure"
d2441 1
a2441 1
if { (eval echo configure:2322: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2451 1
a2452 1
fi
d2464 1
a2464 1
echo "configure:2345: checking for gethostname in -linet" >&5
d2472 1
a2472 1
#line 2353 "configure"
d2483 1
a2483 1
if { (eval echo configure:2364: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2509 1
a2509 1
echo "configure:2390: checking for gethostname" >&5
d2514 1
a2514 1
#line 2395 "configure"
d2537 1
a2537 1
if { (eval echo configure:2418: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2547 1
a2548 1
fi
d2560 1
a2560 1
echo "configure:2441: checking for gethostname in -linet" >&5
d2568 1
a2568 1
#line 2449 "configure"
d2579 1
a2579 1
if { (eval echo configure:2460: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2608 1
a2608 1
echo "configure:2489: checking for socket" >&5
d2613 1
a2613 1
#line 2494 "configure"
d2636 1
a2636 1
if { (eval echo configure:2517: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2646 1
a2647 1
fi
d2659 1
a2659 1
echo "configure:2540: checking for socket in -linet" >&5
d2667 1
a2667 1
#line 2548 "configure"
d2678 1
a2678 1
if { (eval echo configure:2559: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2704 1
a2704 1
echo "configure:2585: checking for socket" >&5
d2709 1
a2709 1
#line 2590 "configure"
d2732 1
a2732 1
if { (eval echo configure:2613: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2742 1
a2743 1
fi
d2755 1
a2755 1
echo "configure:2636: checking for socket in -linet" >&5
d2763 1
a2763 1
#line 2644 "configure"
d2774 1
a2774 1
if { (eval echo configure:2655: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2800 1
a2800 1
echo "configure:2681: checking for socket" >&5
d2805 1
a2805 1
#line 2686 "configure"
d2828 1
a2828 1
if { (eval echo configure:2709: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2838 1
a2839 1
fi
d2851 1
a2851 1
echo "configure:2732: checking for socket in -linet" >&5
d2859 1
a2859 1
#line 2740 "configure"
d2870 1
a2870 1
if { (eval echo configure:2751: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2898 1
a2898 1
echo "configure:2779: checking for select" >&5
d2903 1
a2903 1
#line 2784 "configure"
d2926 1
a2926 1
if { (eval echo configure:2807: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2936 1
a2937 1
fi
d2949 1
a2949 1
echo "configure:2830: checking for select in -linet" >&5
d2957 1
a2957 1
#line 2838 "configure"
d2968 1
a2968 1
if { (eval echo configure:2849: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2994 1
a2994 1
echo "configure:2875: checking for select" >&5
d2999 1
a2999 1
#line 2880 "configure"
d3022 1
a3022 1
if { (eval echo configure:2903: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3032 1
a3033 1
fi
d3045 1
a3045 1
echo "configure:2926: checking for select in -linet" >&5
d3053 1
a3053 1
#line 2934 "configure"
d3064 1
a3064 1
if { (eval echo configure:2945: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3090 1
a3090 1
echo "configure:2971: checking for select" >&5
d3095 1
a3095 1
#line 2976 "configure"
d3118 1
a3118 1
if { (eval echo configure:2999: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3128 1
a3129 1
fi
d3141 1
a3141 1
echo "configure:3022: checking for select in -linet" >&5
d3149 1
a3149 1
#line 3030 "configure"
d3160 1
a3160 1
if { (eval echo configure:3041: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3188 1
a3188 1
echo "configure:3069: checking for getpseudotty" >&5
d3193 1
a3193 1
#line 3074 "configure"
d3216 1
a3216 1
if { (eval echo configure:3097: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3226 1
a3227 1
fi
d3239 1
a3239 1
echo "configure:3120: checking for getpseudotty in -lseq" >&5
d3247 1
a3247 1
#line 3128 "configure"
d3258 1
a3258 1
if { (eval echo configure:3139: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3291 1
a3291 1
echo "configure:3172: checking for getpseudotty" >&5
d3296 1
a3296 1
#line 3177 "configure"
d3319 1
a3319 1
if { (eval echo configure:3200: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3329 1
a3330 1
fi
d3342 1
a3342 1
echo "configure:3223: checking for getpseudotty in -lseq" >&5
d3350 1
a3350 1
#line 3231 "configure"
d3361 1
a3361 1
if { (eval echo configure:3242: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3394 1
a3394 1
echo "configure:3275: checking for getpseudotty" >&5
d3399 1
a3399 1
#line 3280 "configure"
d3422 1
a3422 1
if { (eval echo configure:3303: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3432 1
a3433 1
fi
d3445 1
a3445 1
echo "configure:3326: checking for getpseudotty in -lseq" >&5
d3453 1
a3453 1
#line 3334 "configure"
d3464 1
a3464 1
if { (eval echo configure:3345: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3500 1
a3500 1
echo "configure:3381: checking for openpty" >&5
d3505 1
a3505 1
#line 3386 "configure"
d3528 1
a3528 1
if { (eval echo configure:3409: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3538 1
a3539 1
fi
d3551 1
a3551 1
echo "configure:3432: checking for openpty in -lutil" >&5
d3559 1
a3559 1
#line 3440 "configure"
d3570 1
a3570 1
if { (eval echo configure:3451: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3605 1
a3605 1
echo "configure:3486: checking for openpty" >&5
d3610 1
a3610 1
#line 3491 "configure"
d3633 1
a3633 1
if { (eval echo configure:3514: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3643 1
a3644 1
fi
d3656 1
a3656 1
echo "configure:3537: checking for openpty in -lutil" >&5
d3664 1
a3664 1
#line 3545 "configure"
d3675 1
a3675 1
if { (eval echo configure:3556: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3707 1
a3707 1
echo "configure:3588: checking for openpty" >&5
d3712 1
a3712 1
#line 3593 "configure"
d3735 1
a3735 1
if { (eval echo configure:3616: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3745 1
a3746 1
fi
d3758 1
a3758 1
echo "configure:3639: checking for openpty in -lutil" >&5
d3766 1
a3766 1
#line 3647 "configure"
d3777 1
a3777 1
if { (eval echo configure:3658: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d3818 1
a3818 1
echo "configure:3699: checking for sys/sysmacros.h" >&5
d3823 1
a3823 1
#line 3704 "configure"
d3828 2
a3829 2
{ (eval echo configure:3709: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3854 1
a3854 1
echo "configure:3735: checking for stdlib.h" >&5
d3859 1
a3859 1
#line 3740 "configure"
d3864 2
a3865 2
{ (eval echo configure:3745: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3891 1
a3891 1
echo "configure:3772: checking for inttypes.h" >&5
d3896 1
a3896 1
#line 3777 "configure"
d3901 2
a3902 2
{ (eval echo configure:3782: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3931 1
a3931 1
echo "configure:3812: checking for varargs.h" >&5
d3936 1
a3936 1
#line 3817 "configure"
d3941 2
a3942 2
{ (eval echo configure:3822: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d3967 1
a3967 1
echo "configure:3848: checking for unistd.h" >&5
d3972 1
a3972 1
#line 3853 "configure"
d3977 2
a3978 2
{ (eval echo configure:3858: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4003 1
a4003 1
echo "configure:3884: checking for sys/stropts.h" >&5
d4008 1
a4008 1
#line 3889 "configure"
d4013 2
a4014 2
{ (eval echo configure:3894: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4039 1
a4039 1
echo "configure:3920: checking for sys/sysconfig.h" >&5
d4044 1
a4044 1
#line 3925 "configure"
d4049 2
a4050 2
{ (eval echo configure:3930: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4075 1
a4075 1
echo "configure:3956: checking for sys/fcntl.h" >&5
d4080 1
a4080 1
#line 3961 "configure"
d4085 2
a4086 2
{ (eval echo configure:3966: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4111 1
a4111 1
echo "configure:3992: checking for sys/select.h" >&5
d4116 1
a4116 1
#line 3997 "configure"
d4121 2
a4122 2
{ (eval echo configure:4002: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4147 1
a4147 1
echo "configure:4028: checking for sys/time.h" >&5
d4152 1
a4152 1
#line 4033 "configure"
d4157 2
a4158 2
{ (eval echo configure:4038: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4183 1
a4183 1
echo "configure:4064: checking for sys/ptem.h" >&5
d4188 1
a4188 1
#line 4069 "configure"
d4193 2
a4194 2
{ (eval echo configure:4074: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4219 1
a4219 1
echo "configure:4100: checking for sys/strredir.h" >&5
d4224 1
a4224 1
#line 4105 "configure"
d4229 2
a4230 2
{ (eval echo configure:4110: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4255 1
a4255 1
echo "configure:4136: checking for sys/strpty.h" >&5
d4260 1
a4260 1
#line 4141 "configure"
d4265 2
a4266 2
{ (eval echo configure:4146: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4292 1
a4292 1
echo "configure:4173: checking for sys/bsdtypes.h" >&5
d4300 1
a4300 1
echo "configure:4181: checking for $ac_hdr" >&5
d4305 1
a4305 1
#line 4186 "configure"
d4310 2
a4311 2
{ (eval echo configure:4191: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d4344 1
a4344 1
echo "configure:4225: checking for memmove" >&5
d4349 1
a4349 1
#line 4230 "configure"
d4372 1
a4372 1
if { (eval echo configure:4253: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d4382 1
a4383 1
fi
d4395 1
a4395 1
echo "configure:4276: checking for sysconf" >&5
d4400 1
a4400 1
#line 4281 "configure"
d4423 1
a4423 1
if { (eval echo configure:4304: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d4433 1
a4434 1
fi
d4446 1
a4446 1
echo "configure:4327: checking for strftime" >&5
d4451 1
a4451 1
#line 4332 "configure"
d4474 1
a4474 1
if { (eval echo configure:4355: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d4484 1
a4485 1
fi
d4497 1
a4497 1
echo "configure:4378: checking for strchr" >&5
d4502 1
a4502 1
#line 4383 "configure"
d4525 1
a4525 1
if { (eval echo configure:4406: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d4535 1
a4536 1
fi
d4548 1
a4548 1
echo "configure:4429: checking for timezone" >&5
d4553 1
a4553 1
#line 4434 "configure"
d4576 1
a4576 1
if { (eval echo configure:4457: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d4586 1
a4587 1
fi
d4603 1
a4603 1
echo "configure:4484: checking for memcpy" >&5
d4605 1
a4605 1
#line 4486 "configure"
d4615 1
a4615 1
if { (eval echo configure:4496: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
a4631 1

d4637 1
a4637 1
echo "configure:4519: checking if WNOHANG requires _POSIX_SOURCE" >&5
d4643 1
a4643 1
#line 4525 "configure"
d4655 2
a4656 2
{ (eval echo configure:4537: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d4675 1
a4675 1
echo "configure:4557: checking if any value exists for WNOHANG" >&5
d4682 1
a4682 1
#line 4564 "configure"
d4698 2
a4699 2
{ (eval echo configure:4580: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d4732 1
a4732 1
echo "configure:4614: checking mask type of select" >&5
d4746 1
a4746 1
echo "configure:4628: checking if signals need to be re-armed" >&5
d4752 1
a4752 1
#line 4634 "configure"
d4791 2
a4792 2
{ (eval echo configure:4673: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d4822 1
a4822 1
echo "configure:4704: checking if on Convex" >&5
d4841 1
a4841 1
echo "configure:4723: checking if on NeXT" >&5
d4852 1
a4852 1
echo "configure:4734: checking if on HP" >&5
d4862 1
a4862 1
echo "configure:4744: checking sane default stty arguments" >&5
d4880 1
a4880 1
echo "configure:4762: checking for HP style pty allocation" >&5
d4894 1
a4894 1
echo "configure:4776: checking for HP style pty trapping" >&5
d4896 1
a4896 1
#line 4778 "configure"
d4918 1
a4918 1
echo "configure:4800: checking for AIX new-style pty allocation" >&5
d4930 1
a4930 1
echo "configure:4812: checking for SGI old-style pty allocation" >&5
d4947 1
a4947 1
echo "configure:4829: checking for SCO style pty allocation" >&5
d4964 1
a4964 1
echo "configure:4846: checking for SVR4 style pty allocation" >&5
d4973 1
a4973 1
echo "configure:4855: checking for ptsname" >&5
d4978 1
a4978 1
#line 4860 "configure"
d5001 1
a5001 1
if { (eval echo configure:4883: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5011 1
a5012 1
fi
d5023 1
a5023 1
echo "configure:4905: checking for ptsname" >&5
d5028 1
a5028 1
#line 4910 "configure"
d5051 1
a5051 1
if { (eval echo configure:4933: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5061 1
a5062 1
fi
d5072 1
a5072 1
echo "configure:4954: checking for ptsname" >&5
d5077 1
a5077 1
#line 4959 "configure"
d5100 1
a5100 1
if { (eval echo configure:4982: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5110 1
a5111 1
fi
d5127 1
a5127 1
echo "configure:5009: checking for OSF/1 style pty allocation" >&5
d5141 1
a5141 1
echo "configure:5023: checking for tcgetattr" >&5
d5146 1
a5146 1
#line 5028 "configure"
d5169 1
a5169 1
if { (eval echo configure:5051: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5179 1
a5180 1
fi
d5189 1
a5189 1
echo "configure:5071: checking for tcsetattr" >&5
d5194 1
a5194 1
#line 5076 "configure"
d5217 1
a5217 1
if { (eval echo configure:5099: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5227 1
a5228 1
fi
d5249 1
a5249 1
echo "configure:5131: checking for struct sgttyb" >&5
d5255 1
a5255 1
#line 5137 "configure"
d5265 2
a5266 2
{ (eval echo configure:5147: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5294 1
a5294 1
echo "configure:5176: checking for struct termio" >&5
d5300 1
a5300 1
#line 5182 "configure"
d5309 2
a5310 2
{ (eval echo configure:5191: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5331 1
a5331 1
echo "configure:5213: checking for struct termios" >&5
d5337 1
a5337 1
#line 5219 "configure"
d5351 2
a5352 2
{ (eval echo configure:5233: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5373 1
a5373 1
echo "configure:5255: checking if TCGETS or TCGETA in termios.h" >&5
d5379 1
a5379 1
#line 5261 "configure"
d5395 2
a5396 2
{ (eval echo configure:5277: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5415 1
a5415 1
echo "configure:5297: checking if TIOCGWINSZ in termios.h" >&5
d5421 1
a5421 1
#line 5303 "configure"
d5437 2
a5438 2
{ (eval echo configure:5319: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5458 1
a5458 1
echo "configure:5340: checking for Cray-style ptys" >&5
d5465 1
a5465 1
#line 5347 "configure"
d5477 2
a5478 2
{ (eval echo configure:5359: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5502 1
a5502 1
echo "configure:5384: checking for select" >&5
d5507 1
a5507 1
#line 5389 "configure"
d5530 1
a5530 1
if { (eval echo configure:5412: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5540 1
a5541 1
fi
d5550 1
a5550 1
echo "configure:5432: checking for poll" >&5
d5555 1
a5555 1
#line 5437 "configure"
d5578 1
a5578 1
if { (eval echo configure:5460: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5588 1
a5589 1
fi
d5598 1
a5598 1
echo "configure:5480: checking event handling" >&5
d5620 1
a5620 1
echo "configure:5502: checking for $ac_func" >&5
d5625 1
a5625 1
#line 5507 "configure"
d5648 1
a5648 1
if { (eval echo configure:5530: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5658 1
a5659 1
fi
d5675 1
a5675 1
echo "configure:5557: checking for $ac_func" >&5
d5680 1
a5680 1
#line 5562 "configure"
d5703 1
a5703 1
if { (eval echo configure:5585: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5713 1
a5714 1
fi
d5732 1
a5732 1
echo "configure:5614: checking for SV-style timezone" >&5
d5738 1
a5738 1
#line 5620 "configure"
d5751 2
a5752 2
{ (eval echo configure:5633: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }
if test -s conftest && (./conftest; exit) 2>/dev/null; then
d5797 1
a5797 1
echo "configure:5679: checking for Tk private headers" >&5
d5863 1
a5863 1
echo "configure:5745: checking for tk.h" >&5
d5868 1
a5868 1
#line 5750 "configure"
d5873 2
a5874 2
{ (eval echo configure:5755: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d5972 1
a5972 1
echo "configure:5854: checking for long file names" >&5
d6020 8
a6027 2
EXP_LIB_SPEC="-L\${exec_prefix}/lib -lexpect${EXP_LIB_VERSION}"
EXP_UNSHARED_LIB_FILE=libexpect${EXP_LIB_VERSION}.a
d6030 1
a6030 1
echo "configure:5906: checking for type of library to build" >&5
d6033 1
a6033 1
#  EXP_SHARED_LIB_FILE=libexpect$EXP_LIB_VERSION$TCL_SHLIB_SUFFIX
a6045 5
# now broken out into EXP_AND_TCL_LIBS and EXP_AND_TK_LIBS.  Had to do this
# in order to avoid repeating lib specs to which some systems object.
EXP_AND_TCL_LIBS="$EXP_AND_TCL_LIBS $TCL_LD_SEARCH_FLAGS"
EXP_AND_TK_LIBS="$EXP_AND_TK_LIBS $TCL_LD_SEARCH_FLAGS"

d6052 1
a6052 1
	EXP_SHLIB_LD_LIBS=""
d6077 10
a6086 2
if test "$TCL_EXEC_PREFIX" != "$exec_prefix"; then
    LIB_RUNTIME_DIR="${LIB_RUNTIME_DIR}:${TCL_EXEC_PREFIX}"
d6089 2
d6095 2
a6096 2
# The statement below is very tricky!  It actually *evaluates* the
# string in TCL_LD_SEARCH_FLAGS, which causes a substitution of the
d6099 8
a6106 1
eval "EXP_CC_SEARCH_FLAGS=\"$TCL_LD_SEARCH_FLAGS\""
d6108 6
d6189 1
a6189 1
    echo "$CONFIG_STATUS generated by autoconf version 2.11"
d6209 1
d6213 1
d6250 1
d6259 1
d6266 1
d6346 1
a6346 1
  # Support "outfile[:infile]", defaulting infile="outfile.in".
d6348 1
a6348 1
  *:*) ac_file_in=`echo "$ac_file"|sed 's%.*:%%'`
d6390 2
d6397 1
a6397 1
" $ac_given_srcdir/$ac_file_in | eval "$ac_sed_cmds" > $ac_file
d6420 1
a6420 1
if test -z "$CONFIG_HEADERS"; then
d6428 1
a6428 1
  # Support "outfile[:infile]", defaulting infile="outfile.in".
d6430 1
a6430 1
  *:*) ac_file_in=`echo "$ac_file"|sed 's%.*:%%'`
d6438 2
a6439 1
  cp $ac_given_srcdir/$ac_file_in conftest.in
d6508 2
d6511 2
@


5.28.1.1
log
@Import of Expect v. 5.28.1
@
text
@@
