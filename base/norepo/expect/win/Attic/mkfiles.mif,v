head	1.1;
access;
symbols
	telco-tec-win32-branch:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2001.09.28.02.17.07;	author davygrvy;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2001.09.28.02.17.07;	author davygrvy;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2001.10.11.02.41.47;	author davygrvy;	state Exp;
branches;
next	1.1.2.3;

1.1.2.3
date	2001.10.11.13.29.43;	author davygrvy;	state Exp;
branches;
next	1.1.2.4;

1.1.2.4
date	2001.10.14.22.15.28;	author davygrvy;	state Exp;
branches;
next	1.1.2.5;

1.1.2.5
date	2001.10.28.09.06.25;	author davygrvy;	state Exp;
branches;
next	1.1.2.6;

1.1.2.6
date	2001.10.30.13.00.46;	author davygrvy;	state Exp;
branches;
next	1.1.2.7;

1.1.2.7
date	2001.11.15.07.13.08;	author davygrvy;	state dead;
branches;
next	;


desc
@@


1.1
log
@file mkfiles.mif was initially added on branch telco-tec-win32-branch.
@
text
@@


1.1.2.1
log
@Common list of target object files for all make implimentations.
@
text
@a0 28
EXP_MAJOR   = 5
EXP_MINOR   = 32

EXPLIBBASE  = $(OUT_DIR)\expect$(EXP_MAJOR)$(EXP_MINOR)$(STCX)$(DBGX)
EXPLIB	    = $(EXPLIBBASE).$(OUTEXT)

EXPLIB_OBJs = \
	$(TMP_DIR)\expCommand.obj \
	$(TMP_DIR)\expWinCommand.obj \
	$(TMP_DIR)\expWinLog.obj \
	$(TMP_DIR)\expWinProcess.obj \
	$(TMP_DIR)\expWinTty.obj \
	$(TMP_DIR)\exp_log.obj \
	$(TMP_DIR)\exp_glob.obj \
	$(TMP_DIR)\Dbg.obj \
	$(TMP_DIR)\exp_closetcl.obj \
	$(TMP_DIR)\exp_regexp.obj \
	$(TMP_DIR)\exp_printify.obj \
	$(TMP_DIR)\getopt.obj \
	$(TMP_DIR)\exp_main_sub.obj \
	$(TMP_DIR)\exp_inter.obj \
	$(TMP_DIR)\expect.obj \
	$(TMP_DIR)\exp_event.obj \
	$(TMP_DIR)\exp_strf.obj \
	$(TMP_DIR)\expSpawnChan.obj \
	$(TMP_DIR)\expWinSpawnChan.obj \
	$(TMP_DIR)\expChan.obj \
	$(TMP_DIR)\expTrap.obj
@


1.1.2.2
log
@slavedrv.exe is building..  need to add Stubs startup code.
@
text
@d5 1
a5 3
EXPLIB	    = "$(EXPLIBBASE).$(OUTEXT)"

SLAVEDRV    = "$(OUT_DIR)\slavedrv.exe"
d9 16
a24 17
#	$(TMP_DIR)\exp_command.obj \
#	$(TMP_DIR)\expWinCommand.obj \
#	$(TMP_DIR)\expWinLog.obj \
#	$(TMP_DIR)\expWinProcess.obj \
#	$(TMP_DIR)\expWinTty.obj \
#	$(TMP_DIR)\exp_log.obj \
#	$(TMP_DIR)\exp_glob.obj \
#	$(TMP_DIR)\Dbg.obj \
#	$(TMP_DIR)\exp_closetcl.obj \
#	$(TMP_DIR)\exp_regexp.obj \
#	$(TMP_DIR)\exp_printify.obj \
#	$(TMP_DIR)\getopt.obj \
#	$(TMP_DIR)\exp_main_sub.obj \
#	$(TMP_DIR)\exp_inter.obj \
#	$(TMP_DIR)\expect.obj \
#	$(TMP_DIR)\exp_event.obj \
#	$(TMP_DIR)\exp_strf.obj \
d26 3
a28 12
#	$(TMP_DIR)\expWinSpawnChan.obj \
#	$(TMP_DIR)\expChan.obj \
#	$(TMP_DIR)\expTrap.obj

SLAVEDRV_OBJs = \
#	$(TMP_DIR)\expCommand.obj \
	$(TMP_DIR)\expWinSlaveDrv.obj \
	$(TMP_DIR)\expWinSlaveKey.obj \
	$(TMP_DIR)\expWinSlaveDbg.obj \
#	$(TMP_DIR)\expWinSlaveDbgW.obj \
	$(TMP_DIR)\expWinProcess.obj \
	$(TMP_DIR)\expWinLog.obj
@


1.1.2.3
log
@Added Stubs dynloading stuff.  slavedrv.exe appears to be working thus far,
@
text
@d34 1
d38 1
a38 1
	$(TMP_DIR)\expWinDynloadTclStubs.obj \
@


1.1.2.4
log
@Changed the build files to be run from the /win directory instead
of the top-root.  This will help get MS project .dsp files working.
@
text
@d39 1
a39 5
	$(TMP_DIR)\expWinLog.obj \
	$(TMP_DIR)\spawndrv.res


$(TMP_DIR)\spawndrv.res : $(TMP_DIR)\spawndrvmc.rc@


1.1.2.5
log
@build instruction changes
@
text
@d10 1
a10 1
#	$(TMP_DIR)\expCommand.obj \
d26 3
a28 3
	$(TMP_DIR)\exp_event.obj \
	$(TMP_DIR)\exp_strf.obj \
#	$(TMP_DIR)\expSpawnChan.obj \
d31 1
a31 3
#	$(TMP_DIR)\expTrap.obj \
#	$(TMP_DIR)\exp_clib.obj

@


1.1.2.6
log
@added a 'clean' target.
@
text
@d1 5
a5 23
#==============================================================================
# mkfiles.mif --
#
#  Generic project descriptions for building Expect under Windows.  No tool
#  specific syntax is allowed in here.
#
#==============================================================================
# RCS: @@(#) $Id: mkconfig.mif,v 1.1.2.4 2001/10/29 02:46:16 davygrvy Exp $
#==============================================================================

#INSTALLDIR

## Change macros in exp.h to match.
EXP_MAJOR   = 6
EXP_MINOR   = 0
EXP_DOTVERSION	= $(EXP_MAJOR).$(EXP_MINOR)

LIB_INSTALL_DIR		= $(INSTALLDIR)\lib
DOC_INSTALL_DIR		= $(INSTALLDIR)\doc
##BIN_INSTALL_DIR		= $(INSTALLDIR)\bin   <- not used.
SCRIPT_INSTALL_DIR	= $(INSTALLDIR)\lib\expect$(EXP_DOTVERSION)
EXAMPLE_INSTALL_DIR	= $(INSTALLDIR)\lib\expect$(EXP_DOTVERSION)\example
INCLUDE_INSTALL_DIR	= $(INSTALLDIR)\include
a6 2
EXPLIBNAME  = expect$(EXP_DOTVERSION)$(STCX)$(DBGX).$(OUTEXT)
EXPLIB	    = "$(OUT_DIR)\$(EXPLIBNAME)"
a7 2
EXPHLPNAME  = expect$(EXP_DOTVERSION).hlp
EXPHLP	    = "$(OUT_DIR)\$(EXPHLPNAME)"
d11 1
d21 1
a21 1
	$(TMP_DIR)\exp_printify.obj \
d26 2
a27 2
#	$(TMP_DIR)\exp_event.obj \
#	$(TMP_DIR)\exp_strf.obj \
d31 2
a32 7
	$(TMP_DIR)\expTrap.obj \
#	$(TMP_DIR)\exp_clib.obj \
	$(TMP_DIR)\expStubInit.obj \
!if !$(STATIC_BUILD)
	$(TMP_DIR)\expect.res \
!endif
	$(TMP_DIR)\dllEntryPoint.obj
d45 1
a45 1
$(TMP_DIR)\spawndrv.res : $(TMP_DIR)\spawndrvmc.rc
@


1.1.2.7
log
@old build files removed.
@
text
@d8 1
a8 1
# RCS: @@(#) $Id: mkfiles.mif,v 1.1.2.6 2001/10/30 13:00:46 davygrvy Exp $
@


