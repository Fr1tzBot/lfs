head	1.1;
access;
symbols
	win32-jump-point-1:1.1.4.9
	telco-tec-win32-take2-branch:1.1.0.4
	telco-tec-win32-branch:1.1.0.2;
locks; strict;
comment	@ * @;


1.1
date	2001.10.28.01.02.39;	author davygrvy;	state dead;
branches
	1.1.2.1
	1.1.4.1;
next	;

1.1.2.1
date	2001.10.28.01.02.39;	author davygrvy;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2001.10.28.01.46.31;	author davygrvy;	state Exp;
branches;
next	1.1.2.3;

1.1.2.3
date	2001.10.28.08.56.51;	author davygrvy;	state Exp;
branches;
next	1.1.2.4;

1.1.2.4
date	2001.10.29.03.21.09;	author davygrvy;	state Exp;
branches;
next	1.1.2.5;

1.1.2.5
date	2001.10.29.06.40.29;	author davygrvy;	state Exp;
branches;
next	1.1.2.6;

1.1.2.6
date	2001.11.07.10.06.30;	author davygrvy;	state Exp;
branches;
next	;

1.1.4.1
date	2002.02.10.02.58.52;	author davygrvy;	state Exp;
branches;
next	1.1.4.2;

1.1.4.2
date	2002.02.10.08.40.54;	author davygrvy;	state Exp;
branches;
next	1.1.4.3;

1.1.4.3
date	2002.02.10.09.03.41;	author davygrvy;	state Exp;
branches;
next	1.1.4.4;

1.1.4.4
date	2002.02.10.10.17.04;	author davygrvy;	state Exp;
branches;
next	1.1.4.5;

1.1.4.5
date	2002.02.10.12.04.21;	author davygrvy;	state Exp;
branches;
next	1.1.4.6;

1.1.4.6
date	2002.02.10.13.40.47;	author davygrvy;	state Exp;
branches;
next	1.1.4.7;

1.1.4.7
date	2002.02.11.02.19.53;	author davygrvy;	state Exp;
branches;
next	1.1.4.8;

1.1.4.8
date	2002.03.06.02.18.20;	author davygrvy;	state Exp;
branches;
next	1.1.4.9;

1.1.4.9
date	2002.03.07.02.49.36;	author davygrvy;	state Exp;
branches;
next	1.1.4.10;

1.1.4.10
date	2002.06.18.23.13.42;	author davygrvy;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file exp.h was initially added on branch telco-tec-win32-branch.
@
text
@@


1.1.4.1
log
@moved all header files over to a more core style with the beginnings of a
Stubs table.  This work is far from complete.
@
text
@a0 236
/* ----------------------------------------------------------------------------
 * exp.h --
 *
 *	Public include file for using the Expect extension.
 * 
 * ----------------------------------------------------------------------------
 *
 * Written by: Don Libes, libes@@cme.nist.gov, NIST, 12/3/90
 * 
 * Design and implementation of this program was paid for by U.S. tax
 * dollars.  Therefore it is public domain.  However, the author and NIST
 * would appreciate credit if this program or parts of it are used.
 * 
 * Copyright (c) 1997 Mitel Corporation
 *	work by Gordon Chaffee <chaffee@@bmrc.berkeley.edu> for the WinNT port.
 *
 * Copyright (c) 2002 Telindustrie, LLC
 *	work by David Gravereaux <davygrvy@@pobox.com> for any Win32 OS.
 *
 * ----------------------------------------------------------------------------
 * URLs:    http://expect.nist.gov/
 *	    http://expect.sf.net/
 *	    http://bmrc.berkeley.edu/people/chaffee/expectnt.html
 * ----------------------------------------------------------------------------
 * RCS: @@(#) $Id: exp.h,v 1.1.2.6 2001/11/07 10:06:30 davygrvy Exp $
 * ----------------------------------------------------------------------------
 */

#ifndef _EXP
#define _EXP

#ifndef _TCL
#   include "tcl.h"
#endif

/*
 *  Version stuff.
 */

#define EXP_MAJOR_VERSION   6
#define EXP_MINOR_VERSION   0
#define EXP_RELEASE_LEVEL   TCL_ALPHA_RELEASE
#define EXP_RELEASE_SERIAL  0

#define EXP_VERSION	   STRINGIFY(JOIN(EXP_MAJOR_VERSION,JOIN(.,EXP_MINOR_VERSION)))

#if	EXP_RELEASE_LEVEL == TCL_ALPHA_RELEASE
#	define EXP_PATCH_LEVEL \
		STRINGIFY( \
			JOIN(JOIN(EXP_MAJOR_VERSION, \
			JOIN(., EXP_MINOR_VERSION)), \
			JOIN(a, EXP_RELEASE_SERIAL)))

#elif	EXP_RELEASE_LEVEL == TCL_BETA_RELEASE
#	define EXP_PATCH_LEVEL \
		STRINGIFY( \
			JOIN(JOIN(EXP_MAJOR_VERSION, \
			JOIN(., EXP_MINOR_VERSION)), \
			JOIN(b, EXP_RELEASE_SERIAL)))

#elif	EXP_RELEASE_LEVEL == TCL_FINAL_RELEASE
#	define EXP_PATCH_LEVEL \
		STRINGIFY( \
			JOIN(JOIN(EXP_MAJOR_VERSION, \
			JOIN(., EXP_MINOR_VERSION)), \
			JOIN(., EXP_RELEASE_SERIAL)))

#else
#	include "bad/release/level/used"
#endif

/*
 * The resource compiler defines this by default.  Skip the rest of this
 * file when included from an rc script.
 */
#ifndef RC_INVOKED


/* according to Karl Vogel, time.h is insufficient on Pyramid */
/* the following is recommended by autoconf */

#ifdef TIME_WITH_SYS_TIME
# include <sys/time.h>
# include <time.h>
#else
# ifdef HAVE_SYS_TIME_H
#  include <sys/time.h>
# else
#  include <time.h>
# endif
#endif



#undef TCL_STORAGE_CLASS
#if defined(BUILD_spawndriver)
#   define TCL_STORAGE_CLASS
#elif defined(BUILD_exp)
#   define TCL_STORAGE_CLASS DLLEXPORT
#else
#   ifdef USE_EXP_STUBS
#	define TCL_STORAGE_CLASS
#   else
#	define TCL_STORAGE_CLASS DLLIMPORT
#   endif
#endif


/*
 * Fix the Borland bug that's in Tcl.
 */
#ifndef TCL_EXTERN
#   undef DLLIMPORT
#   undef DLLEXPORT
#   if defined(__WIN32__) && (defined(_MSC_VER) || (defined(__GNUC__) && defined(__declspec))) || (defined(MAC_TCL) && FUNCTION_DECLSPEC)
#	define DLLIMPORT __declspec(dllimport)
#	define DLLEXPORT __declspec(dllexport)
#   elif defined(__BORLANDC__)
#	define DLLIMPORT __import
#	define DLLEXPORT __export
#   else
#	define DLLIMPORT
#	define DLLEXPORT
#   endif
    /*
     * Make sure name mangling won't happen when the c++ language extensions
     * are used.
     */
#   ifdef __cplusplus
#	define TCL_CPP "C"
#   else
#	define TCL_CPP
#   endif
    /*
     * Borland requires the attributes be placed after the return type.
     */
#   ifdef __BORLANDC__
#	define TCL_EXTERN(rtnType) extern TCL_CPP rtnType TCL_STORAGE_CLASS
#   else
#	define TCL_EXTERN(rtnType) extern TCL_CPP TCL_STORAGE_CLASS rtnType
#   endif
#endif

#define SCRIPTDIR	"example/"
#define EXECSCRIPTDIR	"example/"


/* common return codes for Expect functions */
/* The library actually only uses TIMEOUT and EOF */
#define EXP_ABEOF	-1	/* abnormal eof in Expect */
				/* when in library, this define is not used. */
				/* Instead "-1" is used literally in the */
				/* usual sense to check errors in system */
				/* calls */
#define EXP_TIMEOUT	-2
#define EXP_TCLERROR	-3
#define EXP_FULLBUFFER	-5
#define EXP_MATCH	-6
#define EXP_NOMATCH	-7
#define EXP_CANTMATCH	EXP_NOMATCH
#define EXP_CANMATCH	-8
#define EXP_DATA_NEW	-9	/* if select says there is new data */
#define EXP_DATA_OLD	-10	/* if we already read data in another cmd */
#define EXP_EOF		-11
#define EXP_RECONFIGURE	-12	/* changes to indirect spawn id lists */
				/* require us to reconfigure things */

/* in the unlikely event that a signal handler forces us to return this */
/* through expect's read() routine, we temporarily convert it to this. */
#define EXP_TCLRET	-20
#define EXP_TCLCNT	-21
#define EXP_TCLCNTTIMER	-22
#define EXP_TCLBRK	-23
#define EXP_TCLCNTEXP	-24
#define EXP_TCLRETTCL	-25

/* yet more TCL return codes */
/* Tcl does not safely provide a way to define the values of these, so */
/* use ridiculously different numbers for safety */
#define EXP_CONTINUE		-101	/* continue expect command */
					/* and restart timer */
#define EXP_CONTINUE_TIMER	-102	/* continue expect command */
					/* and continue timer */
#define EXP_TCL_RETURN		-103	/* converted by interact */
					/* and interpeter from */
					/* inter_return into */
					/* TCL_RETURN*/

#define EXP_TIME_INFINITY	-1
#define EXP_SPAWN_ID_BAD	-1

/* from expect_tcl.h */
//TCL_EXTERN(int)		exp_getpidproc _ANSI_ARGS_((void));

extern char *exp_onexit_action;
extern Tcl_Channel exp_debugfile;
extern Tcl_Channel exp_logfile;
extern int exp_logfile_all;
extern int exp_loguser;
extern int exp_is_debugging; /* useful to know for avoid debug calls */

			/* app-specific exit handler */
//TCL_EXTERN(void)	*exp_app_exit _ANSI_ARGS_((Tcl_Interp *));

/*
 * Include the public function declarations that are accessible via
 * the stubs table.
 */

#include "expDecls.h"

/*
 * Include platform specific public function declarations that are
 * accessible via the stubs table.
 */

#include "expPlatDecls.h"

/*
 * Exp_InitStubs is used by apps/extensions that want to link
 * against the expect stubs library.  If we are not using stubs,
 * then this won't be declared.
 */

#ifdef USE_EXP_STUBS
extern TCL_CPP
CONST char *Exp_InitStubs _ANSI_ARGS_((Tcl_Interp *interp, char *version,
		int exact));
#endif


#undef TCL_STORAGE_CLASS
#define TCL_STORAGE_CLASS DLLIMPORT

#endif /* RC_INVOKED */
#endif /* _EXP */
@


1.1.4.2
log
@small lint
@
text
@d25 1
a25 1
 * RCS: @@(#) $Id: exp.h,v 1.1.4.1 2002/02/10 02:58:52 davygrvy Exp $
d83 2
a84 2
#   include <sys/time.h>
#   include <time.h>
d86 5
a90 5
#   ifdef HAVE_SYS_TIME_H
#	include <sys/time.h>
#   else
#	include <time.h>
#   endif
@


1.1.4.3
log
@fixed some preprocessor logic that was in error.
@
text
@d25 1
a25 1
 * RCS: @@(#) $Id: exp.h,v 1.1.4.2 2002/02/10 08:40:54 davygrvy Exp $
d115 1
a115 3
#   if (defined(__WIN32__) &&  (defined(_MSC_VER) || (__BORLANDC__ >= 0x0550) || \
	    (defined(__GNUC__) && defined(__DECLSPEC_SUPPORTED)))) || \
	    (defined(MAC_TCL) && FUNCTION_DECLSPEC)
a118 1
#	define OLD_BORLAND 1
d135 1
a135 1
     * Pre 5.5 Borland requires the attributes be placed after the return type.
d137 1
a137 1
#   if OLD_BORLAND
@


1.1.4.4
log
@More rounds of edits getting the new Stubs table more towards perfection.
@
text
@d25 1
a25 1
 * RCS: @@(#) $Id: exp.h,v 1.1.4.3 2002/02/10 09:03:41 davygrvy Exp $
d163 2
a164 2
/*#define EXP_CANTMATCH	EXP_NOMATCH
#define EXP_CANMATCH	-8*/
d195 12
@


1.1.4.5
log
@All file comments have the same form.
@
text
@d17 1
a17 1
 * Copyright (c) 2001-2002 Telindustrie, LLC
d25 1
a25 1
 * RCS: @@(#) $Id: exp.h,v 1.1.4.4 2002/02/10 10:17:04 davygrvy Exp $
@


1.1.4.6
log
@More modifications have been done to support providing a Stubs table.
This isn't complete, but close.
@
text
@d25 1
a25 1
 * RCS: @@(#) $Id: exp.h,v 1.1.4.5 2002/02/10 12:04:21 davygrvy Exp $
d78 3
@


1.1.4.7
log
@small changes for Stubs
@
text
@d25 1
a25 1
 * RCS: @@(#) $Id: exp.h,v 1.1.4.6 2002/02/10 13:40:47 davygrvy Exp $
d73 1
a73 1
 * The windows resource compiler defines this by default.  Skip the rest of this
d78 1
d89 2
@


1.1.4.8
log
@small changes that are minor.
@
text
@d25 1
a25 1
 * RCS: @@(#) $Id: exp.h,v 1.1.4.7 2002/02/11 02:19:53 davygrvy Exp $
a31 1

d78 10
d103 3
a105 3
/* BEGIN -- Tcl header file bugs */

/* Fix the Borland bug in tcl.h */
d109 3
a111 3
#   if (defined(__WIN32__) &&  (defined(_MSC_VER) || (__BORLANDC__ >= 0x0550) \
	    || (defined(__GNUC__) && defined(__DECLSPEC_SUPPORTED)))) \
	    || (defined(MAC_TCL) && FUNCTION_DECLSPEC)
d122 4
a125 1
    /* Avoid name mangling. */
d131 3
a133 1
    /* Pre 5.5 Borland requires the attributes be placed after the return type. */
a139 14


/* needed by some exports */
#ifdef TIME_WITH_SYS_TIME
#   include <sys/time.h>
#   include <time.h>
#else
#   ifdef HAVE_SYS_TIME_H
#	include <sys/time.h>
#   else
#	include <time.h>
#   endif
#endif

@


1.1.4.9
log
@changed some win protos.
@
text
@d25 1
a25 1
 * RCS: @@(#) $Id: exp.h,v 1.1.4.8 2002/03/06 02:18:20 davygrvy Exp $
d93 2
@


1.1.4.10
log
@these changes perfect the debugger code under Win98 and have been sitting in my workspace for quite some time now.
@
text
@d25 1
a25 1
 * RCS: @@(#) $Id: exp.h,v 1.1.4.9 2002/03/07 02:49:36 davygrvy Exp $
d70 1
a70 1
#	error bad release level used.
d98 1
a98 2
#   if (defined(__WIN32__) &&  \
		(defined(_MSC_VER) || (__BORLANDC__ >= 0x0550) \
a103 1
	/* Pre 5.5 Borland */
a107 2
	/* Systems that don't support keywords for exporting/importing
	 * functions from dynamic libraries. */
d111 1
a111 1
    /* Avoid C++ name mangling. */
d117 1
a117 2
    /* Pre 5.5 Borland requires the attributes be placed after the return
     * type. */
d119 1
a119 2
#	define TCL_EXTERN(rtnType) \
	    extern TCL_CPP rtnType TCL_STORAGE_CLASS
d121 1
a121 2
#	define TCL_EXTERN(rtnType) \
	    extern TCL_CPP TCL_STORAGE_CLASS rtnType
@


1.1.2.1
log
@reworking the header files for a more core style and structure.
@
text
@a0 140
/*
 * exp.h --
 *
 *	Public include file for using the Expect extension.
 * 
 * Written by: Don Libes, libes@@cme.nist.gov, NIST, 12/3/90
 * 
 * Design and implementation of this program was paid for by U.S. tax
 * dollars.  Therefore it is public domain.  However, the author and NIST
 * would appreciate credit if this program or parts of it are used.
 * 
 * Modified in October, 2001 by David Gravereaux for windows.
 *
 * RCS: @@(#) $Id: tclInt.h,v 1.68 2001/09/28 01:21:53 dgp Exp $
 */

#ifndef _EXP_H__
#define _EXP_H__

#define EXP_MAJOR_VERSION   6
#define EXP_MINOR_VERSION   0
#define EXP_RELEASE_LEVEL   TCL_ALPHA_RELEASE
#define EXP_RELEASE_SERIAL  1

#define EXP_VERSION	   STRINGIFY(JOIN(EXP_MAJOR_VERSION,JOIN(.,EXP_MINOR_VERSION)))

#if	EXP_RELEASE_LEVEL == TCL_ALPHA_RELEASE
#	define EXP_PATCH_LEVEL \
		STRINGIFY( \
			JOIN(JOIN(EXP_MAJOR_VERSION, \
			JOIN(., EXP_MINOR_VERSION)), \
			JOIN(a, EXP_RELEASE_SERIAL)))

#elif	EXP_RELEASE_LEVEL == TCL_BETA_RELEASE
#	define EXP_PATCH_LEVEL \
		STRINGIFY( \
			JOIN(JOIN(EXP_MAJOR_VERSION, \
			JOIN(., EXP_MINOR_VERSION)), \
			JOIN(b, EXP_RELEASE_SERIAL)))

#elif	EXP_RELEASE_LEVEL == TCL_FINAL_RELEASE
#	define EXP_PATCH_LEVEL \
		STRINGIFY( \
			JOIN(JOIN(EXP_MAJOR_VERSION, \
			JOIN(., EXP_MINOR_VERSION)), \
			JOIN(., EXP_RELEASE_SERIAL)))

#else
#	error "bad release level"
#endif

/*
 * The resource compiler defines this by default.  Skip the rest of this
 * file when included from an rc script.
 */
#ifndef RC_INVOKED


#undef TCL_STORAGE_CLASS
#ifdef BUILD_exp
#   define TCL_STORAGE_CLASS DLLEXPORT
#else
#   ifdef USE_EXP_STUBS
#	define TCL_STORAGE_CLASS
#   else
#	define TCL_STORAGE_CLASS DLLIMPORT
#   endif
#endif


/*
 * Fix the Borland bug that's been in tcl.h since when dinosaurs roamed the
 * earth.
 */
#ifndef TCL_EXTERN
#   undef DLLIMPORT
#   undef DLLEXPORT
#   if defined(__WIN32__) && (defined(_MSC_VER) || (defined(__GNUC__) && defined(__declspec)))
#	define DLLIMPORT __declspec(dllimport)
#	define DLLEXPORT __declspec(dllexport)
#   elif defined(__BORLANDC__)
#	define DLLIMPORT __import
#	define DLLEXPORT __export
#   else
#	define DLLIMPORT
#	define DLLEXPORT
#   endif
    /*
     * Make sure name mangling won't happen when the c++ language is used.
     */
#   ifdef __cplusplus
#	define TCL_CPP "C"
#   else
#	define TCL_CPP
#   endif
    /*
     * Borland requires the attributes be placed after the return type.
     */
#   ifdef __BORLANDC__
#	define TCL_EXTERN(rtnType) extern TCL_CPP rtnType TCL_STORAGE_CLASS
#   else
#	define TCL_EXTERN(rtnType) extern TCL_CPP TCL_STORAGE_CLASS rtnType
#   endif
#endif




/*
 * Include the public function declarations that are accessible via
 * the stubs table.
 */

#include "expDecls.h"


/*
 * Exp_InitStubs is used by extensions that can be linked
 * against the exp stubs library.  If we are not using stubs,
 * then this won't be declared.
 */

#ifdef USE_EXP_STUBS

#ifdef __cplusplus
extern "C"
#endif
CONST char *Exp_InitStubs _ANSI_ARGS_((Tcl_Interp *interp,
			    char *version, int exact));
#endif

/*
 * end of header
 * reset TCL_STORAGE_CLASS to DLLIMPORT.
 */
#undef TCL_STORAGE_CLASS
#define TCL_STORAGE_CLASS DLLIMPORT

#endif /* RC_INVOKED */
#endif /* _EXP_H__ */@


1.1.2.2
log
@reworking the header files for a more core style and structure.
@
text
@d14 1
a14 1
 * RCS: @@(#) $Id: exp.h,v 1.1.2.1 2001/10/28 01:02:39 davygrvy Exp $
d72 1
a72 1
 * Fix the Borland bug that's been in Tcl since when dinosaurs roamed the
@


1.1.2.3
log
@reworking the header files for a more core style and structure.
@
text
@d14 1
a14 1
 * RCS: @@(#) $Id: exp.h,v 1.1.2.2 2001/10/28 01:46:31 davygrvy Exp $
d17 2
a18 10
#ifndef _EXP
#define _EXP

#ifndef _TCL
#   include "tcl.h"
#endif

/*
 *  Version stuff.
 */
d49 1
a49 1
#	include "bad/release/level/used"
d89 1
a89 2
     * Make sure name mangling won't happen when the c++ language extensions
     * are used.
a106 73
/* common return codes for Expect functions */
/* The library actually only uses TIMEOUT and EOF */
#define EXP_ABEOF	-1	/* abnormal eof in Expect */
				/* when in library, this define is not used. */
				/* Instead "-1" is used literally in the */
				/* usual sense to check errors in system */
				/* calls */
#define EXP_TIMEOUT	-2
#define EXP_TCLERROR	-3
#define EXP_FULLBUFFER	-5
#define EXP_MATCH	-6
#define EXP_NOMATCH	-7
#define EXP_CANTMATCH	EXP_NOMATCH
#define EXP_CANMATCH	-8
#define EXP_DATA_NEW	-9	/* if select says there is new data */
#define EXP_DATA_OLD	-10	/* if we already read data in another cmd */
#define EXP_EOF		-11
#define EXP_RECONFIGURE	-12	/* changes to indirect spawn id lists */
				/* require us to reconfigure things */

/* in the unlikely event that a signal handler forces us to return this */
/* through expect's read() routine, we temporarily convert it to this. */
#define EXP_TCLRET	-20
#define EXP_TCLCNT	-21
#define EXP_TCLCNTTIMER	-22
#define EXP_TCLBRK	-23
#define EXP_TCLCNTEXP	-24
#define EXP_TCLRETTCL	-25

/* yet more TCL return codes */
/* Tcl does not safely provide a way to define the values of these, so */
/* use ridiculously different numbers for safety */
#define EXP_CONTINUE		-101	/* continue expect command */
					/* and restart timer */
#define EXP_CONTINUE_TIMER	-102	/* continue expect command */
					/* and continue timer */
#define EXP_TCL_RETURN		-103	/* converted by interact */
					/* and interpeter from */
					/* inter_return into */
					/* TCL_RETURN*/


/* Protos for exp_win.c, not yet move to the Stubs table. */
TCL_EXTERN(int)	    exp_window_size_set	    _ANSI_ARGS_((int fd));
TCL_EXTERN(int)	    exp_window_size_get	    _ANSI_ARGS_((int fd));
TCL_EXTERN(void)    exp_win_rows_set	    _ANSI_ARGS_((char *rows));
TCL_EXTERN(void)    exp_win_rows_get	    _ANSI_ARGS_((char *rows));
TCL_EXTERN(void)    exp_win_columns_set	    _ANSI_ARGS_((char *columns));
TCL_EXTERN(void)    exp_win_columns_get	    _ANSI_ARGS_((char *columns));
TCL_EXTERN(int)	    exp_win2_size_get	    _ANSI_ARGS_((int fd));
TCL_EXTERN(int)	    exp_win2_size_set	    _ANSI_ARGS_((int fd));
TCL_EXTERN(void)    exp_win2_rows_set	    _ANSI_ARGS_((int fd, char *rows));
TCL_EXTERN(void)    exp_win2_rows_get	    _ANSI_ARGS_((int fd, char *rows));
TCL_EXTERN(void)    exp_win2_columns_set    _ANSI_ARGS_((int fd, char *columns));
TCL_EXTERN(void)    exp_win2_columns_get    _ANSI_ARGS_((int fd, char *columns));

/* from expect_tcl.h */
TCL_EXTERN(int)	Expect_Init _ANSI_ARGS_((Tcl_Interp *));	/* for Tcl_AppInit apps */
TCL_EXTERN(void)	exp_parse_argv _ANSI_ARGS_((Tcl_Interp *,int argc,char **argv));
TCL_EXTERN(int)	exp_interpreter _ANSI_ARGS_((Tcl_Interp *,Tcl_Obj *));
TCL_EXTERN(int)	exp_interpret_cmdfile _ANSI_ARGS_((Tcl_Interp *,FILE *));
TCL_EXTERN(int)	exp_interpret_cmdfilename _ANSI_ARGS_((Tcl_Interp *,char *));
TCL_EXTERN(void)	exp_interpret_rcfiles _ANSI_ARGS_((Tcl_Interp *,int my_rc,int sys_rc));

TCL_EXTERN(char *)	exp_cook _ANSI_ARGS_((char *s,int *len));
TCL_EXTERN(void)	expCloseOnExec _ANSI_ARGS_((int));

			/* app-specific exit handler */
//TCL_EXTERN(void)	*exp_app_exit _ANSI_ARGS_((Tcl_Interp *));
//TCL_EXTERN(void)	exp_exit_handlers _ANSI_ARGS_((ClientData));
TCL_EXTERN(void)	exp_error _ANSI_ARGS_(TCL_VARARGS(Tcl_Interp *,interp));
TCL_EXTERN(int)		exp_getpidproc _ANSI_ARGS_((void));

d118 2
a119 2
 * Exp_InitStubs is used by apps/extensions that want to link
 * against the expect stubs library.  If we are not using stubs,
d124 6
a129 3
extern TCL_CPP
CONST char *Exp_InitStubs _ANSI_ARGS_((Tcl_Interp *interp, char *version,
		int exact));
d132 4
a135 1

d140 1
a140 1
#endif /* _EXP */@


1.1.2.4
log
@needed an <eol> at the end of the file for the resource compiler.
@
text
@d14 1
a14 1
 * RCS: @@(#) $Id: exp.h,v 1.1.2.3 2001/10/28 08:56:51 davygrvy Exp $
d31 1
a31 1
#define EXP_RELEASE_SERIAL  0
a114 3
#define SCRIPTDIR	"example/"
#define EXECSCRIPTDIR	"example/"

d157 15
d173 1
d176 1
a176 1
TCL_EXTERN(int)	exp_interpret_cmdfile _ANSI_ARGS_((Tcl_Interp *,Tcl_Channel));
d185 1
a185 1
TCL_EXTERN(void)	exp_exit_handlers _ANSI_ARGS_((ClientData));
d216 1
a216 1
#endif /* _EXP */
@


1.1.2.5
log
@expStubInit.c now hooked in.  Nothing inside exp.decl except some test
code to buzz the lines.
@
text
@d14 1
a14 1
 * RCS: @@(#) $Id: exp.h,v 1.1.2.4 2001/10/29 03:21:09 davygrvy Exp $
a184 6
/*
 * Include platform specific public function declarations that are
 * accessible via the stubs table.
 */

#include "expPlatDecls.h"
@


1.1.2.6
log
@Massive restructuring done to the header files.
Closely emulates the core.
@
text
@d1 1
a1 1
/* ----------------------------------------------------------------------------
a5 2
 * ----------------------------------------------------------------------------
 *
d12 1
a12 2
 * Copyright (c) 1997 Mitel Corporation
 *	work by Gordon Chaffee <chaffee@@bmrc.berkeley.edu> for the WinNT port.
d14 1
a14 10
 * Copyright (c) 2001 Telindustrie, LLC
 *	work by David Gravereaux <davygrvy@@pobox.com> for any Win32 OS.
 *
 * ----------------------------------------------------------------------------
 * URLs:    http://expect.nist.gov/
 *	    http://expect.sf.net/
 *	    http://bmrc.berkeley.edu/people/chaffee/expectnt.html
 * ----------------------------------------------------------------------------
 * RCS: @@(#) $Id: exp.h,v 1.1.2.5 2001/10/29 06:40:29 davygrvy Exp $
 * ----------------------------------------------------------------------------
d68 1
a68 3
#if defined(BUILD_spawndriver)
#   define TCL_STORAGE_CLASS
#elif defined(BUILD_exp)
d80 2
a81 1
 * Fix the Borland bug that's in Tcl.
d162 3
a164 3
TCL_EXTERN(int)		exp_interpreter _ANSI_ARGS_((Tcl_Interp *,Tcl_Obj *));
TCL_EXTERN(int)		exp_interpret_cmdfile _ANSI_ARGS_((Tcl_Interp *,Tcl_Channel));
TCL_EXTERN(int)		exp_interpret_cmdfilename _ANSI_ARGS_((Tcl_Interp *,char *));
d175 1
@


