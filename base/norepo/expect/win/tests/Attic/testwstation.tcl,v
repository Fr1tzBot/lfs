head	1.1;
access;
symbols
	win32-jump-point-1:1.1.2.1
	telco-tec-win32-take2-branch:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2002.02.10.08.51.36;	author davygrvy;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2002.02.10.08.51.36;	author davygrvy;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file testwstation.tcl was initially added on branch telco-tec-win32-take2-branch.
@
text
@@


1.1.2.1
log
@moved all test related files out of the source dir
@
text
@a0 40
catch {file delete testwstation.debug}
set f [open testwstation.debug w]
puts $f starting
close $f

proc telnet-test {} {
    exp_internal -f testwstation.log 1
    if [catch {
	set timeout 100
	spawn telnet
	expect {
	    "telnet> " {}
	    eof {error "unable to spawn telnet"}
	    timeout {error "no response seen from telnet"}
	}
	send "open odie.cs.berkeley.edu\r"
	expect {
	    "login: " {}
	    eof {error "unexpected eof"}
	    timeout {error "timeout connecting to odie.cs.berkeley.edu"}
	}
	send "bogus\r"
	expect {
	    "Password:" {}
	    eof {error "unexpected eof"}
	    timeout {error "unexpected timeout"}
	}
	send "none\r"
	expect {
	    "Login incorrect" {}
	    eof {error "unexpected eof"}
	    timeout {error "unexpected timeout"}
	}
    } msg] {} else {set msg 1}
    catch {close}
    catch {wait}
    set msg
}

telnet-test
@

