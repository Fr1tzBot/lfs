head	5.31;
access;
symbols
	expect_5_45:5.31
	expect_6_branch:5.30.0.2
	expect_5_44_1_15:5.30
	activestate_win32_port_start:5.29
	win32-jump-point-1:5.29
	telco-tec-win32-take2-branch:5.29.0.6
	telco-tec-win32-branch:5.29.0.4
	expect-sf418892-sf439042-branch:5.29.0.2
	tclpro-1-5-0:5.29
	tclpro-1-4-1:5.29
	tclpro-1-4-0:5.29
	expect-5-32-2:5.29
	expect-5-32-0:5.29
	ajuba-ajuba2-2-0:5.28.1.1.2.1
	scriptics-sc-2-0-b5:5.28.1.1.2.1
	scriptics-sc-2-0-fixed:5.28.1.1.2.1
	scriptics-sc-2-0-b2:5.28.1.1.2.1
	scriptics-sc-2-0-b1:5.28.1.1.2.1
	scriptics-sc-1-1:5.28.1.1.2.1
	scriptics-sc-1-1-b1:5.28.1.1.2.1
	scriptics-sc-1-1-branch:5.28.1.1.2.1.0.4
	scriptics-sc-1-1-base:5.28.1.1.2.1
	scriptics-sc-1-0:5.28.1.1.2.1
	scriptics-sc-1-0-branch:5.28.1.1.2.1.0.2
	scriptics-sc-1-0-base:5.28.1.1.2.1
	expect-5-31-3:5.28.1.1.2.1
	scriptics-bc-1-0-b1:5.28.1.1.2.1
	scriptics-tclpro-1-3-0:5.28.1.1.2.1
	scriptics-tclpro-1-3-b4:5.28.1.1.2.1
	scriptics-tclpro-1-3-b3:5.28.1.1.2.1
	expect-5-31:5.28.1.1.2.1
	expect-5-31-branch:5.28.1.1.0.2
	expect-5-31-base:5.28.1.1
	scriptics-tclpro-1-2:5.28.1.1
	scriptics-tclpro-1-2-b2:5.28.1.1
	scriptics-tclpro-1-2-b1:5.28.1.1
	scriptics-tclpro-1-2-a1:5.28.1.1
	expect-5-28-1:5.28.1.1
	expect:5.28.1;
locks; strict;
comment	@# @;


5.31
date	2010.08.27.21.51.53;	author hobbs;	state Exp;
branches;
next	5.30;

5.30
date	2007.09.24.17.25.11;	author andreas_kupries;	state Exp;
branches;
next	5.29;

5.29
date	2000.01.06.23.22.10;	author wart;	state Exp;
branches;
next	5.28;

5.28
date	98.10.14.22.53.24;	author cvsadmin;	state Exp;
branches
	5.28.1.1;
next	;

5.28.1.1
date	98.10.14.22.53.24;	author cvsadmin;	state Exp;
branches
	5.28.1.1.2.1;
next	;

5.28.1.1.2.1
date	99.06.28.06.29.28;	author libes;	state Exp;
branches;
next	;


desc
@@


5.31
log
@	* config.guess, config.sub, expect.m4 (removed):
	* configure, configure.in, tclconfig/tcl.m4: Update to TEA 3.9
	* Makefile.in, aclocal.m4: Partial cleanup of the build system.
	* testsuite/Makefile.in:   Remove unused EXP_ from configure.in
	* testsuite/aclocal.m4:    and no longer use Tk.
	* testsuite/configure:     Update testsuite bits to use TEA info.
	* testsuite/configure.in:
	Update expect to version 5.45

	* Dbg.c: account for removal of tcldbgcf.h
	* DbgMkfl.in, Dbgconfig.in, Dbgconfigure, DbgpkgInd.in (removed):
	* tcldbgcf.h.in (removed): removed Dbg debugger subcomponent as it
	no longer built and debugger functionality is included in expect
	library and binary

	* pty_termios.c: add HAVE_STRING_H include string.h
	* exp_trap.c: add HAVE_STRING_H include string.h

	* expectk.man, exp_main_tk.c (removed): expectk no longer
	built. Use tclsh with package require Tk and Expect instead.

	* tests/all.tcl: add package require Expect

	* example/archie, example/autoexpect: minor code cleanup
	* example/tkpasswd, example/tknewsbiff, example/tkterm: use
	package require statements in lieu of expectk
@
text
@VPATH = @@srcdir@@
srcdir = @@srcdir@@
prefix = @@prefix@@
exec_prefix = @@exec_prefix@@
host = @@host@@
bindir = @@bindir@@
libdir = @@libdir@@
tooldir = $(libdir)/$(target_alias)

includedir = @@includedir@@
gxx_includedir = $(tooldir)/g++-include
targetdir = $(datadir)/$(target_alias)

SHELL = /bin/sh

CC = @@CC@@
TCL_SRC_DIR	= @@TCL_SRC_DIR@@

CC_FOR_TARGET = ` \
  if [ -f $${rootme}../gcc/Makefile ] ; then \
    echo $${rootme}../gcc/xgcc -B$${rootme}../gcc/; \
  else \
    if [ "$(host_canonical)" = "$(target_canonical)" ] ; then \
      echo $(CC); \
    else \
      t='$(program_transform_name)'; echo gcc | sed -e '' $$t; \
    fi; \
  fi`

EXPECT = `if [ -f $${rootme}/expect ] ; \
	then echo $${rootme}/expect ; \
	else echo expect; fi`

RUNTEST = ` \
  if [ -f ${srcdir}/../../dejagnu/runtest ] ; then \
    echo ${srcdir}/../../dejagnu/runtest ; \
  else echo runtest ;  fi`
RUNTESTFLAGS =

all:

binaries:

libraries:

.PHONY: info install-info check installcheck
info:
install-info:
check:
installcheck:
.NOEXPORT:

check:	exp_test site.exp
	rootme=`cd .. && pwd`; export rootme; \
	EXPECT=${EXPECT}; export EXPECT; \
	if [ -f ../expect ] ; then  \
	   TCL_LIBRARY=`@@CYGPATH@@ $(TCL_SRC_DIR)/library` ; \
	   export TCL_LIBRARY ; \
	else true ; fi ; \
	$(RUNTEST) $(RUNTESTFLAGS) --tool expect EXPECT=$$EXPECT --srcdir $(srcdir)

install:
uninstall: force

exp_test.o: ${srcdir}/exp_test.c

site.exp: ./config.status
	@@echo "Making a new config file..."
	-@@rm -f ./tmp?
	@@touch site.exp
	-@@mv site.exp site.bak
	@@echo "## these variables are automatically generated by make ##" > ./tmp0
	@@echo "# Do not edit here. If you wish to override these values" >> ./tmp0
	@@echo "# add them to the last section" >> ./tmp0
	@@echo "set tool expect" >> ./tmp0
	@@echo "set srcdir ${srcdir}" >> ./tmp0
	@@echo "set objdir `pwd`" >> ./tmp0
	@@echo "set host_triplet ${host}" >> ./tmp0
	@@echo "## All variables above are generated by configure. Do Not Edit ##" >> ./tmp0
	        @@cat ./tmp0 > site.exp
	@@cat site.bak | sed \
	                -e '1,/^## All variables above are.*##/ d' >> site.exp
	@@rm -f ./tmp1 ./tmp0

clean mostlyclean:
	-rm -f *~ core *.o a.out *.x

distclean realclean: clean
	-rm -f *~ core
	-rm -f Makefile config.status
	-rm -fr *.log summary detail

Makefile : $(srcdir)/Makefile.in $(host_makefile_frag)
	$(SHELL) ./config.status

# Original aclocal.m4 comes from DejaGnu
# CYGNUS LOCAL: this hack lets "make -f Makefile.in" produce a configure file
configure: force
	@@echo "Rebuilding configure..."
	if [ x"${srcdir}" = x"@@srcdir@@" ] ; then \
	  srcdir=. ; export srcdir ; \
	else true ; fi ; \
	(cd $${srcdir}; autoconf --localdir=$${srcdir}/..)
     
config.status: $(srcdir)/configure
	@@echo "Rebuilding config.status..."
	$(SHELL) ./config.status --recheck

force:
@


5.30
log
@
	* retoglob.c (EMITC): Keep the characters '^' and '$' quoted as
	  well, we do not wish to invoke their special interpretation by
	  the Expect glob matcher.
	* configure.in: Bumped version to 5.44.1.3.
	* configure: Regenerated.
@
text
@d17 1
a17 1
TCLHDIR = @@TCLHDIR@@
d57 1
a57 1
	   TCL_LIBRARY=`echo ${TCLHDIR} | sed -e 's/-I//' -e 's/generic//'`/library ; \
d109 1
a109 1
force:@


5.29
log
@Merge of expect5-31-branch to mainline
@
text
@d109 1
a109 1
force:
@


5.28
log
@Initial revision
@
text
@d42 4
@


5.28.1.1
log
@Import of Expect v. 5.28.1
@
text
@@


5.28.1.1.2.1
log
@fixes throughout code but all tests and examples finally run
see NEWS file for summary
@
text
@a41 4
binaries:

libraries:

@

